(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2ab3ab77"],{"0125":function(e,t,a){},"01b4":function(e,t,a){},"01ec":function(e,t,a){},"024f":function(e,t,a){"use strict";(function(e){a("6b54"),a("7514"),a("ac6a"),a("5df3"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("7de8"),s=a("c050"),l=a("d09c"),c=a("1f20"),u=a("f193"),d=a("8d94"),p=function(){function t(){Object(n["a"])(this,t),this.oXmlDoc=null,this.m_oNeedReboot={bIPCAddStatus:!1,bBonjour:!1,bSADP:!1},this.m_oXmlDoc={oSADP:null,oProtocol:null},this.m_oXhr={oSuccessXhr:null,oErrorXhr:null,oRebootXhr:null},this.m_oParams={bSupportNetworkOther:!1,bSupportNetPreviewStrategy:!1,bSupportVirtualHost:!1,bSupportNetStrategyMode:!1,bSupportIPCAddStatus:!1,bSupportBonjour:!1,bSupportSADP:!1,bSupportBandwidthLimit:!1,iMinBandwidth:0,iMaxBandwidth:10,szAlarmAddress:"",szAlarmPort:"",szMulticastAddress:"",iVideoBandwidth:0,bEnableVirtualHost:!1,bEnableTelnet:!1,bEnablePreviewStrategy:!1,szPreviewStrategyType:"",bIPCAddStatus:!1,bBonjour:!1,bSADP:!1},this.m_oParamsValid={oAlarmCenter:{ip:!0},oAlarmCenterPort:{range:[0,65535]},oMulticast:{ipcmulticast:!0},oBandwidth:{required:!0,range:[0,65535]}}}return Object(o["a"])(t,[{key:"getDeviceCapa",value:function(){var e=this;c["a"].getDeviceCapa().then((function(){e.m_oParams.bSupportNetworkOther=c["a"].m_oDeviceCapa.bSupportNetworkOther,e.m_oParams.bSupportNetPreviewStrategy=c["a"].m_oDeviceCapa.bSupportNetPreviewStrategy,e.m_oParams.bSupportBandwidthLimit=c["a"].m_oDeviceCapa.bSupportBandwidthLimit}))}},{key:"initOther",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getDeviceCapa();case 2:return e.abrupt("return",Promise.all([this.getOtherCap(),this.getalarmCenterInfo(),this.getnetworkExtensionInfo(),this.getnetPreviewStrategyInfo(),this.getbandwidthLimitInfoInfo(),this.getProtocolCap(),this.getdiscoveryModeCap(),this.getintegrateProtocolInfo(),this.getdiscoveryModeInfo(),c["a"].getNetworkVersion()]));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getOtherCap",value:function(){var e=this;return new Promise((function(t){var a={urlCGI:"bandwidthLimitCap",params:null,data:null,async:!1,loading:!0};u["a"].get(a).then((function(t){var a=t.oResult;e.m_oParams.iMinBandwidth=a["BandwidthLimit"]["RecordDownload"]["maxBandwidth"]["@min"],e.m_oParams.iMaxBandwidth=a["BandwidthLimit"]["RecordDownload"]["maxBandwidth"]["@max"],e.m_oParamsValid.oBandwidth.range[1]=e.m_oParams.iMaxBandwidth,e.m_oParamsValid.oBandwidth.range[0]=e.m_oParams.iMinBandwidth})).then((function(){t()}),(function(){t()}))}))}},{key:"saveParams",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=[],this.m_oParams.bSupportSADP&&t.push(this.setdiscoveryMode()),(this.m_oParams.bSupportIPCAddStatus||this.m_oParams.bSupportBonjour)&&t.push(this.setintegrateProtocol()),this.m_oParams.bSupportBandwidthLimit&&t.push(this.setbandwidthLimitInfo()),this.m_oParams.bSupportNetPreviewStrategy&&t.push(this.setnetPreviewStrategy()),t.push(this.setnetworkExtension()),t.push(this.setalarmCenter()),e.next=9,r["a"].waitAll(t).then((function(e){for(var t=[],a=0,i=e.length;a<i;++a)e[a]&&t.push(e[a].xhr);l["a"].successState(t)}),(function(e){l["a"].saveState(e[0])}));case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,t.m_oNeedReboot.bBonjour===t.m_oParams.bBonjour&&t.m_oNeedReboot.bIPCAddStatus===t.m_oParams.bIPCAddStatus&&t.m_oNeedReboot.bSADP===t.m_oParams.bSADP){e.next=5;break}s["a"].confirm(d["a"].t("updateRestartTip"),(function(){setTimeout((function(){t.saveParams()}),300)})),e.next=7;break;case 5:return e.next=7,t.saveParams();case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getalarmCenterInfo",value:function(){var t=this;return new Promise((function(a){var i={urlCGI:"alarmCenter",data:null,loading:!0};u["a"].get(i).then((function(i){var n=i.oResult;e(n).find("ipAddress").length?"0.0.0.0"===r["a"].nodeValue(e(n),"ipAddress")?t.m_oParams.szAlarmAddress="":t.m_oParams.szAlarmAddress=r["a"].nodeValue(e(n),"ipAddress"):"::"===r["a"].nodeValue(e(n),"ipv6Address")?t.m_oParams.szAlarmAddress="":t.m_oParams.szAlarmAddress=r["a"].nodeValue(e(n),"ipv6Address"),t.m_oParams.szAlarmPort=r["a"].nodeValue(e(n),"portNo"),a()}),(function(){a()}))}))}},{key:"getnetworkExtensionInfo",value:function(){var t=this;return new Promise((function(a){var i={urlCGI:"networkExtension",data:null,loading:!0};u["a"].get(i).then((function(i){var n=i.oResult,o=t;e(n).find("ipAddress").length?"0.0.0.0"===r["a"].nodeValue(e(n),"ipAddress")?o.m_oParams.szMulticastAddress="":o.m_oParams.szMulticastAddress=r["a"].nodeValue(e(n),"ipAddress"):"::"===r["a"].nodeValue(e(n),"ipv6Address")?o.m_oParams.szMulticastAddress="":o.m_oParams.szMulticastAddress=r["a"].nodeValue(e(n),"ipv6Address"),e(n).find("enVirtualHost").length&&(o.m_oParams.bSupportVirtualHost=!0),o.m_oParams.bEnableVirtualHost=r["a"].nodeValue(e(n),"enVirtualHost","b"),a()}),(function(){a()}))}))}},{key:"getnetPreviewStrategyInfo",value:function(){var t=this;return new Promise((function(a){var i={urlCGI:"netPreviewStrategy",data:null,loading:!0};u["a"].get(i).then((function(i){var n=i.oResult;t.m_oParams.bEnablePreviewStrategy=r["a"].nodeValue(e(n),"enabled","b"),e(n).find("mode").length>0&&(t.m_oParams.bSupportNetStrategyMode=!0,t.m_oParams.szPreviewStrategyType=r["a"].nodeValue(e(n),"mode")),a()}),(function(){a()}))}))}},{key:"getbandwidthLimitInfoInfo",value:function(){var e=this;return new Promise((function(t){var a={urlCGI:"bandwidthLimitInfo",data:null,loading:!0};u["a"].get(a).then((function(a){var i=a.oResult;e.m_oParams.iVideoBandwidth=i["BandwidthLimit"]["RecordDownload"]["maxBandwidth"],t()}),(function(){t()}))}))}},{key:"getProtocolCap",value:function(){var t=this;return new Promise((function(a){var i={urlCGI:"integrateProtocolCap",data:null,loading:!0};u["a"].get(i).then((function(i){var n=i.oResult;t.m_oParams.bSupportIPCAddStatus=e(n).find("IPCAddStatus").length>0,t.m_oParams.bSupportBonjour=e(n).find("Bonjour").length>0,a()}),(function(){a()}))}))}},{key:"getdiscoveryModeCap",value:function(){var t=this;return new Promise((function(a){var i={urlCGI:"discoveryModeCap",data:null,loading:!0};u["a"].get(i).then((function(i){var n=i.oResult;t.m_oParams.bSupportSADP=e(n).find("SADP").length>0,a()}),(function(){a()}))}))}},{key:"getintegrateProtocolInfo",value:function(){var e=this;return new Promise((function(t){var a={urlCGI:"integrateProtocol",data:null,loading:!0};u["a"].get(a).then((function(a){var i=a.oResult;e.m_oXmlDoc.oProtocol=i,e.m_oParams.bIPCAddStatus=r["a"].nodeValue(i,"IPCAddStatus enable","b"),e.m_oParams.bBonjour=r["a"].nodeValue(i,"Bonjour enable","b"),e.m_oNeedReboot.bIPCAddStatus=r["a"].nodeValue(i,"IPCAddStatus enable","b"),e.m_oNeedReboot.bBonjour=r["a"].nodeValue(i,"Bonjour enable","b"),t()}),(function(){t()}))}))}},{key:"getdiscoveryModeInfo",value:function(){var t=this;return new Promise((function(a){var i={urlCGI:"discoveryMode",data:null,loading:!0};u["a"].get(i).then((function(i){var n=i.oResult;t.m_oXmlDoc.oSADP=n,t.m_oParams.bSADP="discoverable"===e(n).find("SADP").eq(0).text(),t.m_oNeedReboot.bSADP="discoverable"===e(n).find("SADP").eq(0).text(),a()}),(function(){a()}))}))}},{key:"setalarmCenter",value:function(){var e=this,t="<?xml version='1.0' encoding='UTF-8'?><alarmCenterNotification><id>1</id><addressingFormatType>ipaddress</addressingFormatType>",a=r["a"].checkAddressingType(e.m_oParams.szAlarmAddress);""===e.m_oParams.szAlarmAddress?t+="<ipAddress>0.0.0.0</ipAddress>":"ipAddress"===a?t+="<ipAddress>"+e.m_oParams.szAlarmAddress+"</ipAddress>":"ipv6Address"===a&&(t+="<ipv6Address>"+e.m_oParams.szAlarmAddress+"</ipv6Address>"),t+="<portNo>"+e.m_oParams.szAlarmPort+"</portNo></alarmCenterNotification>";var i=r["a"].parseXmlFromStr(t);return new Promise((function(e,t){var a={urlCGI:"alarmCenter",data:i,loading:!0};u["a"].put(a).then((function(t){e(t)}),(function(e){t(e)}))}))}},{key:"setnetworkExtension",value:function(){var t=this,a="<?xml version='1.0' encoding='UTF-8'?><networkExtension><multicastAddress><ipVersion>"+c["a"].m_oDeviceCapa.szIPVersion+"</ipVersion>",i=r["a"].checkAddressingType(t.m_oParams.szMulticastAddress);""===t.m_oParams.szMulticastAddress?a+="<ipAddress>0.0.0.0</ipAddress>":"ipv6Address"===i?a+="<ipv6Address>"+t.m_oParams.szMulticastAddress+"</ipv6Address>":"ipAddress"===i&&(a+="<ipAddress>"+t.m_oParams.szMulticastAddress+"</ipAddress>"),a+="</multicastAddress>",t.m_oParams.bSupportVirtualHost&&(a+="<enVirtualHost>"+t.m_oParams.bEnableVirtualHost.toString()+"</enVirtualHost>"),a+="</networkExtension>";var n=r["a"].parseXmlFromStr(a);return new Promise((function(a,i){var o={urlCGI:"networkExtension",data:n,loading:!0};u["a"].put(o).then((function(i){var n=i.oResult;"7"===r["a"].nodeValue(e(n),"statusCode")&&(t.m_oXhr.oRebootXhr=i.xhr),a(i)}),(function(e){i(e)}))}))}},{key:"setnetPreviewStrategy",value:function(){var e=this,t="<?xml version='1.0' encoding='UTF-8'?><NetPreviewStrategy><enabled>"+e.m_oParams.bEnablePreviewStrategy+"</enabled>";e.m_oParams.bSupportNetStrategyMode&&(t+="<mode>"+e.m_oParams.szPreviewStrategyType+"</mode>"),t+="</NetPreviewStrategy>";var a=r["a"].parseXmlFromStr(t);return new Promise((function(e,t){var i={urlCGI:"netPreviewStrategy",data:a,loading:!0};u["a"].put(i).then((function(t){e(t)}),(function(e){t(e)}))}))}},{key:"setbandwidthLimitInfo",value:function(){var e=this,t={BandwidthLimit:{RecordDownload:{maxBandwidth:""}}};return t["BandwidthLimit"]["RecordDownload"]["maxBandwidth"]=parseInt(e.m_oParams.iVideoBandwidth,10),new Promise((function(e,a){var i={urlCGI:"bandwidthLimitInfo",data:t,loading:!0};u["a"].put(i).then((function(t){e(t)}),(function(e){a(e)}))}))}},{key:"setintegrateProtocol",value:function(){var t=this,a=t.m_oXmlDoc.oProtocol,i=t.m_oParams;return i.bSupportIPCAddStatus&&e(a).find("IPCAddStatus").eq(0).find("enable").eq(0).text(i.bIPCAddStatus.toString()),i.bSupportBonjour&&e(a).find("Bonjour").eq(0).find("enable").eq(0).text(i.bBonjour.toString()),new Promise((function(i,n){var o={urlCGI:"integrateProtocol",data:a,loading:!0};u["a"].put(o).then((function(a){var n=a.oResult;"7"===r["a"].nodeValue(e(n),"statusCode")&&(t.m_oXhr.oRebootXhr=a.xhr),i(a)}),(function(e){n(e)}))}))}},{key:"setdiscoveryMode",value:function(){var t=this,a=t.m_oXmlDoc.oSADP;return e(a).find("SADP").eq(0).text(t.m_oParams.bSADP?"discoverable":"nonDiscoverable"),new Promise((function(e,i){var n={urlCGI:"discoveryMode",data:a,loading:!0};u["a"].put(n).then((function(a){var i=a.oResult;"7"===r["a"].nodeValue(i,"statusCode")&&(t.m_oXhr.oRebootXhr=a.xhr),e(a)}),(function(e){i(e)}))}))}}]),t}();t["a"]=new p}).call(this,a("1157"))},"0265":function(e,t,a){"use strict";a("8c6b")},"02ed":function(e,t,a){"use strict";a.r(t);a("386d");var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("hddManage"),"right-type":"text"}},[t("div",{staticClass:"management",attrs:{slot:"content"},slot:"content"},[t("hm-scroll",[e.tableData.tableItem.length>0?t("div",[t("hm-cell-group",{staticClass:"custom-cell-group min-height-64-cell",attrs:{title:e.$t("hddManage")}},e._l(e.tableData.tableItem,(function(a,i){return t("hm-cell",{key:a[0],attrs:{"is-link":"",title:e.$t("hdd")+" "+a[0],label:e.$t("capacity")+":"+a[1]},nativeOn:{click:function(t){return e.onItemClick(i,a[0])}}})})),1)],1):t("div",[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("hddManage")}},[t("hm-cell",{attrs:{title:e.$t("nodata")}})],1)],1)]),e.bShowPortDetails?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:e.$t("hdd")+" "+e.dataa,"enable-show-tips":e.bEnableShowTips,"enable-cancel-callback":e.bEnableCancelCallback,"sz-confirm":e.$t(e.oParams.bSptSetAttribute?"set":" ")},on:{cancelcallback:e.cancelCallback,confirm:e.setDiskInfo}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"swipe-wrapper"},[t("hm-scroll",[t("table-t",{ref:"tables",attrs:{"port-details-data":e.tableData.tableItem,"port-status":e.indexx,arrayhead:e.oParams.aTableHead,"o-buttons-control":e.oButtonsControl,"o-capbilities":e.oCapbilities}})],1)],1)])])],1):e._e(),e.bSupportNfs?t("hm-scroll",[t("div",[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("NAS")}},[t("hm-cell",[t("span",{staticClass:"text-color",on:{click:e.addNAS}},[e._v(e._s(e.$t("add")))])])],1),t("hm-swipe",[t("hm-cell-group",{staticClass:"min-height-64-cell"},[e.oHDDInfo&&e.oHDDInfo.length?t("transition-group",{attrs:{name:"swipe"}},e._l(e.oHDDInfo,(function(a,i){return t("div",{key:a[1]+i},[t("hm-swipe-item",{ref:"swipeItem",refInFor:!0,staticClass:"item-swipe",attrs:{btns:e.btnsTips,index:i,"auto-shrink":e.bAutoShrink},on:{"btn-click":e.onSwipeBtnClick}},[t("hm-cell",{attrs:{"is-link":"",title:e.$t("diskNo")+a[0],label:a[1]},nativeOn:{click:function(t){return e.getChannelDetail(i)}}})],1)],1)})),0):e._e()],1)],1)],1)]):e._e(),e.oCapbilities.bSupportAllReconstruction?t("div",{staticClass:"hm-btn-group"},[t("hm-button",{on:{click:function(t){return e.rebuild("all")}}},[e._v(e._s(e.$t("rebuildAll")))])],1):e._e(),e.bShowTableItem?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:e.$t("hdd")+e.oDetailInfo[0],"enable-cancel-callback":!0,"right-type":"delete","sz-confirm":e.$t("ok"),"sz-cancel":e.$t("cancel")},on:{cancelcallback:e.clear,confirm:function(t){return e.deleteImfo(e.oDetailInfo[0])}}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"item-wrapper"},[t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("type")}},[t("base-select",{attrs:{title:e.$t("type"),options:e.aTypeList},on:{change:e.changetype},model:{value:e.oDetailInfo[3],callback:function(t){e.$set(e.oDetailInfo,3,t)},expression:"oDetailInfo[3]"}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.serverAdd&&e.oParamsValid.serverAdd.required},attrs:{title:e.$t("serverAdd")}},[t("hm-input",{attrs:{placeholder:e.$t("serverAdd")},model:{value:e.oDetailInfo[1],callback:function(t){e.$set(e.oDetailInfo,1,t)},expression:"oDetailInfo[1]"}}),t("hm-validator",{attrs:{model:e.oDetailInfo[1],rules:e.oParamsValid.serverAdd,param:e.$t("serverAdd")}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.filePath&&e.oParamsValid.filePath.required},attrs:{title:e.$t("filePath")}},[t("hm-input",{attrs:{placeholder:e.$t("filePath")},model:{value:e.oDetailInfo[2],callback:function(t){e.$set(e.oDetailInfo,2,t)},expression:"oDetailInfo[2]"}}),t("hm-validator",{attrs:{model:e.oDetailInfo[2],rules:e.oParamsValid.filePath,param:e.$t("filePath")}})],1),e.aSupportMountType&&e.aSupportMountType.length?t("div",{staticClass:"custom-cell-group"},[t("hm-cell",{attrs:{title:e.$t("nasMountType")}},[t("base-select",{attrs:{title:e.$t("nasMountType"),options:e.aSupportMountType},on:{change:e.changeMountType},model:{value:e.oDetailParam.mountType,callback:function(t){e.$set(e.oDetailParam,"mountType",t)},expression:"oDetailParam.mountType"}})],1),"SMB/CIFS"===e.oDetailParam.mountType?t("hm-cell",{class:{"cell-require":e.oParamsValid.userName&&e.oParamsValid.userName.required},attrs:{title:e.$t("username")}},[t("hm-input",{attrs:{disabled:"SMB/CIFS"!==e.oDetailParam.mountType,placeholder:e.$t("username")},model:{value:e.oDetailParam.userName,callback:function(t){e.$set(e.oDetailParam,"userName",t)},expression:"oDetailParam.userName"}}),t("hm-validator",{attrs:{disabled:"SMB/CIFS"!==e.oDetailParam.mountType,model:e.oDetailParam.userName,rules:e.oParamsValid.userName,param:e.$t("username")}})],1):e._e(),"SMB/CIFS"===e.oDetailParam.mountType?t("hm-cell",{class:{"cell-require":e.oParamsValid.password&&e.oParamsValid.password.required},attrs:{title:e.$t("password")}},[t("hm-input",{attrs:{disabled:"SMB/CIFS"!==e.oDetailParam.mountType,type:"password",placeholder:e.$t("password")},model:{value:e.oDetailParam.password,callback:function(t){e.$set(e.oDetailParam,"password",t)},expression:"oDetailParam.password"}}),t("hm-validator",{attrs:{disabled:"SMB/CIFS"!==e.oDetailParam.mountType,model:e.oDetailParam.password,rules:e.oParamsValid.password,param:e.$t("password")}})],1):e._e(),e.aSupportMountType&&e.aSupportMountType.length?t("hm-cell",[t("span",{staticClass:"label-test",on:{click:function(t){return e.test(e.oDetailInfo[0]-1)}}},[e._v(e._s(e.$t("test")))])]):e._e()],1):e._e()],1)],1),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{on:{click:e.confirm}},[e._v(e._s(e.$t("save")))])],1)],1)])])],1):e._e(),e.isModal?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:e.$t("add_name"),"enable-cancel-callback":!0,"sz-confirm":e.$t("ok"),"show-confirm":!1,"sz-cancel":e.$t("cancel")},on:{cancelcallback:e.hideModal,confirm:e.confirm}},[t("div",{staticClass:"item-wrapper",attrs:{slot:"content"},slot:"content"},[t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{class:{"cell-require":e.oParamsValid.serverAdd&&e.oParamsValid.serverAdd.required},attrs:{title:e.$t("serverAdd")}},[t("hm-input",{attrs:{placeholder:e.$t("serverAdd")},model:{value:e.oDetailInfo[1],callback:function(t){e.$set(e.oDetailInfo,1,t)},expression:"oDetailInfo[1]"}}),t("hm-validator",{attrs:{model:e.oDetailInfo[1],rules:e.oParamsValid.serverAdd,param:e.$t("serverAdd")}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.filePath&&e.oParamsValid.filePath.required},attrs:{title:e.$t("filePath")}},[t("hm-input",{attrs:{placeholder:e.$t("filePath")},model:{value:e.oDetailInfo[2],callback:function(t){e.$set(e.oDetailInfo,2,t)},expression:"oDetailInfo[2]"}}),t("hm-validator",{attrs:{model:e.oDetailInfo[2],rules:e.oParamsValid.filePath,param:e.$t("filePath")}})],1),t("hm-cell",{attrs:{title:e.$t("type")}},[t("base-select",{attrs:{title:e.$t("type"),options:e.aTypeList},on:{change:e.changetype},model:{value:e.oDetailInfo[3],callback:function(t){e.$set(e.oDetailInfo,3,t)},expression:"oDetailInfo[3]"}})],1),e.aSupportMountType&&e.aSupportMountType.length?t("div",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("nasMountType")}},[t("base-select",{attrs:{title:e.$t("nasMountType"),options:e.aSupportMountType},on:{change:e.changeMountType},model:{value:e.oDetailParam.mountType,callback:function(t){e.$set(e.oDetailParam,"mountType",t)},expression:"oDetailParam.mountType"}})],1),"SMB/CIFS"===e.oDetailParam.mountType?t("hm-cell",{class:{"cell-require":e.oParamsValid.userName&&e.oParamsValid.userName.required},attrs:{title:e.$t("username")}},[t("hm-input",{attrs:{disabled:"SMB/CIFS"!==e.oDetailParam.mountType,placeholder:e.$t("username")},model:{value:e.oDetailParam.userName,callback:function(t){e.$set(e.oDetailParam,"userName",t)},expression:"oDetailParam.userName"}}),t("hm-validator",{attrs:{disabled:"SMB/CIFS"!==e.oDetailParam.mountType,model:e.oDetailParam.userName,rules:e.oParamsValid.userName,param:e.$t("username")}})],1):e._e(),"SMB/CIFS"===e.oDetailParam.mountType?t("hm-cell",{class:{"cell-require":e.oParamsValid.password&&e.oParamsValid.password.required},attrs:{title:e.$t("password")}},[t("hm-input",{attrs:{disabled:"SMB/CIFS"!==e.oDetailParam.mountType,type:"password",placeholder:e.$t("password")},model:{value:e.oDetailParam.password,callback:function(t){e.$set(e.oDetailParam,"password",t)},expression:"oDetailParam.password"}}),t("hm-validator",{attrs:{disabled:"SMB/CIFS"!==e.oDetailParam.mountType,model:e.oDetailParam.password,rules:e.oParamsValid.password,param:e.$t("password")}})],1):e._e(),e.aSupportMountType&&e.aSupportMountType.length?t("hm-cell",[t("span",{staticClass:"label-test",on:{click:function(t){return e.test(e.oDetailInfo[0]-1)}}},[e._v(e._s(e.$t("test")))])]):e._e()],1):e._e()],1)],1),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{on:{click:e.confirm}},[e._v(e._s(e.$t("save")))])],1)],1)])],1):e._e(),e.bShowSearch?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:e.$t("search1"),"enable-cancel-callback":!0},on:{cancelcallback:e.cancelSearchCallBack,confirm:e.searchConfirm}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"swipe-wrapper"},[t("hm-validator-group",{attrs:{result:e.searchValidate}},[t("hm-cell",{attrs:{title:e.$t("type")}},[t("base-select",{attrs:{title:e.$t("type"),options:e.searchType},model:{value:e.typeTemp,callback:function(t){e.typeTemp=t},expression:"typeTemp"}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.serverAdd&&e.oParamsValid.serverAdd.required},attrs:{title:e.$t("serverAdd")}},[t("hm-input",{attrs:{placeholder:e.$t("serverAdd")},model:{value:e.serverAddTemp,callback:function(t){e.serverAddTemp=t},expression:"serverAddTemp"}}),t("hm-validator",{attrs:{model:e.serverAddTemp,rules:e.oParamsValid.serverAdd,param:e.$t("serverAdd")}})],1)],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("filePath")}},[t("hm-checkbox-group",{attrs:{options:e.searchOptions},model:{value:e.searchList,callback:function(t){e.searchList=t},expression:"searchList"}})],1),t("hm-button",{attrs:{disabled:e.bSupportModify},on:{click:function(t){return e.search(e.typeTemp,e.serverAddTemp)}}},[e._v(e._s(e.$t("search1")))])],1)])])],1):e._e()],1)])},n=[],o=(a("ac6a"),a("a481"),a("53ca")),r=(a("96cf"),a("1da1")),s=a("c1ae"),l=a("7de8"),c=a("962a"),u=a("fed5"),d=a("46fb"),p=a("d09c"),m=a("9741"),h=a("c050"),f=a("1f20"),v=a("47b5"),b={components:{BasePageExtend:c["a"],tableT:u["default"],BaseSelect:v["a"]},data:function(){return{indexx:0,dataa:0,verifyResult:s["a"].verifyResult,bSupportNfs:f["a"].m_oDeviceCapa.bSupportNfs,isShowcheckbox:!0,oButtonsControl:s["a"].oButtonsControl,tableData:s["a"].m_oParams.tableData,oParams:s["a"].m_oParams,oCapbilities:s["a"].m_oCapbilities,bEnableShowTips:!1,bEnableCancelCallback:!0,bShowPortDetails:!1,isModal:!1,validate:{},searchValidate:{},oParamsValid:{userName:{lengthRange:[1,32]},password:{lengthRange:[1,16]},serverAdd:{required:!0,ip:!0,unicast:!0},filePath:{required:!0,lengthRange:[1,128]}},bShowTableItem:!1,oDetailParam:{mountType:"NFS",userName:"",password:""},bShowSearch:!1,serverAddTemp:"",typeTemp:"",bSupportModify:!1,searchList:[],searchOptions:[],iDetailIndex:-1,oHDDInfo:[],oDetailInfo:[1,"","","NFS",""],aSupportMountType:[],searchType:[{text:"NAS",value:"NFS"},{text:"IP SAN",value:"iSCSI"}],bAutoShrink:!0,btnsTips:[{action:"delete",text:this.$t("delete"),color:"#ff3a32"}]}},watch:{"oParams.iImgQuotaRatio":{handler:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s["a"].m_oParams.bSptQuota&&(a=100-l["a"].checkNumber(t,0),s["a"].m_oParams.iVideoQuotaRatio=a);case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0},"oParams.iVideoQuotaRatio":{handler:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s["a"].m_oParams.bSptQuota&&(a=100-l["a"].checkNumber(t,0),s["a"].m_oParams.iImgQuotaRatio=a);case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0}},created:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return f["a"].getClusterCap().then((function(){t.bSupportModify=3===f["a"].m_oDeviceCapa.iCmNetDiskType})),this.init(),e.next=4,d["a"].init().then((function(){t.oHDDInfo=d["a"].aItems,t.aSupportMountType=d["a"].aSupportMountType,t.aNasParam=d["a"].aNasParam,t.aTypeList=d["a"].aTypeList,t.typeTemp=t.searchType[0].value}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{onItemClick:function(e,t){this.bShowPortDetails=!0,this.indexx=e,this.dataa=t},init:function(){var e=this;s["a"].initParams(),s["a"].initStorageManageHarddisk().finally((function(){e.tableData=s["a"].m_oParams.tableData,e.oParams=s["a"].m_oParams,e.oCapbilities=s["a"].m_oCapbilities}))},setDiskInfo:function(){s["a"].setDiskInfo()},formatDisks:function(){s["a"].formatDisks()},rebuild:function(e){s["a"].rebuild(e)},cancelCallback:function(){this.bShowPortDetails=!1},cancelSearchCallBack:function(){this.bShowSearch=!1},addNAS:function(){var e="1";0!==this.oHDDInfo.length&&(e=1*this.oHDDInfo[this.oHDDInfo.length-1][0]+1+""),this.oHDDInfo.push([e,"","","NFS",""]),this.isModal=!0,this.getAddChannelDetail(this.oHDDInfo.length-1)},hideModal:function(){this.oHDDInfo.splice(this.oHDDInfo.length-1,1),this.isModal=!1},openSearch:function(){this.bShowSearch=!0,this.searchOptions=[],this.searchList=[]},search:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!h["a"].validateTips(this.searchValidate.getErrorReport())){e.next=8;break}if(a){e.next=5;break}h["a"].tip(this.$t("required"),this.$t("serverAdd")),e.next=8;break;case 5:return e.next=7,d["a"].search(t,a);case 7:this.searchOptions=d["a"].searchOptions;case 8:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),searchConfirm:function(){this.bShowSearch=!1;for(var e=0;e<this.searchList.length;e++)for(var t=0;t<8;t++)if(""===this.oHDDInfo[t][1]&&""===this.oHDDInfo[t][2]){this.oHDDInfo[t][1]=this.serverAddTemp,this.oHDDInfo[t][2]=this.searchList[e],this.oHDDInfo[t][3]=this.typeTemp;break}},changetype:function(e){this.oDetailInfo[3]=e,this.$forceUpdate()},changeMountType:function(e){this.oDetailParam.mountType=e,this.$forceUpdate()},deepClone:function(e){var t=e.constructor===Object?{}:[];for(var a in e)e.hasOwnProperty(a)&&(e[a]&&"object"===Object(o["a"])(e[a])?(t[a]=e[a].constructor===Object?{}:[],t[a]=this.deepClone(e[a])):t[a]=e[a]);return t},clear:function(){this.bShowTableItem=!1},confirm:function(){this.validate.validateAll(),h["a"].validateTips(this.validate.getErrorReport())&&(this.save(),this.isModal=!1,this.bShowTableItem=!1)},getChannelDetail:function(e){e<0||(this.oDetailInfo=this.oHDDInfo[e],this.oDetailParam=this.aNasParam[e],this.bShowTableItem=!0)},getAddChannelDetail:function(e){e<0||(this.oDetailInfo=this.oHDDInfo[e],this.oDetailParam=this.aNasParam[e])},deleteImfo:function(e){this.oHDDInfo=this.oHDDInfo.filter((function(t){return 1*t[0]!==1*e})),d["a"].aItems=this.oHDDInfo,this.bShowTableItem=!1,d["a"].save()},test:function(e){if(""!==this.oHDDInfo[e][1]&&""!==this.oHDDInfo[e][2]&&h["a"].validateTips(this.validate.getErrorReport())){var t=this.oHDDInfo,a="<?xml version='1.0' encoding='UTF-8'?><nasTestDescription>";return l["a"].isIPv4Address(t[e][1])?(a+="<addressingFormatType>ipaddress</addressingFormatType>",a+="<ipAddress>"+t[e][1]+"</ipAddress>"):l["a"].isIPv6Address(t[e][1])?(a+="<addressingFormatType>ipaddress</addressingFormatType>",a+="<ipv6Address>"+t[e][1]+"</ipv6Address>"):(a+="<addressingFormatType>hostname</addressingFormatType>",a+="<hostname>"+t[e][1]+"</hostname>"),a+="<path>"+t[e][2].replace(/</g,"&lt;")+"</path>",a+="<nasType>NFS</nasType>",this.aSupportMountType.length>0&&(a+="<mountType>"+this.aNasParam[e].mountType+"</mountType>","SMB/CIFS"===this.aNasParam[e].mountType&&(a+="<userName>"+this.aNasParam[e].userName.replace(/</g,"&lt;")+"</userName>",this.aNasParam[e].password!==m["a"].m_szDefaultPwd&&(a+="<password>"+this.aNasParam[e].password.replace(/</g,"&lt;")+"</password>"))),a+="</nasTestDescription>",p["a"].test("nasTest",{},l["a"].parseXmlFromStr(a))}},save:function(){var e=this,t=[];this.oHDDInfo.forEach((function(a,i){for(var n=0;n<e.oHDDInfo.length;n++){var o=e.oHDDInfo[n];if(i!==n&&a[1].length>0&&a[2].length>0&&a[1]===o[1]&&a[2]===o[2]){t=[i,n];break}}})),t.length?h["a"].stateAlert(this.$t("nasNoSame")):d["a"].save()},onSwipeBtnClick:function(e,t){"delete"===e.action?this.deleteImfo(this.oHDDInfo[t][0]):this.$refs.swipeItem[t].shrink()}}},g=b,P=(a("df80"),a("2877")),S=Object(P["a"])(g,i,n,!1,null,"4c31dab4",null);t["default"]=S.exports},"031b":function(e,t,a){},"0360":function(e,t,a){},"03b9":function(e,t,a){"use strict";a("45c7")},"03f6":function(e,t,a){"use strict";(function(e){a("96cf");var i=a("1da1"),n=a("1c1a"),o=a("962a"),r=a("c050"),s=a("d09c"),l=a("9741"),c=a("7de8"),u=a("cd6f"),d=a("29fc"),p=a("f193"),m=a("47b5"),h=a("e658");t["a"]={name:"Protocol",components:{BaseView:n["a"],BasePageExtend:o["a"],advancedOnvifUser:d["default"],BaseSelect:m["a"],CommonTable:h["a"]},data:function(){return{validate:{},oCommon:l["a"],oParams:u["a"].m_oParams,oParamsCap:u["a"].m_oParamsCap,oCurrentUser:u["a"].oCurrentUser,showPwd:u["a"].showPwd,tableData:u["a"].tableData,length16:16,bShowUserList:!1,bEnableCancelCallback:!0,bEnableCancelCallbackAM:!0,bAutoShrink:!0,btnsTips:[{action:"delete",text:this.$t("delete"),color:"#ff3a32"}],bShowAddOrMod:!1,bEnableShowTips:!1,title:"",type:"",bFlag:!1,showDatas:[]}},watch:{tableData:{handler:function(){var e=this,t=this.tableData.tableItem||[],a=t.map((function(e,t){return{0:e[0],1:e[1],2:e[2],title:"No."+(t+1),label:e[0],id:t+1,"is-link":!0,center:!0}}));this.showDatas=a,setTimeout((function(){e.$refs.table.refresh()}))},deep:!0}},created:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.oParamsCap.bSupportONVIFInfo){e.next=3;break}return e.next=3,u["a"].getONVIFInfo();case 3:u["a"].initProtocol().then((function(){u["a"].refreshTable(),t.tableData=u["a"].tableData}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{add:function(e){this.type=e,this.title=this.$t("addUser"),this.showPwd=!0,this.oCurrentUser.id=0,this.oCurrentUser.userName="",this.oCurrentUser.password={szPassword:"",szPasswordConfirm:""},this.oCurrentUser.userType="mediaUser",this.bShowAddOrMod=!0},modify:function(t,a){this.oTemp={},e.extend(!0,this.oTemp,this.tableData),this.type=t,this.title=this.$t("modifyUser"),this.showPwd=!0,this.oCurrentUser.id=a[2],this.oCurrentUser.userName=a[0],this.oCurrentUser.password={szPassword:"",szPasswordConfirm:"",szPasswordDefault:""};var i=a[1];"Administrator"===a[1]?i="administrator":"Operator"===a[1]&&(i="operator"),this.oCurrentUser.userType=i,this.bShowAddOrMod=!0,this.togglePWD(!0)},cancelCallbackAM:function(){e.extend(!0,this.tableData,this.oTemp),this.bShowAddOrMod=!1},confirmAM:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.$refs.advancedOnvifUser.changeUser(),!this.bFlag){e.next=31;break}if("add"!==this.type){e.next=15;break}t=0;case 4:if(!(t<this.oParams.users.length)){e.next=11;break}if(this.oParams.users[t].userName!==this.oCurrentUser.userName){e.next=8;break}return r["a"].stateAlert(this.$t("userExist")),e.abrupt("return",!1);case 8:t++,e.next=4;break;case 11:return e.next=13,this.addUser(this.oCurrentUser);case 13:e.next=26;break;case 15:if("modify"!==this.type){e.next=26;break}a=0;case 17:if(!(a<this.oParams.users.length)){e.next=24;break}if(this.oParams.users[a].userName!==this.oCurrentUser.userName||this.oParams.users[a].id===this.oCurrentUser.id){e.next=21;break}return r["a"].stateAlert(this.$t("userExist")),e.abrupt("return",!1);case 21:a++,e.next=17;break;case 24:return e.next=26,this.modifyUser(this.oCurrentUser);case 26:return e.next=28,u["a"].getUserInfo();case 28:return e.next=30,u["a"].refreshTable();case 30:this.bShowAddOrMod=!1;case 31:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),changeUser:function(e){this.bFlag=e},addUser:function(e){var t="<User>";t+="<id>0</id>",t+="<userName>"+c["a"].encodeString(e.userName)+"</userName>",t+="<password>"+c["a"].encodeString(e.password.szPassword)+"</password>",t+="<userType>"+e.userType+"</userType>",t+="</User>",t=c["a"].parseXmlFromStr(t);var a=new Promise((function(e){var a={urlCGI:"onvifUsers",params:{},data:t,loading:!0};p["a"].post(a).then((function(t){s["a"].saveState(t.xhr),e()}),(function(t){s["a"].saveState(t),e()}))}));return a},modifyUser:function(e){var t='<?xml version="1.0" encoding="UTF-8"?><User>';t+="<id>"+e.id+"</id>",t+="<userName>"+c["a"].encodeString(e.userName)+"</userName>",e.password.szPassword!==e.password.szPasswordDefault&&(t+="<password>"+c["a"].encodeString(e.password.szPassword)+"</password>"),t+="<userType>"+e.userType+"</userType>",t+="</User>",t=c["a"].parseXmlFromStr(t);var a=new Promise((function(a){var i={urlCGI:"onvifUserModify",params:{user:e.id},data:t,loading:!0};p["a"].put(i).then((function(e){s["a"].saveState(e.xhr),a()}),(function(e){s["a"].saveState(e),a()}))}));return a},operation:function(e){"edit"===e[0]?this.modify():this.delete()},onSwipeBtnClick:function(e,t){"delete"===e.action?this.delete(t):this.$refs.swipeItem[t].shrink()},delete:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.deleteUser(t,a);case 2:return e.next=4,u["a"].getUserInfo();case 4:return e.next=6,u["a"].refreshTable();case 6:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),deleteUser:function(e,t){var a=this,i=new Promise((function(i){var n={urlCGI:"deleteONVIFUser",params:{user:t||a.oParams.users[e].id},data:null,loading:!0};p["a"].delete(n).then((function(e){s["a"].saveState(e.xhr),i()}),(function(e){s["a"].saveState(e),i()}))}));return i},showUserList:function(){this.bShowUserList=!0},cancelCallback:function(){this.bShowUserList=!1},confirm:function(){this.bShowUserList=!1},togglePWD:function(e){this.showPwd=e},save:function(){this.validate.validateAll(),r["a"].validateTips(this.validate.getErrorReport())&&u["a"].save()},handleConfirm:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.delete(null,this.oCurrentUser.id);case 2:this.bShowAddOrMod=!1;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}}}).call(this,a("1157"))},"04ab":function(e,t,a){"use strict";(function(e){a("c5f6"),a("b54a"),a("96cf");var i=a("1da1"),n=a("6458"),o=a("764c"),r=a("b77f"),s=a("962a"),l=a("1f20"),c=a("23d7");t["a"]={components:{ChannelList:n["a"],BasePageExtend:s["a"],TimePlan:c["a"],BaseLink:r["a"]},data:function(){return{oEventInfo:{},oEventInfoTemp:{},oEventCap:{},oEventCapTemp:{},oParams:{},oParamsTemp:{},max:100,aTimes:o["a"].oEventInfo.oScheduleTimes,aTimesTemp:[],min:1,bSupportChannelCap:!1,bShowLink:!1,bEnableCancelCallback:!0,bShowSchedule:!1,bShowTypes:!1,bShowNotSpport:!1,oChannel:{id:-1}}},computed:{bLazyLoading:function(){return o["a"].oEventInfo.bLoading}},watch:{$route:function(){var e=this,t=this;t.$route.query.channelID!==t.oChannel.id&&(t.oChannel.id=t.$route.query.channelID,o["a"].init(t.oChannel.id).finally((function(){e.oParams=o["a"].oParams,e.oEventInfo=o["a"].oEventInfo,e.oEventCap=o["a"].oEventCap,e.bShowNotSpport=!e.oEventCap.bSupportRule&&!e.oEventCap.bSupportSchedule&&!e.oEventCap.bSupportLink})))},"oChannel.id":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t>-1&&o["a"].init(t).finally((function(){a.oParams=o["a"].oParams,a.oEventInfo=o["a"].oEventInfo,a.oEventCap=o["a"].oEventCap,a.bShowNotSpport=!a.oEventCap.bSupportRule&&!a.oEventCap.bSupportSchedule&&!a.oEventCap.bSupportLink,a.initLink()}));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),immediate:!0,deep:!0}},created:function(){this.init()},methods:{initLink:function(){var t=this;this.bShowLink=!1,e.extend(!0,this.oEventInfoTemp,this.oEventInfo),this.bShowLink=!0,this.$nextTick((function(){t.$refs.link&&(t.$refs.link.linkData=t.oEventInfo.oLink,t.$refs.link.$forceUpdate())}))},init:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,l["a"].getDeviceCapa().then(Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=a.$route.query&&a.$route.query.channelID,a.oChannel={id:Number(t)||1},a.bSupportChannelCap=l["a"].m_oDeviceCapa.bSupportChannelEventCap;case 3:case"end":return e.stop()}}),e)}))));case 3:o["a"].init(t.oChannel.id).then((function(){o["a"].getDetectLink(),a.oParams=o["a"].oParams,a.oEventInfo=o["a"].oEventInfo,a.oEventCap=o["a"].oEventCap,a.bShowNotSpport=!a.oEventCap.bSupportRule&&!a.oEventCap.bSupportSchedule&&!a.oEventCap.bSupportLink,a.aTimes=a.oEventInfo.oScheduleTimes,a.initLink()}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),showLink:function(){e.extend(!0,this.oEventInfoTemp,this.oEventInfo),this.bShowLink=!0},showSchedule:function(){e.extend(!0,this.oEventInfoTemp,this.oEventInfo),e.extend(!0,this.oEventCapTemp,this.oEventCap),e.extend(!0,this.oParamsTemp,this.oParams),this.aTimesTemp=JSON.parse(JSON.stringify(this.aTimes)),this.bShowSchedule=!0},cancelCallbackLink:function(){e.extend(!0,this.oEventInfo,this.oEventInfoTemp),this.bShowLink=!1},confirmLink:function(){this.bShowLink=!1},save:function(){console.log(this.oEventInfo.oLink),o["a"].save()},cancelCallbackArmSchedule:function(){e.extend(!0,this.oEventInfo,this.oEventInfoTemp),e.extend(!0,this.oEventCap,this.oEventCapTemp),this.aTimes=[],this.aTimes=JSON.parse(JSON.stringify(this.aTimesTemp)),this.oEventInfo.oScheduleTimes=this.aTimes,e.extend(!0,this.oParams,this.oParamsTemp),this.bShowSchedule=!1},confirmArmSchedule:function(){this.bShowSchedule=!1,this.aTimes=this.$refs.timePlan.timesData,this.oEventInfo.oScheduleTimes=this.aTimes},deleteAll:function(){for(var e=0,t=this.oEventInfo.oScheduleTimes.length;e<t;e++)this.oEventInfo.oScheduleTimes[e]=[];this.$refs.timePlan.timesData=this.oEventInfo.oScheduleTimes,this.$refs.timePlan.$forceUpdate()}}}}).call(this,a("1157"))},"04d9":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",[t("base-page",{attrs:{title:e.$t("POESettings"),"left-type":"back"}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"process-content"},[t("div",{staticClass:"word"},[e._v("\n          "+e._s(e.$t("realAllPower")+"："+e.usePower.toFixed(1)+"W/"+e.allPower.toFixed(1)+"W")+"\n        ")]),t("div",{staticClass:"progress"},[t("hm-progress",{attrs:{percentage:e.iUsePercent,"show-text":!1,color:"#2196f3"}})],1)]),t("div",{staticClass:"use-number"},[t("span",{staticClass:"normal-span"},[e._v(e._s(e.$t("connected")+"："+e.connected))]),t("span",{staticClass:"normal-span"},[e._v(e._s(e.$t("unconnected")+" ："+e.unConnected))])]),t("div",{staticClass:"online-list"},e._l(e.aShowOnlineUpgradeList,(function(i){return t("div",{key:i.ID,staticClass:"online-list-item added-list-height"},[t("img",{attrs:{src:a("f915"),alt:""}}),t("div",{staticClass:"item-right-info",on:{click:function(t){return e.openDeviceInfo(i)}}},[t("div",{staticClass:"item-info"},[t("div",[e._v(e._s(i.ID)+"."+e._s("encodeDevice"===i.deviceClass?e.$t("encodeDevice"):e.$t("IpSpeakerDevice_name")))]),t("div",{staticClass:"small-font font-size-14"},[e._v(e._s(i.usePower)+"W")])]),t("div",{staticClass:"right-info"},[t("div",{staticClass:"status",class:{success:"connect"===i.connectStatus,error:"unconnect"===i.connectStatus}},[e._v("\n                "+e._s("connect"===i.connectStatus?e.$t("connected"):e.$t("unconnected"))+"\n              ")]),t("hm-icon",{staticClass:"arrow-color",attrs:{name:"arrow"}})],1)])])})),0)])]),e.bShowDeviceInfo?t("base-page",{attrs:{title:e.detailTitle,"right-type":"text","b-back":!1},on:{"left-handle":function(t){e.bShowDeviceInfo=!1}}},[t("div",{staticClass:"online-device-info-container",attrs:{slot:"content"},slot:"content"},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("serialNumber")}},[e._v("\n          "+e._s(e.oSelectDeviceInfo.ID)+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("state_name")}},[t("span",{class:{success:"connect"===e.oSelectDeviceInfo.connectStatus,error:"unconnect"===e.oSelectDeviceInfo.connectStatus}},[e._v("\n            "+e._s("connect"===e.oSelectDeviceInfo.connectStatus?e.$t("connected"):e.$t("unconnected"))+"\n          ")])]),t("hm-cell",{attrs:{title:e.$t("usePower")}},[e._v("\n          "+e._s(e.oSelectDeviceInfo.usePower)+"W\n        ")]),t("hm-cell",{attrs:{title:e.$t("plugAndPlayEnabled")}},[t("hm-switch",{model:{value:e.oSelectDeviceInfo.enabled,callback:function(t){e.$set(e.oSelectDeviceInfo,"enabled",t)},expression:"oSelectDeviceInfo.enabled"}})],1),t("hm-cell",{attrs:{title:e.$t("deviceClass")}},[t("base-select",{attrs:{title:e.$t("deviceClass"),options:e.deviceTypes},on:{change:e.changeDeviceType},model:{value:e.oSelectDeviceInfo.deviceClass,callback:function(t){e.$set(e.oSelectDeviceInfo,"deviceClass",t)},expression:"oSelectDeviceInfo.deviceClass"}})],1),t("hm-cell",{attrs:{title:e.$t("cableDistanceType")}},[t("base-select",{attrs:{title:e.$t("cableDistanceType"),disabled:"IPSpeaker"===e.oSelectDeviceInfo.deviceClass,options:e.cableDistanceType},model:{value:e.oSelectDeviceInfo.cableDistanceType,callback:function(t){e.$set(e.oSelectDeviceInfo,"cableDistanceType",t)},expression:"oSelectDeviceInfo.cableDistanceType"}})],1)],1),t("hm-button",{staticClass:"info-add",attrs:{"border-radius":"24px"},on:{click:function(t){return e.modifyDevice()}}},[e._v(e._s(e.$t("save")))])],1)]):e._e()],1)},n=[],o=(a("ac6a"),a("0d6d"),a("f193")),r={data:function(){return{usePower:0,allPower:0,connected:0,unConnected:0,aShowOnlineUpgradeList:[],cableDistanceType:[],deviceTypes:[],fleshInterval:null,oMap:Object.freeze({encodeDevice:this.$t("encodeDevice"),IPSpeaker:this.$t("IpSpeakerDevice_name"),far:this.$t("far"),short:this.$t("short")}),oSelectDeviceInfo:{},bShowDeviceInfo:!1}},methods:{init:function(){var e=this;this.getCap().then((function(){e.initParams()}))},getCap:function(){var e=this;return new Promise((function(t,a){var i={urlCGI:"getPOECap"};return o["a"].get(i).then((function(a){var i=a.oResult;i.ports&&(e.cableDistanceType=[],i.ports.cableDistanceType["@opt"].length&&i.ports.cableDistanceType["@opt"].forEach((function(t){e.cableDistanceType.push({text:e.oMap[t],value:t})})),e.deviceTypes=[],i.ports.deviceClass["@opt"].length&&i.ports.deviceClass["@opt"].forEach((function(t){e.deviceTypes.push({text:e.oMap[t],value:t})}))),t()}),(function(e){a(e)}))}))},initParams:function(){var e=this;return new Promise((function(t,a){var i={urlCGI:"POESetting"};return o["a"].get(i).then((function(a){var i=a.oResult;if(i.ports.length>0){e.aShowOnlineUpgradeList=i.ports,e.allPower=i.totalPower;var n=i.ports.filter((function(e){return"connected"===e.connectStatus}));e.connected=n.length,e.unConnected=i.ports.length-e.connected;var o=0;n.forEach((function(e){o+=1e6*e.usePower})),e.usePower=o/1e6}console.log(e.aShowOnlineUpgradeList,"1231231231"),t()}),(function(e){a(e)}))}))},openDeviceInfo:function(e){this.oSelectDeviceInfo=e,this.bShowDeviceInfo=!0},changeDeviceType:function(e){"IPSpeaker"===e&&(this.oSelectDeviceInfo.cableDistanceType="short")},modifyDevice:function(){var e=this,t=JSON.parse(JSON.stringify(this.aShowOnlineUpgradeList));return t.forEach((function(t){t.ID===e.oSelectDeviceInfo.ID&&(t.deviceClass=e.oSelectDeviceInfo.deviceClass,t.cableDistanceType=e.oSelectDeviceInfo.cableDistanceType,t.enabled=e.oSelectDeviceInfo.enabled)})),new Promise((function(a,i){var n={urlCGI:"POESetting",data:{ports:t}};return o["a"].put(n).then((function(){e.bShowDeviceInfo=!1,e.initParams(),a()}),(function(e){i(e)}))}))}}},s=r,l=a("47b5"),c={name:"AudioConfig",components:{BaseSelect:l["a"]},mixins:[s],data:function(){return{validate:{}}},computed:{iUsePercent:function(){return parseInt(this.usePower/this.allPower*100,10)}},created:function(){this.init()},methods:{}},u=c,d=(a("eb58"),a("2877")),p=Object(d["a"])(u,i,n,!1,null,"b05fcbaa",null);t["default"]=p.exports},"04ff":function(e,t,a){var i=a("5ca1"),n=a("3ca5");i(i.S+i.F*(Number.parseInt!=n),"Number",{parseInt:n})},"051e":function(e,t,a){},"053c":function(e,t,a){"use strict";a("62f4")},"05da":function(e,t,a){},"0643":function(e,t,a){"use strict";a.r(t);a("6762"),a("2fdb");var i=function(){var e=this,t=e._self._c;return t("div",[t("base-page",{directives:[{name:"show",rawName:"v-show",value:e.showIndex,expression:"showIndex"}],attrs:{title:e.$t("deviceManage"),"right-type":"text"}},[t("div",{staticClass:"device-container",attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"top-container"},[t("img",{staticClass:"top-bg",attrs:{src:a("7f67"),alt:""}}),t("div",{staticClass:"top-select-container"},[t("div",{staticClass:"top-left-title"},[t("hm-select",{attrs:{options:e.aSelect,title:e.$t("selectDevice_name")},on:{"picker-show":function(t){return e.handleSelect(!0)},"picker-hide":function(t){return e.handleSelect(!1)},change:e.changeDeviceType},model:{value:e.szDeviceType,callback:function(t){e.szDeviceType=t},expression:"szDeviceType"}}),t("div",{class:e.bSelectOpen?"icon-down":"icon-up"})],1),t("hm-icon",{attrs:{name:"add-o",color:"#fff",size:"24"},nativeOn:{click:function(t){return e.addDevice.apply(null,arguments)}}})],1)]),"video"===e.szDeviceType?t("div",{staticClass:"online-device-container",class:e.bOpenList?"auto-height":""},[t("div",{staticClass:"online-device-container-bg"},[t("div",{staticClass:"online-top-container"},[t("div",{staticClass:"online-top-left"},[t("img",{staticClass:"online-device-icon",attrs:{src:a("f17a"),alt:""}}),t("span",[e._v(e._s(e.$t("onlineDeviceNum_name")))]),t("div",{staticClass:"online-device-num"},[e._v(e._s(e.iOnlineDeviceNum))])]),t("div",{staticClass:"right-icon-container"},[t("img",{staticClass:"white-bg refresh-icon",attrs:{src:a("eaa4"),alt:""},on:{click:e.refreshOnlineDevice}}),t("hm-button",{staticClass:"add-button show-add-button-visible",attrs:{"border-radius":"24px"},on:{click:e.oneClickAdd}},[e._v(e._s(e.$t("oneClickAdd_button")))]),t("hm-icon",{staticClass:"hide-add-button-visible",attrs:{name:"add-o",color:"#fa3239"},nativeOn:{click:function(t){return e.oneClickAdd.apply(null,arguments)}}})],1)]),e.loadingOnlineDevice?t("div",{staticClass:"loading-container"},[t("hm-loading",{attrs:{size:28}})],1):e._e(),e.aShowOnlineList.length?t("div",{staticClass:"online-list"},[e._l(e.aShowOnlineList,(function(i){return t("div",{key:i.deviceIpAdd,staticClass:"online-list-item"},[t("img",{attrs:{src:a("f915"),alt:""}}),t("div",{staticClass:"item-right-info",on:{click:function(t){return e.openOnlineDeviceInfo(i)}}},[t("div",{staticClass:"item-info"},[t("div",[e._v(e._s(i.deviceIpAdd))]),t("div",{staticClass:"small-font"},[e._v(e._s(i.serialNumber))])]),t("hm-button",{staticClass:"quick-button",attrs:{"border-radius":"24px"},nativeOn:{click:function(t){return t.stopPropagation(),e.quickAdd(i)}}},[e._v(e._s(e.$t("add_name")))])],1)])})),e.iOnlineDeviceNum>2?t("div",{staticClass:"open-list",on:{click:e.showOnlineList}},[t("div",[e._v("\n                "+e._s(e.$t("openList_button"))+"\n              ")]),e.bOpenList?t("hm-icon",{attrs:{name:"arrow-up"}}):t("hm-icon",{attrs:{name:"arrow-down"}})],1):e._e()],2):e.loadingOnlineDevice?e._e():t("div",{staticClass:"none-height"})]),t("div",{staticClass:"device-show-container"},[t("div",{staticClass:"online-top-container"},[t("div",{staticClass:"online-top-left"},[t("img",{staticClass:"online-device-icon",attrs:{src:a("1e68"),alt:""}}),t("span",[e._v(e._s(e.$t("alreadyAddDevice_name")+"（".concat(e.iDeviceNum,"）")))])]),t("div",{staticClass:"right-icon-container"},[t("img",{staticClass:"white-bg refresh-icon",attrs:{src:a("eaa4"),alt:""},on:{click:e.refreshDevice}}),t("hm-icon",{attrs:{name:"ellipsis",size:"24"},nativeOn:{click:function(t){return e.moreAct.apply(null,arguments)}}})],1)]),e.loadingDevice?t("div",{staticClass:"loading-container"},[t("hm-loading",{attrs:{size:28}})],1):e._e(),t("div",{staticClass:"online-list"},e._l(e.aShowDeviceList,(function(i){return t("div",{key:i.deviceIpAdd,staticClass:"online-list-item added-list-height"},[t("img",{attrs:{src:a("f915"),alt:""}}),t("div",{staticClass:"item-right-info",on:{click:function(t){return e.openDeviceInfo(i)}}},[t("div",{staticClass:"item-info"},[t("div",[e._v(e._s(i.deviceName))]),t("div",{staticClass:"small-font font-size-14"},[e._v(e._s(i.address))]),t("div",{staticClass:"small-font"},[i.state==e.$t("onLine")?t("img",{staticClass:"status-icon",attrs:{src:a("6958"),alt:""}}):t("img",{staticClass:"status-icon offline-icon",attrs:{src:a("b2d6"),alt:""}}),i.state==e.$t("onLine")?t("span",{attrs:{title:i.state}},[e._v(" "+e._s(i.state))]):t("span",{attrs:{title:i.childStatus||e.$t("offLine")}},[e._v(e._s(i.childStatus||e.$t("offLine")))])])]),t("hm-icon",{staticClass:"arrow-color",attrs:{name:"arrow"}})],1)])})),0)])]):e._e(),"ipSpeaker"===e.szDeviceType?t("div",{staticClass:"online-device-container",class:e.bOpenList?"auto-height":""},[t("div",{staticClass:"online-device-container-bg"},[t("div",{staticClass:"online-top-container"},[t("div",{staticClass:"online-top-left"},[t("img",{staticClass:"online-device-icon",attrs:{src:a("f17a"),alt:""}}),t("span",[e._v(e._s(e.$t("onlineDeviceNum_name")))]),t("div",{staticClass:"online-device-num"},[e._v(e._s(e.quickIpSpeakerAddActivedNum))])]),t("div",{staticClass:"right-icon-container"},[t("img",{staticClass:"white-bg refresh-icon",attrs:{src:a("eaa4"),alt:""},on:{click:e.getIpSpeakerOnlineList}}),t("hm-button",{staticClass:"add-button show-add-button-visible",attrs:{"border-radius":"24px"},on:{click:e.oneClickAddIpSpeaker}},[e._v(e._s(e.$t("oneClickAdd_button")))]),t("hm-icon",{staticClass:"hide-add-button-visible",attrs:{name:"add-o",color:"#fa3239"},nativeOn:{click:function(t){return e.oneClickAddIpSpeaker.apply(null,arguments)}}})],1)]),e.loadingOnlineDevice?t("div",{staticClass:"loading-container"},[t("hm-loading",{attrs:{size:28}})],1):e._e(),e.aIpSpeakerQuickAddList.length?t("div",{staticClass:"online-list"},[e._l(e.aIpSpeakerQuickAddList,(function(i){return t("div",{key:i.deviceIpAdd,staticClass:"online-list-item"},[t("img",{attrs:{src:a("19918"),alt:""}}),t("div",{staticClass:"item-right-info",on:{click:function(t){return e.openOnlineDeviceInfo(i)}}},[t("div",{staticClass:"item-info"},[t("div",[e._v(e._s(i.deviceIpAdd))]),t("div",{staticClass:"small-font"},[e._v(e._s(i.serialNumber))])]),t("hm-button",{staticClass:"quick-button",attrs:{"border-radius":"24px"},nativeOn:{click:function(t){return t.stopPropagation(),e.quickAdd(i)}}},[e._v(e._s(e.$t("add_name")))])],1)])})),e.iOnlineDeviceNum>2?t("div",{staticClass:"open-list",on:{click:e.showOnlineList}},[t("div",[e._v("\n                "+e._s(e.$t("openList_button"))+"\n              ")]),e.bOpenList?t("hm-icon",{attrs:{name:"arrow-up"}}):t("hm-icon",{attrs:{name:"arrow-down"}})],1):e._e()],2):e.loadingOnlineDevice?e._e():t("div",{staticClass:"none-height"})]),t("div",{staticClass:"device-show-container"},[t("div",{staticClass:"online-top-container"},[t("div",{staticClass:"online-top-left"},[t("img",{staticClass:"online-device-icon",attrs:{src:a("1e68"),alt:""}}),t("span",[e._v(e._s(e.$t("alreadyAddDevice_name")+"（".concat(e.iIpSpeakerDeviceNum,"）")))])]),t("div",{staticClass:"right-icon-container"},[t("img",{staticClass:"white-bg refresh-icon",attrs:{src:a("eaa4"),alt:""},on:{click:e.refreshIpSpeakerDevice}}),t("hm-icon",{attrs:{name:"ellipsis",size:"24"},nativeOn:{click:function(t){return e.moreAct.apply(null,arguments)}}})],1)]),e.loadingDevice?t("div",{staticClass:"loading-container"},[t("hm-loading",{attrs:{size:28}})],1):e._e(),t("div",{staticClass:"online-list"},e._l(e.showIpSpeakerDeviceList,(function(i){return t("div",{key:i.deviceIpAdd,staticClass:"online-list-item added-list-height"},[t("img",{attrs:{src:a("19918"),alt:""}}),t("div",{staticClass:"item-right-info",on:{click:function(t){return e.openIpSpeakerDeviceInfo(i)}}},[t("div",{staticClass:"item-info"},[t("div",[e._v(e._s(i.deviceName))]),t("div",{staticClass:"small-font font-size-14"},[e._v(e._s(i.address))]),t("div",{staticClass:"small-font"},[i.state==e.$t("onLine")?t("img",{staticClass:"status-icon",attrs:{src:a("6958"),alt:""}}):t("img",{staticClass:"status-icon offline-icon",attrs:{src:a("b2d6"),alt:""}}),i.state==e.$t("onLine")?t("span",{attrs:{title:i.state}},[e._v(" "+e._s(i.state))]):t("span",{attrs:{title:i.childStatus||e.$t("offLine")}},[e._v(e._s(i.childStatus||e.$t("offLine")))])])]),t("hm-icon",{staticClass:"arrow-color",attrs:{name:"arrow"}})],1)])})),0)])]):e._e()])]),e.bShowOnlineDeviceInfo?t("base-page",{attrs:{title:e.oOnlineDeviceInfo.deviceIpAdd,"right-type":"text","b-back":!1},on:{"left-handle":e.showDevice}},[t("div",{staticClass:"online-device-info-container",attrs:{slot:"content"},slot:"content"},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("ipAddr")}},[e._v("\n          "+e._s(e.oOnlineDeviceInfo.deviceIpAdd)+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("deviceModel")}},[e._v("\n          "+e._s(e.oOnlineDeviceInfo.deviceModel)+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("state_name")}},[t("span",{staticClass:"table-status"},[e.oOnlineDeviceInfo.state==e.$t("onLine")?t("span",{staticClass:"status-text",class:e.oOnlineDeviceInfo.state==e.$t("onLine")?"status-online":"",attrs:{title:e.oOnlineDeviceInfo.state}},[e._v(" "+e._s(e.oOnlineDeviceInfo.state))]):t("span",{staticClass:"status-text",class:e.oOnlineDeviceInfo.state==e.$t("onLine")?"status-online":"",attrs:{title:e.oOnlineDeviceInfo.state}},[e._v(e._s(e.oOnlineDeviceInfo.state))])])]),t("hm-cell",{attrs:{title:e.$t("protocolType_name")}},[t("span",{staticClass:"base-ellipsis",attrs:{title:["HIKVISION","AXIS"].includes(e.oOnlineDeviceInfo.proxyProtocol)?e.$t(e.oOnlineDeviceInfo.proxyProtocol+"_name"):e.oOnlineDeviceInfo.proxyProtocol}},[e._v(" "+e._s(["HIKVISION","AXIS"].includes(e.oOnlineDeviceInfo.proxyProtocol)?e.$t(e.oOnlineDeviceInfo.proxyProtocol+"_name"):e.oOnlineDeviceInfo.proxyProtocol)+" ")])]),t("hm-cell",{attrs:{title:e.$t("managementPort_name")}},[e._v("\n          "+e._s(e.oOnlineDeviceInfo.managePortNo)+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("serialNum_name")}},[e._v("\n          "+e._s(e.oOnlineDeviceInfo.serialNumber)+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("firmware")}},[e._v("\n          "+e._s(e.oOnlineDeviceInfo.firmwareVersion)+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("macAddress")}},[e._v("\n          "+e._s(e.oOnlineDeviceInfo.macAddress)+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("IPv6")}},[e._v("\n          "+e._s(e.oOnlineDeviceInfo.ipv6Address)+"\n        ")])],1),t("hm-button",{staticClass:"info-add",attrs:{"border-radius":"24px"},on:{click:function(t){return e.quickAdd(e.oOnlineDeviceInfo)}}},[e._v(e._s(e.$t("add_name")))])],1)]):e._e(),e.bShowAddDevice?t("base-page",{attrs:{title:e.$t("addDevice"),"right-type":"text","b-back":!1},on:{"left-handle":e.showDevice}},[t("div",{staticClass:"device-add-or-edit-container",attrs:{slot:"content"},slot:"content"},[t("device-add-or-edit",{ref:"addDevice",attrs:{options:e.aOnlineList,"out-loading":e.loadingOnlineDevice,"o-cap":e.oAddOrEditCap,"a-protocol-options":e.aProtocolOptions,type:"add"},on:{updateProtocol:e.updateProtocol,confirmAddOnline:e.oneClickAddOnline,updateOnlineDevice:e.updateOnlineDevice,refreshOnlineDevice:e.refreshOnlineDevice,operateSuccess:e.operateSuccess}})],1)]):e._e(),e.bShowEditDevice?t("base-page",{attrs:{title:e.$t("editDevice_name"),"right-type":"icon","right-icon-name":"delete","b-back":!1},on:{"left-handle":e.showDevice,"right-handle":e.deleteDevice}},[t("div",{staticClass:"device-add-or-edit-container",attrs:{slot:"content"},slot:"content"},[t("device-add-or-edit",{attrs:{options:e.aOnlineList,type:"edit","edit-info":e.oDeviceInfo,"o-cap":e.oAddOrEditCap,"a-protocol-options":e.aProtocolOptions},on:{confirmAddOnline:e.oneClickAddOnline,updateOnlineDevice:e.updateOnlineDevice,operateSuccess:e.operateSuccess,refreshOnlineDevice:e.refreshOnlineDevice}})],1)]):e._e(),e.bShowDeviceInfo?t("base-page",{attrs:{title:e.oDeviceInfo.deviceName,"right-type":e.oDeviceInfo.isPoe?"":"icon","right-icon-name":"setting-o","b-back":!1},on:{"left-handle":e.showDevice,"right-handle":e.editDevice}},[t("div",{staticClass:"online-device-info-container",attrs:{slot:"content"},slot:"content"},[t("hm-cell-group",{staticClass:"custom-cell-group-card"},[t("hm-cell",{attrs:{title:e.$t("deviceName")}},[e._v("\n          "+e._s(e.oDeviceInfo.deviceName)+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("ipAddr")}},[t("span",{staticClass:"base-ellipsis",attrs:{title:"GB28181"===e.oDeviceInfo.protocol?e.oDeviceInfo.GBDeviceID+(e.oDeviceInfo.address?"("+e.oDeviceInfo.address+")":""):e.oDeviceInfo.address}},[e._v(" "+e._s("GB28181"===e.oDeviceInfo.protocol?e.oDeviceInfo.GBDeviceID+(e.oDeviceInfo.address?"("+e.oDeviceInfo.address+")":""):e.oDeviceInfo.address)+" ")])]),t("hm-cell",{attrs:{title:e.$t("networkstate_name")}},[t("span",{staticClass:"table-status"},[e.oDeviceInfo.state==e.$t("onLine")?t("span",{staticClass:"status-text",class:{"status-online":e.oDeviceInfo.state==e.$t("onLine")},attrs:{title:e.oDeviceInfo.state}},[e._v(" "+e._s(e.oDeviceInfo.state))]):t("span",{staticClass:"status-text",class:{"status-online":e.oDeviceInfo.state==e.$t("onLine"),"status-text-battery":e.oDeviceInfo.isSolarDevice},attrs:{title:e.oDeviceInfo.childStatus||e.$t("offLine")}},[e._v(e._s(e.oDeviceInfo.childStatus||e.$t("offLine")))])])]),t("hm-cell",{attrs:{title:e.$t("passwordStrength_name")}},[e._v("\n          "+e._s(e.oDeviceInfo.passwordStrength||"--")+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("ProtocolConf")}},[t("span",{staticClass:"base-ellipsis",attrs:{title:["HIK","AXIS"].includes(e.oDeviceInfo.protocol)?e.$t(e.oDeviceInfo.protocol+"_name"):e.oDeviceInfo.protocol}},[e._v(" "+e._s(["HIK","AXIS"].includes(e.oDeviceInfo.protocol)?e.$t(e.oDeviceInfo.protocol+"_name"):e.oDeviceInfo.protocol)+" ")])]),t("hm-cell",{attrs:{title:e.$t("portManage_name")}},[e._v("\n          "+e._s(e.oDeviceInfo.portNo||"--")+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("serialNum_name")}},[e._v("\n          "+e._s(e.oDeviceInfo.serialNum||"--")+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("version")}},[e._v("\n          "+e._s(e.oDeviceInfo.version||"--")+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("alarmInputOrOutput_name")}},[e._v("\n          "+e._s(e.oDeviceInfo.alarmInputOrOutput||"--")+"\n        ")])],1),t("hm-cell-group",{staticClass:"custom-cell-group-card"},[t("hm-cell",{attrs:{title:e.$t("addedOrAll_name")}},[e._v("\n          "+e._s(e.oDeviceInfo.addedOrAll)+"\n        ")]),e.oDeviceInfo.state==e.$t("onLine")?t("hm-cell",[t("div",{attrs:{slot:"title"},slot:"title"},[t("div",{staticClass:"action-text-button",on:{click:e.showChannelSelect}},[e._v("\n              "+e._s(e.$t("edit"))+"\n            ")])])]):e._e()],1)],1)]):e._e(),e.bShowDefaultPasswordConfig?t("base-page",{attrs:{title:e.$t("IpcDefaultPasswordConfig_name"),"right-type":"text","b-back":!1},on:{"left-handle":e.showDevice}},[t("div",{staticClass:"mic-config-container",attrs:{slot:"content"},slot:"content"},[t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",[t("div",{attrs:{slot:"title"},slot:"title"},[t("div",{staticClass:"require-title-container"},[t("div",{staticClass:"require-star"},[e._v("\n                  *\n                ")]),t("div",{staticClass:"require-title"},[e._v("\n                  "+e._s(e.$t("password"))+"\n                ")])])]),t("hm-input",{attrs:{maxlength:16,type:"password"},model:{value:e.oDefaultPassword.szPwd,callback:function(t){e.$set(e.oDefaultPassword,"szPwd",t)},expression:"oDefaultPassword.szPwd"}}),t("hm-validator",{attrs:{model:e.oDefaultPassword.szPwd,rules:e.oParamsValid.szPwd,param:e.$t("password")}})],1),t("hm-cell",[t("div",{staticClass:"password-tip"},[e._v("\n              "+e._s(e.$t("passwordValidTips"))+"\n            ")])]),t("hm-cell",[t("div",{attrs:{slot:"title"},slot:"title"},[t("div",{staticClass:"require-title-container"},[t("div",{staticClass:"require-star"},[e._v("\n                  *\n                ")]),t("div",{staticClass:"require-title"},[e._v("\n                  "+e._s(e.$t("pwdConfirm"))+"\n                ")])])]),t("hm-input",{attrs:{maxlength:16,type:"password"},model:{value:e.oDefaultPassword.szPwdConfirm,callback:function(t){e.$set(e.oDefaultPassword,"szPwdConfirm",t)},expression:"oDefaultPassword.szPwdConfirm"}}),t("hm-validator",{attrs:{model:e.oDefaultPassword.szPwdConfirm,rules:e.oParamsValid.szPwdConfirm,param:e.$t("pwdConfirm")}})],1)],1)],1),t("hm-button",{staticClass:"info-add",attrs:{"border-radius":"24px"},on:{click:e.saveDefaultPassword}},[e._v(e._s(e.$t("save")))])],1)]):e._e(),e.bShowMicConfig?t("base-page",{attrs:{title:e.$t("micConfig_button"),"right-type":"text","b-back":!1},on:{"left-handle":e.showDevice}},[t("div",{staticClass:"mic-config-container",attrs:{slot:"content"},slot:"content"},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",[t("div",{attrs:{slot:"title"},slot:"title"},[t("div",{staticClass:"title"},[e._v("\n              "+e._s(e.$t("openMicConfig_name"))+"\n            ")]),t("div",{staticClass:"subtitle"},[e._v("\n              "+e._s(e.$t("micConfigHoverTips_msg"))+"\n            ")])]),t("hm-switch",{model:{value:e.bEnableMic,callback:function(t){e.bEnableMic=t},expression:"bEnableMic"}})],1),t("div",{staticClass:"mic-config-desc"},[e._v("\n          "+e._s(e.$t("micConfigTips_msg"))+"\n        ")])],1),t("hm-button",{staticClass:"info-add",attrs:{"border-radius":"24px"},nativeOn:{click:function(t){return e.saveMic.apply(null,arguments)}}},[e._v(e._s(e.$t("save")))])],1)]):e._e(),t("hm-modal",{attrs:{visible:e.bShowChannelSelect,"close-type":"right","half-height":!0,title:e.$t("editChannel_name")},on:{close:function(t){e.bShowChannelSelect=!1}}},[t("channel-select",{attrs:{options:e.oDeviceInfo.deviceResourceList,type:"modify"},on:{close:e.channelEditSuccess}})],1),e.bShowOnlineDeviceAdd?t("base-page",{attrs:{"close-type":"right","half-height":!0,title:e.$t("onlineDeviceNum_name"),"b-back":!1,"right-type":"slot"},on:{"left-handle":e.showDevice}},[t("div",{attrs:{slot:"right-slot"},slot:"right-slot"},[t("div",{staticClass:"slot-right-container",on:{click:e.refreshOnlineDevice}},[t("img",{staticClass:"white-bg",attrs:{src:a("eaa4"),alt:""}})])]),t("div",{staticClass:"device-container",attrs:{slot:"content"},slot:"content"},[t("online-list-add",{attrs:{options:e.aOnlineList,"out-loading":e.loadingOnlineDevice},on:{confirmAddOnline:e.oneClickAddOnline}})],1)]):e._e(),e.bShowDeleteDevice?t("base-page",{attrs:{"close-type":"right",title:e.$t("bulkDelete_name"),"b-back":!1,"right-type":"text"},on:{"left-handle":e.showDevice}},[t("div",{staticClass:"device-container",attrs:{slot:"content"},slot:"content"},[t("online-list-add",{attrs:{type:"deleteDevice",options:e.aShowDeviceList},on:{confirmDelete:e.confirmDelete}})],1)]):e._e(),t("hm-popup",{ref:"myPopup",attrs:{type:"my-popup"}},[t("hm-loading",{attrs:{size:28}})],1),e.bShowIpSpeakerDeviceInfo?t("base-page",{attrs:{title:e.oIpSPeakerDeviceInfo.deviceName,"right-type":e.oIpSPeakerDeviceInfo.isPoe?"":"icon","right-icon-name":"setting-o","b-back":!1},on:{"left-handle":e.showIpSpeakerDevice,"right-handle":e.editIpSpeakerDevice}},[t("div",{staticClass:"online-device-info-container",attrs:{slot:"content"},slot:"content"},[t("hm-cell-group",{staticClass:"custom-cell-group-card"},[t("hm-cell",{attrs:{title:e.$t("deviceName")}},[e._v("\n          "+e._s(e.oIpSPeakerDeviceInfo.deviceName)+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("ipAddr")}},[t("span",{staticClass:"base-ellipsis",attrs:{title:"GB28181"===e.oIpSPeakerDeviceInfo.protocol?e.oIpSPeakerDeviceInfo.GBDeviceID+(e.oIpSPeakerDeviceInfo.address?"("+e.oIpSPeakerDeviceInfo.address+")":""):e.oIpSPeakerDeviceInfo.address}},[e._v(" "+e._s("GB28181"===e.oIpSPeakerDeviceInfo.protocol?e.oIpSPeakerDeviceInfo.GBDeviceID+(e.oIpSPeakerDeviceInfo.address?"("+e.oIpSPeakerDeviceInfo.address+")":""):e.oIpSPeakerDeviceInfo.address)+" ")])]),t("hm-cell",{attrs:{title:e.$t("networkstate_name")}},[t("span",{staticClass:"table-status"},[e.oIpSPeakerDeviceInfo.state==e.$t("onLine")?t("span",{staticClass:"status-text",class:{"status-online":e.oIpSPeakerDeviceInfo.state==e.$t("onLine")},attrs:{title:e.oIpSPeakerDeviceInfo.state}},[e._v(" "+e._s(e.oIpSPeakerDeviceInfo.state))]):t("span",{staticClass:"status-text",class:{"status-online":e.oIpSPeakerDeviceInfo.state==e.$t("onLine"),"status-text-battery":e.oIpSPeakerDeviceInfo.isSolarDevice},attrs:{title:e.oIpSPeakerDeviceInfo.childStatus||e.$t("offLine")}},[e._v(e._s(e.oIpSPeakerDeviceInfo.childStatus||e.$t("offLine")))])])]),t("hm-cell",{attrs:{title:e.$t("passwordStrength_name")}},[e._v("\n          "+e._s(e.oIpSPeakerDeviceInfo.passwordStrength||"--")+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("ProtocolConf")}},[t("span",{staticClass:"base-ellipsis",attrs:{title:["HIK","AXIS"].includes(e.oIpSPeakerDeviceInfo.protocol)?e.$t(e.oIpSPeakerDeviceInfo.protocol+"_name"):e.oIpSPeakerDeviceInfo.protocol}},[e._v(" "+e._s(["HIK","AXIS"].includes(e.oIpSPeakerDeviceInfo.protocol)?e.$t(e.oIpSPeakerDeviceInfo.protocol+"_name"):e.oIpSPeakerDeviceInfo.protocol)+" ")])]),t("hm-cell",{attrs:{title:e.$t("portManage_name")}},[e._v("\n          "+e._s(e.oIpSPeakerDeviceInfo.portNo||"--")+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("serialNum_name")}},[e._v("\n          "+e._s(e.oIpSPeakerDeviceInfo.serialNum||"--")+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("version")}},[e._v("\n          "+e._s(e.oIpSPeakerDeviceInfo.version||"--")+"\n        ")])],1)],1)]):e._e(),e.bShowAddIpSpeakerDevice?t("base-page",{attrs:{title:e.$t("addDevice"),"right-type":"text","b-back":!1},on:{"left-handle":e.showIpSpeakerDevice}},[t("div",{staticClass:"device-add-or-edit-container",attrs:{slot:"content"},slot:"content"},[t("device-add-or-edit",{ref:"addDevice",attrs:{options:e.aIpSpeakerQuickAddList,"out-loading":e.loadingOnlineDevice,"o-cap":e.oIpSpeakerEditCap,"a-protocol-options":e.oIpSpeakerEditCap.protocolType.options,type:"add","sz-device-type":e.szDeviceType,"a-video-channel-list":e.aVideoChannelList},on:{updateProtocol:e.updateProtocol,confirmAddOnline:e.oneClickAddOnline,updateOnlineDevice:e.updateOnlineDevice,refreshOnlineDevice:e.refreshOnlineDevice,operateSuccess:e.operateIpSpeakerSuccess}})],1)]):e._e(),e.bShowIpSpeakerEditDevice?t("base-page",{attrs:{title:e.$t("editDevice_name"),"right-type":"icon","right-icon-name":"delete","b-back":!1},on:{"left-handle":e.showIpSpeakerDevice,"right-handle":e.deleteIpSpeakerDevice}},[t("div",{staticClass:"device-add-or-edit-container",attrs:{slot:"content"},slot:"content"},[t("device-add-or-edit",{attrs:{options:e.aIpSpeakerQuickAddList,type:"edit","edit-info":e.oIpSPeakerDeviceInfo,"o-cap":e.oIpSpeakerEditCap,"a-protocol-options":e.oIpSpeakerEditCap.protocolType.options,"sz-device-type":e.szDeviceType,"a-video-channel-list":e.aVideoChannelList},on:{confirmAddOnline:e.oneClickAddOnline,updateOnlineDevice:e.updateOnlineDevice,operateSuccess:e.operateIpSpeakerSuccess,refreshOnlineDevice:e.refreshOnlineDevice}})],1)]):e._e(),e.bShowIpSpeakerDeleteDevice?t("base-page",{attrs:{"close-type":"right",title:e.$t("bulkDelete_name"),"b-back":!1,"right-type":"text"},on:{"left-handle":e.showIpSpeakerDevice}},[t("div",{staticClass:"device-container",attrs:{slot:"content"},slot:"content"},[t("online-list-add",{attrs:{type:"deleteDevice",options:e.showIpSpeakerDeviceList,"device-type":"ipSpeaker"},on:{confirmDelete:e.confirmIpSpeakerDelete}})],1)]):e._e(),e.bShowOnlineIpSpeakerDeviceAdd?t("base-page",{attrs:{"close-type":"right","half-height":!0,title:e.$t("onlineDeviceNum_name"),"b-back":!1,"right-type":"slot"},on:{"left-handle":e.showIpSpeakerDevice}},[t("div",{attrs:{slot:"right-slot"},slot:"right-slot"},[t("div",{staticClass:"slot-right-container",on:{click:e.getIpSpeakerOnlineList}},[t("img",{staticClass:"white-bg",attrs:{src:a("eaa4"),alt:""}})])]),t("div",{staticClass:"device-container",attrs:{slot:"content"},slot:"content"},[t("online-list-add",{attrs:{options:e.aIpSpeakerQuickAddList,"out-loading":e.loadingOnlineDevice,"device-type":"ipSpeaker"},on:{confirmAddOnline:e.oneClickAddIpSpeakerOnline}})],1)]):e._e()],1)},n=[],o=(a("96cf"),a("1da1")),r=a("2909"),s=(a("ac6a"),a("c587")),l=a("c050"),c=a("7de8"),u=a("9731"),d=a("ae88"),p=a("92af"),m=a("d09c"),h=(a("7514"),a("5df3"),a("f193")),f=a("768a"),v=a("8d94"),b={data:function(){return{oCaps:{},oParams:{},ipSpeakerDevicePageC:{page_size:300,currentPage:1,totalNo:0,page_sizes:[30,60,90]},ipSpeakerDeviceResourceList:[],showIpSpeakerDeviceList:[],iIpSpeakerDeviceNum:0,aIpSpeakerQuickAddList:[],quickIpSpeakerAddActivedNum:0,bShowIpSpeakerDeviceInfo:!1,oIpSPeakerDeviceInfo:{},bShowAddIpSpeakerDevice:!1,aProtocolList:["HIK","HIKVISION"],oIpSpeakerEditCap:{aProtocolOptions:[],iMaxIpcNum:32,deviceName:{min:0,max:128,def:""},protocolType:{options:[],def:"HIK"},deviceList:{}},aVideoChannelList:[],bShowIpSpeakerEditDevice:!1,bShowIpSpeakerDeleteDevice:!1,bShowOnlineIpSpeakerDeviceAdd:!1}},methods:{getCaps:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([this.getIpSpeakerEquipmentCap()]);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e["catch"](0),m["a"].saveState(e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(){return e.apply(this,arguments)}return t}(),initParams:function(){return Promise.all([this.getIPSpeakerList(),this.getIpSpeakerOnlineList(),this.getVideoChannel()])},getVideoChannel:function(){var e=this,t={searchID:c["a"].creatUUID(31),rc:["Video"],searchResultPosition:1,maxResults:1e3};return new Promise((function(a,i){var n={urlCGI:"searchGroupResource",data:t,loading:!0};return h["a"].post(n).then((function(t){var i=t.oResult;e.aVideoChannelList=[],i.matchResults.length&&i.matchResults.forEach((function(t){e.aVideoChannelList.push({name:"[D"+t.index+"]"+t.childDevIndexDescription,value:t.index,added:!1})})),a()}),(function(e){i(e)}))}))},getIPSpeakerList:function(){var e=this,t={risk:v["a"].t("password_strength_risk"),weak:v["a"].t("password_strength_weak"),medium:v["a"].t("password_strength_medium"),strong:v["a"].t("password_strength_strong")};return new Promise((function(a){var i={urlCGI:"searchChildDevice",data:{pageSize:300,pageIndex:1,deviceClass:"IPSpeaker"}};return h["a"].post(i).then((function(i){var n=i.oResult;e.showIpSpeakerDeviceList=[],e.ipSpeakerDevicePageC.totalNo=parseInt(n.totalMatches||0,10),e.iIpSpeakerDeviceNum=e.ipSpeakerDevicePageC.totalNo;var o=n.childList.map((function(e){return e.childDevID}));e.ipSpeakerDeviceResourceList.length=0,e.addDeviceResourceDlg(o).finally((function(){e.deviceListLoading=!1,n.childList.forEach((function(a){var i={deviceID:a.childDevID,state:a.connected?e.$t("onLine"):e.$t("offline"),childStatus:f["a"].transChanStatus(a.childStatus),serialNum:a.serialNumber,version:a.version,oChanLink:""};a.tags.forEach((function(n){switch(n.Key){case"childDescription":i.deviceName=n.Value||"IPCamera 01";break;case"ipv4Address":i.address=n.Value;break;case"ipv6Address":i.address=n.Value;break;case"hostname":i.address=n.Value;break;case"passwordStrength":i.passwordStrength=t[n.Value]||"";break;case"portNo":i.portNo=n.Value;break;case"protocol":i.protocol=n.Value;break;case"accessProtocolType":i.protocol=n.Value;break;case"customProtocolID":i.protocol=e.aProtocolOptions.find((function(e){return e&&e.id===n.Value})).value||i.protocol;break;case"streamProtocolType":i.streamProtocolType=n.Value;break;case"certificateValidationEnabled":i.certificateValidationEnabled=n.Value;break;case"deviceID":i.GBDeviceID=n.Value;break;case"IOInput":i.IOInput=n.Value||0;break;case"IOOutput":i.IOOutput=n.Value||0;break;case"userName":i.username=n.Value;break;case"batteryPower":i.batteryPower=n.Value,i.channelId=e.ipSpeakerDeviceResourceList.filter((function(e){return a.childDevID===e.childDevID}))[0].index||-1,i.channelId>0&&(i.isSolarDevice=!0);break;case"childDevWEBUrl":i.oChanLink=n.Value||"";break;case"POEDevice":i.isPoe=n.Value||!1;break;default:break}})),i.isSolarDevice||(i.isSolarDevice=!1),i.isPoe||(i.isPoe=!1),a.connected?i.alarmInputOrOutput=(i.IOInput||0)+"/"+(i.IOOutput||0):i.alarmInputOrOutput="--";var n=0,o=0,r=[];e.ipSpeakerDeviceResourceList.forEach((function(e){e.childDevID===a.childDevID&&(r.push({childDevID:e.childDevID,childDevIndex:e.childDevIndex,index:e.index,added:"added"===e.status,boundChannelList:e.boundChannelList}),o++,"added"===e.status&&n++)})),i.ipSpeakerDeviceResourceList=r,i.addedOrAll=n+"/"+o,e.showIpSpeakerDeviceList.push(i)}))})),a()})).catch((function(){a()}))}))},addDeviceResourceDlg:function(e){var t=this,a={searchID:c["a"].creatUUID(31),childDevIDList:e,rc:"VoiceTalk",searchResultPosition:1,maxResults:1e3};return e.length||delete a.childDevIDList,this.ipSpeakerDeviceResourceList.length=0,new Promise((function(e,i){var n={urlCGI:"searchChildDevResourcesStatus",data:a,loading:!0};return h["a"].post(n).then((function(a){var i=a.oResult;i.matchResults&&i.matchResults.forEach((function(e){e.indexList&&e.indexList.forEach((function(a){var i={childDevIndex:a.childDevIndex,status:a.status,childDevID:e.childDevID,boundChannelList:a.boundChannelList};"added"===a.status&&(i.index=a.index),t.ipSpeakerDeviceResourceList.push(i)}))})),e()}),(function(e){i(e)}))}))},refreshIpSpeakerDevice:function(){this.getIPSpeakerList(),this.getIpSpeakerOnlineList()},getIpSpeakerOnlineList:function(){var e=this;return this.loadingOnlineDevice=!0,this.aIpSpeakerQuickAddList=[],new Promise((function(t){var a={urlCGI:"addEquipmentinfo",params:{},data:{pageSize:1e3,pageIndex:1,childProtocolType:"HIK",deviceClassList:[{deviceClass:"IPSpeaker"}]},loading:!0};return e.quickIpSpeakerAddActivedNum=0,h["a"].post(a).then((function(a){var i=a.oResult,n=i["HIK"],o={};n.length&&n.forEach((function(t){var a="";a="ipv4Address"===t["addressingFormatType"]?t["ipv4Address"]?t["ipv4Address"]:t["ipv6Address"]:t["hostName"];var i="activated"===t["activateStatus"]?v["a"].t("onLine"):v["a"].t("waitActive");e.quickIpSpeakerAddActivedNum+=1,o={deviceType:v["a"].t("MIC"),deviceIpAdd:a,proxyProtocol:"HIKVISION",managePortNo:t.portNo,macAddress:t.macAddress,serialNumber:t.serialNumber,deviceModel:t.model,firmwareVersion:t.firmwareVersion||t.version,username:t.username,password:t.password,name:t.name,state:i},e.aIpSpeakerQuickAddList.push(o)})),e.loadingOnlineDevice=!1,t()})).catch((function(){e.loadingOnlineDevice=!1,t()}))}))},openIpSpeakerDeviceInfo:function(e){this.bShowIpSpeakerDeviceInfo=!0,this.oIpSPeakerDeviceInfo=e},showIpSpeakerDevice:function(){this.bShowIpSpeakerEditDevice=!1,this.bShowIpSpeakerDeviceInfo=!1,this.bShowAddIpSpeakerDevice=!1,this.bShowIpSpeakerDeleteDevice=!1,this.bShowOnlineIpSpeakerDeviceAdd=!1},getIpSpeakerEquipmentCap:function(){var e=this;return new Promise((function(t,a){var i={urlCGI:"getChildDeviceCap",loading:!0};return h["a"].get(i).then((function(a){var i=a.oResult;e.dealIpSpeakerCap(i),t(i)}),(function(e){a(e)}))}))},dealIpSpeakerCap:function(e){var t=this;if(e.childmanageCap){var a=e.childmanageCap;if(a.childDescription&&(this.oIpSpeakerEditCap.deviceName.min=a.childDescription["@min"],this.oIpSpeakerEditCap.deviceName.max=a.childDescription["@max"],this.oIpSpeakerEditCap.deviceName.def=a.childDescription["@def"]),a.childProtocolType){this.oIpSpeakerEditCap.protocolType.options.length=0;for(var i=0;i<a.childProtocolType["@opt"].length;i++)this.aProtocolList.indexOf(a.childProtocolType["@opt"][i])>=0&&this.oIpSpeakerEditCap.protocolType.options.push({text:this.$t(a.childProtocolType["@opt"][i]+"_name"),value:a.childProtocolType["@opt"][i]});a.childProtocolType["@def"]&&(this.oIpSpeakerEditCap.protocolType.def=a.childProtocolType["@def"])}this.oIpSpeakerEditCap.protocolType.options.forEach((function(e){a[e.value]&&(t.oIpSpeakerEditCap.deviceList[e.value]={userName:{},password:{},portNo:{}},a[e.value].username&&(t.oIpSpeakerEditCap.deviceList[e.value].userName.min=a[e.value].username["@min"],t.oIpSpeakerEditCap.deviceList[e.value].userName.max=a[e.value].username["@max"],t.oIpSpeakerEditCap.deviceList[e.value].userName.def=a[e.value].username["@def"]),a[e.value].password&&(t.oIpSpeakerEditCap.deviceList[e.value].password.min=a[e.value].password["@min"],t.oIpSpeakerEditCap.deviceList[e.value].password.max=a[e.value].password["@max"]),a[e.value].portNo&&(t.oIpSpeakerEditCap.deviceList[e.value].portNo.min=a[e.value].portNo["@min"],t.oIpSpeakerEditCap.deviceList[e.value].portNo.max=a[e.value].portNo["@max"],t.oIpSpeakerEditCap.deviceList[e.value].portNo.def=80))}))}},operateIpSpeakerSuccess:function(){this.bShowAddIpSpeakerDevice=!1,this.bShowIpSpeakerEditDevice=!1,this.initParams()},editIpSpeakerDevice:function(){this.bShowIpSpeakerDeviceInfo=!1,this.bShowIpSpeakerEditDevice=!0},doDeleteIpSpeakerDevice:function(e,t){var a={delchildlist:[]};return e?a.delchildlist=[{childDevID:e.deviceID}]:t.forEach((function(e){a.delchildlist.push({childDevID:e.deviceID})})),new Promise((function(e,t){var i={urlCGI:"removeChildDevice",data:a,loading:!0};return h["a"].post(i).then((function(t){var a=t.oResult,i=t.xhr;1===a.statusCode?l["a"].stateAlert(v["a"].t("deleteSuccess_msg"),"success"):m["a"].saveState(i),e()}),(function(e){t(e),m["a"].saveState(e)}))}))},confirmIpSpeakerDelete:function(e){var t=this,a=this.$refs["myPopup"];a.show(),this.doDeleteIpSpeakerDevice(null,e).then((function(){t.bShowIpSpeakerEditDevice=!1,t.bShowIpSpeakerDeleteDevice=!1,t.refreshIpSpeakerDevice()})).finally((function(){a.hide()}))},quickAddOneIpSpeaker:function(e,t){var a={extensionInfo:{}};a["proxyProtocol"]="HIKVISION"===e.proxyProtocol?"ISAPI":e.proxyProtocol;var i=c["a"].checkAddressingType(e.deviceIpAdd).toLowerCase(),n=e.deviceIpAdd;a["addressingFormatType"]="ipv4Address","hostname"===i?(a["addressingFormatType"]="hostname",a["hostName"]=n):"ipv6address"===i?a["ipv6Address"]=n:a["ipv4Address"]=n,a["portNo"]=e.managePortNo||80,a["username"]=e.userName||"admin",a["password"]=e.password||"******",a["extensionInfo"]["macAddress"]=e.macAddress,a["extensionInfo"]["deviceClass"]="IPSpeaker",a["extensionInfo"]["defaultPasswordEnabled"]=!0,a["extensionInfo"]["boundResource"]=!0,a["childDevID"]=c["a"].creatUUID(31);var o={HIK:[a]},r={urlCGI:"addChildDevice",data:o,loading:!0};return new Promise((function(e,t){h["a"].post(r).then((function(t){var a=t.oResult,i=t.xhr;1===a.statusCode||m["a"].saveState(i),e()}),(function(e){t(),m["a"].saveState(e)}))}))},oneClickAddIpSpeaker:function(){this.bShowOnlineIpSpeakerDeviceAdd=!0},oneClickAddIpSpeakerOnline:function(e){var t=this,a=[];e.length&&(e.forEach((function(e){a.push(t.quickAddOneIpSpeaker(e))})),Promise.allSettled(a).finally((function(){t.getIpSpeakerOnlineList()})))}}},g=b,P=a("1f20"),S=["HIK","HIKVISION","OTAP","ONVIF","AXIS","GB28181"],C={name:"Device",components:{ChannelSelect:u["default"],OnlineListAdd:d["default"],DeviceAddOrEdit:p["default"]},mixins:[g],data:function(){return{szDeviceType:"video",loadingOnlineDevice:!1,loadingDevice:!1,bSelectOpen:!1,aProtocolOptions:[],bEnableMic:!1,bShowDeleteDevice:!1,bShowAddDevice:!1,bShowEditDevice:!1,bShowOnlineDeviceInfo:!1,bShowOnlineDeviceAdd:!1,bShowDeviceInfo:!1,bShowChannelSelect:!1,bOpenList:!1,bShowDefaultPasswordConfig:!1,bShowMicConfig:!1,validate:{},oParamsValid:{szPwd:{required:!0,pattern:/^(?![A-Z]*$)(?![a-z]*$)(?!\d*$)(?![^a-zA-Z0-9]*$)\S+$/,lengthRange:[8,16]},szPwdConfirm:{required:!0}},defaultPassword:"",oDefaultPassword:{szPwd:"",szPwdConfirm:""},aOnlineList:s["a"].aQuickAddList,aShowOnlineList:[],aShowDeviceList:[],iDeviceNum:0,oOnlineDeviceInfo:{deviceIpAdd:""},oDeviceInfo:{},oAddOrEditCap:{szIpAddressName:this.$t("ipAddr"),deviceName:{min:0,max:128,def:""},protocolType:{options:[],def:"HIK"},deviceList:{},aLinkType:[{value:"direct",name:this.$t("direct")},{value:"streamTrans",name:this.$t("streamTrans")}]},oCap:s["a"].oCap,iOnlineDeviceNum:0,aSelect:[{value:"video",text:this.$t("videoDevice_name")},{value:"ipSpeaker",text:this.$t("IpSpeakerDevice_name")}],bSupportDeviceGroupMgr:!1}},computed:{showIndex:function(){return!this.bShowDeleteDevice&&!this.bShowAddDevice&&!this.bShowEditDevice&&!this.bShowOnlineDeviceInfo&&!this.bShowDeviceInfo&&!this.bShowDefaultPasswordConfig&&!this.bShowMicConfig&&!this.bShowOnlineDeviceAdd&&!this.bShowIpSpeakerDeviceInfo&&!this.bShowIpSpeakerEditDevice&&!this.bShowIpSpeakerDeleteDevice&&!this.bShowOnlineIpSpeakerDeviceAdd&&!this.bShowAddIpSpeakerDevice}},created:function(){if(console.log(P["a"].m_oDeviceCapa.bSupportDeviceGroupMgr,"112233"),this.bSupportDeviceGroupMgr=P["a"].m_oDeviceCapa.bSupportDeviceGroupMgr,!this.bSupportDeviceGroupMgr){this.szDeviceType="ipSpeaker";var e=0;this.aSelect.forEach((function(t,a){"video"===t.value&&(e=a)})),this.aSelect.splice(e,1)}this.init()},methods:{init:function(){"video"===this.szDeviceType?this.initVideoDevice():"ipSpeaker"===this.szDeviceType&&this.initIpSpeaker()},initVideoDevice:function(){var e=this;this.loadingOnlineDevice=!0,this.loadingDevice=!0,s["a"].getCustomList(!0).finally((function(){e.refreshAll(),e.getMic(),s["a"].init(),s["a"].getEquipmentCap().then((function(t){e.dealCap(t)}))}))},initIpSpeaker:function(){var e=this;this.getCaps().then((function(){e.initParams()}))},channelEditSuccess:function(){this.bShowChannelSelect=!1,this.bShowDeviceInfo=!1,this.refreshDevice()},dealCap:function(e){var t=this;if(e.childmanageCap){var a=e.childmanageCap;if(a.childDescription&&(this.oAddOrEditCap.deviceName.min=a.childDescription["@min"],this.oAddOrEditCap.deviceName.max=a.childDescription["@max"],this.oAddOrEditCap.deviceName.def=a.childDescription["@def"]),a.childProtocolType){this.aProtocolOptions.length=0;for(var i=0;i<a.childProtocolType["@opt"].length;i++)S.indexOf(a.childProtocolType["@opt"][i])>=0&&this.aProtocolOptions.push({text:["HIK","AXIS"].includes(a.childProtocolType["@opt"][i])?this.$t(a.childProtocolType["@opt"][i]+"_name"):a.childProtocolType["@opt"][i],value:a.childProtocolType["@opt"][i]});this.oAddOrEditCap.protocolType.def=a.childProtocolType["@def"]||"HIK"}if(this.aProtocolOptions.forEach((function(e){a[e.value]&&(t.oAddOrEditCap.deviceList[e.value]={userName:{},password:{},portNo:{}},a[e.value].username&&(t.oAddOrEditCap.deviceList[e.value].userName.min=a[e.value].username["@min"],t.oAddOrEditCap.deviceList[e.value].userName.max=a[e.value].username["@max"],t.oAddOrEditCap.deviceList[e.value].userName.def=a[e.value].username["@def"]),a[e.value].password&&(t.oAddOrEditCap.deviceList[e.value].password.min=a[e.value].password["@min"],t.oAddOrEditCap.deviceList[e.value].password.max=a[e.value].password["@max"]),a[e.value].portNo&&(t.oAddOrEditCap.deviceList[e.value].portNo.min=a[e.value].portNo["@min"],t.oAddOrEditCap.deviceList[e.value].portNo.max=a[e.value].portNo["@max"],t.oAddOrEditCap.deviceList[e.value].portNo.def=a[e.value].portNo["@def"]))})),a.ThirdPartyProtocol&&a.ThirdPartyProtocol.thirdPartyProtocolType){this.oAddOrEditCap.deviceList["ThirdPartyProtocol"]={userName:{},password:{},portNo:{}},a["ThirdPartyProtocol"].username&&(this.oAddOrEditCap.deviceList["ThirdPartyProtocol"].userName.min=a["ThirdPartyProtocol"].username["@min"],this.oAddOrEditCap.deviceList["ThirdPartyProtocol"].userName.max=a["ThirdPartyProtocol"].username["@max"],this.oAddOrEditCap.deviceList["ThirdPartyProtocol"].userName.def=a["ThirdPartyProtocol"].username["@def"]),a["ThirdPartyProtocol"].password&&(this.oAddOrEditCap.deviceList["ThirdPartyProtocol"].password.min=a["ThirdPartyProtocol"].password["@min"],this.oAddOrEditCap.deviceList["ThirdPartyProtocol"].password.max=a["ThirdPartyProtocol"].password["@max"]),a["ThirdPartyProtocol"].portNo&&(this.oAddOrEditCap.deviceList["ThirdPartyProtocol"].portNo.min=a["ThirdPartyProtocol"].portNo["@min"],this.oAddOrEditCap.deviceList["ThirdPartyProtocol"].portNo.max=a["ThirdPartyProtocol"].portNo["@max"],this.oAddOrEditCap.deviceList["ThirdPartyProtocol"].portNo.def=a["ThirdPartyProtocol"].portNo["@def"]);for(var n=!1,o=a.ThirdPartyProtocol.thirdPartyProtocolType["@opt"]||[],l=0;l<o.length;l++)"CUSTOM"===o[l]?n=!0:S.indexOf(o[l])>=0&&this.aProtocolOptions.push({text:["HIK","AXIS"].includes(o[l])?this.$t(o[l]+"_name"):o[l],value:o[l],bThird:!0});n&&(this.aProtocolOptions=[].concat(Object(r["a"])(this.aProtocolOptions),Object(r["a"])(s["a"].aProtocolOptions)))}}},updateProtocol:function(e){this.aProtocolOptions=e},confirmDelete:function(e){var t=this,a=this.$refs["myPopup"];a.show(),s["a"].doDeleteDevice(null,e).then((function(){t.bShowDeleteDevice=!1,t.refreshDevice()})).finally((function(){a.hide()}))},updateOnlineDevice:function(e){this.aOnlineList=e},operateSuccess:function(){this.bShowAddDevice=!1,this.bShowEditDevice=!1,this.refreshAll()},oneClickAddOnline:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a,i,n,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a=[],this.errXhr="",this.successNums=0,i=function(e,t){e&&(o.errXhr=e),o.successNums=t},n=0;n<t.length;n++)a.push(s["a"].quickAddOneVideo(t[n],!0,this.refreshAll,i,this.successNums));return e.next=7,Promise.allSettled(a).finally((function(){o.errXhr?(m["a"].saveState(o.errXhr),o.successNums>0&&o.refreshAll(),o.bShowOnlineDeviceAdd=!1):(o.$createToast({txt:o.$t("addSuccess"),type:"success",zIndex:1e4}).show(),o.refreshAll(),o.bShowOnlineDeviceAdd=!1)}));case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),refreshAll:function(){this.refreshOnlineDevice(),this.refreshDevice()},refreshOnlineDevice:function(){var e=this;this.loadingOnlineDevice=!0,s["a"].aQuickAddList.length=0,this.aShowOnlineList.length=0,s["a"].getOnlineList().finally((function(){e.aOnlineList=s["a"].aQuickAddList,e.iOnlineDeviceNum=e.aOnlineList.length,e.aShowOnlineList=e.aOnlineList.slice(0,2),setTimeout((function(){e.loadingOnlineDevice=!1}),0)}))},refreshDevice:function(){var e=this;this.loadingDevice=!0,this.aShowDeviceList.length=0,this.iDeviceNum=0,s["a"].getDeviceList(1,this.aProtocolOptions).finally((function(){e.aShowDeviceList=s["a"].showDeviceList,e.iDeviceNum=s["a"].devicePageC.totalNo,setTimeout((function(){e.loadingDevice=!1}),0)}))},showChannelSelect:function(){this.bShowChannelSelect=!0},showDevice:function(){this.bShowDeleteDevice=!1,this.bShowOnlineDeviceInfo=!1,this.bShowDefaultPasswordConfig=!1,this.bShowDeviceInfo=!1,this.bShowOnlineDeviceAdd=!1,this.bShowMicConfig=!1,this.bShowAddDevice=!1,this.bShowEditDevice=!1,this.oDefaultPassword={szPwd:"",szPwdConfirm:""}},openOnlineDeviceInfo:function(e){this.bShowOnlineDeviceInfo=!0,this.oOnlineDeviceInfo=e},openDeviceInfo:function(e){this.bShowDeviceInfo=!0,this.oDeviceInfo=e},showOnlineList:function(){this.bOpenList=!this.bOpenList;var e=s["a"].aQuickAddList;this.aShowOnlineList=this.bOpenList?s["a"].aQuickAddList:e.slice(0,2)},handleSelect:function(e){this.bSelectOpen=e},editDevice:function(){this.bShowEditDevice=!0,this.bShowDeviceInfo=!1},saveDefaultPassword:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.validate.validateAll();case 2:if(l["a"].validateTips(this.validate.getErrorReport()),t=this.validate.getErrorReport(),!(t.length>0)){e.next=6;break}return e.abrupt("return");case 6:if(this.oDefaultPassword.szPwd===this.oDefaultPassword.szPwdConfirm||!this.validate.valid){e.next=9;break}return this.$createDialog({content:this.$t("passNotMatch")}).show(),e.abrupt("return");case 9:if(!(this.oDefaultPassword.szPwd!==this.defaultPassword&&c["a"].getPasswordStrength("",this.oDefaultPassword.szPwd)<1&&this.validate.valid)){e.next=12;break}return this.$createDialog({content:this.$t("riskPassword")}).show(),e.abrupt("return");case 12:s["a"].saveDefaultPassword(this.oDefaultPassword.szPwd).then((function(){a.bShowDefaultPasswordConfig=!1}));case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getMic:function(){var e=this;s["a"].getMicConfig().then((function(t){e.bEnableMic=t})).finally((function(){e.oCap=s["a"].oCap}))},saveMic:function(){var e=this;s["a"].micConfigConfirm({audioEnabled:this.bEnableMic}).then((function(){e.bShowMicConfig=!1}))},oneClickAdd:function(){this.bShowOnlineDeviceAdd=!0},quickAdd:function(e){var t=this,a=this.$refs["myPopup"];if("video"===this.szDeviceType){var i=function(){t.refreshAll(),t.bShowOnlineDeviceInfo=!1};a.show(),s["a"].quickAddOneVideo(e,!1,i).finally((function(){a.hide()}))}else"ipSpeaker"===this.szDeviceType&&(a.show(),this.quickAddOneIpSpeaker(e).finally((function(){t.refreshIpSpeakerDevice(),t.bShowOnlineDeviceInfo=!1,a.hide()})))},moreAct:function(){var e=this,t=[{content:this.$t("bulkDelete_name")}];"video"===this.szDeviceType?(this.oCap&&this.oCap.bShowSecurityActive&&t.push({content:this.$t("IpcDefaultPasswordConfig_name")}),this.oCap&&this.oCap.bShowMicConfig&&t.push({content:this.$t("micConfig_button")}),this.actionSheet=this.$createActionSheet({data:t,onSelect:function(t,a){0===a?e.bShowDeleteDevice=!0:t.content===e.$t("IpcDefaultPasswordConfig_name")?e.bShowDefaultPasswordConfig=!0:t.content===e.$t("micConfig_button")&&(e.bShowMicConfig=!0,e.getMic())}})):"ipSpeaker"===this.szDeviceType&&(this.actionSheet=this.$createActionSheet({data:t,onSelect:function(t,a){0===a&&(e.bShowIpSpeakerDeleteDevice=!0)}})),this.actionSheet.show()},addDevice:function(){"video"===this.szDeviceType?this.bShowAddDevice=!0:"ipSpeaker"===this.szDeviceType&&(this.bShowAddIpSpeakerDevice=!0)},deleteDevice:function(){var e=this;l["a"].confirm(this.$t("deleteDeviceTips2_msg"),(function(){var t=e.$refs["myPopup"];t.show(),s["a"].doDeleteDevice(e.oDeviceInfo).then((function(){e.bShowEditDevice=!1,e.refreshDevice()})).finally((function(){t.hide()}))}),(function(){}))},deleteIpSpeakerDevice:function(){var e=this;l["a"].confirm(this.$t("deleteDeviceTips2_msg"),(function(){var t=e.$refs["myPopup"];t.show(),e.doDeleteIpSpeakerDevice(e.oIpSPeakerDeviceInfo).then((function(){e.bShowIpSpeakerEditDevice=!1,e.refreshIpSpeakerDevice()})).finally((function(){t.hide()}))}),(function(){}))},changeDeviceType:function(){this.init()}}},y=C,I=(a("0f8d"),a("6f35"),a("2877")),D=Object(I["a"])(y,i,n,!1,null,"4696a280",null);t["default"]=D.exports},"081a":function(e,t,a){},"0831":function(e,t,a){"use strict";a("94d2")},"0842":function(e,t,a){},"08d4":function(e,t,a){"use strict";a("28a5");var i=a("53ca"),n=a("d4ec"),o=a("bee2"),r=a("7de8"),s=function(){function e(){Object(n["a"])(this,e)}return Object(o["a"])(e,[{key:"init",value:function(e){var t=null,a=Object(i["a"])(e);if(t="string"===a?r["a"].parseXmlFromStr(e):"object"===a?e:r["a"].createXml(),this.m_oXmlDoc=t,this.m_oRootNode=null,this.m_oXmlDoc.childNodes.length>0)this.m_oRootNode=this.m_oXmlDoc.documentElement;else{var n=this.m_oXmlDoc.createProcessingInstruction("xml","version='1.0' encoding='utf-8'");this.m_oXmlDoc.appendChild(n)}}},{key:"createNode",value:function(e,t){var a=this.m_oXmlDoc.createElement(e);if(t){var i=this.m_oXmlDoc.createTextNode(t);a.appendChild(i)}return a}},{key:"insert",value:function(e,t){if(e){if("string"===typeof e){var a=e.indexOf(":");e=-1===a?this.createNode(e):this.createNode(e.substring(0,a),e.substring(a+1))}return"string"===typeof t&&(t=this.m_oRootNode.hasChildNodes(e)?this.m_oRootNode.getElementsByTagName(e)[0]:void 0),null===this.m_oRootNode?"undefined"===typeof t?(this.m_oXmlDoc.appendChild(e),this.m_oRootNode=e):(this.m_oXmlDoc.appendChild(t),t.appendChild(e)):"undefined"===typeof t?this.m_oRootNode.appendChild(e):t.appendChild(e),e}}},{key:"insertBefore",value:function(e,t){if(e){if("string"===typeof e){var a=e.indexOf(":");e=-1===a?this.createNode(e):this.createNode(e.substring(0,a),e.substring(a+1))}if("string"===typeof t){var i=t.split("->");t=this.m_oRootNode;for(var n=0;n<i.length;n++){if(0===t.getElementsByTagName(i[n]).length){t=void 0;break}t=t.getElementsByTagName(i[n])[0]}}if("undefined"!==typeof t)return this.m_oRootNode.insertBefore(e,t),e}}},{key:"insertAfter",value:function(e,t){if(e){if("string"===typeof e){var a=e.indexOf(":");e=-1===a?this.createNode(e):this.createNode(e.substring(0,a),e.substring(a+1))}if("string"===typeof t){var i=t.split("->");t=this.m_oRootNode;for(var n=0;n<i.length;n++){if(0===t.getElementsByTagName(i[n]).length){t=void 0;break}t=t.getElementsByTagName(i[n])[0]}}if("undefined"!==typeof t)return null===t.nextSibling?t.parentNode.appendChild(e):this.m_oRootNode.insertBefore(e,t.nextSibling),e}}},{key:"getNodeValue",value:function(e){if(!e)return"";if("string"===typeof e){var t=e.split("->");e=this.m_oRootNode;for(var a=0;a<t.length;a++){if(0===e.getElementsByTagName(t[a]).length){e=void 0;break}e=e.getElementsByTagName(t[a])[0]}}return"undefined"===typeof e?"":e.childNodes.length>0?e.childNodes[0].nodeValue:""}},{key:"setNodeValue",value:function(e,t){if(e){if("string"===typeof e){var a=e.split("->");e=this.m_oRootNode;for(var i=0;i<a.length;i++){if(0===e.getElementsByTagName(a[i]).length){e=void 0;break}e=e.getElementsByTagName(a[i])[0]}}if("undefined"!==typeof e)return e.childNodes.length>0&&(e.childNodes[0].nodeValue=t),e}}},{key:"removeNode",value:function(e){if(e){if("string"===typeof e){var t=e.split("->");e=this.m_oRootNode;for(var a=0;a<t.length;a++){if(0===e.getElementsByTagName(t[a]).length){e=void 0;break}e=e.getElementsByTagName(t[a])[0]}}"undefined"!==typeof e&&this.m_oRootNode.removeChild(e)}}}]),e}();t["a"]=new s},"09e3":function(e,t,a){},"0a79":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",[t("base-page",{attrs:{title:e.$t("audioParam_name"),"left-type":"back","save-text":e.$t("save"),"show-save-button":!0},on:{"save-handle":e.save}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("deviceType")}},[t("base-select",{attrs:{title:e.$t("deviceType"),options:e.aDeviceType},model:{value:e.oParams.szDeviceType,callback:function(t){e.$set(e.oParams,"szDeviceType",t)},expression:"oParams.szDeviceType"}})],1)],1),t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("plsSelectChannels")}},[t("base-select",{attrs:{title:e.$t("plsSelectChannels"),options:e.oCaps.aIpSpeakerChannel},on:{change:e.changeChannel},model:{value:e.oParams.szCurrentIpSpeakerChannel,callback:function(t){e.$set(e.oParams,"szCurrentIpSpeakerChannel",t)},expression:"oParams.szCurrentIpSpeakerChannel"}})],1),t("hm-cell",{attrs:{title:e.$t("cameraName")}},[t("hm-input",{attrs:{maxlength:32},model:{value:e.oParams.szChannelName,callback:function(t){e.$set(e.oParams,"szChannelName",t)},expression:"oParams.szChannelName"}}),t("hm-validator",{attrs:{model:e.oParams.szChannelName,rules:e.oParamsValid.szChannelName,param:e.$t("cameraName")}})],1)],1),e.oCaps.isSupportAudioInConfig?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("inputSetting")}},[t("base-slider-content",{attrs:{title:e.$t("leftMic")+":"+e.oAudioParams.leftMic.value},scopedSlots:e._u([{key:"content",fn:function(){return[t("mt-range",{attrs:{min:e.oAudioParams.leftMic.min,max:e.oAudioParams.leftMic.max,step:1,"bar-height":5},model:{value:e.oAudioParams.leftMic.value,callback:function(t){e.$set(e.oAudioParams.leftMic,"value",t)},expression:"oAudioParams.leftMic.value"}})]},proxy:!0}],null,!1,133857519)}),t("base-slider-content",{attrs:{title:e.$t("bluetooth")+":"+e.oAudioParams.bluetooth.value},scopedSlots:e._u([{key:"content",fn:function(){return[t("mt-range",{attrs:{min:e.oAudioParams.bluetooth.min,max:e.oAudioParams.bluetooth.max,step:1,"bar-height":5},model:{value:e.oAudioParams.bluetooth.value,callback:function(t){e.$set(e.oAudioParams.bluetooth,"value",t)},expression:"oAudioParams.bluetooth.value"}})]},proxy:!0}],null,!1,725435717)}),t("base-slider-content",{attrs:{title:e.$t("lineIn")+":"+e.oAudioParams.lineIn.value},scopedSlots:e._u([{key:"content",fn:function(){return[t("mt-range",{attrs:{min:e.oAudioParams.lineIn.min,max:e.oAudioParams.lineIn.max,step:1,"bar-height":5},model:{value:e.oAudioParams.lineIn.value,callback:function(t){e.$set(e.oAudioParams.lineIn,"value",t)},expression:"oAudioParams.lineIn.value"}})]},proxy:!0}],null,!1,4259964698)})],1):e._e(),e.oCaps.isSupportAudioOutConfig?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("outputSetting")}},e._l(e.oAudioParams.outPutChannels,(function(a,i){return t("base-slider-content",{key:i,attrs:{title:e.$t("channel")+(i+1)+e.$t("outputSound")+":"+a.value},scopedSlots:e._u([{key:"content",fn:function(){return[t("mt-range",{attrs:{min:1,max:100,step:1,"bar-height":5},model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"item.value"}})]},proxy:!0}],null,!0)})})),1):e._e(),e.oCaps.isSupportAudioOutConfig&&e.oCaps.aToneQualityModeOption.length?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("otherSetting")}},[t("hm-cell",{attrs:{title:e.$t("audioPlaybackMode")}},[t("base-select",{attrs:{title:e.$t("audioPlaybackMode"),options:e.oCaps.aToneQualityModeOption},model:{value:e.oAudioParams.audioPlaybackMode,callback:function(t){e.$set(e.oAudioParams,"audioPlaybackMode",t)},expression:"oAudioParams.audioPlaybackMode"}})],1)],1):e._e()],1)],1)])],1)},n=[],o=a("47b5"),r=(a("ac4d"),a("8a81"),a("1c4c"),a("6b54"),a("5df3"),a("28a5"),a("96cf"),a("1da1")),s=(a("ac6a"),a("f193")),l=a("7de8"),c=a("c050"),u=a("d09c");function d(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=p(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return r=e.done,e},e:function(e){s=!0,o=e},f:function(){try{r||null==a.return||a.return()}finally{if(s)throw o}}}}function p(e,t){if(e){if("string"===typeof e)return m(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}var h={data:function(){return{oCaps:{aIpSpeakerChannel:[],isSupportAudioInConfig:!1,isSupportAudioOutConfig:!1,aToneQualityModeOption:[]},oParams:{szDeviceType:"ipSpeaker",szCurrentIpSpeakerChannel:"",szChannelName:""},oAudioParams:{bInit:!1,compressionType:"",samplingRate:"",audioStreamBit:"",audioInput:"",inputVolume:0,outputVolume:0,environmentNoiseFilter:"",oVoiceChangerData:null,bEnableVoiceChanger:!1,iVoiceChangerVolume:0,bDisplayLED:!1,bAECEnable:!1,noiseReduceLevel:0,leftMic:{value:0,min:0,max:0,def:0,audioID:0},bluetooth:{value:0,min:0,max:0,def:0,audioID:0},lineIn:{value:0,min:0,max:0,def:0,audioID:0},outPutChannels:[],audioPlaybackMode:"smooth"},audioInputNums:0,audioOutputNums:0,oParamsValid:{szChannelName:{required:!0,lengthRange:[0,32],pattern:/^[A-Za-z0-9\u4e00-\u9fa5\s]+$/}}}},methods:{getIpSpeakerChannel:function(){var e=this,t={searchID:l["a"].creatUUID(31),rc:["VoiceTalk"],searchResultPosition:1,maxResults:1e3};return new Promise((function(a,i){var n={urlCGI:"searchGroupResource",data:t,loading:!0};return s["a"].post(n).then((function(t){var i=t.oResult;e.oCaps.aIpSpeakerChannel=[],i.matchResults.length&&(i.matchResults.forEach((function(t){t.connected&&e.oCaps.aIpSpeakerChannel.push({text:t.index%1e4,value:t.childDevID,szChannelName:t.childDevIndexDescription})})),e.oCaps.aIpSpeakerChannel.length&&(e.oParams.szCurrentIpSpeakerChannel=e.oCaps.aIpSpeakerChannel[0].value,e.changeChannel(e.oCaps.aIpSpeakerChannel[0].value))),a()}),(function(e){i(e)}))}))},changeChannel:function(){var e=this;this.oCaps.aIpSpeakerChannel.forEach((function(t){t.value===e.oParams.szCurrentIpSpeakerChannel&&(e.oParams.szChannelName=t.szChannelName)})),this.init()},init:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getAudioCap();case 2:if(t=[],this.oCaps.isSupportAudioInConfig)for(a=1;a<=this.audioInputNums;a++)t.push(this.getAudioInCap(a));if(this.oCaps.isSupportAudioOutConfig)for(this.oAudioParams.outPutChannels=[],i=1;i<=this.audioOutputNums;i++)t.push(this.getAudioOutChannelsCap(i));return e.next=7,Promise.allSettled(t).finally();case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAudioCap:function(){var e=this;return this.oCaps.isSupportAudioInConfig=!1,this.oCaps.isSupportAudioOutConfig=!1,new Promise((function(t,a){var i={urlCGI:"getAudioCap",params:{childDevID:e.oParams.szCurrentIpSpeakerChannel},loading:!0};return s["a"].get(i).then((function(a){var i=a.oResult;e.oCaps.isSupportAudioInConfig=l["a"].nodeValue(i,"isSupportAudioInConfig","b"),e.oCaps.isSupportAudioOutConfig=l["a"].nodeValue(i,"isSupportAudioOutConfig","b"),e.oCaps.isSupportAudioInConfig&&(e.audioInputNums=6),e.oCaps.isSupportAudioOutConfig&&(e.audioOutputNums=l["a"].nodeValue(i,"audioOutputNums","i")),t()}),(function(e){a(e)}))}))},getAudioInCap:function(e){var t=this;return new Promise((function(a,i){var n={urlCGI:"getAudioInCap",params:{audioID:e,childDevID:t.oParams.szCurrentIpSpeakerChannel},loading:!0};return s["a"].get(n).then((function(i){var n=i.oResult,o=l["a"].nodeAttr(n,"audioInMode","opt"),r=l["a"].nodeAttr(n,"volume","min","i"),s=l["a"].nodeAttr(n,"volume","max","i"),c=l["a"].nodeAttr(n,"volume","def","i");console.log(t.oAudioParams[o],o),t.oAudioParams[o]&&0===t.oAudioParams[o].audioID&&(t.oAudioParams[o].def=c,t.oAudioParams[o].min=r,t.oAudioParams[o].max=s,t.getAudioIn(e)),a()}),(function(e){i(e)}))}))},getAudioIn:function(e){var t=this;return new Promise((function(a,i){var n={urlCGI:"getSetAudioIn",params:{audioID:e,childDevID:t.oParams.szCurrentIpSpeakerChannel},loading:!0};return s["a"].get(n).then((function(i){var n=i.oResult,o=l["a"].nodeValue(n,"audioInMode"),r=l["a"].nodeValue(n,"volume","i");t.oAudioParams[o]&&0===t.oAudioParams[o].audioID&&(t.oAudioParams[o].value=r,t.oAudioParams[o].audioID=e),a()}),(function(e){i(e)}))}))},getAudioOutChannelsCap:function(e){var t=this;return new Promise((function(a,i){var n={urlCGI:"getAudioOutChannelsCap",params:{audioID:e,childDevID:t.oParams.szCurrentIpSpeakerChannel},loading:!0};return s["a"].get(n).then((function(i){var n=i.oResult;if(e===t.audioOutputNums){var o=l["a"].nodeAttr(n,"audioPlaybackMode","opt").split(",");t.oCaps.aToneQualityModeOption=[],o.forEach((function(e){t.oCaps.aToneQualityModeOption.push({text:t.$t(e),value:e})}))}var r=l["a"].nodeAttr(n,"volume","min","i"),s=l["a"].nodeAttr(n,"volume","max","i"),c=l["a"].nodeAttr(n,"volume","def","i");t.oAudioParams.outPutChannels.push({min:r,max:s,value:c,audioID:e}),t.getAudioOutChannels(e),a()}),(function(e){i(e)}))}))},getAudioOutChannels:function(e){var t=this;return new Promise((function(a,i){var n={urlCGI:"getSetAudioOutChannels",params:{audioID:e,childDevID:t.oParams.szCurrentIpSpeakerChannel},loading:!0};return s["a"].get(n).then((function(i){var n=i.oResult;t.oAudioParams.audioPlaybackMode=l["a"].nodeValue(n,"audioPlaybackMode"),t.oAudioParams.outPutChannels[e-1].value=l["a"].nodeValue(n,"volume","i"),t.oAudioParams.outPutChannels[e-1].audioID=e,a()}),(function(e){i(e)}))}))},setAudioIn:function(e){var t=this,a='<?xml version="1.0" encoding="UTF-8"?>\n        <AudioIn xmlns="http://www.isapi.org/ver20/XMLSchema" version="2.0">\n          <id>'.concat(e.audioID,"</id>\n          <AudioInVolumelist>\n              <AudioInVlome>\n                  <type>audioInput</type>\n                  <volume>").concat(e.value,"</volume>\n              </AudioInVlome>\n          </AudioInVolumelist>\n      </AudioIn>");return new Promise((function(i,n){var o={urlCGI:"getSetAudioIn",params:{audioID:e.audioID,childDevID:t.oParams.szCurrentIpSpeakerChannel},data:a,loading:!0};return s["a"].put(o).then((function(){i()}),(function(e){n(e)}))}))},setAudioOutChannels:function(e){var t=this,a='<?xml version="1.0" encoding="UTF-8"?>\n        <AudioOut xmlns="http://www.isapi.org/ver20/XMLSchema" version="2.0">\n          <id>'.concat(e.audioID,"</id>\n          <AudioOutVolumelist>\n              <AudioOutVlome>\n                  <type>audioOutput</type>\n                  <volume>").concat(e.value,"</volume>\n              </AudioOutVlome>\n          </AudioOutVolumelist>\n          <audioPlaybackMode>").concat(this.oAudioParams.audioPlaybackMode,"</audioPlaybackMode>\n      </AudioOut>");return new Promise((function(i,n){var o={urlCGI:"getSetAudioOutChannels",params:{audioID:e.audioID,childDevID:t.oParams.szCurrentIpSpeakerChannel},data:a,loading:!0};return s["a"].put(o).then((function(){i()}),(function(e){n(e)}))}))},setDeviceName:function(){var e=this,t='<?xml version="1.0" encoding="UTF-8" ?>\n        <DeviceInfo version="2.0" xmlns="http://www.hikvision.com/ver20/XMLSchema">\n            <deviceName>'.concat(this.oParams.szChannelName,"</deviceName>\n            <deviceID>").concat(this.oParams.szCurrentIpSpeakerChannel,"</deviceID>\n      </DeviceInfo>");return new Promise((function(a,i){var n={urlCGI:"getSetDeviceName",params:{childDevID:e.oParams.szCurrentIpSpeakerChannel},data:t};return s["a"].put(n).then((function(){a()}),(function(e){i(e)}))}))},save:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a,i,n,o,r,s,l,p,m=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.validate.validateAll();case 2:if(c["a"].validateTips(this.validate.getErrorReport()),t=this.validate.getErrorReport(),!(t.length>0)){e.next=6;break}return e.abrupt("return");case 6:for(console.log(this.validate.getErrorReport(),"123"),a=[],i=["leftMic","bluetooth","lineIn"],n=0,o=i;n<o.length;n++)r=o[n],0!==this.oAudioParams[r].audioID&&a.push(this.setAudioIn(this.oAudioParams[r]));s=d(this.oAudioParams.outPutChannels);try{for(s.s();!(l=s.n()).done;)p=l.value,a.push(this.setAudioOutChannels(p))}catch(h){s.e(h)}finally{s.f()}a.push(this.setDeviceName()),Promise.all(a).then((function(){c["a"].stateAlert(m.$t("saveSucceeded"),"success")}),(function(e){u["a"].saveState(e)}));case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},f=h,v={name:"AudioConfig",components:{BaseSelect:o["a"]},mixins:[f],data:function(){return{validate:{},aDeviceType:[{value:"ipSpeaker",text:this.$t("IpSpeakerDevice_name")}]}},created:function(){this.getIpSpeakerChannel()},methods:{}},b=v,g=a("2877"),P=Object(g["a"])(b,i,n,!1,null,"27b2bde6",null);t["default"]=P.exports},"0abd":function(e,t,a){"use strict";a("973e")},"0ad6":function(e,t,a){"use strict";(function(e){a("28a5"),a("7514"),a("96cf");var i=a("1da1"),n=(a("ac6a"),a("5df3"),a("d4ec")),o=a("bee2"),r=a("d09c"),s=a("7de8"),l=a("f193"),c=a("8d94"),u=function(){function t(){Object(n["a"])(this,t),this._aStreamName=[c["a"].t("sixthStream"),c["a"].t("seventhStream"),c["a"].t("eighthStream"),c["a"].t("ninthStream"),c["a"].t("tenthStream")],this.m_oStreamCap={oStreamId:{iMin:0,iMax:0},oStreamNameLen:{iMin:0,iMax:32},oStreamDescrLen:{iMin:0,iMax:128},resolutions:[],frameRates:[],videoEncodings:[],minRate:0,maxRate:0,iMaxStreamNum:5,bChannelSupport:!0},this.m_oCurStreamParam={bLazyLoading:!1,iStreamID:1,szStreamName:"",szStreamDescr:"",resolution:"0",frameRate:"",maxBitrate:"1024",videoEncoding:"H.264"},this.m_oStreamDefalutParam={iStreamID:1,szStreamName:"",szStreamDescr:"",resolution:"1280*720P",frameRate:"",maxBitrate:"2048",videoEncoding:"H.264",bStreamNameValid:!0,szStreamNameValid:""},this.m_oRemainStramId={},this.m_oStreamsParams={},this.m_aStreamsParams=[],this.m_oDisabled={bAllEditable:!1,bMaxBitrate:!1,bResolution:!1},this.m_oParamsValid={oBitrateValid:{oEmpty:{value:!1},oMinValue:{value:this.m_oStreamCap.minRate},oMaxValue:{value:this.m_oStreamCap.maxRate},range:{value:{min:this.m_oStreamCap.minRate,max:this.m_oStreamCap.maxRate}}},oStreamDescrValid:{oMaxLength:{value:128},oSpecChar:{value:!1}}},this.iCurIndex=0,this.m_iCurStreamId="1",this.iChannelId=0}return Object(o["a"])(t,[{key:"get",value:function(e){var t=this,a=this;return this.iChannelId=e||1,Promise.all([this.getCustomStreamCap(e),this.getCustomStreamInfo(e)]).then((function(){return Promise.all([t.getStreamParamsCap(e),t.getStreamParams(e)]).then((function(){console.log("success")}),(function(e){a.m_oStreamCap.bChannelSupport=!1,r["a"].getState(e.xhr)}))}),(function(e){a.m_oStreamCap.bChannelSupport=!1,r["a"].getState(e.xhr)}))}},{key:"getCustomStreamCap",value:function(e){var t=this;return new Promise(function(){var a=Object(i["a"])(regeneratorRuntime.mark((function a(i,n){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o={urlCGI:"customStreamCap",loading:!0,params:{channel:e,videoStream:"01"}},a.next=3,l["a"].get(o).then((function(e){var a=e.oResult,n=t.m_oStreamCap;n.iMaxStreamNum=s["a"].nodeAttr(a,"CustomStreamList","size","i"),n.oStreamId.iMin=s["a"].nodeAttr(a,"streamID","min","i"),n.oStreamId.iMax=s["a"].nodeAttr(a,"streamID","max","i"),t.iCurStreamId=n.oStreamId.iMin,n.oStreamNameLen.iMin=s["a"].nodeAttr(a,"streamName","min","i"),n.oStreamNameLen.iMax=s["a"].nodeAttr(a,"streamName","max","i"),n.oStreamDescrLen.iMin=s["a"].nodeAttr(a,"streamDescr","min","i"),n.oStreamDescrLen.iMax=s["a"].nodeAttr(a,"streamDescr","max","i");var o=t.m_oParamsValid.oStreamDescrValid;o.oMaxLength.value=n.oStreamDescrLen.iMax;for(var r=n.oStreamId.iMin;r<=n.oStreamId.iMax;r++)t.m_oRemainStramId[r]=!0;i()}),(function(e){n(e)}));case 3:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}())}},{key:"getCustomStreamInfo",value:function(t){var a=this;return a.m_oStreamsParams={},new Promise(function(){var n=Object(i["a"])(regeneratorRuntime.mark((function i(n,o){var r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return r={urlCGI:"customStreamList",loading:!0,params:{channel:t}},i.next=3,l["a"].get(r).then((function(t){var i=t.oResult;e(i).find("CustomStreamInfo").length?(a.m_oDisabled.bAllEditable=!1,e(i).find("CustomStreamInfo").each((function(){var e=s["a"].nodeValue(this,"streamID");a.m_oStreamsParams[e]={},a.m_oStreamsParams[e].iStreamID=e,""===s["a"].nodeValue(this,"streamName")?a.m_oStreamsParams[e].szStreamName=a._aStreamName[e-5-1]:a.m_oStreamsParams[e].szStreamName=s["a"].nodeValue(this,"streamName"),a.m_oStreamsParams[e].szStreamDescr=s["a"].nodeValue(this,"streamDescr"),a.m_oStreamsParams[e].bStreamNameValid=!0,a.m_oStreamsParams[e].szRuleNameValid=""}))):a.m_oDisabled.bAllEditable=!0,n()}),(function(e){o(e)}));case 3:case"end":return i.stop()}}),i)})));return function(e,t){return n.apply(this,arguments)}}())}},{key:"getStreamParamsCap",value:function(t){var a=this,i=this;return new Promise((function(n,o){var r={urlCGI:"videoCapa",loading:!0,params:{channel:t,videoStream:a.iCurStreamId<10?"0"+a.iCurStreamId:a.iCurStreamId}};l["a"].get(r).then((function(t){var a=t.oResult,o=e(a),r="";r=o.find("videoScanType").length>0?o.find("videoScanType").eq(0).attr("opt").split(","):"";var s=i.m_oStreamCap.resolutions;s.length=0;for(var l=o.find("videoResolutionWidth").eq(0).attr("opt").split(","),u=o.find("videoResolutionHeight").eq(0).attr("opt").split(","),d=0;d<l.length;d++)if("1920"===l[d]&&"1080"===u[d]||"1280"===l[d]&&"720"===u[d])if(""!==r)for(var p=0;p<r.length;p++)"progressive"===r[p]?s.push(l[d]+"*"+u[d]+"P"):"interlaced"===r[p]&&s.push(l[d]+"*"+u[d]+"I");else s.push(l[d]+"*"+u[d]);else"0"===l[d]&&"0"===u[d]?s.push(c["a"].t("automatic")):s.push(l[d]+"*"+u[d]);i.m_oDisabled.bResolution=s.length<=1,i.m_oStreamCap.minRate=parseInt(o.find("constantBitRate").eq(0).attr("min"),10),i.m_oStreamCap.maxRate=parseInt(o.find("constantBitRate").eq(0).attr("max"),10);var m=i.m_oParamsValid.oBitrateValid;m.range.value.min=i.m_oStreamCap.minRate,m.range.value.max=i.m_oStreamCap.maxRate,i.m_oStreamCap.minRate===i.m_oStreamCap.maxRate&&(i.m_oDisabled.bMaxBitrate=!0);var h=i.m_oStreamCap.frameRates;h.length=0;for(var f=o.find("maxFrameRate").eq(0).attr("opt").split(","),v=0,b=0;b<f.length;b++)v=parseInt(f[b],10),v>=100?v/=100:v=v>0?"1/"+Math.floor(100/v):c["a"].t("fullFrameRate"),h.push({text:v,value:f[b]});i.m_oStreamCap.videoEncodings.length=0;var g=o.find("videoCodecType").eq(0).attr("opt").split(",");e.each(g,(function(e,t){i.m_oStreamCap.videoEncodings.push(t)})),n()}),(function(e){o(e)}))}))}},{key:"getStreamParams",value:function(t){var a=this,n=this;return new Promise(function(){var o=Object(i["a"])(regeneratorRuntime.mark((function i(o,r){var u;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return u={urlCGI:"StreamChannels",loading:!0},i.next=3,l["a"].get(u).then((function(i){var r=i.oResult;for(var l in n.m_aStreamsParams.length=0,e(r).find("StreamingChannel").each((function(){var a=s["a"].nodeValue(this,"videoInputChannelID","i");if(a===t&&s["a"].nodeValue(this,"customStreamEnable","b")){var i=s["a"].nodeValue(this,"id","i")-100*a,o="",r=s["a"].nodeValue(this,"videoResolutionWidth"),l=s["a"].nodeValue(this,"videoResolutionHeight");o="1920"===r&&"1080"===l||"1280"===r&&"720"===l?e(this).find("videoScanType").length?"progressive"===e(this).find("videoScanType").eq(0).text()?r+"*"+l+"P":r+"*"+l+"I":r+"*"+l:"0"===r&&"0"===l?c["a"].t("automatic"):r+"*"+l,n.m_oStreamsParams[i]&&(n.m_oStreamsParams[i].resolution=o,n.m_oStreamsParams[i].frameRate=s["a"].nodeValue(this,"maxFrameRate"),n.m_oStreamsParams[i].maxBitrate=s["a"].nodeValue(this,"vbrUpperCap"),n.m_oStreamsParams[i].videoEncoding=s["a"].nodeValue(this,"videoCodecType"),n.m_oRemainStramId[i]=!1,n.m_aStreamsParams.push(n.m_oStreamsParams[i]))}})),n.m_oRemainStramId)if(!n.m_oRemainStramId[l]){a.iCurStreamId=l,a.iCurIndex=0;break}o()}),(function(e){r(e)}));case 3:case"end":return i.stop()}}),i)})));return function(e,t){return o.apply(this,arguments)}}())}},{key:"addStream",value:function(){var e=this,t=this;if(this.m_aStreamsParams.length<t.m_oStreamCap.iMaxStreamNum)return new Promise(function(){var a=Object(i["a"])(regeneratorRuntime.mark((function a(i,n){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o={urlCGI:"addCustomStream",loading:!0,params:{channel:e.iChannelId,videoStream:"01"}},a.next=3,l["a"].post(o).then((function(e){var a=e.oResult,n=s["a"].nodeValue(a,"streamID","i");t.getSingleCustomStreamInfo(n),i()}),(function(e){r["a"].saveState(e),n(e)}));case 3:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}())}},{key:"getSingleCustomStreamInfo",value:function(t){var a=this,n=this;return new Promise(function(){var o=Object(i["a"])(regeneratorRuntime.mark((function i(o){var u;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return u={urlCGI:"videoInfo",loading:!0,params:{channel:a.iChannelId,videoStream:t<10?"0"+t:t}},i.next=3,l["a"].get(u).then((function(a){var i=a.oResult;n.m_oStreamsParams[t]={},e.extend(n.m_oStreamsParams[t],n.m_oStreamDefalutParam),n.m_oStreamsParams[t].iStreamID=t,n.m_oStreamsParams[t].szStreamName=n._aStreamName[t-5-1];var r="",l=s["a"].nodeValue(i,"videoResolutionWidth"),u=s["a"].nodeValue(i,"videoResolutionHeight");r="1920"===l&&"1080"===u||"1280"===l&&"720"===u?e(i).find("videoScanType").length>0?"progressive"===e(i).find("videoScanType").eq(0).text()?l+"*"+u+"P":l+"*"+u+"I":l+"*"+u:"0"===l&&"0"===u?c["a"].t("automatic"):l+"*"+u,n.m_oStreamsParams[t].resolution=r,n.m_oStreamsParams[t].frameRate=s["a"].nodeValue(i,"maxFrameRate"),n.m_oStreamsParams[t].maxBitrate=s["a"].nodeValue(i,"vbrUpperCap"),n.m_oStreamsParams[t].videoEncoding=s["a"].nodeValue(i,"videoCodecType"),n.m_oRemainStramId[t]=!1,n.m_aStreamsParams.push(n.m_oStreamsParams[t]),n.iCurStreamId=t,n.iCurIndex=n.m_aStreamsParams.length-1,o()}),(function(e){r["a"].getState(e),o()}));case 3:case"end":return i.stop()}}),i)})));return function(e){return o.apply(this,arguments)}}())}},{key:"deleteStreamInfo",value:function(e){var t=this;return new Promise((function(a,i){var n={urlCGI:"deleteCustomStream",loading:!0,params:{channel:t.iChannelId,videoStream:e}};l["a"].delete(n).then((function(e){a(e)}),(function(e){i(e)}))}))}},{key:"deleteStreamParam",value:function(){var e=this;return new Promise(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i={urlCGI:"deleteVideoInfo",loading:!0,params:{channel:e.iChannelId,videoStream:e.iCurStreamId<10?"0"+e.iCurStreamId:e.iCurStreamId}},t.next=3,l["a"].put(i).then((function(e){a(e)}),(function(e){a(e)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"save",value:function(){var e=this;return this.m_oCurStreamParam.bLazyLoading=!0,Promise.all([this.saveStreamInfo(),this.saveStreamParam()]).then((function(t){e.m_oCurStreamParam.bLazyLoading=!1,r["a"].saveState(t[0].xhr)}),(function(t){e.m_oCurStreamParam.bLazyLoading=!1,r["a"].saveState(t)}))}},{key:"saveStreamInfo",value:function(){for(var e=this,t=this,a="<?xml version='1.0' encoding='UTF-8'?><CustomStream><CustomStreamList>",n=0;n<t.m_aStreamsParams.length;n++)a+="<CustomStreamInfo>",a+="<streamID>"+t.m_aStreamsParams[n].iStreamID+"</streamID>",a+="<streamName>"+s["a"].encodeString(t.m_aStreamsParams[n].szStreamName)+"</streamName>",a+="<streamDescr>"+s["a"].encodeString(t.m_aStreamsParams[n].szStreamDescr)+"</streamDescr>",a+="</CustomStreamInfo>";a+="</CustomStreamList></CustomStream>";var o=s["a"].parseXmlFromStr(a);return new Promise(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i={urlCGI:"customStreamList",loading:!0,params:{channel:e.iChannelId},data:o},t.next=3,l["a"].put(i).then((function(e){a(e)}),(function(e){a(e)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"saveStreamParam",value:function(){for(var e=this,t="<?xml version='1.0' encoding='UTF-8'?><StreamingChannelList>",a=0;a<e.m_aStreamsParams.length;a++){var n=e.m_aStreamsParams[a];if(t+="<StreamingChannel>",t+="<id>"+(100*this.iChannelId+parseInt(n.iStreamID,10))+"</id>",t+="<Video><maxFrameRate>"+n.frameRate+"</maxFrameRate>",n.resolution===c["a"].t("automatic"))t+="<videoResolutionWidth>0</videoResolutionWidth><videoResolutionHeight>0</videoResolutionHeight>";else{var o=n.resolution.split("*");t+="<videoResolutionWidth>"+o[0]+"</videoResolutionWidth>","P"===n.resolution.substring(n.resolution.length-1)?(t+="<videoScanType>progressive</videoScanType>",t+="<videoResolutionHeight>"+o[1].substring(0,o[1].length-1)+"</videoResolutionHeight>"):"I"===n.resolution.substring(n.resolution.length-1)?(t+="<videoScanType>interlaced</videoScanType>",t+="<videoResolutionHeight>"+o[1].substring(0,o[1].length-1)+"</videoResolutionHeight>"):t+="<videoResolutionHeight>"+o[1]+"</videoResolutionHeight>"}t+="<videoQualityControlType>vbr</videoQualityControlType>",t+="<vbrUpperCap>"+n.maxBitrate+"</vbrUpperCap>",t+="<videoCodecType>"+n.videoEncoding+"</videoCodecType>",t+="</Video><customStreamEnable>true</customStreamEnable></StreamingChannel>"}t+="</StreamingChannelList>";var r=s["a"].parseXmlFromStr(t);return new Promise(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={urlCGI:"StreamChannels",loading:!0,data:r},e.next=3,l["a"].put(a).then((function(e){t(e)}),(function(e){t(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),t}();t["a"]=new u}).call(this,a("1157"))},"0af2":function(e,t,a){"use strict";a("cda2")},"0be1":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("dst"),"right-type":"text","b-lazy-loading":e.bLazyLoading}},[t("div",{staticClass:"dst-page-wrapper",attrs:{slot:"content"},slot:"content"},[t("hm-scroll",[t("div",{staticClass:"hm-index-list-item"},[t("hm-cell-group",{staticClass:"custom-cell-group"},[t("hm-cell",{attrs:{title:e.$t("enable")}},[t("hm-switch",{model:{value:e.oSettingDSTInfo.bEnableDST,callback:function(t){e.$set(e.oSettingDSTInfo,"bEnableDST",t)},expression:"oSettingDSTInfo.bEnableDST"}})],1),t("hm-cell",{staticClass:"select-box",attrs:{title:e.$t("startTime")}},[t("hm-input",{attrs:{readonly:!0,disabled:!e.oSettingDSTInfo.bEnableDST},on:{focus:e.showStart},model:{value:e.oSettingDSTInfo.startTime,callback:function(t){e.$set(e.oSettingDSTInfo,"startTime",t)},expression:"oSettingDSTInfo.startTime"}})],1),t("hm-cell",{staticClass:"select-box",attrs:{title:e.$t("endTime")}},[t("hm-input",{attrs:{readonly:!0,disabled:!e.oSettingDSTInfo.bEnableDST},on:{focus:e.showEnd},model:{value:e.oSettingDSTInfo.endTime,callback:function(t){e.$set(e.oSettingDSTInfo,"endTime",t)},expression:"oSettingDSTInfo.endTime"}})],1),t("hm-cell",{staticClass:"select-box",attrs:{title:e.$t("dstBias")}},[t("base-select",{attrs:{title:e.$t("dstBias"),options:e.aBiasTime,disabled:!e.oSettingDSTInfo.bEnableDST},model:{value:e.oSettingDSTInfo.szBiasTime,callback:function(t){e.$set(e.oSettingDSTInfo,"szBiasTime",t)},expression:"oSettingDSTInfo.szBiasTime"}})],1)],1)],1),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{on:{click:e.save}},[e._v("\n          "+e._s(e.$t("save"))+"\n        ")])],1)]),t("base-view")],1)])},n=[],o=(a("96cf"),a("1da1")),r=a("1c1a"),s=a("97af"),l=(a("ac6a"),a("28a5"),a("6b54"),a("d4ec")),c=a("bee2"),u=a("c050"),d=a("7de8"),p=a("d09c"),m=a("8d94"),h=a("f193"),f=function(){function e(){Object(l["a"])(this,e),this._oSettingDSTInfo={startTime:"",endTime:"",szTimeZone:"",bEnableDST:!1,szStartMonth:"",szStartWeekIndex:"",szStartWeek:"",szStartTime:"",szEndMonth:"",szEndWeekIndex:"",szEndWeek:"",szEndTime:"",szBiasTime:"",startMonthIndex:"",endMonthIndex:"",startWeekIndexI:"",endWeekIndexI:"",startWeekIndex:"",endWeekIndex:"",startTimeIndex:"",endTimeIndex:""},this._aMonth=[],this._aWeekIndex=[],this._aWeek=[],this._aTime=[],this._aBiasTime=[]}return Object(c["a"])(e,[{key:"init",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.initTime(),e.next=3,this.getTime();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initTime",value:function(){var e=this,t=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"];e._aMonth=[];for(var a=0;a<12;a++)e._aMonth.push({text:m["a"].t(t[a]),value:"M"+(a+1)});e._oSettingDSTInfo.szStartMonth=e._aMonth[3].value,e._oSettingDSTInfo.szEndMonth=e._aMonth[9].value;var i=["first","second","third","fourth","last"];e._aWeekIndex=[];for(var n=0;n<5;n++)e._aWeekIndex.push({text:m["a"].t(i[n]),value:(n+1).toString()});e._oSettingDSTInfo.szStartWeekIndex=e._aWeekIndex[0].value,e._oSettingDSTInfo.szEndWeekIndex=e._aWeekIndex[4].value;var o=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];e._aWeek=[];for(var r=0;r<7;r++)e._aWeek.push({text:m["a"].t(o[r]),value:r.toString()});e._oSettingDSTInfo.szStartWeek=e._aWeek[0].value,e._oSettingDSTInfo.szEndWeek=e._aWeek[0].value,e._aTime=[];for(var s=0;s<24;s++)e._aTime.push({text:s<10?"0"+s:s.toString(),value:s<10?"0"+s:s.toString()});e._oSettingDSTInfo.szStartTime=e._aTime[2].value,e._oSettingDSTInfo.szEndTime=e._aTime[2].value,e._aBiasTime.length=0,e._aBiasTime.push({text:"30"+m["a"].t("minute"),value:"00:30:00"}),e._aBiasTime.push({text:"60"+m["a"].t("minute"),value:"01:00:00"}),e._aBiasTime.push({text:"90"+m["a"].t("minute"),value:"01:30:00"}),e._aBiasTime.push({text:"120"+m["a"].t("minute"),value:"02:00:00"}),e._oSettingDSTInfo.szBiasTime=e._aBiasTime[0].value}},{key:"getTime",value:function(){var e=this,t=this,a={urlCGI:"timeInfo",params:{},data:null,loading:!0};return h["a"].get(a).then((function(a){var i=a.oResult,n=t._oSettingDSTInfo,o=d["a"].nodeValue(i,"timeZone");n.szTimeZone=o;var r,s,l,c,u,p,m,h,f=o.indexOf("DST");if(-1!==f){n.bEnableDST=!0;var v=o.split(",")[1],b=o.split(",")[2];n.szStartMonth=v.split(".")[0],n.szStartWeekIndex=v.split(".")[1],n.szStartWeek=v.split(".")[2].split("/")[0],n.szStartTime=v.split(".")[2].split("/")[1].split(":")[0],n.szEndMonth=b.split(".")[0],n.szEndWeekIndex=b.split(".")[1],n.szEndWeek=b.split(".")[2].split("/")[0],n.szEndTime=b.split(".")[2].split("/")[1].split(":")[0],n.szBiasTime=o.substring(f+3,f+11)}else n.bEnableDST=!1;e._aMonth.forEach((function(e,t){e.value===n.szStartMonth&&(r=e.text,n.startMonthIndex=t),e.value===n.szEndMonth&&(s=e.text,n.endMonthIndex=t)})),e._aWeekIndex.forEach((function(e,t){e.value===n.szStartWeekIndex&&(l=e.text,n.startWeekIndexI=t),e.value===n.szEndWeekIndex&&(c=e.text,n.endWeekIndexI=t)})),e._aWeek.forEach((function(e,t){e.value===n.szStartWeek&&(u=e.text,n.startWeekIndex=t),e.value===n.szEndWeek&&(p=e.text,n.endWeekIndex=t)})),e._aTime.forEach((function(e,t){e.value===n.szStartTime&&(m=e.text,n.startTimeIndex=t),e.value===n.szEndTime&&(h=e.text,n.endTimeIndex=t)})),n.startTime=r+". "+l+". "+u+". "+m,n.endTime=s+". "+c+". "+p+". "+h}),(function(e){p["a"].getState(e)}))}},{key:"setTimeInfo",value:function(){var e=this,t=e._oSettingDSTInfo,a=t.szTimeZone.indexOf("DST"),i="";if(i=a<0?t.szTimeZone:t.szTimeZone.substring(0,a),t.bEnableDST){if(t.szStartMonth===t.szEndMonth)return void u["a"].tip(m["a"].t("dstMonthCannotSame"));var n=i+"DST"+t.szBiasTime,o=t.szStartMonth+"."+t.szStartWeekIndex+"."+t.szStartWeek+"/"+t.szStartTime+":00:00",r=t.szEndMonth+"."+t.szEndWeekIndex+"."+t.szEndWeek+"/"+t.szEndTime+":00:00";i=n+","+o+","+r}var s={urlCGI:"timeZone",params:{noParseToXml:!0},data:i,loading:!0};return new Promise((function(e){h["a"].put(s).then((function(t){e(),p["a"].saveState(t.xhr)}))}))}}]),e}(),v=new f,b=a("47b5"),g={name:"DSTSetting",components:{BaseView:r["a"],BasePage:s["a"],BaseSelect:b["a"]},data:function(){return{bLazyLoading:!1,oSettingDSTInfo:v._oSettingDSTInfo,aMonth:v._aMonth,aWeekIndex:v._aWeekIndex,aWeek:v._aWeek,aTime:v._aTime,aBiasTime:v._aBiasTime}},watch:{},created:function(){var e=this;v.init().finally((function(){e.oSettingDSTInfo=v._oSettingDSTInfo,e.aMonth=v._aMonth,e.aWeekIndex=v._aWeekIndex,e.aWeek=v._aWeek,e.aTime=v._aTime,e.aBiasTime=v._aBiasTime}))},methods:{showStart:function(){this.mutiPickerStart||(this.mutiPickerStart=this.$createPicker({title:this.$t("dst"),data:[this.aMonth,this.aWeekIndex,this.aWeek,this.aTime],selectedIndex:[this.oSettingDSTInfo.startMonthIndex,this.oSettingDSTInfo.startWeekIndexI,this.oSettingDSTInfo.startWeekIndex,this.oSettingDSTInfo.startTimeIndex],onSelect:this.selectStart})),this.mutiPickerStart.show()},showEnd:function(){this.mutiPickerEnd||(this.mutiPickerEnd=this.$createPicker({title:this.$t("dst"),data:[this.aMonth,this.aWeekIndex,this.aWeek,this.aTime],selectedIndex:[this.oSettingDSTInfo.endMonthIndex,this.oSettingDSTInfo.endWeekIndexI,this.oSettingDSTInfo.endWeekIndex,this.oSettingDSTInfo.endTimeIndex],onSelect:this.selectEnd})),this.mutiPickerEnd.show()},selectStart:function(e,t,a){this.oSettingDSTInfo.startTime=a[0]+". "+a[1]+". "+a[2]+". "+a[3],this.oSettingDSTInfo.szStartMonth=e[0],this.oSettingDSTInfo.szStartWeekIndex=e[1],this.oSettingDSTInfo.szStartWeek=e[2],this.oSettingDSTInfo.szStartTime=e[3]},selectEnd:function(e,t,a){this.oSettingDSTInfo.endTime=a[0]+". "+a[1]+". "+a[2]+". "+a[3],this.oSettingDSTInfo.szEndMonth=e[0],this.oSettingDSTInfo.szEndWeekIndex=e[1],this.oSettingDSTInfo.szEndWeek=e[2],this.oSettingDSTInfo.szEndTime=e[3]},save:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.bLazyLoading=!0,e.next=3,v.setTimeInfo();case 3:this.bLazyLoading=!1;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},P=g,S=(a("29f0"),a("2a45"),a("2877")),C=Object(S["a"])(P,i,n,!1,null,"d0e0e8a4",null);t["default"]=C.exports},"0d24":function(e,t,a){},"0d6d":function(e,t,a){var i=a("d3f4"),n=a("67ab").onFreeze;a("5eda")("freeze",(function(e){return function(t){return e&&i(t)?e(n(t)):t}}))},"0e17":function(e,t,a){"use strict";a("ef0d")},"0e1a":function(e,t,a){"use strict";a("bab5")},"0f3a":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"channel-select"},[t("div",{staticClass:"select-content"},[t("hm-checkbox-group",{staticClass:"halfControl",on:{input:e.showSelectAll},model:{value:e.checkValueList,callback:function(t){e.checkValueList=t},expression:"checkValueList"}},e._l(e.options,(function(a){return t("hm-checkbox",{key:a.childDevIndex,attrs:{option:a.childDevIndex+"",position:"left"}},[e._v(e._s("D"+a.childDevIndex))])})),1)],1),t("div",{staticClass:"bottom-container"},[t("div",{staticClass:"select-all-content"},[t("hm-checkbox",{attrs:{position:"left","hollow-style":e.bIndeterminate},on:{input:e.selectAll},model:{value:e.bSelectAll,callback:function(t){e.bSelectAll=t},expression:"bSelectAll"}},[e._v(e._s(e.$t("selectAll")))]),t("div",[e._v(" "+e._s(e.$t("hadChoose")+"(".concat(e.checkValueList.length,")"))+" ")])],1),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{attrs:{disabled:0===e.checkValueList.length},on:{click:e.confirm}},[e._v(e._s(e.$t("ok")))])],1)]),t("hm-popup",{ref:"myPopup",attrs:{type:"my-popup"}},[t("hm-loading",{attrs:{size:28}})],1)],1)},n=[],o={name:"ChannelSelect",props:{options:{type:Array,default:function(){return[]}},type:{type:String,default:function(){return"add"}}},data:function(){return{checkValueList:[],bSelectAll:!1,bIndeterminate:!1}},mounted:function(){console.log(this.options),this.checkValueList=this.options.map((function(e){return e.added?e.childDevIndex+"":""})),this.checkValueList=this.checkValueList.filter((function(e){return e})),this.saverResourceList=this.checkValueList.map((function(e){return parseInt(e,10)})),this.showSelectAll(this.checkValueList)},methods:{showSelectAll:function(e){e.length===this.options.length?(this.bSelectAll=!0,this.bIndeterminate=!1):e.length>0&&e.length<this.options.length?(this.bSelectAll=!0,this.bIndeterminate=!0):(this.bSelectAll=!1,this.bIndeterminate=!1)},selectAll:function(e){e?(this.bIndeterminate=!1,this.checkValueList=this.options.map((function(e){return e.childDevIndex+""}))):this.checkValueList=[]},confirm:function(){this.$emit("confirm",this.checkValueList)}}},r=o,s=(a("4623"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"78dfe4c2",null);t["default"]=l.exports},"0f7b":function(e,t,a){"use strict";(function(e){a("96cf");var i=a("1da1"),n=a("4d1b"),o="play-success",r="initCb";t["a"]={props:{mode:{type:String,default:"normal"},oChannel:{type:Object,default:function(){return{}},required:!0},hide:{type:Boolean,default:!1}},data:function(){return{bPluginInit:!1}},watch:{hide:function(e){!1===e&&n["a"].resize()},"oChannel.id":{handler:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){var i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(a&&e("#main_plugin").length>0)){t.next=7;break}if(this.bPluginInit){t.next=6;break}return t.next=4,n["a"].init(this.mode);case 4:this.bPluginInit=!0,this.$emit(r,this.oChannel.id);case 6:setTimeout((function(){n["a"].startPlay(a).then((function(){i.$emit(o,i.oChannel.id),n["a"].resize()}))}),200);case 7:case"end":return t.stop()}}),t,this)})));function a(e){return t.apply(this,arguments)}return a}(),deep:!0}},created:function(){var t=this;this.$nextTick(Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,n["a"].init(t.mode);case 2:t.$emit(r,t.oChannel.id),e("#main_plugin").length>0&&n["a"].startPlay(t.oChannel.id).then((function(){t.bPluginInit=!0,t.$emit(o,t.oChannel.id),n["a"].resize()}));case 4:case"end":return a.stop()}}),a)}))))},mounted:function(){},beforeDestroy:function(){},methods:{}}}).call(this,a("1157"))},"0f8d":function(e,t,a){"use strict";a("0842")},"0fdc":function(e,t,a){},"0fe0":function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return r}));var i=a("d4ec"),n=a("bee2"),o=a("7de8"),r=function(){function t(){Object(i["a"])(this,t)}return Object(n["a"])(t,[{key:"titleUpperCase",value:function(e){var t="";return e&&(t=e.substr(0,1).toUpperCase()+e.substr(1)+" "),t}},{key:"transRegionPointsFromPlugin",value:function(t,a){if(a.length>0){var i=this;e.each(a[0].points,(function(e,a){var n={iX:parseInt(a[0]*i.oParams.iDScreenWidth,10),iY:parseInt((1-a[1])*i.oParams.iDScreenHeight,10)};t.push(n)}))}}},{key:"transRegionPointsFromDevice",value:function(t){var a=[];return e.each(t,(function(e,t){a.push({iX:o["a"].nodeValue(t,"positionX","i"),iY:o["a"].nodeValue(t,"positionY","i")})})),a}},{key:"transRegionPointsToPlugin",value:function(t){var a=this,i=[];return e.each(t,(function(e,t){var n=t.iX/a.oParams.iDScreenWidth,o=1-t.iY/a.oParams.iDScreenHeight;i.push([n,o])})),i}},{key:"checkPoints",value:function(t){var a=!0,i=0;return e.each(t,(function(e,t){if(t.iX<0||t.iY<0)return a=!1,!1;i+=t.iX+t.iY})),i<=0&&(a=!1),a}}]),t}()}).call(this,a("1157"))},"109b":function(e,t,a){"use strict";a("3084")},"10fa":function(e,t,a){"use strict";a("a564")},1109:function(e,t,a){"use strict";a("5e6c")},1146:function(e,t,a){"use strict";(function(e){a("28a5"),a("7514"),a("a481"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("c050"),s=a("7de8"),l=a("8d94"),c=a("f193"),u=a("11c1"),d=a.n(u),p=a("d09c"),m=function(){function t(){Object(n["a"])(this,t),this._oSearchTime={szStartTime:"",szEndTime:""},this._oMinor={aMinorType:[{text:l["a"].t("allTypes"),value:"All"}],szMinorType:"All"},this._oMajorType={szMajorType:"All"},this._oLog={_iLogNum:0,_iRequestNum:100,_iPerPageNum:100,oLogList:{tableItem:[],iSelectIndex:-1,tablecheckbox:[]},aLogListForExport:[],szExportType:"1"},this._bSearching=!1,this._szSearchUUID="",this._oWaitDlg=null}return Object(o["a"])(t,[{key:"init",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=this,t._oMinor.aMinorType=[{text:l["a"].t("allTypes"),value:"All"}],t._oMinor.szMinorType="All",t._oMajorType.szMajorType="All",t.initSearchTime();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initSearchTime",value:function(){var e=this,t=s["a"].dateFormat(new Date,"yyyy-MM-dd");e._oSearchTime.szStartTime=t+" 00:00:00",e._oSearchTime.szEndTime=t+" 23:59:59"}},{key:"changeMajorType",value:function(e){var t=this,a=null;if(t._oMinor.aMinorType.length=0,t._oMinor.aMinorType.push({text:l["a"].t("allTypes"),value:"All"}),t._oMajorType.szMajorType=e,"All"!==e)for(var i in"Infomation"===e&&(e="Information"),a=l["a"].t(e+"Option"),a)t._oMinor.aMinorType.push({text:a[i],value:i});console.log(t._oMinor.aMinorType),t._oMinor.szMinorType=t._oMinor.aMinorType[0].value}},{key:"search",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,!t._bSearching){e.next=3;break}return e.abrupt("return",s["a"].rejectPromise);case 3:return t._oWaitDlg=r["a"].wait(l["a"].t("searching")),t._oLog.oLogList.tableItem.length=0,t._oLog.aLogListForExport.length=0,t._oLog._iLogNum=0,e.next=9,t.getLogList(0);case 9:return console.log("search"+t._oLog._iLogNum),e.abrupt("return",t._oLog._iLogNum);case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getLogList",value:function(t){var a=this;if(!a.checkSearchTime())return a._oWaitDlg.close(),void r["a"].stateAlert(l["a"].t("sTimeLaterETime"));var i=a._oMajorType.szMajorType,n=a._oMinor.szMinorType,o=a._oSearchTime.szStartTime,u=a._oSearchTime.szEndTime,m="",h=null;return 0===t&&(a._szSearchUUID=d.a.v4()),o=o.replace(" ","T")+"Z",u=u.replace(" ","T")+"Z",m="<?xml version='1.0' encoding='utf-8'?><CMSearchDescription><searchID>"+a._szSearchUUID+"</searchID>",m+="All"===i?"<metaId>log.std-cgi.com</metaId>":"All"===n?"<metaId>log.std-cgi.com/"+i+"</metaId>":"<metaId>log.std-cgi.com/"+i+"/"+n+"</metaId>",m+="<timeSpanList><timeSpan><startTime>"+o+"</startTime>",m+="<endTime>"+u+"</endTime></timeSpan></timeSpanList><maxResults>"+a._oLog._iRequestNum+"</maxResults>",1===t&&(m+="<searchResultPostion>"+a._oLog._iLogNum+"</searchResultPostion>"),m+="</CMSearchDescription>",h=s["a"].parseXmlFromStr(m),c["a"].post({urlCGI:"logSearch",data:h}).then((function(t){var i=t.oResult;if(console.log("xmlDoc"+i),s["a"].nodeValue(i,"responseStatus","b")){a._bSearching=!0;var n=e(i).find("searchMatchItem"),o="",r="",c="",u="",d="",p="",m="";if(e.each(n,(function(t){o=s["a"].nodeValue(this,"StartDateTime").replace("T"," ").replace("Z"," "),r=s["a"].nodeValue(this,"metaId").split("/")[1],"Infomation"===r&&(r="Information"),c=s["a"].nodeValue(this,"metaId").split("/")[2]?s["a"].nodeValue(this,"metaId").split("/")[2]:"",s["a"].nodeValue(this,"metaId").split("/")[3]?(u=s["a"].nodeValue(this,"metaId").split("/")[3],e(this).find("localId").length>0&&(u=s["a"].nodeValue(this,"localId")),"hddInfo"===s["a"].nodeValue(this,"metaId").split("/")[1]&&(u="")):u="",d=s["a"].nodeValue(this,"userName"),p=e(this).find("ipAddress").length>0?s["a"].nodeValue(this,"ipAddress"):s["a"].nodeValue(this,"ipv6Address"),"0.0.0.0"===p&&(p=""),m=s["a"].nodeValue(this,"additionInformation"),a._oLog.oLogList.tableItem[a._oLog._iLogNum+t]=[],a._oLog.oLogList.tableItem[a._oLog._iLogNum+t].time=o,a._oLog.oLogList.tableItem[a._oLog._iLogNum+t].major=l["a"].t(r.toLowerCase()),a._oLog.oLogList.tableItem[a._oLog._iLogNum+t].minor=l["a"].t(r+"Option")[c]?l["a"].t(r+"Option")[c]:l["a"].t(c),a._oLog.oLogList.tableItem[a._oLog._iLogNum+t].channelId=u,a._oLog.oLogList.tableItem[a._oLog._iLogNum+t].username=d,a._oLog.oLogList.tableItem[a._oLog._iLogNum+t].address=p,a._oLog.oLogList.tableItem[a._oLog._iLogNum+t].information=m,a._oLog.aLogListForExport.push(a._oLog.oLogList.tableItem[a._oLog._iLogNum+t])})),a._oLog._iLogNum+=n.length,"MORE"===s["a"].nodeValue(i,"responseStatusStrg"))return console.log("more"+s["a"].nodeValue(i,"responseStatusStrg")),a.getLogList(1);a._bSearching=!1,a._oWaitDlg.close()}}),(function(e){a._oWaitDlg.close(),p["a"].saveState(e),e.status,a._oLog._iLogNum="noTip",a._bSearching=!1}))}},{key:"checkSearchTime",value:function(){var e=this,t=e._oSearchTime.szStartTime,a=e._oSearchTime.szEndTime,i="",n="";return i=t.replace(/-/g,"/"),n=a.replace(/-/g,"/"),!(Date.parse(n)-Date.parse(i)<0)}}]),t}();t["a"]=new m}).call(this,a("1157"))},"11c1":function(e,t,a){var i=a("c437"),n=a("c64e"),o=n;o.v1=i,o.v4=n,e.exports=o},"11d1":function(e,t,a){"use strict";a("365b")},1327:function(e,t,a){"use strict";a("eb44")},1328:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("sceneChangeDetection"),"right-type":"text","b-lazy-loading":e.bLazyLoading}},[t("div",{attrs:{slot:"content",id:"planCapture"},slot:"content"},[e.bSupportChannelCap||e.oEventCap.bIPCDevice?e._e():t("channel-list",{attrs:{"o-channel":e.oChannel}}),e.oEventCap.bSupportRule||e.oEventCap.bSupportSchedule||e.oEventCap.bSupportLink?t("div",[t("hm-scroll",[t("div",{staticClass:"hm-index-list-item"},[e.oEventCap.bSupportRule?t("div",[t("hm-cell-group",{staticClass:"custom-cell-group"},[t("hm-cell",{attrs:{title:e.$t("enable")}},[t("hm-switch",{model:{value:e.oEventInfo.bEnableSceneChange,callback:function(t){e.$set(e.oEventInfo,"bEnableSceneChange",t)},expression:"oEventInfo.bEnableSceneChange"}})],1)],1),t("hm-cell-group",{staticClass:"cell-group custom-cell-group"},[t("base-slider-content",{attrs:{title:e.$t("sensitivity")+":"+e.oEventInfo.iSensitivity},scopedSlots:e._u([{key:"content",fn:function(){return[t("mt-range",{attrs:{min:e.min,max:e.max,step:1,"bar-height":5},model:{value:e.oEventInfo.iSensitivity,callback:function(t){e.$set(e.oEventInfo,"iSensitivity",t)},expression:"oEventInfo.iSensitivity"}})]},proxy:!0}],null,!1,2884151322)})],1)],1):e._e(),e.oEventCap.bSupportSchedule?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("armSchedulePlan")}},[t("hm-cell",{attrs:{title:e.$t("armSchedulePlan"),"is-link":""},nativeOn:{click:function(t){return e.showSchedule()}}})],1):e._e(),e.bShowLink&&e.oEventCap.bSupportLink?t("base-link",{ref:"link",attrs:{link:e.oEventInfo.oLink}}):e._e(),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{on:{click:e.save}},[e._v(e._s(e.$t("save")))])],1)],1)]),e.bShowSchedule?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:e.$t("SceneRuleSchedule"),"show-footer":!0,"enable-cancel-callback":e.bEnableCancelCallback},on:{cancelcallback:e.cancelCallbackArmSchedule,confirm:e.confirmArmSchedule,delete:e.deleteAll}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"time-plan-padding swipe-wrapper-show-footer"},[t("hm-scroll",[t("time-plan",{ref:"timePlan",attrs:{"times-data":e.aTimes,holiday:e.oEventCap.bSupportHoliday}})],1)],1)])])],1):e._e()],1):e._e(),e.oEventCap.bSupportRule||e.oEventCap.bSupportSchedule||e.oEventCap.bSupportLink||!e.bShowNotSpport?e._e():t("div",{staticClass:"no-support-tip"},[e._v("\n      "+e._s(e.$t("ImportNoSupport"))+"\n    ")])],1)])},n=[],o=a("04ab"),r=o["a"],s=(a("4c59"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"257dae24",null);t["default"]=l.exports},1362:function(e,t,a){"use strict";a("e393")},"142c":function(e,t,a){"use strict";(function(e){a("a481"),a("7514"),a("6b54"),a("28a5"),a("ac6a"),a("5df3"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("181b"),s=a("7de8"),l=a("c050"),c=a("d09c"),u=a("7c5d"),d=a("1f20"),p=a("f193"),m=a("8d94"),h=function(){function t(){Object(n["a"])(this,t),this.m_oParams=u["a"].m_oParams,this.m_oParamsValid=u["a"].m_oParamsValid,this.m_oWifiParams=u["a"].m_oWifiParams}return Object(o["a"])(t,[{key:"getDeviceCapa",value:function(){var e=this;return new Promise((function(t){d["a"].getNetworkCap().then((function(){u["a"].init(d["a"].m_oDeviceCapa),e.m_oCapbilities=u["a"].m_oCapbilities,e.m_oCapbilities.bSupportWLANAP=d["a"].m_oDeviceCapa.bSupportWLANAP,e.m_oCapbilities.bSupportWPS=d["a"].m_oDeviceCapa.bSupportWPS,e.m_oCapbilities.bSupportWifiEnable=d["a"].m_oDeviceCapa.bSupportWifiEnable,e.m_oCapbilities.bSupportMutexWithWirelessServer=d["a"].m_oDeviceCapa.bSupportWifiEnable&&d["a"].m_oDeviceCapa.bSupportWLANAP,t()}),(function(){t()}))}))}},{key:"initWifi",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.oTools={world:m["a"].t("world"),china:m["a"].t("china"),europe:m["a"].t("europe"),nothAmerica:m["a"].t("nothAmerica"),japan:m["a"].t("japan"),default:m["a"].t("defaultCountry")},e.next=3,this.getDeviceCapa();case 3:return e.abrupt("return",Promise.all([this.getWifiCap(),this.getWifiList(),this.getWifiInfo(),this.get8021xInfo(),this.getWpsInfo()]));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getWifiCap",value:function(){var t=this;return new Promise((function(a){var i={urlCGI:"wifiCap",params:null,data:null,async:!1,loading:!0};p["a"].get(i).then((function(i){var n=i.oResult,o=t.m_oCapbilities,r=s["a"].nodeAttr(n,"TableElement","opt");r&&(o.aSupportStatus=r.split(","),o.aSupportStatus.unshift("serialNumber"));var l=o.oNetworkMode,c=s["a"].nodeAttr(n,"wirelessNetworkMode","opt");if(c){e.each(l,(function(e){l[e]=!1}));var u=c.split(",");-1!==e.inArray("infrastructure",u)&&(l.bInfrastructure=!0),-1!==e.inArray("adhoc",u)&&(l.bAdhoc=!0)}var d=s["a"].nodeAttr(n,"support64bitKey","opt")||"WPA-personal,WPA2-personal";if(d&&(o.aSupport64bitKey=d.split(",")),o.bSupportWifiRegion){o.bSetRegionNeedReboot=s["a"].nodeValue(n,"RegionInformation reboot",!0);var p=s["a"].nodeAttr(n,"RegionInformation region","opt");""!==p&&e.each(p.split(","),(function(e,a){o.aRegionList.push({name:t.oTools[a.toString()],value:a.toString()})}))}var m=s["a"].nodeValue(n,"isSupportNullSsid","b");m&&(t.m_oCapbilities.bSupportNullSsid=m,t.m_oParamsValid.oSSID.required=!1),a()}),(function(){a()}))}))}},{key:"getWifiList",value:function(){var t=this;return new Promise((function(a){var i={urlCGI:"wifiList",params:null,data:null,async:!1,loading:!0};p["a"].get(i).then((function(i){var n=i.oResult,o=[];e(n).find("accessPoint").each((function(t){o[t]=[],o[t][0]=s["a"].nodeValue(e(this),"id"),o[t][1]=s["a"].nodeValue(e(this),"ssid"),o[t][2]=s["a"].nodeValue(e(this),"wirelessNetworkMode"),o[t][2]={name:"infrastructure"===o[t][2]?"Manage":"Ad-Hoc",value:o[t][2]},o[t][3]=s["a"].nodeValue(e(this),"securityMode"),"not-encrypted"===o[t][3]&&(o[t][3]="disable"),o[t][4]=s["a"].nodeValue(e(this),"channel"),o[t][5]=s["a"].nodeValue(e(this),"signalStrength"),o[t][6]=s["a"].nodeValue(e(this),"speed"),o[t][7]=m["a"].t(s["a"].nodeValue(e(this),"connected","b")?"connected":"unconnected")})),t.m_oParams.tableData={tableItem:o,iSelectIndex:-1},a()}),(function(){a()}))}))}},{key:"getWifiInfo",value:function(){var t=this;return new Promise((function(a){var i={urlCGI:"wifiInfo",data:null,loading:!0};p["a"].get(i).then((function(i){var n=i.oResult;t.m_oWifiParams.bEnableWifi=s["a"].nodeValue(e(n),"enabled","b"),t.m_oWifiParams.szSSID=s["a"].nodeValue(e(n),"ssid"),t.m_oWifiParams.szWPSSSID=t.m_oWifiParams.szSSID,t.m_oWifiParams.szNetworkMode=s["a"].nodeValue(e(n),"wirelessNetworkMode"),t.m_oWifiParams.szSecurityMode=s["a"].nodeValue(e(n),"securityMode"),t.m_oParams.szAuthentication=s["a"].nodeValue(e(n),"authenticationType")||"open",t.m_oParams.szKeyChoose=s["a"].nodeValue(e(n),"defaultTransmitKeyIndex")||"1",t.m_oParams.szKeyLength=s["a"].nodeValue(e(n),"wepKeyLength")||"64",t.m_oParams.szKeyType=s["a"].nodeValue(e(n),"keyType")||"HEX",t.m_oParams.szEncryptionType=s["a"].nodeValue(e(n),"algorithmType")||"TKIP",t.m_oParams.aKey[0]=s["a"].nodeValue(e(n),"sharedKey"),t.m_oCapbilities.bSupportWifiRegion&&(t.m_oParams.szRegion=t.m_oParams.szRegionCache=s["a"].nodeValue(e(n),"region")),e(n).find("encryptionKey").each((function(a,i){t.m_oParams.aKey[a]=e(i).text()})),e(n).find("ASCIIKey").each((function(a,i){t.m_oParams.aKey[a]=e(i).text()})),a()}),(function(){a()}))}))}},{key:"get8021xInfo",value:function(){var t=this;return new Promise((function(a){var i={urlCGI:"wifiIpc8021x",data:null,loading:!0};p["a"].get(i).then((function(i){var n=i.oResult;t.m_oParams.szEnterpriseType=s["a"].nodeValue(e(n),"authenticationProtocolType")||"EAP-TLS",t.m_oParams.szInnerAuthenticationMode=s["a"].nodeValue(e(n),"innerTTLSAuthenticationMethod")||"PAP",t.m_oParams.szAnonymousIdentity=s["a"].nodeValue(e(n),"anonymousID"),t.m_oParams.szInnerAuthentication=s["a"].nodeValue(e(n),"innerEAPProtocolType")||"EAP-GTC",t.m_oParams.szPEAPVersion=s["a"].nodeValue(e(n),"PEAPVersion")||"0",t.m_oParams.szPEAPLabel=s["a"].nodeValue(e(n),"PEAPLabel")||"old",t.m_oParams.szEAPOLVersion=s["a"].nodeValue(e(n),"EAPOLVersion")||"1",t.m_oParams.szIdentity=s["a"].nodeValue(e(n),"userName"),t.m_oParams.szUsername=s["a"].nodeValue(e(n),"userName"),a()}),(function(){t.m_oParams.szEnterpriseType="EAP-TLS",t.m_oParams.szInnerAuthenticationMode="PAP",t.m_oParams.szAnonymousIdentity="",t.m_oParams.szInnerAuthentication="EAP-GTC",t.m_oParams.szPEAPVersion="0",t.m_oParams.szPEAPLabel="old",t.m_oParams.szEAPOLVersion="1",t.m_oParams.szIdentity="",t.m_oParams.szUsername="",a()}))}))}},{key:"getWpsInfo",value:function(){var t=this;return new Promise((function(a){var n={urlCGI:"wpsIpcInfo",data:null,loading:!0};p["a"].get(n).then(function(){var n=Object(i["a"])(regeneratorRuntime.mark((function i(n){var o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return o=n.oResult,t.m_oParams.bEnableWps=s["a"].nodeValue(e(o),"enable","b"),i.next=4,t.getDevicePinCode();case 4:a();case 5:case"end":return i.stop()}}),i)})));return function(e){return n.apply(this,arguments)}}(),(function(){a()}))}))}},{key:"generatePinCode",value:function(){var e=this;return new Promise((function(t){var a={urlCGI:"generatePinCode",data:null,loading:!0};p["a"].put(a).then(Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.getDevicePinCode();case 2:t();case 3:case"end":return a.stop()}}),a)}))),(function(){t()}))}))}},{key:"getDevicePinCode",value:function(){var e=this;return new Promise((function(t){var a={urlCGI:"deviceIpcPinCode",data:null,loading:!0};p["a"].get(a).then((function(a){e.m_oParams.szPinCode=a.xhr.responseText,t()}),(function(){t()}))}))}},{key:"autoConnect",value:function(){return new Promise((function(e){var t={urlCGI:"autoIpcConnect",data:null,loading:!0};p["a"].put(t).then((function(){e()}),(function(){l["a"].tip(m["a"].t("conectFail")),e()}))}))}},{key:"manualConnect",value:function(){var e="<?xml version='1.0' encoding='UTF-8'?><WpsApPincode><ssid>"+this.m_oWifiParams.szWPSSSID.replace(/</g,"&lt;").replace(/&(?!lt;|amp;|gt;|apos;|quot;)/g,"&amp;")+"</ssid><pinCode>"+this.m_oParams.szApPinCode.replace(/</g,"&lt;").replace(/&(?!lt;|amp;|gt;|apos;|quot;)/g,"&amp;")+"</pinCode></WpsApPincode>",t=s["a"].parseXmlFromStr(e);return new Promise((function(e,a){var i={urlCGI:"manualIpcConnect",data:t,loading:!0};p["a"].put(i).then((function(){l["a"].tip(m["a"].t("connectSuccess")),e()}),(function(e){c["a"].saveState(e),a()}))}))}},{key:"setWifi8021x",value:function(e){var t="";"EAP-TLS"===e?(t="<?xml version='1.0' encoding='UTF-8' ?><IEEE802_1x><enabled>true</enabled><authenticationProtocolType>"+this.m_oParams.szEnterpriseType+"</authenticationProtocolType><userName>"+this.m_oParams.szIdentity.replace(/</g,"&lt;").replace(/&(?!lt;|amp;|gt;|apos;|quot;)/g,"&amp;")+"</userName>",""!==this.m_oParams.szPrivateKeyPassword&&(t+="<password>"+this.m_oParams.szPrivateKeyPassword.replace(/</g,"&lt;").replace(/&(?!lt;|amp;|gt;|apos;|quot;)/g,"&amp;")+"</password>"),t+="<Extensions><EAPOLVersion>"+this.m_oParams.szEAPOLVersion+"</EAPOLVersion></Extensions></IEEE802_1x>"):"EAP-PEAP"===e?(t="<?xml version='1.0' encoding='UTF-8' ?><IEEE802_1x><enabled>true</enabled><authenticationProtocolType>"+this.m_oParams.szEnterpriseType+"</authenticationProtocolType><innerEAPProtocolType>"+this.m_oParams.szInnerAuthentication+"</innerEAPProtocolType><userName>"+this.m_oParams.szUsername.replace(/</g,"&lt;").replace(/&(?!lt;|amp;|gt;|apos;|quot;)/g,"&amp;")+"</userName>",""!==this.m_oParams.szPassword&&(t+="<password>"+this.m_oParams.szPassword.replace(/</g,"&lt;").replace(/&(?!lt;|amp;|gt;|apos;|quot;)/g,"&amp;")+"</password>"),t+="<anonymousID>"+this.m_oParams.szAnonymousIdentity.replace(/</g,"&lt;").replace(/&(?!lt;|amp;|gt;|apos;|quot;)/g,"&amp;")+"</anonymousID><Extensions><EAPOLVersion>"+this.m_oParams.szEAPOLVersion+"</EAPOLVersion><PEAPVersion>"+this.m_oParams.szPEAPVersion+"</PEAPVersion><PEAPLabel>"+this.m_oParams.szPEAPLabel+"</PEAPLabel></Extensions></IEEE802_1x>"):(t="<?xml version='1.0' encoding='UTF-8' ?><IEEE802_1x><enabled>true</enabled><authenticationProtocolType>"+this.m_oParams.szEnterpriseType+"</authenticationProtocolType><innerTTLSAuthenticationMethod>"+this.m_oParams.szInnerAuthenticationMode+"</innerTTLSAuthenticationMethod><userName>"+this.m_oParams.szUsername+"</userName>",""!==this.m_oParams.szPassword&&(t+="<password>"+this.m_oParams.szPassword.replace(/</g,"&lt;").replace(/&(?!lt;|amp;|gt;|apos;|quot;)/g,"&amp;")+"</password>"),t+="<anonymousID>"+this.m_oParams.szAnonymousIdentity.replace(/</g,"&lt;").replace(/&(?!lt;|amp;|gt;|apos;|quot;)/g,"&amp;")+"</anonymousID><Extensions><EAPOLVersion>"+this.m_oParams.szEAPOLVersion+"</EAPOLVersion></Extensions></IEEE802_1x>");var a=s["a"].parseXmlFromStr(t);return new Promise((function(e,t){var i={urlCGI:"wifiIpc8021x",data:a,loading:!0};p["a"].put(i).then((function(t){e(t)}),(function(e){t(e)}))}))}},{key:"setWifiInfo",value:function(){var e=this,t="<?xml version='1.0' encoding='UTF-8'?><Wireless><enabled>"+this.m_oWifiParams.bEnableWifi.toString()+"</enabled><wirelessNetworkMode>"+this.m_oWifiParams.szNetworkMode+"</wirelessNetworkMode><channel>auto</channel><ssid>"+this.m_oWifiParams.szSSID+"</ssid><wmmEnabled>false</wmmEnabled><WirelessSecurity><securityMode>"+this.m_oWifiParams.szSecurityMode+"</securityMode>";if("WEP"===this.m_oWifiParams.szSecurityMode){if(t+="<WEP><authenticationType>"+this.m_oParams.szAuthentication+"</authenticationType><defaultTransmitKeyIndex>"+this.m_oParams.szKeyChoose+"</defaultTransmitKeyIndex><wepKeyLength>"+this.m_oParams.szKeyLength+"</wepKeyLength>",t+="<keyType>"+this.m_oParams.szKeyType+"</keyType>","HEX"===this.m_oParams.szKeyType){t+="<EncryptionKeyList>";for(var a=0;a<this.m_oParams.aKey.length;a++)t+="<encryptionKey>"+this.m_oParams.aKey[a].replace(/</g,"&lt;").replace(/&(?!lt;|amp;|gt;|apos;|quot;)/g,"&amp;")+"</encryptionKey>";t+="</EncryptionKeyList>"}else{t+="<ASCKeyList>";for(var i=0;i<this.m_oParams.aKey.length;i++)t+="<ASCIIKey>"+this.m_oParams.aKey[i].replace(/</g,"&lt;").replace(/&(?!lt;|amp;|gt;|apos;|quot;)/g,"&amp;")+"</ASCIIKey>";t+="</ASCKeyList>"}t+="</WEP>"}else"disable"!==this.m_oWifiParams.szSecurityMode&&("WPA-enterprise"===this.m_oWifiParams.szSecurityMode||"WPA2-enterprise"===this.m_oWifiParams.szSecurityMode?t+="<WPA><algorithmType>"+this.m_oParams.szEncryptionType+"</algorithmType></WPA>":t+="<WPA><algorithmType>"+this.m_oParams.szEncryptionType+"</algorithmType><sharedKey>"+this.m_oParams.aKey[0].replace(/</g,"&lt;").replace(/&(?!lt;|amp;|gt;|apos;|quot;)/g,"&amp;")+"</sharedKey><wpaKeyLength>"+this.m_oParams.aKey[0].length+"</wpaKeyLength></WPA>");t+="</WirelessSecurity>",this.m_oCapbilities.bSupportWifiRegion&&(t+="<Region><region>"+this.m_oParams.szRegion+"</region></Region>"),t+="</Wireless>";var n=s["a"].parseXmlFromStr(t);return new Promise((function(t,a){var i={urlCGI:"wifiInfo",data:n,loading:!0};p["a"].put(i).then((function(a){e.m_oParams.szRegionCache=e.m_oParams.szRegion,t(a)}),(function(e){a(e)}))}))}},{key:"setWpsInfo",value:function(){var e="<?xml version='1.0' encoding='UTF-8'?><WPS><enable>"+this.m_oParams.bEnableWps.toString()+"</enable></WPS>",t=s["a"].parseXmlFromStr(e);return new Promise((function(e,a){var i={urlCGI:"wpsIpcInfo",data:t,loading:!0};p["a"].put(i).then((function(t){e(t)}),(function(e){a(e)}))}))}},{key:"setsave",value:function(){var e=this;this.m_oParams.szRegion!==this.m_oParams.szRegionCache&&this.m_oCapbilities.bSupportWifiRegion&&this.m_oCapbilities.bSetRegionNeedReboot?l["a"].confirm(m["a"].t("tipChangeRegion"),(function(){e.setInfo(!0)}),(function(){e.m_oParams.szRegion=e.m_oParams.szRegionCache})):this.setInfo(!1)}},{key:"setInfo",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=[],e.next=3,this.setWifiInfo().then((function(e){"WPA-enterprise"!==i.m_oWifiParams.szSecurityMode&&"WPA2-enterprise"!==i.m_oWifiParams.szSecurityMode||("EAP-TLS"===i.m_oParams.szEnterpriseType?a.push(i.setWifi8021x("EAP-TLS")):"EAP-PEAP"===i.m_oParams.szEnterpriseType?a.push(i.setWifi8021x("EAP-PEAP")):"EAP-TTLS"===i.m_oParams.szEnterpriseType&&a.push(i.setWifi8021x("EAP-TTLS"))),i.m_oCapbilities.bSupportWPS&&a.push(i.setWpsInfo()),0===a.length?t?c["a"].toRestart():c["a"].saveState(e.xhr):s["a"].waitAll(a).then((function(e){t?c["a"].toRestart():c["a"].saveState(e[0].xhr)}),(function(e){c["a"].saveState(e[0].xhr)}))}),(function(e){c["a"].saveState(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"browseFilePath",value:function(){return new Promise((function(e){r["a"].browseFilePath(1,"").then((function(t){e(t)}))}))}},{key:"uploadCertificate",value:function(e){var t="";return 0===e?t=this.m_oParams.szCACerPath:1===e?t=this.m_oParams.szUserCerPath:2===e&&(t=this.m_oParams.szPrivateKeyCerPath),new Promise((function(e){t||e()}))}}]),t}();t["a"]=new h}).call(this,a("1157"))},"145f":function(e,t,a){"use strict";var i=a("d4ec"),n=a("bee2"),o=function(){function e(){Object(i["a"])(this,e),this.m_oParams={szEncryptionType:"TKIP",szAuthentication:"open",szKeyLength:"64",szKeyType:"HEX",szKeyChoose:"1",aKey:["","","",""],szEnterpriseType:"EAP-TLS",szUsername:"",szPassword:"",szPEAPVersion:"0",szPEAPLabel:"old",szInnerAuthentication:"EAP-GTC",szInnerAuthenticationMode:"PAP",szAnonymousIdentity:"",szIdentity:"",szPrivateKeyPassword:"",szEAPOLVersion:"1",szCACerPath:"",szUserCerPath:"",szPrivateKeyCerPath:"",szPinCode:"",szConnectMode:"0",szApPinCode:"",bEnableWps:!1,szRegion:"default",szRegionCache:"default"},this.m_oWifiParams={bEnableWifi:!0,szSSID:"",szWPSSSID:"",szNetworkMode:"infrastructure",szSecurityMode:"disable"},this.m_oParamsValid={oSSID:{required:!0,lengthRange:[1,32],bSkipValid:!1},oKey1:{required:!1,bSkipValid:!0,lengthRange:[8,63]},oKey2:{required:!1,bSkipValid:!0,lengthRange:[8,63]},oKey3:{required:!1,bSkipValid:!0,lengthRange:[8,63]},oKey4:{required:!1,bSkipValid:!0,lengthRange:[8,63]},oUserName:{required:!0,lengthRange:[1,32],multiChar:!0,bSkipValid:!0},oPassword:{required:!0,lengthRange:[1,32],bSkipValid:!0},oAnonymousIdentity:{lengthRange:[0,32],multiChar:!0,bSkipValid:!0},oIdentity:{required:!0,lengthRange:[1,32],multiChar:!0,bSkipValid:!0},oPrivateKeyPassword:{required:!0,lengthRange:[1,32],bSkipValid:!0},oApPinCode:{required:!0,lengthRange:[1,32],bSkipValid:!0,checkAPPinCode:!0},oApPinSSID:{required:!0,lengthRange:[1,32],bSkipValid:!0,oSpecChar:!0}},this.m_oWifiListTable=null}return Object(n["a"])(e,[{key:"init",value:function(e){this.m_oCapbilities={bSupportNullSsid:!1,bSupportWPS:e.bSupportWPS,bSupportWifiEnable:e.bSupportWifiEnable,bSupportMutexWithWirelessServer:e.bSupportWifiEnable&&e.bSupportWLANAP,oNetworkMode:{bInfrastructure:!0,bAdhoc:!0},aSupport64bitKey:[],aSupportStatus:["serialNumber","SSID","workingMode","securityMode","channel","signalStrength","speed","connectionStatus"],aRegionList:[],bSetRegionNeedReboot:!1,bSupportWifiRegion:e.bSupportWifiRegion}}}]),e}();t["a"]=new o},"14a8":function(e,t,a){"use strict";a("7483")},"155d":function(e,t,a){},"155e":function(e,t,a){"use strict";(function(e){a("6b54"),a("a481"),a("7514"),a("28a5"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("1f20"),s=a("7de8"),l=a("d09c"),c=a("181b"),u=a("f193"),d=function(){function t(){Object(n["a"])(this,t),this.oChannel={},this.bNoSupport=!1,this.bRotate=!1,this.oParams={id:"",szRegionType:"",enabled:!1,iNorScreenWidth:1e3,iNorScreenHeight:1e3,iMainStreamWidth:1280,iMainStreamHeight:720,regCropResolution:"1280*720P",regCropResolutions:[],streamType:"03",bSupportPTZWithPreview:!1,oRegion:[]}}return Object(o["a"])(t,[{key:"getPTZCtrlCap",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r["a"].getPTZCtrlCap();case 2:this.oParams.bSupportPTZWithPreview=r["a"].m_oDeviceCapa.bSupportPTZWithPreview;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getCap",value:function(){var t=this;this.oParams.regCropResolutions.length=0;var a={urlCGI:"regCropCap",params:{channel:this.oChannel.id,videoStream:this.oParams.streamType},data:null,loading:!0};return u["a"].get(a).then(function(){var a=Object(i["a"])(regeneratorRuntime.mark((function a(i){var n,o,r,s,l,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:for(n=i.oResult,t.bNoSupport=!1,o=e(n).find("videoResolutionWidth").eq(0).attr("opt").split(","),r=e(n).find("videoResolutionHeight").eq(0).attr("opt").split(","),s="",l=0;l<o.length;l++)s=o[l]+"*"+r[l],("1920"===o[l]&&"1080"===r[l]||"1280"===o[l]&&"720"===r[l])&&(s+="P"),t.oParams.regCropResolutions.push(s);return t.oParams.iNorScreenWidth=parseInt(e(n).find("normalizedScreenWidth").eq(0).text(),10),t.oParams.iNorScreenHeight=parseInt(e(n).find("normalizedScreenHeight").eq(0).text(),10),t.bRotate="true"===e(n).find("rotateEnable").eq(0).text(),a.next=11,t.getMainStreamResolution();case 11:c=a.sent,c.indexOf("*")>0&&(c=c.split("*"),t.bRotate?(t.oParams.iMainStreamWidth=parseInt(c[1],10),t.oParams.iMainStreamHeight=parseInt(c[0],10)):(t.oParams.iMainStreamWidth=parseInt(c[0],10),t.oParams.iMainStreamHeight=parseInt(c[1],10)));case 13:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),(function(e){t.bNoSupport=!0,t.oParams.enabled=!1,l["a"].getState(e)}))}},{key:"getMainStreamResolution",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="",i={urlCGI:"videoInfo",params:{channel:this.oChannel.id,videoStream:"01"},data:null,loading:!0},t.next=4,u["a"].get(i).then((function(t){var i=t.oResult,n=e(i).find("videoResolutionWidth").eq(0).text(),o=e(i).find("videoResolutionHeight").eq(0).text();a=n+"*"+o}),(function(e){l["a"].getState(e)}));case 4:return t.abrupt("return",a);case 5:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}()},{key:"getInfo",value:function(){var t=this,a=this;if(!this.bNoSupport){var i={urlCGI:"regCropInfo",params:{channel:this.oChannel.id,videoStream:this.oParams.streamType},data:null,loading:!0};return u["a"].get(i).then((function(i){var n=i.oResult;t.oParams.oRegion=[],t.oParams.id=s["a"].nodeValue(e(n),"id"),t.oParams.szRegionType=s["a"].nodeValue(e(n),"regionType"),t.oParams.enabled="true"===e(n).find("enabled").eq(0).text();var o=e(n).find("videoResolutionWidth").eq(0).text(),r=e(n).find("videoResolutionHeight").eq(0).text(),l=o+"*"+r;("1920"===o&&"1080"===r||"1280"===o&&"720"===r)&&(l+="P"),t.oParams.regCropResolution=l;var c=e(n).find("RegionCoordinatesList").eq(0).find("RegionCoordinates"),u=parseInt(c.find("positionX").eq(0).text(),10)/1e3,d=1-parseInt(c.find("positionY").eq(0).text(),10)/1e3,p=parseInt(c.find("positionX").eq(2).text(),10)/1e3,m=1-parseInt(c.find("positionY").eq(2).text(),10)/1e3;a.oParams.oRegion[0]=[u,m],a.oParams.oRegion[1]=[p,m],a.oParams.oRegion[2]=[p,d],a.oParams.oRegion[3]=[u,d]}),(function(e){l["a"].getState(e)}))}}},{key:"addArea",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,i,n,o,r,l,c,u,d,p,m,h,f,v,b,g,P;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,this.getMainStreamResolution();case 3:a=e.sent,a=a.split("*"),i=this.oParams.regCropResolution,i=s["a"].replaceAll(i.split("*"),"P",""),n=parseInt(a[0],10),o=parseInt(a[1],10),r=parseInt(i[0],10),l=parseInt(i[1],10),r>n&&(r=n),l>o&&(l=o),c=0,u=0,d=0,p=0,m=0,h=0,f=0,v=0,b=1e3,g=1e3,this.bRotate?(c=parseInt(.5*(o-l),10),u=parseInt(.5*(n-r),10),d=parseInt(.5*(o+l),10),p=parseInt(.5*(n-r),10),m=parseInt(.5*(o+l),10),h=parseInt(.5*(n+r),10),f=parseInt(.5*(o-l),10),v=parseInt(.5*(n+r),10),b=o,g=n):(c=parseInt(.5*(n-r),10),u=parseInt(.5*(o-l),10),d=parseInt(.5*(n+r),10),p=parseInt(.5*(o-l),10),m=parseInt(.5*(n+r),10),h=parseInt(.5*(o+l),10),f=parseInt(.5*(n-r),10),v=parseInt(.5*(o+l),10),b=n,g=o),P=[[c,u],[d,p],[m,h],[f,v]],t.oParams.oRegion=s["a"].changeDiviceToPluginPoints(P,b,g),setTimeout((function(){t.setRectInfoToPlugin(s["a"].changeDiviceToPluginPoints(P,b,g))}),200);case 27:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,i,n,o,r,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.oParams.regCropResolution.split("*"),a=parseInt(t[0],10),i=parseInt(t[1].replace("P",""),10),n="<?xml version='1.0' encoding='utf-8' ?><RegionClip>",this.oParams.id&&(n+="<id>"+this.oParams.id.toString()+"</id>"),this.oParams.szRegionType&&(n+="<regionType>"+this.oParams.szRegionType.toString()+"</regionType>"),n+="<enabled>"+this.oParams.enabled.toString()+"</enabled><normalizedScreenSize><normalizedScreenWidth>",n+=this.oParams.iNorScreenWidth+"</normalizedScreenWidth><normalizedScreenHeight>",n+=this.oParams.iNorScreenHeight+"</normalizedScreenHeight></normalizedScreenSize>",n+="<videoResolutionWidth>"+a+"</videoResolutionWidth>",n+="<videoResolutionHeight>"+i+"</videoResolutionHeight>",e.next=13,c["a"].getRectInfo();case 13:return o=e.sent,o.length>0?(n+="<ClipRegionList><ClipRegion><RegionCoordinatesList>",n+="<RegionCoordinates><positionX>"+Math.floor(1e3*o[0].points[1][0])+"</positionX><positionY>"+Math.floor(1e3*(1-o[0].points[1][1]))+"</positionY></RegionCoordinates>",n+="<RegionCoordinates><positionX>"+Math.floor(1e3*o[0].points[0][0])+"</positionX><positionY>"+Math.floor(1e3*(1-o[0].points[0][1]))+"</positionY></RegionCoordinates>",n+="<RegionCoordinates><positionX>"+Math.floor(1e3*o[0].points[3][0])+"</positionX><positionY>"+Math.floor(1e3*(1-o[0].points[3][1]))+"</positionY></RegionCoordinates>",n+="<RegionCoordinates><positionX>"+Math.floor(1e3*o[0].points[2][0])+"</positionX><positionY>"+Math.floor(1e3*(1-o[0].points[2][1]))+"</positionY></RegionCoordinates>",n+="</RegionCoordinatesList></ClipRegion></ClipRegionList>"):(n+="<ClipRegionList><ClipRegion><RegionCoordinatesList>",n+="<RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates>",n+="<RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates>",n+="<RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates>",n+="<RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates>",n+="</RegionCoordinatesList></ClipRegion></ClipRegionList>"),n+="</RegionClip>",r=s["a"].parseXmlFromStr(n),d={urlCGI:"regCropInfo",params:{channel:this.oChannel.id,videoStream:this.oParams.streamType},data:r,loading:!0},e.abrupt("return",new Promise((function(e){u["a"].put(d).then((function(t){e(),l["a"].saveState(t.xhr)}),(function(t){e(),l["a"].saveState(t)}))})));case 19:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateRegionInfo",value:function(){var e=this;c["a"].getRectInfo().then((function(t){e.oParams.oRegion=t[0].points}))}},{key:"setRectInfoToPlugin",value:function(e){c["a"].setRectInfo([{id:1,type:0,editType:1,points:e,tips:"",widthHeightRate:0,maxShapeSupport:1,drawColor:"#FF0000",translucent:0}])}}]),t}();t["a"]=new d}).call(this,a("1157"))},1589:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("SNMP"),"left-type":"back","show-save-button":!0,"save-text":e.$t("save"),"b-lazy-loading":e.bLazyLoading},on:{"save-handle":e.save}},[t("div",{staticClass:"snmp-page-wrapper",attrs:{slot:"content"},slot:"content"},[t("div",[t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:"SNMP v2"}},[e.oCapbilities.bSupportSnmpV1?t("hm-cell",{attrs:{title:e.$t("enableV1")}},[t("hm-switch",{attrs:{"before-change":e.changeV1},model:{value:e.oParams.bEnableSnmpv1,callback:function(t){e.$set(e.oParams,"bEnableSnmpv1",t)},expression:"oParams.bEnableSnmpv1"}})],1):e._e(),t("hm-cell",{attrs:{title:e.$t("enableV2c")}},[t("hm-switch",{attrs:{"before-change":e.changeV2},model:{value:e.oParams.bEnableSnmpv2,callback:function(t){e.$set(e.oParams,"bEnableSnmpv2",t)},expression:"oParams.bEnableSnmpv2"}})],1),e.oParams.bEnableSnmpv2?[t("hm-cell",{class:{"cell-require":e.oParamsValid.oRCommunity&&e.oParamsValid.oRCommunity.required},attrs:{title:e.$t("readCommunity")}},[t("hm-input",{attrs:{disabled:e.oDisabled.bRCommunity,maxlength:e.length32},model:{value:e.oParams.szRCommunity,callback:function(t){e.$set(e.oParams,"szRCommunity",t)},expression:"oParams.szRCommunity"}}),t("hm-validator",{attrs:{model:e.oParams.szRCommunity,rules:e.oParamsValid.oRCommunity,param:e.$t("readCommunity"),disabled:e.oParamsValid.oRCommunity.skipVerify}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oWCommunity&&e.oParamsValid.oWCommunity.required},attrs:{title:e.$t("writeCommunity")}},[t("hm-input",{attrs:{disabled:e.oDisabled.bWCommunity,maxlength:e.length32},model:{value:e.oParams.szWCommunity,callback:function(t){e.$set(e.oParams,"szWCommunity",t)},expression:"oParams.szWCommunity"}}),t("hm-validator",{attrs:{model:e.oParams.szWCommunity,rules:e.oParamsValid.oWCommunity,param:e.$t("writeCommunity"),disabled:e.oParamsValid.oWCommunity.skipVerify}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oTrapAddr&&e.oParamsValid.oTrapAddr.required},attrs:{title:e.$t("trapIP")}},[t("hm-input",{attrs:{disabled:e.oDisabled.bTrapIP,maxlength:e.length64},model:{value:e.oParams.szTrapIP,callback:function(t){e.$set(e.oParams,"szTrapIP",t)},expression:"oParams.szTrapIP"}}),t("hm-validator",{attrs:{model:e.oParams.szTrapIP,rules:e.oParamsValid.oTrapAddr,param:e.$t("trapIP"),disabled:e.oParamsValid.oTrapAddr.skipVerify}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oTrapPort&&e.oParamsValid.oTrapPort.required},attrs:{title:e.$t("trapPort")}},[t("hm-input",{attrs:{disabled:e.oDisabled.bTrapPort},model:{value:e.oParams.szTrapPort,callback:function(t){e.$set(e.oParams,"szTrapPort",t)},expression:"oParams.szTrapPort"}}),t("hm-validator",{attrs:{model:e.oParams.szTrapPort,rules:e.oParamsValid.oTrapPort,param:e.$t("trapPort"),disabled:e.oParamsValid.oTrapPort.skipVerify}})],1),e.oCapbilities.bSupportTrapCommunity?t("hm-cell",{class:{"cell-require":e.oParamsValid.oTrapCommunity&&e.oParamsValid.oTrapCommunity.required},attrs:{title:e.$t("trapCommunity")}},[t("hm-input",{attrs:{disabled:e.oDisabled.bTrapCommunity,maxlength:e.length32},model:{value:e.oParams.szTrapCommunity,callback:function(t){e.$set(e.oParams,"szTrapCommunity",t)},expression:"oParams.szTrapCommunity"}}),t("hm-validator",{attrs:{model:e.oParams.szTrapCommunity,rules:e.oParamsValid.oTrapCommunity,param:e.$t("trapCommunity"),disabled:e.oParamsValid.oTrapCommunity.skipVerify}})],1):e._e()]:e._e()],2),e.oCapbilities.bSupportSnmpV3?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:"SNMP v3"}},[t("hm-cell",{attrs:{title:e.$t("enableV3c")}},[t("hm-switch",{model:{value:e.oParams.bEnableSnmpv3,callback:function(t){e.$set(e.oParams,"bEnableSnmpv3",t)},expression:"oParams.bEnableSnmpv3"}})],1),e.oParams.bEnableSnmpv3?[t("hm-cell",{class:{"cell-require":e.oParamsValid.oUserName&&e.oParamsValid.oUserName.required},attrs:{title:e.$t("readUserName")}},[t("hm-input",{attrs:{disabled:e.oDisabled.bReadUserName,maxlength:e.length32},model:{value:e.oParams.szReadUserName,callback:function(t){e.$set(e.oParams,"szReadUserName",t)},expression:"oParams.szReadUserName"}}),t("hm-validator",{attrs:{model:e.oParams.szReadUserName,rules:e.oParamsValid.oUserName,param:e.$t("readUserName"),disabled:e.oParamsValid.oUserName.skipVerify}})],1),t("hm-cell",{attrs:{title:e.$t("securityLevel")}},[t("base-select",{attrs:{title:e.$t("securityLevel"),options:e.aReadSecurityLevel,disabled:e.oDisabled.bReadSecurityLevel},model:{value:e.oParams.szReadSecurityLevel,callback:function(t){e.$set(e.oParams,"szReadSecurityLevel",t)},expression:"oParams.szReadSecurityLevel"}})],1),t("hm-cell",{attrs:{title:e.$t("authAlg")}},[t("base-select",{attrs:{title:e.$t("authAlg"),options:e.aReadAuthAlg,disabled:e.oDisabled.bReadAuthAlg},model:{value:e.oParams.szReadAuthAlg,callback:function(t){e.$set(e.oParams,"szReadAuthAlg",t)},expression:"oParams.szReadAuthAlg"}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oReadAuthPassword&&e.oParamsValid.oReadAuthPassword.required},attrs:{title:e.$t("authPsd")}},[t("hm-input",{attrs:{type:"password",disabled:e.oDisabled.bReadAuthPsd,maxlength:e.length16},model:{value:e.oParams.szReadAuthPsd,callback:function(t){e.$set(e.oParams,"szReadAuthPsd",t)},expression:"oParams.szReadAuthPsd"}}),t("hm-validator",{attrs:{model:e.oParams.szReadAuthPsd,rules:e.oParamsValid.oReadAuthPassword,param:e.$t("authPsd"),disabled:e.oParamsValid.oReadAuthPassword.skipVerify}})],1),t("hm-cell",{attrs:{title:e.$t("privacyAlg")}},[t("base-select",{attrs:{title:e.$t("privacyAlg"),options:e.aReadPrivacyAlg,disabled:e.oDisabled.bReadPrivacyAlg},model:{value:e.oParams.szReadPrivacyAlg,callback:function(t){e.$set(e.oParams,"szReadPrivacyAlg",t)},expression:"oParams.szReadPrivacyAlg"}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oReadAlgPassword&&e.oParamsValid.oReadAlgPassword.required},attrs:{title:e.$t("privacyPsd")}},[t("hm-input",{attrs:{type:"password",disabled:e.oDisabled.bReadPrivacyPsd,maxlength:e.length16},model:{value:e.oParams.szReadPrivacyPsd,callback:function(t){e.$set(e.oParams,"szReadPrivacyPsd",t)},expression:"oParams.szReadPrivacyPsd"}}),t("hm-validator",{attrs:{model:e.oParams.szReadPrivacyPsd,rules:e.oParamsValid.oReadAlgPassword,param:e.$t("privacyPsd"),disabled:e.oParamsValid.oReadAlgPassword.skipVerify}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oUserName&&e.oParamsValid.oUserName.required},attrs:{title:e.$t("writeUserName")}},[t("hm-input",{attrs:{disabled:e.oDisabled.bWriteUserName,maxlength:e.length32},model:{value:e.oParams.szWriteUserName,callback:function(t){e.$set(e.oParams,"szWriteUserName",t)},expression:"oParams.szWriteUserName"}}),t("hm-validator",{attrs:{model:e.oParams.szWriteUserName,rules:e.oParamsValid.oUserName,param:e.$t("writeUserName"),disabled:e.oParamsValid.oUserName.skipVerify}})],1),t("hm-cell",{attrs:{title:e.$t("securityLevel")}},[t("base-select",{attrs:{title:e.$t("securityLevel"),options:e.aReadSecurityLevel,disabled:e.oDisabled.bWriteSecurityLevel},model:{value:e.oParams.szWriteSecurityLevel,callback:function(t){e.$set(e.oParams,"szWriteSecurityLevel",t)},expression:"oParams.szWriteSecurityLevel"}})],1),t("hm-cell",{attrs:{title:e.$t("authAlg")}},[t("base-select",{attrs:{title:e.$t("authAlg"),options:e.aWriteAuthAlg,disabled:e.oDisabled.bWriteAuthAlg},model:{value:e.oParams.szWriteAuthAlg,callback:function(t){e.$set(e.oParams,"szWriteAuthAlg",t)},expression:"oParams.szWriteAuthAlg"}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oWriteAthPassword&&e.oParamsValid.oWriteAthPassword.required},attrs:{title:e.$t("authPsd")}},[t("hm-input",{attrs:{type:"password",disabled:e.oDisabled.bWriteAuthPsd,maxlength:e.length16},model:{value:e.oParams.szWriteAuthPsd,callback:function(t){e.$set(e.oParams,"szWriteAuthPsd",t)},expression:"oParams.szWriteAuthPsd"}}),t("hm-validator",{attrs:{model:e.oParams.szWriteAuthPsd,rules:e.oParamsValid.oWriteAthPassword,param:e.$t("authPsd"),disabled:e.oParamsValid.oWriteAthPassword.skipVerify}})],1),t("hm-cell",{attrs:{title:e.$t("privacyAlg")}},[t("base-select",{attrs:{title:e.$t("privacyAlg"),options:e.aReadPrivacyAlg,disabled:e.oDisabled.bWritePrivacyAlg},model:{value:e.oParams.szReadPrivacyAlg,callback:function(t){e.$set(e.oParams,"szReadPrivacyAlg",t)},expression:"oParams.szReadPrivacyAlg"}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oWriteAlgPassword&&e.oParamsValid.oWriteAlgPassword.required},attrs:{title:e.$t("privacyPsd")}},[t("hm-input",{attrs:{type:"password",disabled:e.oDisabled.bWritePrivacyAlgPsd,maxlength:e.length16},model:{value:e.oParams.szWritePrivacyPsd,callback:function(t){e.$set(e.oParams,"szWritePrivacyPsd",t)},expression:"oParams.szWritePrivacyPsd"}}),t("hm-validator",{attrs:{model:e.oParams.szWritePrivacyPsd,rules:e.oParamsValid.oWriteAlgPassword,param:e.$t("privacyPsd"),disabled:e.oParamsValid.oWriteAlgPassword.skipVerify}})],1)]:e._e()],2):e._e(),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("snmpMore")}},[t("hm-cell",{class:{"cell-require":e.oParamsValid.oSnmpPort&&e.oParamsValid.oSnmpPort.required},attrs:{title:e.$t("snmpPort")}},[t("hm-input",{model:{value:e.oParams.szSnmpPort,callback:function(t){e.$set(e.oParams,"szSnmpPort",t)},expression:"oParams.szSnmpPort"}}),t("hm-validator",{attrs:{model:e.oParams.szSnmpPort,rules:e.oParamsValid.oSnmpPort,param:e.$t("snmpPort"),disabled:e.oParamsValid.oSnmpPort.skipVerify}})],1)],1)],1)],1),t("base-view")],1)])},n=[],o=(a("a481"),a("1c1a")),r=a("c050"),s=a("6670"),l=a("47b5"),c={name:"SNMP",components:{BaseView:o["a"],BaseSelect:l["a"]},data:function(){return{bLazyLoading:!1,validate:{},oParams:s["a"].m_oParams,oParamsValid:s["a"].m_oParamsValid,oCapbilities:s["a"].m_oCapbilities,oDisabled:s["a"].oDisabled,aReadSecurityLevel:[{value:"1_1",text:"auth, priv"},{value:"1_0",text:"auth, no priv"},{value:"0_0",text:"no auth, no priv"}],aReadAuthAlg:[],aWriteAuthAlg:[],aWritePrivacyAlg:[],aReadPrivacyAlg:[],length16:16,length32:32,length64:64,szTips:""}},watch:{"oParams.bEnableSnmpv1":{handler:function(){s["a"].changeInputValid(),s["a"].disabled()},deep:!0},"oParams.bEnableSnmpv2":{handler:function(){s["a"].changeInputValid(),s["a"].disabled()},deep:!0},"oParams.bEnableSnmpv3":{handler:function(){s["a"].changeInputValid(),s["a"].disabled(),this.updata()},deep:!0},"oParams.szReadSecurityLevel":{handler:function(){s["a"].changeInputValid(),s["a"].disabled(),this.updata()},deep:!0},"oParams.szWriteSecurityLevel":{handler:function(){s["a"].changeInputValid(),s["a"].disabled(),this.updata()},deep:!0}},created:function(){var e=this;s["a"].getSnmpInfo().finally((function(){e.szTips=e.$t("snmpRiskTip"),e.updata()}))},methods:{changeV1:function(){var e=this,t=this.szTips.replace("V2","V1");this.oParams.bEnableSnmpv1?this.oParams.bEnableSnmpv1=!1:r["a"].confirm(t,(function(){e.oParams.bEnableSnmpv1=!0}))},changeV2:function(){var e=this;this.oParams.bEnableSnmpv2?this.oParams.bEnableSnmpv2=!1:r["a"].confirm(this.szTips,(function(){e.oParams.bEnableSnmpv2=!0}))},updata:function(){this.aReadAuthAlg=[{value:"MD5",text:"MD5",disabled:this.oDisabled.bReadAuthAlg},{value:"SHA",text:"SHA",disabled:this.oDisabled.bReadAuthAlg}],this.aWriteAuthAlg=[{value:"MD5",text:"MD5",disabled:this.oDisabled.bWriteAuthAlg},{value:"SHA",text:"SHA",disabled:this.oDisabled.bWriteAuthAlg}],this.aWritePrivacyAlg=[{value:"DES",text:"DES",disabled:this.oDisabled.bWritePrivacyAlg},{value:"AES",text:"AES",disabled:this.oDisabled.bWritePrivacyAlg}],this.aReadPrivacyAlg=[{value:"DES",text:"DES",disabled:this.oDisabled.bReadPrivacyAlg},{value:"AES",text:"AES",disabled:this.oDisabled.bReadPrivacyAlg}]},save:function(){var e=this;this.validate.validateAll(),r["a"].validateTips(this.validate.getErrorReport())&&(this.bLazyLoading=!0,s["a"].save().then((function(){e.bLazyLoading=!1})))}}},u=c,d=(a("86c6"),a("f08f"),a("2877")),p=Object(d["a"])(u,i,n,!1,null,"733cfd58",null);t["default"]=p.exports},"169e":function(e,t,a){"use strict";(function(e){a("b54a");t["a"]={props:{params:{type:Object,default:function(){return{}}},capbilities:{type:Object,default:function(){return{}}},starts:{type:Boolean,default:function(){return!0}},pauses:{type:Boolean,default:function(){return!1}},stops:{type:Boolean,default:function(){return!1}}},data:function(){return{hparams:this.params,hcapbilities:this.capbilities}},mounted:function(){this.$nextTick((function(){this.link()}))},methods:{link:function(){for(var t="<table id='hddTestTable' cellpadding='0' cellspacing='0' style='border-collapse: collapse;'>",a=0;a<40;a++){t+="<tr>";for(var i=0;i<40;i++)t+="<td class='cell' ></td>";t+="</tr>"}t+="</table>",e(".table-container").append(t)},startBlock:function(){this.$emit("startTestBlock",!1,!0,!0)},pauseBlock:function(){this.$emit("pauseTestBlock",!0,!0,!0)},stopBlock:function(){this.$emit("stopTestBlock",!0,!1,!1)},showAlert:function(){this.$createDialog({type:"alert",title:"停止",content:"方法不允许"}).show()}}}}).call(this,a("1157"))},"16b4":function(e,t,a){"use strict";(function(e){a("96cf");var i=a("1da1"),n=a("1c1a"),o=a("c050"),r=a("3616"),s=a("2b88"),l=a("6458"),c=a("3117"),u=a("47b5");t["a"]={name:"OSD",components:{BaseView:n["a"],NewBasePageExtendRotate:r["a"],PluginWind:s["a"],ChannelList:l["a"],BaseSelect:u["a"]},data:function(){return{scrollY:0,scrollEvents:["scroll"],bAutoShrink:!0,btnsTips:[{action:"delete",text:this.$t("delete"),color:"#ff3a32"}],bEnableCancelCallback:!0,bLandscapeMode:!1,bPluginHide:!1,oChannel:{},validate:{},oOSDCapa:c["a"].oOSDCapa,oInputValid:c["a"].oInputValid,oOsdParams:c["a"].oOsdParams,oTempOsdParams:{},predefineColors:["#f00000","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff","#ffffff","#ebebeb","#e1e1e1","#d7d7d7","#cccccc","#c2c2c2","#b7b7b7","#acacac","#a0a0a0","#959595","#898989","#7d7d7d","#707070","#626262","#555555","#464646","#363636","#262626","#111111","#000000","#f7977a","#fbad82","#fdc68c","#fff799","#c6df9c","#a4d49d","#81ca9d","#7bcdc9","#6ccff7","#7ca6d8","#8293ca","#8881be","#a286bd","#bc8cbf","#f49bc1","#f5999d","#f16c4d","#f68e54","#fbaf5a","#fff467","#acd372","#7dc473","#39b778","#16bcb4","#00bff3","#438ccb","#5573b7","#5e5ca7","#855fa8","#a763a9","#ef6ea8","#f16d7e","#ee1d24","#f16522","#f7941d","#fff100","#8fc63d","#37b44a","#00a650","#00a99e","#00aeef","#0072bc","#0054a5","#2f3192","#652c91","#91278f","#ed008c","#ee105a","#9d0a0f","#a1410d","#a36209","#aba000","#588528","#197b30","#007236","#00736a","#0076a4","#004a80","#003370","#1d1363","#450e61","#62055f","#9e005c","#9d0039","#790000","#7b3000","#7c4900","#827a00","#3e6617","#045f20","#005824","#005951","#005b7e","#003562","#002056","#0c004b","#30004a","#4b0048","#7a0045","#7a0026"],oTimeFormatList:[{value:"12hour",text:this.$t("twelveHour")},{value:"24hour",text:this.$t("twentyFourHour")}],MinBoundary:[{value:"0",text:this.$t("Null")},{value:"1",text:this.$t("oneCharacter")},{value:"2",text:this.$t("twoCharacter")}]}},watch:{"oChannel.id":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t>-1&&(c["a"].initParames(),c["a"].oOsdParams.iChannelId=t,c["a"].getInfo().then((function(){a.oOSDCapa=c["a"].oOSDCapa,a.oOsdParams=c["a"].oOsdParams,a.oInputValid=c["a"].oInputValid,a.changeOSDInfo()})));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0},"oOsdParams.szAlignment":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"GB"===this.oOsdParams.szAlignment&&"GB"!==t&&c["a"].watchAlignment();case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0}},created:function(){this.oChannel={id:1}},methods:{scrollHandler:function(e){var t=e.y;this.scrollY=-t},addTextOverlayList:function(){this.oOsdParams.textOverlayList.unshift({checked:!0,name:"",value:"",x:0,y:0}),this.changeOSDInfo()},removeTextOverlay:function(e){var t=this;o["a"].confirm(this.$t("confirmToDelete"),(function(){t.oOsdParams.textOverlayList.splice(e,1),t.changeOSDInfo()}),(function(){}))},onSwipeBtnClick:function(e,t){"delete"===e.action?(this.oOsdParams.textOverlayList.splice(t,1),this.changeOSDInfo()):this.$refs.swipeItem[t].shrink()},getOSDSizeTranslaor:function(e){return"adaptive"===e?this.$t("auto"):e},changeAliment:function(){c["a"].changeAliment()},changeOSDInfo:function(){c["a"].changeOSDInfo()},save:function(){this.validate.validateAll(),o["a"].validateTips(this.validate.getErrorReport())&&c["a"].save()},confirmLandscapeMode:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.bLandscapeMode=!1,c["a"].getTextOverlayFromPlugin();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),cancelLandscapeMode:function(){this.bLandscapeMode=!1},cancelCallbackAreaSet:function(){e.extend(!0,this.oOsdParams,this.oTempOsdParams)},showAreaSet:function(){e.extend(!0,this.oTempOsdParams,this.oOsdParams),c["a"].setDrawStatus(!1)},draw:function(){var t=this;c["a"].getTextOverlayFromPlugin(),this.bShowAreaSet=!1,this.bLandscapeMode=!0,this.$nextTick((function(){var a=t.$store.state.globeStore.screenWidth?t.$store.state.globeStore.screenWidth:window.screen.height;e("#main_plugin").height(window.screen.width-88),e("#main_plugin").width(a)}))},playSuccess:function(){this.$nextTick(Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:c["a"].setTextOverlayToPlugin();case 1:case"end":return e.stop()}}),e)}))))}}}}).call(this,a("1157"))},"181b":function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return u}));var i=a("d4ec"),n=a("bee2"),o=a("7de8"),r=a("2b0e"),s=a("8d94"),l=a("ff32");r["default"].use(s["a"]);var c=function(){function t(){Object(i["a"])(this,t),this.oPlugin=null,this.id="main_plugin",this.resetPluginInit(),this.iVideoMode=0,this.oImageRefresh={intervalId:0,intervalTime:200,szUrl:""}}return Object(n["a"])(t,[{key:"resetPluginInit",value:function(){this.oInit=o["a"].getInstancePromise()}},{key:"init",value:function(e,t,a,i,n,o){var r=this,s=this;return new Promise((function(l,c){"undefined"!==typeof e&&t&&a||(c(),r.oInit.reject());var u=4;0!==e&&1!==e||(u=1),r.id=o||"main_plugin",s.oPlugin=new window.JSPlugin({szId:o||"main_plugin",iType:parseInt(e,10),iWidth:i,iHeight:n,iMaxSplit:u,iCurrentSplit:t,szBasePath:"../../../doc/thirdLib/jsPlugin",szPlayMode:a,iRotateMode:1,bNewInstance:!!o,oSessionInfo:{sessionID:"d1b39fbecfb16c987b6b978395c1559b47f656b0e32fbbb778ffc63b4b8389a0",user:"admin",challenge:"e51cbf2cd9c52f9189dd7dfedf1804d2",iterations:100,random:1}}),l()}))}},{key:"removePlugin",value:function(){var e=this;this.resetPluginInit();var t=new Promise((function(t){e.oPlugin&&e.oPlugin.JS_DestroyPlugin().then((function(){t(0)}),(function(){t(-1)}))}));return t}},{key:"showPlugin",value:function(){var e=this,t=new Promise((function(t){e.oPlugin&&e.oPlugin.JS_ShowWnd().then((function(){t(0)}),(function(){t(-1)}))}));return t}},{key:"hidePlugin",value:function(){var e=this,t=new Promise((function(t){e.oPlugin&&e.oPlugin.JS_HideWnd().then((function(){t(0)}),(function(){t(-1)}))}));return t}},{key:"resize",value:function(t,a){t||a||(t=e("#"+this.id).width(),a=e("#"+this.id).height());var i=this,n=new Promise((function(e){i.oPlugin&&i.oPlugin.JS_Resize(t,a).then((function(){e(0)}),(function(){e(-1)}))}));return n}},{key:"arrangeWindow",value:function(e){var t=this,a=new Promise((function(a){t.oPlugin.JS_ArrangeWindow(e).then((function(){a(0)}),(function(){a(-1)}))}));return a}},{key:"fullScreen",value:function(){var e=this,t=new Promise((function(t){e.oPlugin.JS_FullScreenDisplay(!0).then((function(){t(0)}),(function(){t(-1)}))}));return t}},{key:"setWindowControlCallback",value:function(e){return this.oPlugin.JS_SetWindowControlCallback(e)}},{key:"enableDrawRectCallback",value:function(e,t){return this.oPlugin.JS_SetDrawCallback(e,!0,"Rect",!1,(function(e){t(e.points)}))}},{key:"disableDrawRectCallback",value:function(e){return this.oPlugin.JS_SetDrawCallback(e,!1,"Rect",!1,(function(){}))}},{key:"setCanFullScreen",value:function(e){return this.oPlugin.JS_SetFullScreenCapability(e)}},{key:"setPlaybackDrawType",value:function(e,t,a){var i=!0;return"Line"!==t&&"Polygon"!==t&&(i=!1),this.oPlugin.JS_SetDrawCallback(e,i,t,!0,(function(e){a(e.points)}))}},{key:"setDrawCallback",value:function(e,t,a,i,n,o){return this.oPlugin.JS_SetDrawCallback(e,t,a,i,(function(e){n(e)}),o)}},{key:"setDrawStatus",value:function(e,t){var a=-1;return a=t?this.oPlugin&&this.oPlugin.JS_SetDrawStatus(e,t):this.oPlugin&&this.oPlugin.JS_SetDrawStatus(e),a}},{key:"clearRegion",value:function(){return this.oPlugin&&this.oPlugin.JS_ClearRegion()}},{key:"clearShapeByType",value:function(e,t){return this.oPlugin&&this.oPlugin.JS_ClearShapeByType(e,t)}},{key:"setDrawShapeInfo",value:function(e,t){return this.oPlugin&&this.oPlugin.JS_SetDrawShapeInfo(e,t)}},{key:"setGridInfo",value:function(e){return this.oPlugin&&this.oPlugin.JS_SetGridInfo(e)}},{key:"getGridInfo",value:function(){return this.oPlugin&&this.oPlugin.JS_GetGridInfo()}},{key:"setRectInfo",value:function(e){return this.oPlugin&&this.oPlugin.JS_SetRectInfo(e)}},{key:"getRectInfo",value:function(){return this.oPlugin&&this.oPlugin.JS_GetRectInfo()}},{key:"setPolygonInfo",value:function(e){return this.oPlugin&&this.oPlugin.JS_SetPolygonInfo(e)}},{key:"getPolygonInfo",value:function(){return this.oPlugin&&this.oPlugin.JS_GetPolygonInfo()}},{key:"setLineInfo",value:function(e){return this.oPlugin&&this.oPlugin.JS_SetLineInfo(e)}},{key:"getLineInfo",value:function(){return this.oPlugin&&this.oPlugin.JS_GetLineInfo()}},{key:"setPointInfo",value:function(e){return this.oPlugin.JS_SetPointInfo(e)}},{key:"getPointInfo",value:function(){return this.oPlugin.JS_GetPointInfo()}},{key:"setTextOverlay",value:function(e){return this.oPlugin.JS_SetTextOverlay(e)}},{key:"getTextOverlay",value:function(){return this.oPlugin.JS_GetTextOverlay()}},{key:"clearSnapInfo",value:function(e){if(this.oPlugin){var t="";return 0===e?t="Rect":1===e?t="Polygon":2===e?t="Line":4===e?t="All":6===e?t="Choosed":3===e&&(t="Rect",this.oPlugin.JS_ClearShapeByType(t),t="Polygon"),this.oPlugin.JS_ClearShapeByType(t)}}},{key:"setSnapLineInfo",value:function(e){return this.oPlugin.JS_SetLineInfo(e)}},{key:"selectShape",value:function(e,t){var a=-1;return this.oPlugin&&(a=this.oPlugin.JS_SelectShape(e,t)),a}},{key:"getPlayInfo",value:function(e){return this.oPlugin.JS_GetPlayInfo(e)}},{key:"destroy",value:function(){if(this.oPlugin)return this.oPlugin.JS_DestroyAll()}},{key:"setPlayWndMode",value:function(e,t,a){if(this.oPlugin)return this.oPlugin.JS_SetPlayWndMode(e,t,a)}},{key:"imagePlay",value:function(e){var t=this;if(!e)return Promise.reject();this.oImageRefresh.szUrl=e,clearInterval(this.oImageRefresh.intervalId);var a=e;return a=l["a"].dispatchURL(a),this.oImageRefresh.szUrl===e&&(a+="?"+(new Date).getTime()),new Promise((function(e){t.oPlugin.JS_PlayWithImg(0,a).then((function(){t.oImageRefresh.intervalId=setTimeout((function(){t.imagePlay(t.oImageRefresh.szUrl)}),t.oImageRefresh.intervalTime),e(0)}),(function(){t.oImageRefresh.intervalId=setTimeout((function(){t.imagePlay(t.oImageRefresh.szUrl)}),t.oImageRefresh.intervalTime),e(0)}))}))}},{key:"changeImageInterval",value:function(e){this.oImageRefresh.intervalTime=e,this.imagePlay(this.oImageRefresh.szUrl)}}]),t}(),u=new c}).call(this,a("1157"))},19918:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABHNCSVQICAgIfAhkiAAABGhJREFUaIHtWU9II1cc/l4MJLqaqMFVkbCjNlW3pSBC6WEKtt0cIkS81EPB7lUvHgaCSGu1pdBbe+sh3lYE2QpB5yYIFilpaRs8GNvqVrO4k0m0KWiTmDh/Xg/dtHY3hnlJRpqy3/HN78/3ze97L48J8AL/c8iyPGxmfYtZhSVJmo/H41TX9bl4PB6VZfldM/pUXUCBOIABAFFCyNsA7lJKH8qyvCZJ0mA1+5FqFpMkaZ4QsgAgCuCVEqGfn5+fL/T39/9Rac+qTKDw1i0Wy/DTpVLkAUBwOByPZFmeqrR3RQIKxCmlrwLYp5QOM6TfppR+GY/Hv5EkyVsuh7ItdMUuPwPoL7fOFTwghMx3dnbGWJKYJyBJ0rwkSZQQ8s7TpWqQB4D3KaW/PnnyZG52drbNaJJhAQW7EEJeI4TEALxZDstSSCQS8szMzCexWOye0RyrkSBRFIcjkchCR0dHrqur6y0ALWWzvAaLi4ux/f19DgB0XadG8wwJKCCRSNhTqZTd7XY/bmlpucPIsSg2Njb2Nzc3u3Vd5wprhJCE0XwmAQCgKAoODw/vNDY2ZjiOi9tsNg9rDQA4ODiILS8vN2cymZcBQNd1KIoCXddBKf3NaB1mAQWk0+lbu7u7nra2tjO3260SQlxG8nK5XDYYDP5+fHzMAQClFKqqQlXVf0hZrbpRHoaPUVEUKSEElD5vT0IIOI6Ltba2cqVqhEKhg3A43EsptQCAqqpQFOW5OErp3VAo9JMRXkwTKEa+sH50dMQlk8lsd3f3Y7vdPnD1+c7OzqPV1dXOfD7vAQBN06CqKnS9+ItmmUDZFiqGbDbbEI1GB1wu17nb7c6m0+m6YDConZycvAT8JVRRFGiaVrKOqqrmnELXWehZpFIpRyqVcqysrFwlVdQuRUmZNQEj5J9N0TSNKIrClKtpmmEBLFeJLYbYApH85eUls/C6ujrDCUx3IULY7n66rpc2+zUwawLlWKgsmCbgpmCWhbZYLVQuVFWtbQtZrVZzNvFNwbQJ3JSFbDZbbVsol8uZYqGvb2oCdru9tieQzWZrexM3NDTU9ibO5/PVF+D3+7duykI2m622LZTL5WrbQi6Xq7ZPoWQyWZsWqq+vhyAI8Hq9hnmxTkAAkGVmdg18Ph98Ph8AYHBwEFNTUwiHwz2CIFwYrcEkYHR09IuLiwsHpfQ7Rq7/gsfj+Zv43t4eBEFAc3PzFM/zJBAIHLHUYv6sMj4+rgF4QxTFWUrpHCGknrUGAGxvb4Pn+Yu+vr6veJ6/X04NoII94Pf7P7NarS0AvmfNdTqd8Hq9P56dnXGTk5Nlkwcq/LA1MjKSB/C6KIofAvgAgL1UfE9PD8bGxhCJRO5PTEw8qKR3AVU5hfx+/6cAXISQH4o9dzqdEAQBvb29izzPk+np6aqQB6r8NysArK+vf0QI+RgAlpaWMkNDQ7fa29u/PT09vRcIBDLV7mfKT+va2lqTxWL5pamp6XYkEnlPEISHZvR5gf8C/gQFxwB9lO4agAAAAABJRU5ErkJggg=="},"1a11":function(e,t,a){},"1ae0":function(e,t,a){},"1b33":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("loginManagement"),"right-type":"text"}},[t("div",{staticClass:"rs485-page-wrapper",attrs:{slot:"content"},slot:"content"},[t("hm-scroll",[t("div",{staticClass:"hm-index-list-item"},[t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[e.oCap.bTelnet?t("hm-cell",{attrs:{title:e.$t("enableTelnet")}},[t("hm-switch",{model:{value:e.oServiceInfo.bTelnet,callback:function(t){e.$set(e.oServiceInfo,"bTelnet",t)},expression:"oServiceInfo.bTelnet"}})],1):e._e(),e.oCap.bLoginLock?t("hm-cell",{attrs:{title:e.$t("enableLoginLock")}},[t("hm-switch",{model:{value:e.oServiceInfo.bLoginLock,callback:function(t){e.$set(e.oServiceInfo,"bLoginLock",t)},expression:"oServiceInfo.bLoginLock"}})],1):e._e(),e.oCap.bStreamEncryption?t("hm-cell",{attrs:{title:e.$t("streamEncryption")}},[t("hm-switch",{model:{value:e.oServiceInfo.bStreamEncryption,callback:function(t){e.$set(e.oServiceInfo,"bStreamEncryption",t)},expression:"oServiceInfo.bStreamEncryption"}})],1):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:e.oCap.bSupportEncryption,expression:"oCap.bSupportEncryption"}]},[t("hm-cell",{attrs:{title:e.$t("enableEncryption")}},[t("hm-switch",{model:{value:e.oServiceInfo.bEncryption,callback:function(t){e.$set(e.oServiceInfo,"bEncryption",t)},expression:"oServiceInfo.bEncryption"}})],1),e.oServiceInfo.bEncryption?t("hm-cell",{class:{"cell-require":e.oParamsValid.oPassword&&e.oParamsValid.oPassword.required},attrs:{title:e.$t("SecretKey")}},[t("hm-input",{attrs:{placeholder:e.$t("password"),type:"password"},model:{value:e.oServiceInfo.szPwd,callback:function(t){e.$set(e.oServiceInfo,"szPwd",t)},expression:"oServiceInfo.szPwd"}}),t("hm-validator",{attrs:{model:e.oServiceInfo.szPwd,disabled:!(e.oServiceInfo.bEncryption&&e.oCap.bSupportEncryption),rules:e.oParamsValid.oPassword,param:e.$t("password")}})],1):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:e.oServiceInfo.bEncryption,expression:"oServiceInfo.bEncryption"}]},[t("p",{staticClass:"txt-desc"},[e._v(e._s(e.$t("verifyCodeStrengthTip")))]),t("p",{staticClass:"txt-desc"},[e._v(e._s(e.$t("encryptionValidTips")))])])],1),e.oCap.bSupportImageURlCertificate?t("hm-cell",{attrs:{title:e.$t("enableImageURlCertificate")},on:{change:e.clickedImageURlCertificate}},[t("hm-switch",{model:{value:e.oServiceInfo.bImageURlCertificate,callback:function(t){e.$set(e.oServiceInfo,"bImageURlCertificate",t)},expression:"oServiceInfo.bImageURlCertificate"}})],1):e._e(),e.oCap.bSupportAuthenticationService?t("div",[t("hm-cell",{attrs:{title:e.$t("enableSerialService")}},[t("hm-switch",{model:{value:e.oServiceInfo.bEnableSerial,callback:function(t){e.$set(e.oServiceInfo,"bEnableSerial",t)},expression:"oServiceInfo.bEnableSerial"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:!e.oServiceInfo.bEnableSerial,expression:"!oServiceInfo.bEnableSerial"}],class:{"cell-require":e.oParamsValid.oServiceCloseTime&&e.oParamsValid.oServiceCloseTime.required},attrs:{title:e.$t("serviceCloseTime")+"("+e.$t("days")+")"}},[t("hm-input",{model:{value:e.oServiceInfo.iServiceCloseTime,callback:function(t){e.$set(e.oServiceInfo,"iServiceCloseTime",t)},expression:"oServiceInfo.iServiceCloseTime"}}),t("hm-validator",{attrs:{model:e.oServiceInfo.iServiceCloseTime,disabled:e.oServiceInfo.bEnableSerial,rules:e.oParamsValid.oServiceCloseTime,param:e.$t("serviceCloseTime")}})],1)],1):e._e(),e.oCap.oWrongNumber.bSupport?t("hm-cell",{attrs:{title:e.$t("wrongNumberConfigure")+":"+e.oServiceInfo.iWrongNumber}},[t("hm-stepper",{attrs:{min:e.oCap.oWrongNumber.iMin,max:e.oCap.oWrongNumber.iMax,step:1},model:{value:e.oServiceInfo.iWrongNumber,callback:function(t){e.$set(e.oServiceInfo,"iWrongNumber",t)},expression:"oServiceInfo.iWrongNumber"}})],1):e._e()],1)],1),e.oAdvanceCap.oSecurityEnhanced.bSupport?t("div",[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("enable")}},[t("hm-switch",{nativeOn:{click:function(t){return e.enableSecurityEnhanced()}},model:{value:e.oAdvancedInfo.securityEnhanced,callback:function(t){e.$set(e.oAdvancedInfo,"securityEnhanced",t)},expression:"oAdvancedInfo.securityEnhanced"}})],1)],1)],1):e._e(),e.oAdvanceCap.oTimeOutExit.bSupport?t("div",[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("controlTimeoutConfiguration")}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.oAdvanceCap.oTimeOutExit.oEnable.bSupport,expression:"oAdvanceCap.oTimeOutExit.oEnable.bSupport"}]},[t("hm-cell",{attrs:{title:e.$t("enableControlTimeoutConfiguration")}},[t("hm-switch",{model:{value:e.oAdvancedInfo.noOperationEnabled,callback:function(t){e.$set(e.oAdvancedInfo,"noOperationEnabled",t)},expression:"oAdvancedInfo.noOperationEnabled"}})],1)],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oAdvanceCap.oTimeOutExit.oTimeOut.bSupport,expression:"oAdvanceCap.oTimeOutExit.oTimeOut.bSupport"}],attrs:{title:e.$t("outTime")+"("+e.$t("minute")+")"}},[t("hm-stepper",{attrs:{min:e.oAdvanceCap.oTimeOutExit.oTimeOut.iMin,max:e.oAdvanceCap.oTimeOutExit.oTimeOut.iMax,step:1},model:{value:e.oAdvancedInfo.noOperationTime,callback:function(t){e.$set(e.oAdvancedInfo,"noOperationTime",t)},expression:"oAdvancedInfo.noOperationTime"}})],1)],1)],1):e._e(),e.oAdvanceCap.oDigestStatus.bSupport?t("div",[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("algorithmSummary")}}),t("hm-cell",{attrs:{title:e.$t("digestStatus"),value:e.oAdvancedInfo.digestStatus}})],1)],1):e._e()],1),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{on:{click:e.save}},[e._v(e._s(e.$t("save")))])],1)]),t("base-view")],1)])},n=[],o=(a("96cf"),a("1da1")),r=a("a424"),s=a("1c1a"),l=a("c050"),c=a("8d94"),u={name:"Service",components:{BaseView:s["a"]},data:function(){return{oServiceInfo:r["a"].oServiceInfo,validate:{},oParamsValid:{},oCap:r["a"].oCap,oAdvancedInfo:{securityEnhanced:!1,noOperationEnabled:!0,noOperationTime:15,digestStatus:"SHA256"},oAdvanceCap:r["a"].oAdvanceCap}},created:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r["a"].init();case 2:this.oServiceInfo=r["a"].oServiceInfo,this.oCap=r["a"].oCap,this.oAdvanceCap=r["a"].oAdvanceCap,this.oAdvancedInfo=r["a"].oAdvancedInfo,this.oParamsValid=r["a"].oInputValid;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{changeSSH:function(){var e=this;this.oServiceInfo.bSSH?this.oServiceInfo.bSSH=!1:l["a"].confirm(c["a"].t("enableTLS1_0Tips"),(function(){e.oServiceInfo.bSSH=!0}))},clickedImageURlCertificate:function(){!this.oServiceInfo.bImageURlCertificate&&l["a"].stateAlert(c["a"].t("imageURlCertificateTips"))},save:function(){this.validate.validateAll(),l["a"].validateTips(this.validate.getErrorReport())&&(this.oServiceInfo.szPwd?/[^(A)(B)(C)(D)(E)(F)]/.test(this.oServiceInfo.szPwd)?/[A-Za-z0-9]/.test(this.oServiceInfo.szPwd)?r["a"].save():l["a"].tip(c["a"].t("password")+": "+c["a"].t("wrong")):l["a"].tip(c["a"].t("password")+": "+c["a"].t("cannotUserABCDEF")):r["a"].save())}}},d=u,p=(a("109b"),a("2877")),m=Object(p["a"])(d,i,n,!1,null,"3364a5ca",null);t["default"]=m.exports},"1c1a":function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"page-move"}},[t("router-view",{staticClass:"cube-view"})],1)},n=[],o={},r=o,s=(a("5f0d"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,null,null);t["a"]=l.exports},"1c1d":function(e,t,a){"use strict";a("b54a");var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"time-plan"},[t("hm-collapse",[e.link.normal.hide?e._e():t("hm-collapse-item",{attrs:{title:e.$t("normalLink")}},[t("hm-cell-group",[t("hm-checkbox",{attrs:{position:"left"},on:{input:function(t){return e.changeLinkAll(e.oAll.bNormal)}},model:{value:e.oAll.bNormal,callback:function(t){e.$set(e.oAll,"bNormal",t)},expression:"oAll.bNormal"}},[e._v("\n          "+e._s(e.$t("selectAll"))+"\n        ")]),void 0!=e.link.normal.beep?t("div",[t("hm-checkbox",{attrs:{position:"left"},model:{value:e.link.normal.beep,callback:function(t){e.$set(e.link.normal,"beep",t)},expression:"link.normal.beep"}},[e._v("\n            "+e._s(e.$t("soundAlarm"))+"\n          ")])],1):e._e(),void 0!=e.link.normal.email?t("div",[t("hm-checkbox",{attrs:{position:"left"},model:{value:e.link.normal.email,callback:function(t){e.$set(e.link.normal,"email",t)},expression:"link.normal.email"}},[e._v("\n            "+e._s(e.$t("emailLink"))+"\n          ")])],1):e._e(),void 0!=e.link.normal.center?t("div",[t("hm-checkbox",{attrs:{position:"left"},model:{value:e.link.normal.center,callback:function(t){e.$set(e.link.normal,"center",t)},expression:"link.normal.center"}},[e._v("\n            "+e._s(e.$t("uploadCenter"))+"\n          ")])],1):e._e(),void 0!=e.link.normal.sip?t("div",[t("hm-checkbox",{attrs:{position:"left"},model:{value:e.link.normal.sip,callback:function(t){e.$set(e.link.normal,"sip",t)},expression:"link.normal.sip"}},[e._v("\n            "+e._s(e.$t("voiceAlarmToSIPPhone"))+"\n          ")])],1):e._e(),void 0!=e.link.normal.focus?t("div",[t("hm-checkbox",{attrs:{position:"left"},model:{value:e.link.normal.focus,callback:function(t){e.$set(e.link.normal,"focus",t)},expression:"link.normal.focus"}},[e._v("\n            "+e._s(e.$t("focus"))+"\n          ")])],1):e._e(),void 0!=e.link.normal.monitor?t("div",[t("hm-checkbox",{attrs:{position:"left"},model:{value:e.link.normal.monitor,callback:function(t){e.$set(e.link.normal,"monitor",t)},expression:"link.normal.monitor"}},[e._v("\n            "+e._s(e.$t("monitorAlarm"))+"\n          ")])],1):e._e(),void 0!=e.link.normal.ftp?t("div",[t("hm-checkbox",{attrs:{position:"left"},model:{value:e.link.normal.ftp,callback:function(t){e.$set(e.link.normal,"ftp",t)},expression:"link.normal.ftp"}},[e._v("\n            "+e._s(e.$t("uploadFTP"))+"\n          ")])],1):e._e(),void 0!=e.link.normal.cloud?t("div",[t("hm-checkbox",{attrs:{position:"left"},model:{value:e.link.normal.cloud,callback:function(t){e.$set(e.link.normal,"cloud",t)},expression:"link.normal.cloud"}},[e._v("\n            "+e._s(e.$t("uploadCloud"))+"\n          ")])],1):e._e(),void 0!=e.link.normal.osd?t("div",[t("hm-checkbox",{attrs:{position:"left"},model:{value:e.link.normal.osd,callback:function(t){e.$set(e.link.normal,"osd",t)},expression:"link.normal.osd"}},[e._v("\n            "+e._s(e.$t("osdShow"))+"\n          ")])],1):e._e(),void 0!=e.link.normal.trace?t("div",[t("hm-checkbox",{attrs:{position:"left"},model:{value:e.link.normal.trace,callback:function(t){e.$set(e.link.normal,"trace",t)},expression:"link.normal.trace"}},[e._v("\n            "+e._s(e.$t("linkageTracking"))+"\n          ")])],1):e._e(),void 0!=e.link.normal.lightAuido?t("div",[t("hm-checkbox",{attrs:{position:"left"},model:{value:e.link.normal.lightAuido,callback:function(t){e.$set(e.link.normal,"lightAuido",t)},expression:"link.normal.lightAuido"}},[e._v("\n            "+e._s(e.$t("audioLightAlarm"))+"\n          ")])],1):e._e(),void 0!=e.link.normal.whiteLight?t("div",[t("hm-checkbox",{attrs:{position:"left"},model:{value:e.link.normal.whiteLight,callback:function(t){e.$set(e.link.normal,"whiteLight",t)},expression:"link.normal.whiteLight"}},[e._v("\n            "+e._s(e.$t("whiteLightLink"))+"\n          ")])],1):e._e(),void 0!=e.link.normal.audio?t("div",[t("hm-checkbox",{attrs:{position:"left"},model:{value:e.link.normal.audio,callback:function(t){e.$set(e.link.normal,"audio",t)},expression:"link.normal.audio"}},[e._v("\n            "+e._s(e.$t("linkVideoOutput"))+"\n          ")])],1):e._e()],1)],1),e.link.alarm.bShow?t("hm-collapse-item",{attrs:{title:e.$t("linkAlarmOutput")}},[t("hm-cell-group",[t("hm-checkbox",{attrs:{position:"left"},on:{input:function(t){return e.changeAlarmAll(e.oAll.bAlarm)}},model:{value:e.oAll.bAlarm,callback:function(t){e.$set(e.oAll,"bAlarm",t)},expression:"oAll.bAlarm"}},[e._v("\n          "+e._s(e.$t("selectAll"))+"\n        ")]),e._l(e.link.alarm.aAnalogAlarmId,(function(a,i){return t("div",{key:"AnalogAlarmId-"+i},[t("hm-checkbox",{attrs:{position:"left"},on:{input:function(t){return e.forceUpdate("alarm")}},model:{value:e.link.alarm.oInfo[a],callback:function(t){e.$set(e.link.alarm.oInfo,a,t)},expression:"link.alarm.oInfo[iId]"}},[e._v("\n            A->"+e._s(a)+"\n          ")])],1)})),e._l(e.link.alarm.aDigitalAlarmId,(function(a,i){return t("div",{key:"DigitalAlarmId-"+i},[t("hm-checkbox",{attrs:{position:"left"},on:{input:function(t){return e.forceUpdate("alarm")}},model:{value:e.link.alarm.oInfo[a],callback:function(t){e.$set(e.link.alarm.oInfo,a,t)},expression:"link.alarm.oInfo[iId]"}},[e._v("\n            "+e._s(e.getRecordId(a))+"\n          ")])],1)}))],2)],1):e._e(),e.link.record.bShow?t("hm-collapse-item",{attrs:{title:e.$t("recordLink")}},[t("hm-cell-group",[t("hm-checkbox",{attrs:{position:"left"},on:{input:function(t){return e.changeRecordAll(e.oAll.bRecord)}},model:{value:e.oAll.bRecord,callback:function(t){e.$set(e.oAll,"bRecord",t)},expression:"oAll.bRecord"}},[e._v("\n          "+e._s(e.$t("selectAll"))+"\n        ")]),e._l(e.link.record.aAnalogChannelId,(function(a,i){return t("div",{key:"AnalogChannelId-"+i},[t("hm-checkbox",{attrs:{position:"left"},on:{input:function(t){return e.forceUpdate("record")}},model:{value:e.link.record.oInfo[a],callback:function(t){e.$set(e.link.record.oInfo,a,t)},expression:"link.record.oInfo[iId]"}},[e._v("\n            A"+e._s(a)+"\n          ")])],1)})),e._l(e.link.record.aDigitalChannelId,(function(a,i){return t("div",{key:"DigitalChannelId-"+i},[t("hm-checkbox",{attrs:{position:"left"},on:{input:function(t){return e.forceUpdate("record")}},model:{value:e.link.record.oInfo[a],callback:function(t){e.$set(e.link.record.oInfo,a,t)},expression:"link.record.oInfo[iId]"}},[e._v("\n            D"+e._s(a-e.link.record.iAnalogChannelNum)+"\n          ")])],1)}))],2)],1):e._e()],1)],1)},n=[],o={props:{linkData:{type:Object,default:function(){return{}},required:!0}},data:function(){return{bChecked:!0,link:this.linkData,oAll:{bNormal:!1,bAlarm:!1,bRecord:!1}}},watch:{"link.normal":{handler:function(){for(var e in this.$set(this.oAll,"bNormal",!0),this.link.normal)if(!this.link.normal[e]){this.$set(this.oAll,"bNormal",!1);break}},deep:!0}},mounted:function(){this.initParam()},methods:{initParam:function(){var e=!0,t=!0,a=!0;for(var i in this.link.normal)if(!this.link.normal[i]){e=!1;break}for(var n in this.$set(this.oAll,"bNormal",e),this.link.alarm.oInfo)if(!this.link.alarm.oInfo[n]){t=!1;break}for(var o in this.$set(this.oAll,"bAlarm",t),this.link.record.oInfo)if(!this.link.record.oInfo[o]){a=!1;break}this.$set(this.oAll,"bRecord",a)},getRecordId:function(e){return"D"+(Math.floor(parseInt(e/100,10))-this.link.alarm.iAnalogChannelNum)+"-> "+e%100},changeLinkAll:function(e){for(var t in this.link.normal)"undefined"!==typeof this.link.normal[t]&&this.$set(this.link.normal,t,e)},changeAlarmAll:function(e){for(var t in this.link.alarm.oInfo)"undefined"!==typeof this.link.alarm.oInfo[t]&&this.$set(this.link.alarm.oInfo,t,e)},changeRecordAll:function(e){for(var t in this.link.record.oInfo)"undefined"!==typeof this.link.record.oInfo[t]&&this.$set(this.link.record.oInfo,t,e)},forceUpdate:function(e){if("alarm"===e){for(var t in this.$set(this.oAll,"bAlarm",!0),this.link.alarm.oInfo)if(!this.link.alarm.oInfo[t]){this.$set(this.oAll,"bAlarm",!1);break}}else if("record"===e)for(var a in this.$set(this.oAll,"bRecord",!0),this.link.record.oInfo)if(!this.link.record.oInfo[a]){this.$set(this.oAll,"bRecord",!1);break}this.$forceUpdate()}}},r=o,s=a("2877"),l=Object(s["a"])(r,i,n,!1,null,"2172eb7c",null);t["a"]=l.exports},"1c8d":function(e,t,a){"use strict";a("b674")},"1cbd":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",[t("base-page",{attrs:{title:e.$t("storageManagement"),"left-type":"back"}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"config"},e._l(e.aMenu,(function(a,i){return t("div",{key:i,staticClass:"content top-distance"},[a.title?t("div",{staticClass:"title"},[e._v(e._s(a.title))]):e._e(),t("div",{staticClass:"menu"},[e._l(a.menu,(function(a,i){return[a.cap?t("hm-cell",{key:i,attrs:{center:"",title:a.label,"is-link":"",value:a.value},nativeOn:{click:function(t){return e.goMenu(a)}}}):e._e()]}))],2)])})),0),t("router-view")],1)])],1)},n=[],o=a("7de8"),r=a("1f20"),s=a("9741"),l={components:{},data:function(){return{bSupportHddManage:!1,bSupportNfs:!1,bEnableCancelCallback:!0,bSupportDST:null,bSupportSSDManage:null,aMenu:[{menu:[]}]}},created:function(){var e=this,t=this;t.initCap().finally((function(){t.bSupportHddManage=-1===t.$store.state.globeStore.hideRouter.indexOf("storageManageConfig_storageManageHarddisk"),t.bSupportDST=r["a"].m_oDeviceCapa.bSupportHddTest&&-1===t.$store.state.globeStore.hideRouter.indexOf("storageManageConfig_storageManageHddTest"),t.bSupportSSDManage=!1,t.bSupportThirdCloud=r["a"].m_oDeviceCapa.bSupportThirdCloud,t.bSupportCloudStorage=r["a"].m_oDeviceCapa.bSupportCloudStorage,t.bSupportNfs=r["a"].m_oDeviceCapa.bSupportNfs&&-1===t.$store.state.globeStore.hideRouter.indexOf("storageManageConfig_storageManageNfs"),t.bSupportDST&&e.aMenu[0].menu.push({path:"",name:"Detection",label:e.$t("hddTest"),value:"",cap:!0}),t.bSupportHddManage&&(e.aMenu[0].menu.push({path:"",name:"Management",label:e.$t("hDDManagement"),value:"",cap:!0}),1===s["a"].iDeviceType&&e.aMenu[0].menu.push({path:"",name:"HDDQuota",label:e.$t("HDDQuota"),value:"",cap:!0})),t.bSupportCloudStorage&&e.aMenu[0].menu.push({path:"",name:"StorageManageCloud",label:e.$t("cloudStorage"),value:"",cap:!0}),t.bSupportSSDManage&&e.aMenu[0].menu.push({path:"",name:"StorageManageSSD",label:e.$t("SSDManagement"),value:"",cap:!0}),t.bSupportThirdCloud&&e.aMenu[0].menu.push({path:"",name:"StorageManageThirdCloud",label:e.$t("thirdCloudStorage"),value:"",cap:!0})}))},methods:{goMenu:function(e){var t={};e.name?t.name=e.name:t.path=e.path,this.$router.push(t)},initCap:function(){return o["a"].waitAll([r["a"].getDeviceCapa(),r["a"].getCloudStorage()]).finally((function(){}))}}},c=l,u=(a("c824"),a("2877")),d=Object(u["a"])(c,i,n,!1,null,"6093b2f1",null);t["default"]=d.exports},"1d9a":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("faceDetection"),"right-type":"text","b-lazy-loading":e.bLazyLoading}},[t("div",{staticClass:"face-detect-page-wrapper",attrs:{slot:"content"},slot:"content"},[t("hm-scroll",[t("div",{staticClass:"hm-index-list-item"},[e.bSupportChannelCap||e.oEventCap.bIPCDevice?e._e():t("channel-list",{attrs:{"o-channel":e.oChannel}}),t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",{staticClass:"cell-group custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("enableFaceDetection")}},[t("hm-switch",{attrs:{disabled:e.oEventCap.disableFaceDetect},model:{value:e.oEventInfo.bEnableEvent,callback:function(t){e.$set(e.oEventInfo,"bEnableEvent",t)},expression:"oEventInfo.bEnableEvent"}})],1),t("hm-cell",{attrs:{title:e.$t("enableDynamicAnalysis")}},[t("hm-switch",{attrs:{disabled:e.oEventCap.disableDynAnalysis},model:{value:e.oEventInfo.bEnableAnaDynamicAnalysis,callback:function(t){e.$set(e.oEventInfo,"bEnableAnaDynamicAnalysis",t)},expression:"oEventInfo.bEnableAnaDynamicAnalysis"}})],1),t("base-slider-content",{attrs:{title:e.$t("threshold")+":"+e.oEventInfo.iSensitivity},scopedSlots:e._u([{key:"content",fn:function(){return[t("mt-range",{attrs:{min:e.oEventCap.iSensitivityMin,max:e.oEventCap.iSensitivityMax,step:1,"bar-height":5},model:{value:e.oEventInfo.iSensitivity,callback:function(t){e.$set(e.oEventInfo,"iSensitivity",t)},expression:"oEventInfo.iSensitivity"}})]},proxy:!0}])})],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("armSchedulePlan")}},[t("hm-cell",{attrs:{"is-link":"",title:e.$t("armSchedule")},nativeOn:{click:function(t){return e.showArmSchedule()}}})],1),e.bShowLink?t("base-link",{ref:"link",attrs:{link:e.oEventInfo.oLink}}):e._e()],1)],1),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{attrs:{disabled:!e.oEventCap.bChannelSupport||e.oEventCap.bSupportModify},on:{click:e.save}},[e._v(e._s(e.$t("save")))])],1)]),e.bShowSchedule?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:e.$t("armSchedule"),"show-footer":!0,"enable-cancel-callback":e.bEnableCancelCallback},on:{cancelcallback:e.cancelCallbackArmSchedule,confirm:e.confirmArmSchedule,delete:e.deleteAll}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"time-plan-padding swipe-wrapper-show-footer"},[t("hm-scroll",[t("time-plan",{ref:"timePlan",attrs:{"times-data":e.oEventInfo.oScheduleTimes,holiday:e.oEventCap.bSupportHoliday,"show-types":e.bShowTypes}})],1)],1)])])],1):e._e(),t("base-view")],1)])},n=[],o=a("e4e5"),r=o["a"],s=(a("9e93"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"615c03a9",null);t["default"]=l.exports},"1e40":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("securityAdvanced"),"right-type":"text"}},[t("div",{attrs:{slot:"content",id:"advanced"},slot:"content"},[t("hm-scroll",[t("div",{staticClass:"marTop"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.oCap.oSecurityEnhanced.bSupport,expression:"oCap.oSecurityEnhanced.bSupport"}]},[t("hm-cell-group",{staticClass:"custom-cell-group"},[t("hm-cell",{attrs:{title:e.$t("securityReinforce")}}),t("hm-cell",{attrs:{title:e.$t("enableSecurityEnhanced")}},[t("hm-switch",{nativeOn:{click:function(t){return e.enableSecurityEnhanced()}},model:{value:e.oAdvancedInfo.securityEnhanced,callback:function(t){e.$set(e.oAdvancedInfo,"securityEnhanced",t)},expression:"oAdvancedInfo.securityEnhanced"}})],1)],1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.oCap.oTimeOutExit.bSupport,expression:"oCap.oTimeOutExit.bSupport"}]},[t("hm-cell-group",{staticClass:"cell-group custom-cell-group"},[t("hm-cell",{attrs:{title:e.$t("controlTimeoutConfiguration")}}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.oCap.oTimeOutExit.oEnable.bSupport,expression:"oCap.oTimeOutExit.oEnable.bSupport"}]},[t("hm-cell",{attrs:{title:e.$t("enableControlTimeoutConfiguration")}},[t("hm-switch",{model:{value:e.oAdvancedInfo.noOperationEnabled,callback:function(t){e.$set(e.oAdvancedInfo,"noOperationEnabled",t)},expression:"oAdvancedInfo.noOperationEnabled"}})],1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.oCap.oTimeOutExit.oTimeOut.bSupport,expression:"oCap.oTimeOutExit.oTimeOut.bSupport"}]},[t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("outTime")+"(min)"}},[t("div",{staticStyle:{width:"80%",height:"34px"}},[t("mt-range",{staticStyle:{width:"90%"},attrs:{min:e.oCap.oTimeOutExit.oTimeOut.iMin,max:e.oCap.oTimeOutExit.oTimeOut.iMax,step:1,"bar-height":5},model:{value:e.oAdvancedInfo.noOperationTime,callback:function(t){e.$set(e.oAdvancedInfo,"noOperationTime",t)},expression:"oAdvancedInfo.noOperationTime"}})],1),t("hm-input",{staticClass:"slider-input",attrs:{disabled:!0,type:"number"},model:{value:e.oAdvancedInfo.noOperationTime,callback:function(t){e.$set(e.oAdvancedInfo,"noOperationTime",t)},expression:"oAdvancedInfo.noOperationTime"}})],1)],1)],1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.oCap.oDigestStatus.bSupport,expression:"oCap.oDigestStatus.bSupport"}]},[t("hm-cell-group",{staticClass:"custom-cell-group"},[t("hm-cell",{attrs:{title:e.$t("algorithmSummary")}}),t("hm-cell",{attrs:{title:e.$t("digestStatus"),value:e.oAdvancedInfo.digestStatus}})],1)],1),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{on:{click:e.save}},[e._v("\n            "+e._s(e.$t("save"))+"\n          ")])],1)])])],1)])},n=[],o=(a("96cf"),a("1da1")),r=a("edca"),s={data:function(){return{oAdvancedInfo:{securityEnhanced:!1,noOperationEnabled:!0,noOperationTime:15,digestStatus:"SHA256"},oCap:{oSecurityEnhanced:{bSupport:!0},oTimeOutExit:{bSupport:!0,oEnable:{bSupport:!1},oTimeOut:{bSupport:!0,iMax:60,iMin:1}},oDigestStatus:{bSupport:!1}},a:20}},created:function(){this.init()},methods:{init:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r["a"].getSecurityAdvanced();case 2:this.oCap=r["a"].oCap,this.oAdvancedInfo=r["a"].oAdvancedInfo;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),enableSecurityEnhanced:function(){r["a"].enableSecurityEnhanced()},save:function(){r["a"].save()}}},l=s,c=(a("a07e"),a("2877")),u=Object(c["a"])(l,i,n,!1,null,"7b1d7d91",null);t["default"]=u.exports},"1e68":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAaCAYAAABGiCfwAAAABHNCSVQICAgIfAhkiAAABaRJREFUSImNlltsXEcZx/8zc+57t73YTprGDrdWttSKtnZAEcIEWSoECXioUolWgscW1AeEmvJkCYRoXuABeOZSARUPIahUSXG7qkqJFELRhtRVLrS5N/Fm7d09Z8995uMhe5zjddzmL43OjI40v/P/5pvvfAz3Jmfw1AcjUzJ4+rn5tmLbvfjrsTdm+q77rThRi6alpzKlM5WxWsMq6G/un5tbY4xRDuwM5v5g3DvsL68sP6NA3zcMY8qybAIhlUqGURTdKhZKJ6SgX3zl84+cGQDzqnyUUy2/OHp0eTyBegGcP1ctV6Bpd14rpUoMrO553kTBcS6fOHHiAoBgaL/uwKEzgG1yyfMLL/Z/ZFnmc7XayCYQADDGYFoW0jSppWn6qU4nLd4tKgNIHrrV2dJPXpwTjD8rpUQYhjBNE5zzzBWSOEYYhjAMQ3bW17oX/3cj3AaWdzk2mPsbMCJiBw8+FdVqI3+qf2Jiv1Rq1HN7egYjIjDGZRQG/lq7fSqV8s9BcGU4hNsBK5tgjDF7dnb2xvSDM0uhHzVNy/yiXXA+zRn/LGOAUupyGMYrvu+dlpH6fbcbXjp8eCm9B1h2bg4AP8vGscFXJADY0tKLk+B4QgjxcwCQRL/s+Os/rRrGzQMHDgjXdWlhYUECGM7G7TQG4BbH7YNMcCdVybbhmqbR0jQNmq7D1I1u1TDai4uLZl+Zj2lObU+j0RD3CMoc6lpusaEgKJLpxCq7hrZtV77+jW8+RMS/2/d7e9OE1rhde/Wtf50+knql6wsL0x+XLBuwzNmQBBgDTNPCjl33zzPG54QQs8VCyQrCQCZxMkOgR5jV++Nbp95tpqPO6sL0R0OzMG5SoeCTpnHSNA07du7EWL3+WBAEc0opRwiNF5yiXiyWxjVNf1II/muS6Qv2Te8zzWaz0Gg0NCIarkwJAJ0PgwCg3+9LSOVqmibBOPU9D51uB+udNYRRCCKCrusol8ooFcuThmY8nYKOdnz1Q10f+eTKysoWA7djdWdshLJer9PExK4gjMLJXrc3xRhMotuXW0oJqSQY5xBcQAjBdd3Qha45BJpVDHv9IHUOPvFk66WXfuPmIgiRC+MGbGVlhfbt20v9IEYY+F/2XLeYygQgQMoUShGklCAicM4hhIAmNKFretH3+/ddvXbl4WPHXtnz3rv/jZIkWcXtTEuy9LUARHnLjz76NU1ScB9J9dUkiUue68Lt9UBEEJwjTVMoKaFIQRGBgSFJElw4f5a//Iffll9ffu1BmSYLmqYdT5LEBRBr2eFtjfBNINXRardQLJXhOAX4fh+XL17EWruNickdqI2MII5jcMHRWr2J1/9+HG8sH4OSkkZHRzE1tYeFges2m00OIMnu2UZJyVDFYjHp9eQl07Tf73TWnTiOq9VqDVKm8NweLoUh2u0Wxscnce7ce1g+/je0VlepVh1BpVqD4zhJu91eCYKAI18bB4sxbK4kabksziaJ/QNN159O4uhLYNgNgi2lFFIGiKIQnuvinVMnceH8OTzwwAzt3HU/q9fH2YfXr0YyvXF6fd1Ph2EZsALgFgAsLS0pACGAk4cOHTofq+LniOh7DNgHoEREBgAW+D76ngdd12n31DTjusHcfp80TQ/TNDmbJN6tDDAMwwDYzZ+eZVndfrv9DyFG/y109TgYfYcxfAFAAQA457AsG5wLVq6MwLBsGVmdrhDstU6n08n2uVsPkm9etpSx55//WUXK3m7iYh8jfFsRzfznnZPFa9euYGbmIe4USh/2fe+fTKkfHzny8mnk/gx3q9wJADWAbrkSb7+9HC0u7m+pNDoLEk2C4teuXrZt25G2ZZ9Za7d+deN6+3Cj8er7wxtv28rlXA43L3m3+vz8/hHXXX28UqtOV8ujv5uff/iDwXlv0cfBNjbF5kY1Uz57t+0XM/0fBc23hczS9E8AAAAASUVORK5CYII="},"1e96":function(e,t,a){"use strict";(function(e){a("b54a"),a("96cf");var i=a("1da1"),n=a("91d2"),o=a("c050"),r=a("1c1a"),s=a("962a"),l=a("23d7"),c=a("b77f"),u=a("47b5");t["a"]={name:"AlarmInput",components:{BaseView:r["a"],BasePageExtend:s["a"],TimePlan:l["a"],BaseLink:c["a"],BaseSelect:u["a"]},data:function(){return{validate:{},oEventInfo:n["a"].oEventInfo,oEventCap:n["a"].oEventCap,oInputDataValid:n["a"].oInputDataValid,oTempEventInfo:{},oAlarmEventInfo:{},bEnableCancelCallback:!0,bShowSchedule:!1,bShowLink:!1,bShowAlarm:!1,bShowTypes:!1,activeNames:"1"}},computed:{bLazyLoading:function(){return n["a"].oEventInfo.bLoading}},watch:{"oEventInfo.szAlarmInputId":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,n["a"].initAlarmInput(t);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0},"oEventInfo.aEventType":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<this.oEventInfo.aEventType.length)){e.next=8;break}if(this.oEventInfo.aEventType[t].bCheck){e.next=5;break}return this.oEventInfo.bSelAllEvent=!1,e.abrupt("break",8);case 5:t++,e.next=1;break;case 8:t===this.oEventInfo.aEventType.length&&(this.oEventInfo.bSelAllEvent=!0);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),deep:!0}},created:function(){var e=this;n["a"].init().finally((function(){e.initLink()}))},methods:{selAllEvent:function(){n["a"].selAllEvent()},showArmSchedule:function(){e.extend(!0,this.oTempEventInfo,this.oEventInfo),this.bShowSchedule=!0},initLink:function(){var t=this;e.extend(!0,this.oTempEventInfo,this.oEventInfo),this.bShowLink=!0,this.$nextTick((function(){t.$refs.link.linkData=t.oEventInfo.oLink,t.$refs.link.$forceUpdate()}))},showCombinationAlarm:function(){this.bShowAlarm=!0},confirmArmSchedule:function(){this.oEventInfo.oScheduleTimes=this.$refs.timePlan.timesData,this.bShowSchedule=!1},confirmAlarm:function(){this.bShowAlarm=!1},cancelCallbackArmSchedule:function(){e.extend(!0,this.oEventInfo,this.oTempEventInfo),this.bShowSchedule=!1},cancelCallbackAlarm:function(){this.bShowAlarm=!1},deleteAll:function(){for(var e=0,t=this.oEventInfo.oScheduleTimes.length;e<t;e++)this.oEventInfo.oScheduleTimes[e]=[];this.$refs.timePlan.timesData=this.oEventInfo.oScheduleTimes,this.$refs.timePlan.$forceUpdate()},save:function(){this.validate.validateAll(),o["a"].validateTips(this.validate.getErrorReport())&&n["a"].save()}}}}).call(this,a("1157"))},"1f10":function(e,t,a){"use strict";var i=a("d4ec"),n=a("bee2"),o=a("49ca"),r=a("8d94"),s=function(){function e(){Object(i["a"])(this,e)}return Object(n["a"])(e,[{key:"init",value:function(){this.m_oParams={bLazyLoading:!1,szStreamType:"1",bEnablePlan:!1,bEnableTiming:!1,bEnableEvent:!1,szTimingCodecType:"JEPG",szTimingResolution:"0*0",szTimingQuality:"",szTimingInterval:"0",szTimingIntervalType:"0",szEventNum:"1",szEventCodecType:"JEPG",szEventResolution:"",szEventQuality:"",szEventInterval:"0",szEventIntervalType:"0",aRate:[1,1e3,6e4,36e5,864e5],szPictureDelay:""},this.m_oCapbilities={iPlanMode:o["a"].iPlanMode,aCaptures:[r["a"].t("snapshotSchedule"),r["a"].t("snapshotParams")],aCaptureType:["CMR","MOTION","ALARM","EDR","ALARMANDMOTION"],aTimingPictureCodecType:[],aTimingPicResolution:[],aTimingPicQuality:[],aTimingPicInterval:[],aTimingPicIntervalRange:[500,6048e5],aEventPictureCodecType:[],aEventPicResolution:[],aEventPicQuality:[],aEventPicInterval:[],aEventPicIntervalRange:[500,65535],aEventPicNumRange:[2,120],bSupportIntervalOpt:!1,bSupportEventNum:!1,bSupportEnableSechdule:!0,bSupportEnableTimeEvent:!1,bSupportSnapshotPrompt:!1,bSupport:!0,aSupportStream:[],aPictureDelayType:[],bSptPictureDelay:!1},this.m_oParamsDef={bEnableTiming:!1,bEnableEvent:!1,szTimingCodecType:"",szTimingResolution:"",szTimingQuality:"",szTimingInterval:"1000",szTimingIntervalType:"0",szEventNum:"1",szEventCodecType:"",szEventResolution:"",szEventQuality:"",szEventInterval:"1000",szEventIntervalType:"0"},this.m_oParamsValid={oTimingInterval:{range:{value:{min:500,max:6048e5}},empty:{value:!1},skipVerify:!1},oEventInterval:{range:{value:{min:500,max:65535}},empty:{value:!1},skipVerify:!1},oEventNum:{range:{value:{min:this.m_oCapbilities.aEventPicNumRange[0],max:this.m_oCapbilities.aEventPicNumRange[1]}},empty:{value:!1},skipVerify:!1}},this.oDay={Monday:0,Tuesday:1,Wednesday:2,Thursday:3,Friday:4,Saturday:5,Sunday:6},this.oDayReverse={0:"Monday",1:"Tuesday",2:"Wednesday",3:"Thursday",4:"Friday",5:"Saturday",6:"Sunday",7:"Monday"}}}]),e}();t["a"]=new s},"1f28":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",[t("base-page",{attrs:{title:e.$t("networkService"),"left-type":"back"}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"config"},e._l(e.aMenu,(function(a,i){return t("div",{key:i,staticClass:"content top-distance"},[a.title?t("div",{staticClass:"title"},[e._v(e._s(a.title))]):e._e(),t("div",{staticClass:"menu"},[e._l(a.menu,(function(a,i){return[a.cap?t("hm-cell",{key:i,attrs:{center:"",title:a.label,"is-link":"",value:a.value},nativeOn:{click:function(t){return e.goMenu(a)}}}):e._e()]}))],2)])})),0),t("router-view")],1)])],1)},n=[],o=a("c492"),r=o["a"],s=(a("5877"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"69cf46f2",null);t["default"]=l.exports},"1f31":function(e,t,a){},"210b":function(e,t,a){"use strict";(function(e){a("a481"),a("6b54"),a("7514"),a("ac6a"),a("5df3"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("c050"),s=a("9741"),l=a("7de8"),c=a("d09c"),u=a("1f20"),d=a("8d94"),p=a("f193"),m=a("c98f"),h=a("181b"),f=function(){function t(){Object(n["a"])(this,t),this.oXmlDoc=null,this.m_oRSAKeyLengthCap={bSupport:!1},this.m_oCap={bSupportHttpsAutoJump:!1,bSupportDeviceSelfSignCertExport:!1,bSupportWebsocket:!1,bSupportWebSocketS:!1,bSupportSDKService:!1,bSupportEnhancedSDKService:!1,bSupportTLS1_0Enable:!1,bSupportTLS1_1Enable:!1,bSupportTLS1_2Enable:!1,bSupportNewTLS:!1,bSupportHTTP:!1,bSupportRTSP:!1,bSupportIOT:!1,bSupportSDK:!1,bSupportFile:!s["a"].getDispatchInfo("imagePlay")},this.m_oParams={bLazyLoading:!1,szInstallMode:"0",iCreateType:0,bInstalled:!1,bHasSignReq:!1,bEnableHttps:!1,bDiabledDeleteCer:!1,szCertificate:"",szSignReq:"",szCertificateDetail:"",szUploadPath:"",bEnableHttpsAutoJump:!1,bHTTP:!1,bRTSP:!1,bWebSocket:!1,bWebSockets:!1,bIOT:!1,bTLS1_0Enable:!1,bTLS1_1Enable:!1,bTLS1_2Enable:!1,bEnableSDKTLS:!1,bEnableSDK:!1,bEnableStreamOverTls:!1,szHttpPort:"",szHttpsPort:""},this.bSupportManage=m["a"].oSecurityCap.bSupportCertificate,this.certificateSelectCap={bSupportClient:!1,bSupportServer:!1,bSupportCA:!1,aClientCertificate:[],aServerCertificate:[],aCACertificate:[]},this.certificateSelectParm={clientCertificate:"",serverCertificate:"",CACertificate:""},this.m_oNeedReboot={bHTTP:!1,bRTSP:!1,bWebSocket:!1,bWebSockets:!1,bEnableSDKTLS:!1,bEnableSDK:!1,bEnableStreamOverTls:!1,bIOT:!1},this.m_oDlgParams={szCountry:"",szHostname:"",szValidity:"",szPassword:"",szStateOrProvince:"",szLocality:"",szOrganization:"",szlaOrganizationalUnit:"",szEmail:"",certLength:m["a"].oSecurityCap.oHttpsKeyLen.szDefault},this.m_oParamsValid={oCountry:{required:!0,country:!0},oCommonName:{required:!0,multiChar:!0},oValidity:{required:!0,range:[1,5e3]},oPassword:{},oStateOrProvince:{multiChar:!0},oLocality:{multiChar:!0},oOrganization:{multiChar:!0},oOrganizationalUnit:{multiChar:!0},oEmail:{required:!1,isEmail:!0,bSkipValid:!1}},this.oParamError={success:null,error:null},this.oAuth={szRtsp:"false",szWeb:"basic",szRawRtsp:"false",szRawWeb:"basic",szRTDigestAlgorithm:"",szRawRTDigestAlgorithm:"",szWEBDigestAlgorithm:"",szRAWWEBDigestAlgorithm:""},this.authCap={oSupportAuth:{},aRTSPCap:[],aWebCap:[],aCertificateType:!1,aWEBDigestAlgorithm:!1,bWEBDigestAlgorithm:!1},this._oXmlDoc={oWeb:null}}return Object(o["a"])(t,[{key:"initHttps",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a,i,n,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u["a"].getAuthSupport().then((function(){o.authCap.oSupportAuth=u["a"].m_oDeviceCapa.oSupportAuth,m["a"].oSecurityCap&&m["a"].oSecurityCap.oWebCap&&(o.authCap.aCertificateType=m["a"].oSecurityCap.oWebCap.aOptions,o.authCap.aWEBDigestAlgorithm=m["a"].oSecurityCap.oWebCap.aWEBDigestAlgorithm,o.authCap.bWEBDigestAlgorithm=m["a"].oSecurityCap.oWebCap.bWEBDigestAlgorithm,o.authCap.aWebCap=m["a"].oSecurityCap.oWebCap.aOptions),o.authCap.oSupportAuth&&o.authCap.oSupportAuth.bWeb&&o.getWebAuthInfo()}));case 2:if(m["a"].oSecurityCap.bSupportCertificate){t.next=8;break}return this.m_oRSAKeyLengthCap=m["a"].oSecurityCap.oHttpsKeyLen,this.m_oRSAKeyLengthCap&&(this.m_oRSAKeyLengthCap.bSupport=this.m_oRSAKeyLengthCap.bSupport&&0!==s["a"].iDeviceType),this.m_oCap.bSupportDeviceSelfSignCertExport=m["a"].oSecurityCap.bSupportDeviceSelfSignCertExport,a=new Promise((function(e){Promise.all([o.getCertificateInfo(),o.getCertificateReqInfo(),o.getHttpsInfo()]).then((function(){e()}))})),t.abrupt("return",a);case 8:return t.next=10,u["a"].getCertificateSelect();case 10:return i=e.extend(!0,{},u["a"].m_oDeviceCapa.oCertificateSelectCap),i.bSupport&&(n=i.oFunction["HTTPS"],-1!==e.inArray("client",n)&&(this.certificateSelectCap.bSupportClient=!0,this.certificateSelectCap.aClientCertificate=i.aClientCertificate),-1!==e.inArray("server",n)&&(this.certificateSelectCap.bSupportServer=!0,this.certificateSelectCap.aServerCertificate=i.aServerCertificate),-1!==e.inArray("CA",n)&&(this.certificateSelectCap.bSupportCA=!0,this.certificateSelectCap.aCACertificate=i.aCACertificate),this.getSelectCertificateInfo()),t.next=14,this.getHttpsInfo();case 14:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}()},{key:"getWebAuthInfo",value:function(){var t=this,a={urlCGI:"webAuth",data:null,loading:!0};return p["a"].get(a).then((function(a){var i=a.oResult;t._oXmlDoc.oWeb=i;var n=e(i).find("CertificateType").eq(0).text();t.oAuth.szWeb=n,t.oAuth.szRawWeb=n,t.oAuth.szWEBDigestAlgorithm=l["a"].nodeValue(i,"algorithmType"),t.oAuth.szRAWWEBDigestAlgorithm=t.oAuth.szWEBDigestAlgorithm}))}},{key:"setWebAuthInfo",value:function(){var t=this,a=t._oXmlDoc.oWeb,i=e(a).find("CertificateType").eq(0).text(),n=t.oAuth.szWeb,o=e(a).find("algorithmType").eq(0).text();return(i!==n||t.oAuth.szWEBDigestAlgorithm!==o)&&(e(a).find("CertificateType").eq(0).text(t.oAuth.szWeb),e(a).find("algorithmType").eq(0).text(t.oAuth.szWEBDigestAlgorithm),new Promise((function(e,t){var i={urlCGI:"webAuth",data:a,loading:!0};return p["a"].put(i).then((function(t){e(t)}),(function(e){t(e)}))})))}},{key:"getSelectCertificateInfo",value:function(){var e=this,t={urlCGI:"certificateSelectInfo",params:{function:"HTTPS"},data:null,loading:!0};p["a"].get(t).then((function(t){var a=t.oResult,i=a.CertificateSelect,n=e.certificateSelectParm;i&&(n.clientCertificate=i.clientCertificate,n.serverCertificate=i.serverCertificate,n.CACertificate=i.CACertificate,e.m_oParams.bInstalled=""!==i.clientCertificate||""!==i.serverCertificate||""!==i.CACertificate)}))}},{key:"getCertificateInfo",value:function(){var t=this,a=new Promise((function(a){var i={urlCGI:"certificate",params:{},data:null,loading:!0};p["a"].get(i).then((function(i){var n=i.oResult,o=e(n).find("IssuerDN").eq(0),r=e(n).find("SubjectDN").eq(0);""!==l["a"].nodeValue(o,"countryName")&&(t.m_oParams.bInstalled=!0);var s="C="+l["a"].nodeValue(r,"countryName");""!==l["a"].nodeValue(r,"stateOrProvinceName")&&(s+=", ST="+l["a"].nodeValue(r,"stateOrProvinceName")),""!==l["a"].nodeValue(r,"localityName")&&(s+=", L="+l["a"].nodeValue(r,"localityName")),""!==l["a"].nodeValue(r,"organizationName")&&(s+=", O="+l["a"].nodeValue(r,"organizationName")),""!==l["a"].nodeValue(r,"organizationUnitName")&&(s+=", OU="+l["a"].nodeValue(r,"organizationUnitName")),""!==l["a"].nodeValue(r,"commonName")&&(s+=", H/IP="+l["a"].nodeValue(r,"commonName")),""!==l["a"].nodeValue(r,"email")&&(s+=", EM="+l["a"].nodeValue(r,"email"));var c="C="+l["a"].nodeValue(o,"countryName");""!==l["a"].nodeValue(o,"stateOrProvinceName")&&(c+=", ST="+l["a"].nodeValue(o,"stateOrProvinceName")),""!==l["a"].nodeValue(o,"localityName")&&(c+=", L="+l["a"].nodeValue(o,"localityName")),""!==l["a"].nodeValue(o,"organizationName")&&(c+=", O="+l["a"].nodeValue(o,"organizationName")),""!==l["a"].nodeValue(o,"organizationUnitName")&&(c+=", OU="+l["a"].nodeValue(o,"organizationUnitName")),""!==l["a"].nodeValue(o,"commonName")&&(c+=", H/IP="+l["a"].nodeValue(o,"commonName")),""!==l["a"].nodeValue(o,"email")&&(c+=", EM="+l["a"].nodeValue(o,"email")),t.m_oParams.szCertificate=s,t.m_oParams.szCertificateDetail=d["a"].t("subjuect")+": "+s+"\r\n"+d["a"].t("issuer")+": "+c+"\r\n"+d["a"].t("validity")+": "+l["a"].nodeValue(n,"startDate")+"\r\n     ~ "+l["a"].nodeValue(n,"endDate"),a()}),(function(){a()}))}));return a}},{key:"getCertificateReqInfo",value:function(){var t=this,a=new Promise((function(a){var i={urlCGI:"certSignReq",params:{},data:null,loading:!0};p["a"].get(i).then((function(i){var n=i.oResult,o=e(n).find("SubjectDN").eq(0);""!==l["a"].nodeValue(o,"countryName")&&(t.m_oParams.bHasSignReq=!0);var r="C="+l["a"].nodeValue(o,"countryName");""!==l["a"].nodeValue(o,"stateOrProvinceName")&&(r+=", ST="+l["a"].nodeValue(o,"stateOrProvinceName")),""!==l["a"].nodeValue(o,"localityName")&&(r+=", L="+l["a"].nodeValue(o,"localityName")),""!==l["a"].nodeValue(o,"organizationName")&&(r+=", O="+l["a"].nodeValue(o,"organizationName")),""!==l["a"].nodeValue(o,"organizationUnitName")&&(r+=", OU="+l["a"].nodeValue(o,"organizationUnitName")),""!==l["a"].nodeValue(o,"commonName")&&(r+=", H/IP="+l["a"].nodeValue(o,"commonName")),""!==l["a"].nodeValue(o,"email")&&(r+=", EM="+l["a"].nodeValue(o,"email")),t.m_oParams.szSignReq=r,a()}),(function(){a()}))}));return a}},{key:"getHttpsInfo",value:function(){var t=this,a=this,i=new Promise((function(i){var n={urlCGI:"portInfo",params:{},data:null,loading:!0};p["a"].get(n).then((function(n){var o=n.oResult;t.oXmlDoc=o,e(o).find("AdminAccessProtocol").each((function(t,i){"https"===l["a"].nodeValue(e(i),"protocol").toLowerCase()&&(a.m_oParams.bEnableHttps=l["a"].nodeValue(e(i),"enabled","b"),a.m_oParams.szHttpsPort=l["a"].nodeValue(i,"portNo","i"),a.m_oCap.bSupportHttpsAutoJump=!1,e(i).find("redirectToHttps").length&&(a.m_oCap.bSupportHttpsAutoJump=!0,a.m_oParams.bEnableHttpsAutoJump=a.m_oParams.bEnableHttps&&l["a"].nodeValue(e(i),"redirectToHttps","b")),e(i).find("TLS1_0Enable").length>0&&(a.m_oCap.bSupportTLS1_0Enable=!0,a.m_oParams.bTLS1_0Enable=l["a"].nodeValue(e(i),"TLS1_1Enable","b")),e(i).find("TLS1_1Enable").length>0&&(a.m_oCap.bSupportTLS1_1Enable=!0,a.m_oParams.bTLS1_1Enable=l["a"].nodeValue(e(i),"TLS1_1Enable","b")),e(i).find("TLS1_2Enable").length>0&&(a.m_oCap.bSupportTLS1_2Enable=!0,a.m_oParams.bTLS1_2Enable=l["a"].nodeValue(e(i),"TLS1_2Enable","b")));var n=e(i).find("protocol").eq(0).text(),o=e(i).find("enabled").length>0;"HTTP"===n&&o?(a.m_oCap.bSupportHTTP=!0,a.m_oParams.bHTTP=l["a"].nodeValue(i,"enabled","b"),a.m_oParams.szHttpPort=l["a"].nodeValue(i,"portNo","i"),a.m_oNeedReboot.bHTTP=l["a"].nodeValue(i,"enabled","b")):"RTSP"===n&&o?(a.m_oCap.bSupportRTSP=!0,a.m_oParams.bRTSP=l["a"].nodeValue(i,"enabled","b"),a.m_oNeedReboot.bRTSP=l["a"].nodeValue(i,"enabled","b")):"WebSocket"===n&&o?(a.m_oCap.bSupportWebSocket=!0,a.m_oParams.bWebSocket=l["a"].nodeValue(i,"enabled","b"),a.m_oNeedReboot.bWebSocket=l["a"].nodeValue(i,"enabled","b")):"WebSockets"===n&&o?(a.m_oCap.bSupportWebSockets=!0,a.m_oParams.bWebSockets=l["a"].nodeValue(i,"enabled","b"),a.m_oNeedReboot.bWebSockets=l["a"].nodeValue(i,"enabled","b")):"IOT"===n&&o?(a.m_oCap.bSupportIOT=!0,a.m_oParams.bIOT=l["a"].nodeValue(i,"enabled","b"),a.m_oNeedReboot.bIOT=l["a"].nodeValue(i,"enabled","b")):"SDK_OVER_TLS"===n&&o?(a.m_oCap.bSupportEnhancedSDKService=!0,a.m_oCap.bSupportStreamOverTls=!0,a.m_oParams.bEnableSDKTLS=l["a"].nodeValue(i,"enabled","b"),a.m_oParams.bEnableStreamOverTls=l["a"].nodeValue(i,"streamOverTls","b"),a.m_oNeedReboot.bEnableSDKTLS=l["a"].nodeValue(i,"enabled","b"),a.m_oNeedReboot.bEnableStreamOverTls=l["a"].nodeValue(i,"streamOverTls","b")):"DEV_MANAGE"===n&&o&&(a.m_oCap.bSupportSDKService=!0,a.m_oParams.bEnableSDK=l["a"].nodeValue(i,"enabled","b"),a.m_oNeedReboot.bEnableSDK=l["a"].nodeValue(i,"enabled","b")),0===s["a"].iDeviceType?a.m_oParams.bDiabledDeleteCer=a.m_oParams.bEnableHttps||a.m_oParams.bEnableSDKTLS:a.m_oParams.bDiabledDeleteCer=a.m_oParams.bEnableHttps})),i()}),(function(){i()}))}));return i}},{key:"removeCertificate",value:function(){var e=this,t=new Promise((function(t){var a={urlCGI:"deleteCertificate",params:{},data:null,loading:!0};p["a"].delete(a).then((function(a){e.m_oParams.bInstalled=!1,e.m_oParams.bEnableHttps=!1,e.m_oCap.bSupportHttpsAutoJump=!1,c["a"].saveState(a.xhr),t()}),(function(e){c["a"].saveState(e),t()}))}));return t}},{key:"uploadCertificate",value:function(){var e=this,t=new Promise(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e,""===i.m_oParams.szUploadPath&&a(),n=s["a"].m_szHttpProtocol+s["a"].m_szHostName+":"+s["a"].m_iHttpPort+"/ISAPI/Security/serverCertificate/certificate",t.t0=h["a"],t.t1=n,t.next=7,m["a"].getPluginAuth();case 7:t.t2=t.sent,t.t3=i.m_oParams.szUploadPath,t.t0.uploadFile.call(t.t0,t.t1,t.t2,t.t3,"application/x-pem-file",0).then((function(){i.getCertificateInfo().then((function(){a()}))}),(function(){r["a"].stateAlert(d["a"].t("uploadFailed"),"fail"),a()}));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return t}},{key:"removeCerReq",value:function(){var e=this,t=new Promise((function(t){var a={urlCGI:"deleteCertSignReq",params:{},data:null,loading:!0};p["a"].delete(a).then((function(){e.m_oParams.bHasSignReq=!1,t()}))}));return t}},{key:"downLoadReq",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=s["a"].m_szHttpProtocol+s["a"].m_szHostName+":"+s["a"].m_iHttpPort+"/ISAPI/Security/serverCertificate/downloadCertSignReq",e.next=3,m["a"].getPluginAuth();case 3:return a=e.sent,e.abrupt("return",h["a"].exportDeviceConfig(t,a,"",0));case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"exportSelfCert",value:function(){var e=new Promise(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=s["a"].m_szHttpProtocol+s["a"].m_szHostName+":"+s["a"].m_iHttpPort+"/ISAPI/Security/deviceCertificate/selfSignCert",i="",e.next=4,m["a"].getPluginAuth();case 4:n=e.sent,h["a"].exportDeviceConfig(a,n,"",void 0,0).then((function(e){0===e&&(i=d["a"].t("exportOK"),r["a"].stateAlert(i,"success")),t()}),(function(e){i=403===e?d["a"].t("noPermission"):d["a"].t("exportFailed"),r["a"].stateAlert(i,"fail"),t()}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return e}},{key:"browseFilePath",value:function(){var e=this,t=new Promise((function(t){h["a"].browseFilePath(1,"*").then((function(a){a&&(e.m_oParams.szUploadPath=a),t()}))}));return t}},{key:"save",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.m_oParams.bLazyLoading=!0,this.authCap.oSupportAuth&&this.authCap.oSupportAuth.bWeb&&this.setWebAuthInfo(),!m["a"].oSecurityCap.bSupportCertificate){t.next=5;break}return t.next=5,this.setSelectCertificateInfo();case 5:return a=new Promise((function(t){var a=n,o=n.oXmlDoc;e(o).find("AdminAccessProtocol").each((function(t,i){"https"===l["a"].nodeValue(e(i),"protocol").toLowerCase()&&(e(i).find("enabled").eq(0).text(a.m_oParams.bEnableHttps.toString()),a.m_oCap.bSupportHttpsAutoJump&&e(i).find("redirectToHttps").eq(0).text(a.m_oParams.bEnableHttpsAutoJump.toString()),e(i).find("TLS1_0Enable").length>0&&e(i).find("TLS1_0Enable").eq(0).text(a.m_oParams.bTLS1_0Enable.toString()),e(i).find("TLS1_1Enable").length>0&&e(i).find("TLS1_1Enable").eq(0).text(a.m_oParams.bTLS1_1Enable.toString()),e(i).find("TLS1_2Enable").length>0&&e(i).find("TLS1_2Enable").eq(0).text(a.m_oParams.bTLS1_2Enable.toString()));var n=e(i).find("protocol").eq(0).text();"HTTP"===n?(e(i).find("enabled").eq(0).text(a.m_oParams.bHTTP.toString()),e(i).find("portNo").eq(0).text(a.m_oParams.szHttpPort.toString())):"RTSP"===n?e(i).find("enabled").eq(0).text(a.m_oParams.bRTSP.toString()):"WebSocket"===n?e(i).find("enabled").eq(0).text(a.m_oParams.bWebSocket.toString()):"WebSockets"===n?e(i).find("enabled").eq(0).text(a.m_oParams.bWebSockets.toString()):"IOT"===n?e(i).find("enabled").eq(0).text(a.m_oParams.bIOT.toString()):"DEV_MANAGE"===n?e(i).find("enabled").eq(0).text(a.m_oParams.bEnableSDK.toString()):"SDK_OVER_TLS"===n&&(e(i).find("enabled").eq(0).text(a.m_oParams.bEnableSDKTLS.toString()),e(i).find("streamOverTls").eq(0).text(a.m_oParams.bEnableStreamOverTls.toString()))}));var u={urlCGI:"portInfo",params:{},data:o,loading:!0};a.m_oNeedReboot.bHTTP!==a.m_oParams.bHTTP||a.m_oNeedReboot.bRTSP!==a.m_oParams.bRTSP||a.m_oNeedReboot.bWebSocket!==a.m_oParams.bWebSocket||a.m_oNeedReboot.bWebSockets!==a.m_oParams.bWebSockets||a.m_oNeedReboot.bIOT!==a.m_oParams.bIOT||a.m_oNeedReboot.bEnableSDK!==a.m_oParams.bEnableSDK||a.m_oNeedReboot.bEnableSDKTLS!==a.m_oParams.bEnableSDKTLS?r["a"].confirm(d["a"].t("updateRestartTip"),(function(){var e=this;p["a"].put(u).then(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(i){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a.m_oParams.bDiabledDeleteCer=a.m_oParams.bEnableHttps,e.m_oParams.bLazyLoading=!1,a.oParamError.error?c["a"].saveState(e.oParamError.error):c["a"].saveState(i.xhr),c["a"].restartNoTip();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){e.m_oParams.bLazyLoading=!1,c["a"].saveState(t)}))})):p["a"].put(u).then(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(i){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a.m_oParams.bEnableHttpsAutoJump&&setTimeout((function(){}),1e3),0===s["a"].iDeviceType?a.m_oParams.bDiabledDeleteCer=a.m_oParams.bEnableHttps||a.m_oParams.bEnableSDKTLS:a.m_oParams.bDiabledDeleteCer=a.m_oParams.bEnableHttps,!m["a"].oSecurityCap.bSupportCertificate){e.next=5;break}return e.next=5,a.setSelectCertificateInfo();case 5:n.m_oParams.bLazyLoading=!1,a.oParamError.error?c["a"].saveState(n.oParamError.error):c["a"].saveState(i.xhr),t();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){n.m_oParams.bLazyLoading=!1,c["a"].saveState(e),t()}))})),t.abrupt("return",a);case 7:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}()},{key:"setSelectCertificateInfo",value:function(){var e=this,t=new Promise((function(t){var a=e,i=a.certificateSelectParm,n=a.certificateSelectCap,o={};n.bSupportClient&&(o.clientCertificate=i.clientCertificate),n.bSupportServer&&(o.serverCertificate=i.serverCertificate),n.bSupportCA&&(o.CACertificate=i.CACertificate);var r={urlCGI:"certificateSelectInfo",params:{function:"HTTPS"},data:{CertificateSelect:o},loading:!0};p["a"].put(r).then((function(){t()}),(function(e){a.oParamError.error=e,t()}))}));return t}},{key:"create",value:function(t){var a=this;this.m_oParams.iCreateType=t;var n={};e.extend(n,this.m_oDlgParams);var o=r["a"].wait(null,"");if(0===this.m_oParams.iCreateType){var s="<?xml version='1.0' encoding='UTF-8'?><CertificateReq><id>1</id><SubjectDN><countryName>"+this.m_oDlgParams.szCountry+"</countryName><stateOrProvinceName>"+this.m_oDlgParams.szStateOrProvince.replace(/</g,"&lt;")+"</stateOrProvinceName><localityName>"+this.m_oDlgParams.szLocality.replace(/</g,"&lt;")+"</localityName><organizationName>"+this.m_oDlgParams.szOrganization.replace(/</g,"&lt;")+"</organizationName><organizationUnitName>"+this.m_oDlgParams.szlaOrganizationalUnit.replace(/</g,"&lt;")+"</organizationUnitName><commonName>"+this.m_oDlgParams.szHostname.replace(/</g,"&lt;")+"</commonName><email>"+this.m_oDlgParams.szEmail+"</email></SubjectDN><validity>"+this.m_oDlgParams.szValidity+"</validity><RSAKeyLength>"+this.m_oDlgParams.certLength+"</RSAKeyLength><passwd>"+this.m_oDlgParams.szPassword.replace(/</g,"&lt;")+"</passwd></CertificateReq>",u=l["a"].parseXmlFromStr(s),d={urlCGI:"createCertificate",params:{},processData:!1,data:u,loading:!0};p["a"].put(d).then(Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o.close(),e.next=3,a.getCertificateInfo();case 3:case"end":return e.stop()}}),e)}))),(function(e){o.close(),c["a"].getState(e)}))}else{var m="<?xml version='1.0' encoding='UTF-8'?><CertificateReq><id>1</id><SubjectDN><countryName>"+this.m_oDlgParams.szCountry+"</countryName><stateOrProvinceName>"+this.m_oDlgParams.szStateOrProvince.replace(/</g,"&lt;")+"</stateOrProvinceName><localityName>"+this.m_oDlgParams.szLocality.replace(/</g,"&lt;")+"</localityName><organizationName>"+this.m_oDlgParams.szOrganization.replace(/</g,"&lt;")+"</organizationName><organizationUnitName>"+this.m_oDlgParams.szlaOrganizationalUnit.replace(/</g,"&lt;")+"</organizationUnitName><commonName>"+this.m_oDlgParams.szHostname.replace(/</g,"&lt;")+"</commonName><email>"+this.m_oDlgParams.szEmail+"</email></SubjectDN><RSAKeyLength>"+this.m_oDlgParams.certLength+"</RSAKeyLength><passwd>"+this.m_oDlgParams.szPassword.replace(/</g,"&lt;")+"</passwd></CertificateReq>",h=l["a"].parseXmlFromStr(m),f={urlCGI:"certSignReq",params:{},processData:!1,data:h,loading:!0};p["a"].put(f).then(Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o.close(),e.next=3,a.getCertificateReqInfo();case 3:case"end":return e.stop()}}),e)}))),(function(e){o.close(),c["a"].getState(e)}))}e.extend(this.m_oDlgParams,n)}}]),t}();t["a"]=new f}).call(this,a("1157"))},"213a":function(e,t,a){},2179:function(e,t,a){},2202:function(e,t,a){},2209:function(e,t,a){"use strict";a("3668")},2332:function(e,t,a){"use strict";a.r(t);a("386d");var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("log"),"left-type":"back"}},[t("div",{staticClass:"log-page-wrapper",attrs:{slot:"content"},slot:"content"},[t("hm-scroll",[t("div",{staticClass:"hm-index-list-item"},[t("hm-cell-group",{staticClass:"log-group custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("majorType")}},[t("base-select",{attrs:{title:e.$t("majorType"),options:e.aMajorType},on:{change:e.changeMajorType},model:{value:e.oMajorType.szMajorType,callback:function(t){e.$set(e.oMajorType,"szMajorType",t)},expression:"oMajorType.szMajorType"}})],1),t("hm-cell",{attrs:{title:e.$t("minorType")}},[t("base-select",{attrs:{title:e.$t("minorType"),options:e.oMinor.aMinorType},model:{value:e.oMinor.szMinorType,callback:function(t){e.$set(e.oMinor,"szMinorType",t)},expression:"oMinor.szMinorType"}})],1),t("hm-cell",{attrs:{title:e.$t("startTime")}},[t("hm-input",{attrs:{readonly:!0},on:{focus:function(t){return e.showDateTimePicker("start")}},model:{value:e.oSearchTime.szStartTime,callback:function(t){e.$set(e.oSearchTime,"szStartTime",t)},expression:"oSearchTime.szStartTime"}})],1),t("hm-cell",{attrs:{title:e.$t("endTime")}},[t("hm-input",{attrs:{readonly:!0},on:{focus:function(t){return e.showDateTimePicker("end")}},model:{value:e.oSearchTime.szEndTime,callback:function(t){e.$set(e.oSearchTime,"szEndTime",t)},expression:"oSearchTime.szEndTime"}})],1)],1)],1),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{on:{click:e.search}},[e._v(e._s(e.$t("search1")))])],1)]),e.bShowLogList?t("div",{staticClass:"full-screen-display"},[t("base-page",{attrs:{title:e.$t("loglist"),"left-type":"close"},on:{"left-handle":function(t){e.bShowLogList=!1}}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"swipe-wrapper"},[t("log-list",{ref:"logList",attrs:{"log-data":e.oLog},on:{showLogDetails:e.showLogDetails}})],1)])])],1):e._e(),e.bShowLogDetails?t("div",{staticClass:"full-screen-display"},[t("base-page",{attrs:{title:e.$t("logDetails"),"left-type":"close"},on:{"left-handle":function(t){e.bShowLogDetails=!1}}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"swipe-wrapper"},[t("log-details",{ref:"logDetails",attrs:{"log-details-data":e.oLogDetails}})],1)])])],1):e._e()],1)])},n=[],o=(a("96cf"),a("1da1")),r=a("1146"),s=a("7de8"),l=a("c050"),c=a("c4d0"),u=a("4ca8"),d=a("97af"),p=a("47b5"),m={name:"MaintainLog",components:{LogList:c["default"],LogDetails:u["default"],BasePage:d["a"],BaseSelect:p["a"]},data:function(){return{oMinor:r["a"]._oMinor,oMajorType:r["a"]._oMajorType,oSearchTime:r["a"]._oSearchTime,oCurTimeType:"",oLog:r["a"]._oLog,bEnableCancelCallback:!0,bEnableShowTips:!1,bEnableCancelCallbackD:!0,bEnableShowTipsD:!1,bShowLogList:!1,bShowLogDetails:!1,oLogDetails:null,aMajorType:[{value:"All",text:this.$t("allTypes")},{value:"Alarm",text:this.$t("alarm")},{value:"Exception",text:this.$t("exception")},{value:"Operation",text:this.$t("operation")},{value:"Infomation",text:this.$t("information")}]}},watch:{},created:function(){r["a"].init().finally((function(){}))},methods:{changeMajorType:function(e){r["a"].changeMajorType(e)},showDateTimePicker:function(e){this.oCurTimeType=e,this.dateTimePicker||(this.dateTimePicker=this.$createDateTimePicker({title:this.$t("selectTime"),min:new Date(2008,7,8,8,0,0),max:new Date(2099,9,20,20,59,59),value:new Date,columnCount:6,onSelect:this.selectTime})),this.dateTimePicker.show()},selectTime:function(e){"start"===this.oCurTimeType?this.oSearchTime.szStartTime=s["a"].dateFormat(e,"yyyy-MM-dd hh:mm:ss"):"end"===this.oCurTimeType&&(this.oSearchTime.szEndTime=s["a"].dateFormat(e,"yyyy-MM-dd hh:mm:ss"))},search:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r["a"].search();case 2:t=e.sent,"noTip"===t||(0===t?l["a"].tip(this.$t("nodata")):(this.bShowLogList=!0,this.$nextTick((function(){a.$refs.logList.logData=a.oLog,a.$refs.logList.$forceUpdate()}))));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),cancelCallbackLink:function(){this.bShowLogList=!1},confirmLink:function(){this.bShowLogList=!1},cancelCallbackLinkD:function(){this.bShowLogDetails=!1},confirmLinkD:function(){this.bShowLogDetails=!1},showLogDetails:function(e){this.oLogDetails=e,this.bShowLogDetails=!0}}},h=m,f=(a("2817"),a("14a8"),a("2877")),v=Object(f["a"])(h,i,n,!1,null,"6a06c332",null);t["default"]=v.exports},"234f":function(e,t,a){"use strict";var i=a("bee2"),n=a("d4ec"),o=Object(i["a"])((function e(){Object(n["a"])(this,e),this.m_oCapbilities={aScenes:[],aType:[],szDefScene:"",szBeginTime:"",szEndTime:"",oPreset:{bSupport:!1,bSupportLinkEnabled:!1,iPresetNum:0,iTimeNum:0},oSchedule:{bSupport:!1,iTimeNum:0},oMonth:{bSupport:!1,iMonthNum:12,iTimeNum:0},oDisabled:{bSupport:!1}},this.m_oParams={iChannelId:1,oPreset:{bEnabled:!1,aPresets:[],iLinkPreset:0,oPresetInfo:null},oSchedule:{bEnabled:!1,aTimes:[]},oMonth:{bEnabled:!1,aTimes:[]}},this.m_oParamsValid={},this.oDay={Monday:0,Tuesday:1,Wednesday:2,Thursday:3,Friday:4,Saturday:5,Sunday:6},this.oDayReverse={0:"Monday",1:"Tuesday",2:"Wednesday",3:"Thursday",4:"Friday",5:"Saturday",6:"Sunday",7:"Monday"}}));t["a"]=new o},2366:function(e,t){for(var a=[],i=0;i<256;++i)a[i]=(i+256).toString(16).substr(1);function n(e,t){var i=t||0,n=a;return[n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]]].join("")}e.exports=n},2397:function(e,t,a){var i=a("5ca1"),n=a("2aeb"),o=a("d8e8"),r=a("cb7c"),s=a("d3f4"),l=a("79e5"),c=a("f0c1"),u=(a("7726").Reflect||{}).construct,d=l((function(){function e(){}return!(u((function(){}),[],e)instanceof e)})),p=!l((function(){u((function(){}))}));i(i.S+i.F*(d||p),"Reflect",{construct:function(e,t){o(e),r(t);var a=arguments.length<3?e:o(arguments[2]);if(p&&!d)return u(e,t,a);if(e==a){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var i=[null];return i.push.apply(i,t),new(c.apply(e,i))}var l=a.prototype,m=n(s(l)?l:Object.prototype),h=Function.apply.call(e,m,t);return s(h)?h:m}})},"23c8":function(e,t,a){},"23d7":function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"time-plan"},[t("div",{staticClass:"hm-index-list-item"},[t("div",{staticClass:"item"},[t("hm-swipe",[null!==e.advance&&e.arr.length<=2?t("div",[t("hm-cell",{attrs:{title:e.$t("advance"),"is-link":""},nativeOn:{click:function(t){return e.showDia()}}})],1):e._e(),e._l(e.oTimesData,(function(a,i){return t("div",{key:i},[t("div",{staticClass:"item-option"},[t("span",{staticClass:"week-name"},[e._v(e._s("week"===e.mode?e.oTranslator.weekNameMap[i+1]:e.oTranslator.mothNameMap[i+1]))]),t("i",{staticClass:"icon-time-operation icon-add_dark-2",on:{click:function(t){return e.copySchedule(i)}}}),t("i",{staticClass:"icon-time-operation icon-add_dark",on:{click:function(t){return e.addScheduleTime(i)}}})]),t("div",{staticClass:"item-time"},[t("span",{staticClass:"time-span-tip"},[e._v("00:00")]),t("div",{staticClass:"item-time-container"},e._l(a,(function(a,n){return t("div",{key:i+"-"+n,staticClass:"item-time-slice",style:e.getTimesSlicePosAndType(a)})})),0),t("span",{staticClass:"time-span-tip"},[e._v("24:00")])]),t("transition-group",{attrs:{name:"swipe",tag:"ul"}},e._l(a,(function(a,n){return t("div",{key:i+"-"+n},[t("div",{staticClass:"item-inner"},[t("span",{staticClass:"label-name"},[t("span",{staticClass:"label-name-up"},[e._v("\n                    "+e._s(a.sTime)+"\n                  ")]),t("span",{staticClass:"label-name-down"},[e._v("\n                    "+e._s(e.$t("startTime"))+"\n                  ")])]),t("div",{staticClass:"midle-text"},[t("span",{directives:[{name:"show",rawName:"v-show",value:e.showTypes&&e.types&&e.types.length>0,expression:"showTypes && types && types.length > 0"}],staticClass:"label-type"},[e._v(e._s(e.getTypeLan(a.type)))]),t("span",{directives:[{name:"show",rawName:"v-show",value:a.param,expression:"item.param"}],staticClass:"label-type",on:{click:function(t){return e.isShowParam(a,n,i,e.oTimesData)}}},[e._v(e._s(a.param))])]),t("span",{staticClass:"label-name"},[t("span",{staticClass:"label-name-up"},[e._v("\n                    "+e._s(a.eTime)+"\n                  ")]),t("span",{staticClass:"label-name-down"},[e._v("\n                    "+e._s(e.$t("endTime"))+"\n                  ")])]),t("span",{staticClass:"icon-close_dark",on:{click:function(t){return e.onSwipeBtnClick(i,n)}}})])])})),0)],1)}))],2),e.bShowDia?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:this.$t("advance"),"enable-show-tips":e.bEnableShowTips,"enable-cancel-callback":e.bEnableCancelCallback},on:{cancelcallback:e.cancelCallback,confirm:e.confirm}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"swipe-wrapper"},[t("hm-scroll",[t("hm-cell",{attrs:{title:e.$t("streamType")}},[t("hm-select",{attrs:{options:e.arrT},model:{value:e.advanceT,callback:function(t){e.advanceT=t},expression:"advanceT"}})],1)],1)],1)])])],1):e._e(),e.bShowParam?t("div",{staticClass:"full-screen-display isMaxFull"},[t("base-page-extend",{attrs:{title:e.isParam.textName,"enable-show-tips":e.bEnableShowTips,"enable-cancel-callback":e.bEnableCancelCallback},on:{cancelcallback:e.cancelCallback,confirm:e.confirmParam}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"swipe-wrapper"},[t("hm-scroll",[t("hm-cell",{attrs:{title:e.isParam.textName}},[t("hm-input",{model:{value:e.inputParamContent,callback:function(t){e.inputParamContent=t},expression:"inputParamContent"}}),t("span",{staticClass:"param-unit"},[e._v(e._s(e.isParam.unit))])],1)],1)],1)])])],1):e._e()],1)])])},n=[],o=a("8bac"),r=o["a"],s=(a("7124"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"71b5a19d",null);t["a"]=l.exports},"248c":function(e,t,a){},"250d":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("displaySettings"),"right-type":"text","show-save-button":!(e.linkPresetShow||e.oScheduleShow||e.bRecordSchedule),"save-button-disabled":0===e.iDeviceType&&(e.oCapa.bSupportScene||e.oCapa.bBright||e.oCapa.bContrast||e.oCapa.bSaturation||e.oCapa.bHue)&&!e.oCapa.bSupportDisplay,"save-text":e.$t("default")},on:{"save-handle":e.restoreDefault}},[t("div",{staticClass:"plan-record-content",attrs:{slot:"content"},slot:"content"},[t("div",[t("channel-list",{attrs:{"o-channel":e.oChannel,"show-type":"tab"}}),t("div",{staticClass:"plugin-small"},[t("plugin-wind",{attrs:{mode:"privacymask","o-channel":e.oChannel,hide:e.bPluginHide},on:{"play-success":e.playSuccess}})],1),e.bSupportDisplayParamSwitch?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("displayParamSwitch")}},[t("base-select",{attrs:{title:e.$t("displayParamSwitch"),options:e.displayParamSwitchOptions},on:{change:function(t){return e.changeDisplayParamSwitch(e.displayParamSwitch)}},model:{value:e.displayParamSwitch,callback:function(t){e.displayParamSwitch=t},expression:"displayParamSwitch"}})],1),"preset"===e.displayParamSwitch?t("hm-cell",{attrs:{title:e.$t("linkPreset"),"is-link":""},nativeOn:{click:function(t){return e.clickDisplayParamSwitch("preset")}}}):e._e(),"schedule"===e.displayParamSwitch?t("hm-cell",{attrs:{title:e.$t("scheduledSwitch"),"is-link":""},nativeOn:{click:function(t){return e.clickDisplayParamSwitch("schedule")}}}):e._e(),"month"===e.displayParamSwitch&&e.oCapbilities.oMonth&&e.oCapbilities.oMonth.bSupport?t("hm-cell",{attrs:{"is-link":"",title:e.$t("armSchedulePlan")},nativeOn:{click:function(t){return e.showSchedule()}}}):e._e()],1):e._e(),e.linkPresetShow?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:e.$t("linkPreset"),"enable-cancel-callback":e.bEnableCancelCallback},on:{cancelcallback:e.cancelCallbackLink,confirm:e.confirmLink}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"swipe-wrapper"},[e.oCapbilities.oPreset&&e.oCapbilities.oPreset.bSupport?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.oParamsSwitch.oPreset.bEnabled,expression:"oParamsSwitch.oPreset.bEnabled"}]},[t("hm-cell",{attrs:{title:e.$t("preset")}},[t("base-select",{attrs:{title:e.$t("preset"),options:e.aPreset,disabled:!e.oParamsSwitch.oPreset.bEnabled},on:{change:e.changePreset},model:{value:e.oParamsSwitch.oPreset.iLinkPreset,callback:function(t){e.$set(e.oParamsSwitch.oPreset,"iLinkPreset",t)},expression:"oParamsSwitch.oPreset.iLinkPreset"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapbilities.oPreset.bSupportLinkEnabled,expression:"oCapbilities.oPreset.bSupportLinkEnabled"}],attrs:{title:e.$t("link")}},[t("hm-switch",{attrs:{disabled:!e.oParamsSwitch.oPreset.bEnabled},model:{value:e.oParamsSwitch.oPreset.oPresetInfo.bEnabled,callback:function(t){e.$set(e.oParamsSwitch.oPreset.oPresetInfo,"bEnabled",t)},expression:"oParamsSwitch.oPreset.oPresetInfo.bEnabled"}})],1),e._l(e.oParamsSwitch.oPreset.oPresetInfo.aTimes,(function(a,i){return t("div",{key:"oPreset-"+i},[t("hm-cell",{attrs:{title:e.$t("timeRange")+(i+1)}},[t("hm-switch",{attrs:{disabled:!e.oParamsSwitch.oPreset.bEnabled},model:{value:a.bEnabled,callback:function(t){e.$set(a,"bEnabled",t)},expression:"oTime.bEnabled"}})],1),t("div",{staticClass:"item-inner",on:{click:function(t){return e.showTimePicker(i)}}},[t("span",{staticClass:"label-name"},[t("span",{staticClass:"label-name-up"},[e._v("\n                          "+e._s(a.szBeginTime)+"\n                        ")]),t("span",{staticClass:"label-name-down"},[e._v("\n                          "+e._s(e.$t("startTime"))+"\n                        ")])]),t("span",{staticClass:"label-type"},[e._v(e._s(e.$t(a.szScene)))]),t("span",{staticClass:"label-name"},[t("span",{staticClass:"label-name-up"},[e._v("\n                          "+e._s(a.szEndTime)+"\n                        ")]),t("span",{staticClass:"label-name-down"},[e._v("\n                          "+e._s(e.$t("endTime"))+"\n                        ")])])])],1)}))],2)]):e._e()],1)])])],1):e._e(),e.oScheduleShow?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:e.$t("linkPreset"),"enable-cancel-callback":e.bEnableCancelCallback},on:{cancelcallback:e.cancelCallbackArmSchedule,confirm:e.confirmArmSchedule}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"swipe-wrapper"},[e.oCapbilities.oSchedule&&e.oCapbilities.oSchedule.bSupport?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.oParamsSwitch.oSchedule.bEnabled,expression:"oParamsSwitch.oSchedule.bEnabled"}]},e._l(e.oParamsSwitch.oSchedule.aTimes,(function(a,i){return t("div",{key:"oSchedule-"+i},[t("hm-cell",{attrs:{title:e.$t("timeRange")+(i+1)}},[t("hm-switch",{attrs:{disabled:!e.oParamsSwitch.oSchedule.bEnabled},model:{value:a.bEnabled,callback:function(t){e.$set(a,"bEnabled",t)},expression:"oTime.bEnabled"}})],1),t("div",{staticClass:"item-inner",on:{click:function(t){return e.showScheduleTimePicker(i)}}},[t("span",{staticClass:"label-name"},[t("span",{staticClass:"label-name-up"},[e._v("\n                          "+e._s(a.szBeginTime)+"\n                        ")]),t("span",{staticClass:"label-name-down"},[e._v("\n                          "+e._s(e.$t("startTime"))+"\n                        ")])]),t("span",{staticClass:"label-type"},[e._v(e._s(e.$t(a.szScene)))]),t("span",{staticClass:"label-name"},[t("span",{staticClass:"label-name-up"},[e._v("\n                          "+e._s(a.szEndTime)+"\n                        ")]),t("span",{staticClass:"label-name-down"},[e._v("\n                          "+e._s(e.$t("endTime"))+"\n                        ")])])])],1)})),0)]):e._e()],1)])])],1):e._e(),e.bRecordSchedule?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:e.$t("armSchedulePlan"),"show-footer":!0,"enable-cancel-callback":e.bEnableCancelCallback},on:{delete:e.deleteAll,cancelcallback:e.cancelcallback,confirm:e.confirm}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"swipe-wrapper time-plan-padding swipe-wrapper-show-footer"},[t("hm-scroll",[t("time-plan",{ref:"timePlan",attrs:{mode:"moth","times-data":e.aTimes,holiday:!1,types:e.oCapbilities.aScenes}})],1)],1)])])],1):e._e(),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[e.oSceneCap&&e.oSceneCap.bMountingScene?t("hm-cell",{attrs:{title:e.$t("SceneDefault")}},[t("base-select",{attrs:{title:e.$t("SceneDefault"),options:e.oSceneCap.aMountingScene},on:{change:function(t){return e.changeMountScene()}},model:{value:e.oParams.szMountScene,callback:function(t){e.$set(e.oParams,"szMountScene",t)},expression:"oParams.szMountScene"}})],1):e._e()],1),e.oParams.oISP&&e.oParams.oISP.bSupport?t("div",[t("hm-cell",{attrs:{title:e.$t("switchDayNight")}},[t("base-select",{attrs:{title:e.$t("switchDayNight"),options:e.oDayNightModesMap},model:{value:e.oParams.oISP.szISPMode,callback:function(t){e.$set(e.oParams.oISP,"szISPMode",t)},expression:"oParams.oISP.szISPMode"}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:"schedule"===e.oParams.oISP.szISPMode,expression:"oParams.oISP.szISPMode === 'schedule'"}]},[t("hm-cell",{attrs:{title:e.$t("startTime"),value:e.oParams.oISP.szBeginTime},nativeOn:{click:function(t){return e.changeSchedule(!0)}}}),t("hm-cell",{attrs:{title:e.$t("endTime"),value:e.oParams.oISP.szEndTime},nativeOn:{click:function(t){return e.changeSchedule(!1)}}}),t("hm-cell",{attrs:{title:e.$t("")}},[t("base-select",{attrs:{title:e.$t(""),options:e.oDayNightCommonMap},on:{change:function(t){return e.switchDayOrNight()}},model:{value:e.oParams.oISP.szScheduleType,callback:function(t){e.$set(e.oParams.oISP,"szScheduleType",t)},expression:"oParams.oISP.szScheduleType"}})],1)],1)],1):e._e(),0===e.iDeviceType?t("div",[t("div",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bSupportScene||e.oCapa.bBright||e.oCapa.bContrast||e.oCapa.bSaturation||e.oCapa.bHue||e.oCapa.bSharpnessMode||e.oCapa.bSharpness,expression:"oCapa.bSupportScene || oCapa.bBright || oCapa.bContrast || oCapa.bSaturation || oCapa.bHue || oCapa.bSharpnessMode || oCapa.bSharpness"}]},[t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapa&&e.oCapa.bSupportScene,expression:"oCapa && oCapa.bSupportScene"}],attrs:{title:e.$t("SceneDefault")}},[t("base-select",{attrs:{title:e.$t("SceneDefault"),options:e.aDisplayScene},on:{change:function(t){return e.changeScene()}},model:{value:e.oParams.szDisplayScene,callback:function(t){e.$set(e.oParams,"szDisplayScene",t)},expression:"oParams.szDisplayScene"}})],1),e.oCapa.bBright?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("brightness")+"："+e.oParams.iBright}}):e._e(),e.oCapa.bBright?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iBrightMin,max:e.oCapa.iBrightMax,"bar-height":3},on:{change:e.setColor},model:{value:e.oParams.iBright,callback:function(t){e.$set(e.oParams,"iBright",t)},expression:"oParams.iBright"}})],1):e._e(),e.oCapa.bContrast?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("contrast")+"："+e.oParams.iContrast}}):e._e(),e.oCapa.bContrast?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iContrastMin,max:e.oCapa.iContrastMax,"bar-height":3},on:{change:e.setColor},model:{value:e.oParams.iContrast,callback:function(t){e.$set(e.oParams,"iContrast",t)},expression:"oParams.iContrast"}})],1):e._e(),e.oCapa.bSaturation?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("saturation")+"："+e.oParams.iSaturation}}):e._e(),e.oCapa.bSaturation?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iSaturationMin,max:e.oCapa.iSaturationMax,"bar-height":3},on:{change:e.setColor},model:{value:e.oParams.iSaturation,callback:function(t){e.$set(e.oParams,"iSaturation",t)},expression:"oParams.iSaturation"}})],1):e._e(),e.oCapa.bHue?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("hue")+"："+e.oParams.iHue}}):e._e(),e.oCapa.bHue?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iHueMin,max:e.oCapa.iHueMax,"bar-height":3},on:{change:e.setColor},model:{value:e.oParams.iHue,callback:function(t){e.$set(e.oParams,"iHue",t)},expression:"oParams.iHue"}})],1):e._e(),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bSharpnessMode,expression:"oCapa.bSharpnessMode"}],attrs:{title:e.$t(e.oImgLan.szBLCName)}},[t("base-select",{attrs:{title:e.$t("sharpnessMode"),options:e.oCapa.aSharpnessModes},on:{change:e.setSharpness},model:{value:e.oParams.szSharpnessMode,callback:function(t){e.$set(e.oParams,"szSharpnessMode",t)},expression:"oParams.szSharpnessMode"}})],1),e.oShow.bSharpness||e.oCapa.bSupportScene?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("sharpness")+"："+e.oParams.iSharpness}}):e._e(),e.oShow.bSharpness||e.oCapa.bSupportScene?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iSharpnessMin,max:e.oCapa.iSharpnessMax,"bar-height":3},on:{change:e.setSharpness},model:{value:e.oParams.iSharpness,callback:function(t){e.$set(e.oParams,"iSharpness",t)},expression:"oParams.iSharpness"}})],1):e._e(),e.oCapa.bSupportScene?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("denoise")+"："+e.oParams.iNoiseReduce}}):e._e(),e.oCapa.bSupportScene?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iNoiseReduceMin,max:e.oCapa.iNoiseReduceMax,"bar-height":3},on:{change:e.setSharpness},model:{value:e.oParams.iNoiseReduce,callback:function(t){e.$set(e.oParams,"iNoiseReduce",t)},expression:"oParams.iNoiseReduce"}})],1):e._e(),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bFFC,expression:"oCapa.bFFC"}],attrs:{title:e.$t(e.oImgLan.szBLCName)}},[t("base-select",{attrs:{title:e.$t("FFC"),options:e.oCapa.aFFCs},on:{change:function(t){return e.setFFC()}},model:{value:e.oParams.szFFC,callback:function(t){e.$set(e.oParams,"szFFC",t)},expression:"oParams.szFFC"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oShow.bFFCComTime,expression:"oShow.bFFCComTime"}],attrs:{title:e.$t(e.oImgLan.szBLCName)}},[t("base-select",{attrs:{title:e.$t("intervalTime"),options:e.oCapa.aFFCComTime},on:{change:function(t){return e.setFFC()}},model:{value:e.oParams.szFFCComTime,callback:function(t){e.$set(e.oParams,"szFFCComTime",t)},expression:"oParams.szFFCComTime"}})],1)],1)]):e._e(),0!==e.iDeviceType?t("div",[e.oCapa.bSupportScene||e.oCapa.bBright||e.oCapa.bContrast||e.oCapa.bSaturation||e.oCapa.bHue||e.oCapa.bSharpnessMode||e.oCapa.bSharpness?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("imageAdjust")}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bSupportScene||e.oCapa.bBright||e.oCapa.bContrast||e.oCapa.bSaturation||e.oCapa.bHue||e.oCapa.bSharpnessMode||e.oCapa.bSharpness,expression:"oCapa.bSupportScene || oCapa.bBright || oCapa.bContrast || oCapa.bSaturation || oCapa.bHue || oCapa.bSharpnessMode || oCapa.bSharpness"}]},[t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bSupportScene,expression:"oCapa.bSupportScene"}],attrs:{title:e.$t("SceneDefault")}},[t("base-select",{attrs:{title:e.$t("SceneDefault"),options:e.aDisplayScene},on:{change:function(t){return e.changeScene()}},model:{value:e.oParams.szDisplayScene,callback:function(t){e.$set(e.oParams,"szDisplayScene",t)},expression:"oParams.szDisplayScene"}})],1),e.oCapa.bBright?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("brightness")+"："+e.oParams.iBright}}):e._e(),e.oCapa.bBright?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iBrightMin,max:e.oCapa.iBrightMax,"bar-height":3},on:{change:e.setColor},model:{value:e.oParams.iBright,callback:function(t){e.$set(e.oParams,"iBright",t)},expression:"oParams.iBright"}})],1):e._e(),e.oCapa.bContrast?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("contrast")+"："+e.oParams.iContrast}}):e._e(),e.oCapa.bContrast?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iContrastMin,max:e.oCapa.iContrastMax,"bar-height":3},on:{change:e.setColor},model:{value:e.oParams.iContrast,callback:function(t){e.$set(e.oParams,"iContrast",t)},expression:"oParams.iContrast"}})],1):e._e(),e.oCapa.bSaturation?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("saturation")+"："+e.oParams.iSaturation}}):e._e(),e.oCapa.bSaturation?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iSaturationMin,max:e.oCapa.iSaturationMax,"bar-height":3},on:{change:e.setColor},model:{value:e.oParams.iSaturation,callback:function(t){e.$set(e.oParams,"iSaturation",t)},expression:"oParams.iSaturation"}})],1):e._e(),e.oCapa.bHue?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("hue")+"："+e.oParams.iHue}}):e._e(),e.oCapa.bHue?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iHueMin,max:e.oCapa.iHueMax,"bar-height":3},on:{change:e.setColor},model:{value:e.oParams.iHue,callback:function(t){e.$set(e.oParams,"iHue",t)},expression:"oParams.iHue"}})],1):e._e(),e.oCapa.bSharpnessMode?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("sharpnessMode")}},[t("base-select",{attrs:{title:e.$t("sharpnessMode"),options:e.oCapa.aSharpnessModes},on:{change:function(t){return e.setSharpness()}},model:{value:e.oParams.szSharpnessMode,callback:function(t){e.$set(e.oParams,"szSharpnessMode",t)},expression:"oParams.szSharpnessMode"}})],1):e._e(),e.oCapa.bSharpness?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("sharpness")+"："+e.oParams.iSharpness}}):e._e(),e.oCapa.bSharpness?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iSharpnessMin,max:e.oCapa.iSharpnessMax,"bar-height":3},on:{change:e.setSharpness},model:{value:e.oParams.iSharpness,callback:function(t){e.$set(e.oParams,"iSharpness",t)},expression:"oParams.iSharpness"}})],1):e._e()],1)]):e._e(),t("div",[e.oCapa.bExposureType||e.oCapa.bPIris&&("pIris"===e.oParams.szExposureType||"pIris-T5280"==e.oParams.szExposureType||"pIris-T5289"==e.oParams.szExposureType||"pIris-T3816"==e.oParams.szExposureType||"pIris-T1140"==e.oParams.szExposureType||"pIris-T2712"==e.oParams.szExposureType||"pIris-T1250"==e.oParams.szExposureType)||e.oCapa.bPIris&&"MANUAL"===e.oParams.szPIrisMode||e.oCapa.bAutoIrisLevel&&"auto"===e.oParams.szExposureType||e.oShow.bIris||e.oCapa.bMaxIrisLimit||e.oCapa.bMinIrisLimit||e.oShow.bShutter||e.oCapa.bMaxShutterLimit||e.oCapa.bMinShutterLimit||e.oCapa.bGainLevel||e.oCapa.bGainLimit||e.oCapa.bDSS||e.oCapa.bDSSLevel&&"true"===e.oParams.szDSSEnable||e.oCapa.bExpComp?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("exposureSettings")}},[e.oCapa.bExposureType||e.oCapa.bPIris&&("pIris"===e.oParams.szExposureType||"pIris-T5280"==e.oParams.szExposureType||"pIris-T5289"==e.oParams.szExposureType||"pIris-T3816"==e.oParams.szExposureType||"pIris-T1140"==e.oParams.szExposureType||"pIris-T2712"==e.oParams.szExposureType||"pIris-T1250"==e.oParams.szExposureType)||e.oCapa.bPIris&&"MANUAL"===e.oParams.szPIrisMode||e.oCapa.bAutoIrisLevel&&"auto"===e.oParams.szExposureType||e.oShow.bIris||e.oCapa.bMaxIrisLimit||e.oCapa.bMinIrisLimit||e.oShow.bShutter||e.oCapa.bMaxShutterLimit||e.oCapa.bMinShutterLimit||e.oCapa.bGainLevel||e.oCapa.bGainLimit||e.oCapa.bDSS||e.oCapa.bDSSLevel&&"true"===e.oParams.szDSSEnable||e.oCapa.bExpComp?t("div",[e.oCapa.bExposureType?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t(e.oImgLan.szExposureType)}},[t("base-select",{attrs:{title:e.$t(e.oImgLan.szExposureType),options:e.oCapa.aExposureTypes},on:{change:function(t){return e.setExposure()}},model:{value:e.oParams.szExposureType,callback:function(t){e.$set(e.oParams,"szExposureType",t)},expression:"oParams.szExposureType"}})],1):e._e(),e.oCapa.bExposureLevel?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("exposureLevel")+"："+e.oParams.iExposureLevel}}):e._e(),e.oCapa.bExposureLevel?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iExposureLevelMin,max:e.oCapa.iExposureLevelMax,"bar-height":3},on:{change:e.setExposure},model:{value:e.oParams.iExposureLevel,callback:function(t){e.$set(e.oParams,"iExposureLevel",t)},expression:"oParams.iExposureLevel"}})],1):e._e(),!e.oCapa.bPIris||"pIris"!==e.oParams.szExposureType&&"pIris-T5280"!=e.oParams.szExposureType&&"pIris-T5289"!=e.oParams.szExposureType&&"pIris-T3816"!=e.oParams.szExposureType&&"pIris-T1140"!=e.oParams.szExposureType&&"pIris-T2712"!=e.oParams.szExposureType&&"pIris-T1250"!=e.oParams.szExposureType?e._e():t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("mode")}},[t("base-select",{attrs:{title:e.$t("mode"),options:e.aPIrisMode},on:{change:function(t){return e.setExposure()}},model:{value:e.oParams.szPIrisMode,callback:function(t){e.$set(e.oParams,"szPIrisMode",t)},expression:"oParams.szPIrisMode"}})],1),e.oShow.bLevel?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("level")+"："+e.oParams.iPIrisLevel}}):e._e(),e.oShow.bLevel?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iPIrisLevelMin,max:e.oCapa.iPIrisLevelMax,"bar-height":3},on:{change:e.setExposure},model:{value:e.oParams.iPIrisLevel,callback:function(t){e.$set(e.oParams,"iPIrisLevel",t)},expression:"oParams.iPIrisLevel"}})],1):e._e(),e.oCapa.bAutoIrisLevel&&"auto"===e.oParams.szExposureType?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("autoIrisLevel")+"："+e.oParams.iAutoIrisLevel}}):e._e(),e.oCapa.bAutoIrisLevel&&"auto"===e.oParams.szExposureType?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iAutoIrisLevelMin,max:e.oCapa.iAutoIrisLevelMax,"bar-height":3},on:{change:e.setExposure},model:{value:e.oParams.iAutoIrisLevel,callback:function(t){e.$set(e.oParams,"iAutoIrisLevel",t)},expression:"oParams.iAutoIrisLevel"}})],1):e._e(),e.oCapa.bMaxIrisLimit?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("maxIrisLimit")+"："+e.oParams.iMaxIrisLimit}}):e._e(),e.oCapa.bMaxIrisLimit?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iMaxIrisMin,max:e.oCapa.iMaxIrisMax,"bar-height":3},on:{change:e.setIris},model:{value:e.oParams.iMaxIrisLimit,callback:function(t){e.$set(e.oParams,"iMaxIrisLimit",t)},expression:"oParams.iMaxIrisLimit"}})],1):e._e(),e.oCapa.bMinIrisLimit?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("minIrisLimit")+"："+e.oParams.iMinIrisLimit}}):e._e(),e.oCapa.bMinIrisLimit?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iMinIrisMin,max:e.oCapa.iMinIrisMax,"bar-height":3},on:{change:e.setIris},model:{value:e.oParams.iMinIrisLimit,callback:function(t){e.$set(e.oParams,"iMinIrisLimit",t)},expression:"oParams.iMinIrisLimit"}})],1):e._e(),e.oCapa.bMaxShutterLimit?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("maxShutterLimit")}},[t("base-select",{attrs:{title:e.$t("maxShutterLimit"),options:e.oCapa.aMaxShutterLimits},on:{change:function(t){return e.setShutter()}},model:{value:e.oParams.szMaxShutterLimit,callback:function(t){e.$set(e.oParams,"szMaxShutterLimit",t)},expression:"oParams.szMaxShutterLimit"}})],1):e._e(),e.oCapa.bMinShutterLimit?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("minShutterLimit")}},[t("base-select",{attrs:{title:e.$t("minShutterLimit"),options:e.oCapa.aMinShutterLimits},on:{change:function(t){return e.setShutter()}},model:{value:e.oParams.szMinShutterLimit,callback:function(t){e.$set(e.oParams,"szMinShutterLimit",t)},expression:"oParams.szMinShutterLimit"}})],1):e._e(),e.oShow.bIris?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("iris")}},[t("base-select",{attrs:{title:e.$t("iris"),options:e.oCapa.aIriss},on:{change:function(t){return e.setIris()}},model:{value:e.oParams.szIris,callback:function(t){e.$set(e.oParams,"szIris",t)},expression:"oParams.szIris"}})],1):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:"pIris-General"===e.oParams.szExposureType,expression:"'pIris-General' === oParams.szExposureType"}]},[t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("mode")}},[t("base-select",{attrs:{title:e.$t("mode"),options:e.oCapa.aGeneralPirisMode},on:{change:function(t){return e.setExposure()}},model:{value:e.oParams.szGeneralPIrisMode,callback:function(t){e.$set(e.oParams,"szGeneralPIrisMode",t)},expression:"oParams.szGeneralPIrisMode"}})],1),e.oCapa.bGeneralPirisLevel&&"MANUAL"===e.oParams.szGeneralPIrisMode?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("irisLevel")+"："+e.oParams.iGeneralPirisLevel}}):e._e(),e.oCapa.bGeneralPirisLevel&&"MANUAL"===e.oParams.szGeneralPIrisMode?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iGeneralPirisLevelMin,max:e.oCapa.iGeneralPirisLevelMax,"bar-height":3},on:{change:e.setExposure},model:{value:e.oParams.iGeneralPirisLevel,callback:function(t){e.$set(e.oParams,"iGeneralPirisLevel",t)},expression:"oParams.iGeneralPirisLevel"}})],1):e._e()],1),e.oShow.bShutter?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t(e.oImgLan.szShutter)}},[t("base-select",{attrs:{title:e.$t(e.oImgLan.szShutter),options:e.oCapa.aShutters},on:{change:function(t){return e.setShutter()}},model:{value:e.oParams.szShutter,callback:function(t){e.$set(e.oParams,"szShutter",t)},expression:"oParams.szShutter"}})],1):e._e(),e.oCapa.bGainLevel?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("gain")+"："+e.oParams.iGainLevel}}):e._e(),e.oCapa.bGainLevel?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iGainLevelMin,max:e.oCapa.iGainLevelMax,"bar-height":3},on:{change:e.setGain},model:{value:e.oParams.iGainLevel,callback:function(t){e.$set(e.oParams,"iGainLevel",t)},expression:"oParams.iGainLevel"}})],1):e._e(),e.oCapa.bGainLimit?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("limitGain")+"："+e.oParams.iGainLimit}}):e._e(),e.oCapa.bGainLimit?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iGainLimitMin,max:e.oCapa.iGainLimitMax,"bar-height":3},on:{change:e.setGain},model:{value:e.oParams.iGainLimit,callback:function(t){e.$set(e.oParams,"iGainLimit",t)},expression:"oParams.iGainLimit"}})],1):e._e(),e.oCapa.bDSS?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("DSS")}},[t("base-select",{attrs:{title:e.$t("DSS"),options:e.aEnable},on:{change:function(t){return e.setDSS()}},model:{value:e.oParams.szDSSEnable,callback:function(t){e.$set(e.oParams,"szDSSEnable",t)},expression:"oParams.szDSSEnable"}})],1):e._e(),e.oCapa.bDSSLevel&&"true"===e.oParams.szDSSEnable?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("DSSLevel")}},[t("base-select",{attrs:{title:e.$t("DSSLevel"),options:e.oCapa.aDSSLevels},on:{change:function(t){return e.setDSS()}},model:{value:e.oParams.szDSSLevel,callback:function(t){e.$set(e.oParams,"szDSSLevel",t)},expression:"oParams.szDSSLevel"}})],1):e._e(),e.oCapa.bExpComp?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("expComp")+"："+e.oParams.iExpComp}}):e._e(),e.oCapa.bExpComp?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iExpCompMin,max:e.oCapa.iExpCompMax,"bar-height":3},on:{change:e.setExpComp},model:{value:e.oParams.iExpComp,callback:function(t){e.$set(e.oParams,"iExpComp",t)},expression:"oParams.iExpComp"}})],1):e._e()],1):e._e()]):e._e()],1),e.oCapa.bFocusMode||e.oCapa.bFocusDistance||e.oCapa.bFocusSpeed?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("focus")}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bFocusMode||e.oCapa.bFocusDistance||e.oCapa.bFocusSpeed,expression:"oCapa.bFocusMode || oCapa.bFocusDistance || oCapa.bFocusSpeed"}]},[e.oCapa.bFocusMode?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("focusMode")}},[t("base-select",{attrs:{title:e.$t("focusMode"),options:e.oCapa.aFocusModes},on:{change:function(t){return e.setFocus()}},model:{value:e.oParams.szFocusMode,callback:function(t){e.$set(e.oParams,"szFocusMode",t)},expression:"oParams.szFocusMode"}})],1):e._e(),e.oCapa.bFocusDistance?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("minFocusDis")}},[t("base-select",{attrs:{title:e.$t("minFocusDis"),options:e.oCapa.aFocusDistances},on:{change:function(t){return e.setFocus()}},model:{value:e.oParams.szFocusDistance,callback:function(t){e.$set(e.oParams,"szFocusDistance",t)},expression:"oParams.szFocusDistance"}})],1):e._e(),e.oCapa.bFocusSpeed?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("focusSpeed")+"："+e.oParams.iFocusSpeed}}):e._e(),e.oCapa.bFocusSpeed?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iFocusSpeedMin,max:e.oCapa.iFocusSpeedMax,"bar-height":3},on:{change:e.setFocus},model:{value:e.oParams.iFocusSpeed,callback:function(t){e.$set(e.oParams,"iFocusSpeed",t)},expression:"oParams.iFocusSpeed"}})],1):e._e()],1)]):e._e(),e.oCapa.bIrcutFilterType||e.oCapa.bIrcutFilterType&&"schedule"===e.oParams.szIrcutFilterType||e.oCapa.bIrcutFilterType&&"eventTrigger"===e.oParams.szIrcutFilterType||e.oShow.bIrcutFilterSen||e.oShow.bIructFilterTime||e.oCapa.bSmartIR||e.oCapa.bIRLight||e.oCapa.bLaserLight?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("dayNightSwitch")}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bIrcutFilterType||e.oCapa.bIrcutFilterType&&"schedule"===e.oParams.szIrcutFilterType||e.oCapa.bIrcutFilterType&&"eventTrigger"===e.oParams.szIrcutFilterType||e.oShow.bIrcutFilterSen||e.oShow.bIructFilterTime||e.oCapa.bSmartIR||e.oCapa.bIRLight||e.oCapa.bLaserLight,expression:"oCapa.bIrcutFilterType || (oCapa.bIrcutFilterType && oParams.szIrcutFilterType === 'schedule') || (oCapa.bIrcutFilterType && oParams.szIrcutFilterType === 'eventTrigger') || oShow.bIrcutFilterSen || oShow.bIructFilterTime || oCapa.bSmartIR || oCapa.bIRLight || oCapa.bLaserLight"}]},[e.oCapa.bIrcutFilterType?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("dayNightSwitch")}},[t("base-select",{attrs:{title:e.$t("dayNightSwitch"),options:e.oCapa.aIrcutFilterTypes},on:{change:function(t){return e.setIrcutFilter()}},model:{value:e.oParams.szIrcutFilterType,callback:function(t){e.$set(e.oParams,"szIrcutFilterType",t)},expression:"oParams.szIrcutFilterType"}})],1):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bIrcutFilterType&&("schedule"===e.oParams.szIrcutFilterType||"darkFighterXSchedule"===e.oParams.szIrcutFilterType),expression:"oCapa.bIrcutFilterType && (oParams.szIrcutFilterType === 'schedule' || oParams.szIrcutFilterType === 'darkFighterXSchedule')"}]},[t("hm-cell",{attrs:{title:e.$t("startTime"),value:e.oParams.szIrcutFilterStartTime},nativeOn:{click:function(t){return e.setIrcutFilterTimePicker(!0)}}}),t("hm-cell",{attrs:{title:e.$t("endTime"),value:e.oParams.szIrcutFilterEndTime},nativeOn:{click:function(t){return e.setIrcutFilterTimePicker(!1)}}})],1),e.oCapa.bIrcutFilterType&&"eventTrigger"===e.oParams.szIrcutFilterType?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("triggerStatus")}},[t("base-select",{attrs:{title:e.$t("triggerStatus"),options:e.oScheduleTypeList},on:{change:function(t){return e.setIrcutFilter()}},model:{value:e.oParams.szEventTrigger,callback:function(t){e.$set(e.oParams,"szEventTrigger",t)},expression:"oParams.szEventTrigger"}})],1):e._e(),e.oShow.bIrcutFilterSen?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("sensitivity")}},[t("base-select",{attrs:{title:e.$t("sensitivity"),options:e.oCapa.aIrcutFilterSens},on:{change:function(t){return e.setIrcutFilter()}},model:{value:e.oParams.szIrcutFilterSen,callback:function(t){e.$set(e.oParams,"szIrcutFilterSen",t)},expression:"oParams.szIrcutFilterSen"}})],1):e._e(),e.oShow.bIructFilterTimeConstant?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("filterTime")+"："+e.oParams.iIructFilterTime}}):e._e(),e.oShow.bIructFilterTimeConstant?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iIructFilterTimeMin,max:e.oCapa.iIructFilterTimeMax,"bar-height":3},on:{change:e.setIrcutFilter},model:{value:e.oParams.iIructFilterTime,callback:function(t){e.$set(e.oParams,"iIructFilterTime",t)},expression:"oParams.iIructFilterTime"}})],1):e._e(),e.oShow.bIructFilterTimeDiscrete?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("filterTime")}},[t("base-select",{attrs:{title:e.$t("filterTime")+e.$t("seconds"),options:e.oCapa.aIrcutFilterTime},on:{change:function(t){return e.setIrcutFilter()}},model:{value:e.oParams.iIructFilterTime,callback:function(t){e.$set(e.oParams,"iIructFilterTime",t)},expression:"oParams.iIructFilterTime"}})],1):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bSmartIR,expression:"oCapa.bSmartIR"}]},[t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("supplyLightIR")}},[t("base-select",{attrs:{title:e.$t("supplyLightIR"),options:e.aEnable},on:{change:function(t){return e.setExposure()}},model:{value:e.oParams.szSmartIREnable,callback:function(t){e.$set(e.oParams,"szSmartIREnable",t)},expression:"oParams.szSmartIREnable"}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:"true"===e.oParams.szSmartIREnable&&e.oCapa.bSmartIRMode,expression:"oParams.szSmartIREnable === 'true' && oCapa.bSmartIRMode"}]},[t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("mode")}},[t("base-select",{attrs:{title:e.$t("mode"),options:e.oCapa.aSmartIRType},on:{change:function(t){return e.setExposure()}},model:{value:e.oParams.szSmartIRMode,callback:function(t){e.$set(e.oParams,"szSmartIRMode",t)},expression:"oParams.szSmartIRMode"}})],1),"MANUAL"===e.oParams.szSmartIRMode?t("div",[e.oCapa.bDistance?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("distance")+"："+e.oParams.iDistanceLevel}}):e._e(),e.oCapa.bDistance?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iDistanceMin,max:e.oCapa.iDistanceMax,"bar-height":3},on:{change:e.setExposure},model:{value:e.oParams.iDistanceLevel,callback:function(t){e.$set(e.oParams,"iDistanceLevel",t)},expression:"oParams.iDistanceLevel"}})],1):e._e(),e.oCapa.bLowDistance?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("lowBeamLightDis")+"："+e.oParams.iLowDistanceLevel}}):e._e(),t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iBrightMin,max:e.oCapa.iBrightMax,"bar-height":3},on:{change:e.setColor},model:{value:e.oParams.iBright,callback:function(t){e.$set(e.oParams,"iBright",t)},expression:"oParams.iBright"}})],1),e.oCapa.bHighDistance?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("highBeamLightDis")+"："+e.oParams.iHighDistanceLevel}}):e._e(),e.oCapa.bHighDistance?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iHighDistanceMin,max:e.oCapa.iHighDistanceMax,"bar-height":3},on:{change:e.setExposure},model:{value:e.oParams.iHighDistanceLevel,callback:function(t){e.$set(e.oParams,"iHighDistanceLevel",t)},expression:"oParams.iHighDistanceLevel"}})],1):e._e()],1):e._e()],1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bIRLight,expression:"oCapa.bIRLight"}]},[t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("IRLightMode")}},[t("base-select",{attrs:{title:e.$t("IRLightMode"),options:e.oCapa.aIRLightModes},on:{change:function(t){return e.setIRLight()}},model:{value:e.oParams.szIRLightMode,callback:function(t){e.$set(e.oParams,"szIRLightMode",t)},expression:"oParams.szIRLightMode"}})],1),"auto"!==e.oParams.szIRLightMode||e.oNoSupportList.szIRTriggerMode?e._e():t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("triggerMode")}},[t("base-select",{attrs:{title:e.$t("triggerMode"),options:e.oCapa.aIRTriggerModes},on:{change:function(t){return e.setIRLight()}},model:{value:e.oParams.szIRTriggerMode,callback:function(t){e.$set(e.oParams,"szIRTriggerMode",t)},expression:"oParams.szIRTriggerMode"}})],1),"auto"!==e.oParams.szIRLightMode?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("IRLightBright")+"："+e.oParams.iIRLightBright}}):e._e(),"auto"!==e.oParams.szIRLightMode?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iIRLightBrightMin,max:e.oCapa.iIRLightBrightMax,"bar-height":3},on:{change:e.setIRLight},model:{value:e.oParams.iIRLightBright,callback:function(t){e.$set(e.oParams,"iIRLightBright",t)},expression:"oParams.iIRLightBright"}})],1):e._e(),e.oCapa.bIRLightBrightLimit&&"auto"===e.oParams.szIRLightMode?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("brightLimit")+"："+e.oParams.iIRLightBrightLimit}}):e._e(),e.oCapa.bIRLightBrightLimit&&"auto"===e.oParams.szIRLightMode?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iIRLightBrightLimitMin,max:e.oCapa.iIRLightBrightLimitMax,"bar-height":3},on:{change:e.setIRLight},model:{value:e.oParams.iIRLightBrightLimit,callback:function(t){e.$set(e.oParams,"iIRLightBrightLimit",t)},expression:"oParams.iIRLightBrightLimit"}})],1):e._e(),"auto"!==e.oParams.szIRLightMode||e.oNoSupportList.iIRLightSen?e._e():t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("IRLightSen")+"："+e.oParams.iIRLightSen}}),"auto"!==e.oParams.szIRLightMode||e.oNoSupportList.iIRLightSen?e._e():t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iIRLightSenMin,max:e.oCapa.iIRLightSenMax,"bar-height":3},on:{change:e.setIRLight},model:{value:e.oParams.iIRLightSen,callback:function(t){e.$set(e.oParams,"iIRLightSen",t)},expression:"oParams.iIRLightSen"}})],1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bLaserLight,expression:"oCapa.bLaserLight"}]},[e.oCapa.aLaserModes.length?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("laserMode")}},[t("base-select",{attrs:{title:e.$t("laserMode"),options:e.oCapa.aLaserModes},on:{change:function(t){return e.setLaser()}},model:{value:e.oParams.szLaserMode,callback:function(t){e.$set(e.oParams,"szLaserMode",t)},expression:"oParams.szLaserMode"}})],1):e._e(),"auto"===e.oParams.szLaserMode&&e.oCapa.aLaserTriggerModes.length?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("triggerMode")}},[t("base-select",{attrs:{title:e.$t("triggerMode"),options:e.oCapa.aLaserTriggerModes},on:{change:function(t){return e.setLaser()}},model:{value:e.oParams.szLaserTriggerMode,callback:function(t){e.$set(e.oParams,"szLaserTriggerMode",t)},expression:"oParams.szLaserTriggerMode"}})],1):e._e(),"auto"!==e.oParams.szLaserMode?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("laserBright")+"："+e.oParams.iLaserBright}}):e._e(),"auto"!==e.oParams.szLaserMode?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iLaserBrightMin,max:e.oCapa.iLaserBrightMax,"bar-height":3},on:{change:e.setLaser},model:{value:e.oParams.iLaserBright,callback:function(t){e.$set(e.oParams,"iLaserBright",t)},expression:"oParams.iLaserBright"}})],1):e._e(),"auto"!==e.oParams.szLaserMode?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("laserAngle")+"："+e.oParams.iLaserAngle}}):e._e(),"auto"!==e.oParams.szLaserMode?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iLaserAngleMin,max:e.oCapa.iLaserAngleMax,"bar-height":3},on:{change:e.setLaser},model:{value:e.oParams.iLaserAngle,callback:function(t){e.$set(e.oParams,"iLaserAngle",t)},expression:"oParams.iLaserAngle"}})],1):e._e(),e.oCapa.bLaserBrightLimit&&"auto"===e.oParams.szLaserMode?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("brightLimit")+"："+e.oParams.iLaserBrightLimit}}):e._e(),e.oCapa.bLaserBrightLimit&&"auto"===e.oParams.szLaserMode?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iLaserBrightLimitMin,max:e.oCapa.iLaserBrightLimitMax,"bar-height":3},on:{change:e.setLaser},model:{value:e.oParams.iLaserBrightLimit,callback:function(t){e.$set(e.oParams,"iLaserBrightLimit",t)},expression:"oParams.iLaserBrightLimit"}})],1):e._e(),e.oCapa.bSptLaserSen&&"auto"===e.oParams.szLaserMode?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("laserSen")+"："+e.oParams.iLaserSen}}):e._e(),e.oCapa.bSptLaserSen&&"auto"===e.oParams.szLaserMode?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iLaserSenMin,max:e.oCapa.iLaserSenMax,"bar-height":3},on:{change:e.setLaser},model:{value:e.oParams.iLaserSen,callback:function(t){e.$set(e.oParams,"iLaserSen",t)},expression:"oParams.iLaserSen"}})],1):e._e()],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bSupplyLight,expression:"oCapa.bSupplyLight"}]},[t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bSupplyModes,expression:"oCapa.bSupplyModes"}],staticClass:"hm-cell-slider",attrs:{title:e.$t("supplyMode")}},[t("base-select",{attrs:{title:e.$t("supplyMode"),options:e.oCapa.aSupplyModes},on:{change:function(t){return e.setSupply()}},model:{value:e.oParams.szSupplyMode,callback:function(t){e.$set(e.oParams,"szSupplyMode",t)},expression:"oParams.szSupplyMode"}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:"schedule"===e.oParams.szSupplyMode,expression:"oParams.szSupplyMode === 'schedule'"}]},[t("hm-cell",{attrs:{title:e.$t("startTime"),value:e.oParams.szSupplyStartTime},nativeOn:{click:function(t){return e.setSupplyTimePicker(!0)}}}),t("hm-cell",{attrs:{title:e.$t("endTime"),value:e.oParams.szSupplyEndTime},nativeOn:{click:function(t){return e.setSupplyTimePicker(!1)}}})],1),"schedule"===e.oParams.szSupplyMode||"on"===e.oParams.szSupplyMode||"auto"===e.oParams.szSupplyMode?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("brightLimit")+"："+e.oParams.iSupplyLightLimit}}):e._e(),"schedule"===e.oParams.szSupplyMode||"on"===e.oParams.szSupplyMode||"auto"===e.oParams.szSupplyMode?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iSupplyLightLimitMin,max:e.oCapa.iSupplyLightLimitMax,"bar-height":3},on:{change:e.setSupply},model:{value:e.oParams.iSupplyLightLimit,callback:function(t){e.$set(e.oParams,"iSupplyLightLimit",t)},expression:"oParams.iSupplyLightLimit"}})],1):e._e(),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bSupplyLightModes,expression:"oCapa.bSupplyLightModes"}],staticClass:"hm-cell-slider",attrs:{title:e.$t("supplyModes")}},[t("base-select",{attrs:{title:e.$t("supplyModes"),options:e.oCapa.aSupplyLightModes},on:{change:function(t){return e.setSupply()}},model:{value:e.oParams.szSupplementLightMode,callback:function(t){e.$set(e.oParams,"szSupplementLightMode",t)},expression:"oParams.szSupplementLightMode"}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bSupplyLightModes&&"colorVuWhiteLight"===e.oParams.szSupplementLightMode,expression:"oCapa.bSupplyLightModes && oParams.szSupplementLightMode ==='colorVuWhiteLight'"}]},[t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bMixedLightBrightnessRegulatModes&&"eventIntelligence"!==e.oParams.szSupplementLightMode,expression:"oCapa.bMixedLightBrightnessRegulatModes && 'eventIntelligence' !== oParams.szSupplementLightMode"}],staticClass:"hm-cell-slider",attrs:{title:e.$t("lightAdjustMode")}},[t("base-select",{attrs:{title:e.$t("lightAdjustMode"),options:e.oCapa.aMixedLightBrightnessRegulatModes},on:{change:function(t){return e.setSupply()}},model:{value:e.oParams.szmixedLightBrightnessRegulatMode,callback:function(t){e.$set(e.oParams,"szmixedLightBrightnessRegulatMode",t)},expression:"oParams.szmixedLightBrightnessRegulatMode"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bSupportWhiteLightBrightness,expression:"oCapa.bSupportWhiteLightBrightness"}],staticClass:"slider-wrapper-cell",attrs:{title:e.$t("whiteLightRange")+"："+e.oParams.iWhiteLightBrightness}}),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bSupportWhiteLightBrightness,expression:"oCapa.bSupportWhiteLightBrightness"}],staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iEventWhiteLightBrightnessMin,max:e.oCapa.iEventWhiteLightBrightnessMax,"bar-height":3},on:{change:e.setSupply},model:{value:e.oParams.iWhiteLightBrightness,callback:function(t){e.$set(e.oParams,"iWhiteLightBrightness",t)},expression:"oParams.iWhiteLightBrightness"}})],1)],1)],1)],1)]):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:0!==e.iDeviceType,expression:"iDeviceType !== 0"}]},[e.oCapa.bBLCMode&&(e.bSupportPTZ||!e.oCapa.bWDRMode||"close"===e.oParams.szWDRMode)||e.oCapa.bBLCLevel&&"false"!==e.oParams.szBLCMode||e.oCapa.bWDRMode&&"false"===e.oParams.szBLCMode||e.oCapa.bWDRLevel&&"close"!==e.oParams.szWDRMode||e.oCapa.bWDRLevel1&&"close"!==e.oParams.szWDRMode||e.oCapa.bWDRContrast&&"close"!==e.oParams.szWDRMode||e.oCapa.bHLC||e.oCapa.bHLCLevel&&"true"===e.oParams.szHLC?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("backlightSettings")}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bBLCMode&&(e.bSupportPTZ||!e.oCapa.bWDRMode||"close"===e.oParams.szWDRMode)||e.oCapa.bBLCLevel&&"false"!==e.oParams.szBLCMode||e.oCapa.bWDRMode&&"false"===e.oParams.szBLCMode||e.oCapa.bWDRLevel&&"close"!==e.oParams.szWDRMode||e.oCapa.bWDRLevel1&&"close"!==e.oParams.szWDRMode||e.oCapa.bWDRContrast&&"close"!==e.oParams.szWDRMode||e.oCapa.bHLC||e.oCapa.bHLCLevel&&"true"===e.oParams.szHLC,expression:"(oCapa.bBLCMode && (bSupportPTZ || (!oCapa.bWDRMode || oParams.szWDRMode === 'close'))) || (oCapa.bBLCLevel && oParams.szBLCMode !== 'false') || (oCapa.bWDRMode && oParams.szBLCMode === 'false') || (oCapa.bWDRLevel && oParams.szWDRMode !== 'close') || (oCapa.bWDRLevel1 && oParams.szWDRMode !== 'close') || (oCapa.bWDRContrast && oParams.szWDRMode !== 'close') || oCapa.bHLC || (oCapa.bHLCLevel && oParams.szHLC === 'true') "}]},[t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bBLCMode&&(e.bSupportPTZ||!e.oCapa.bWDRMode||"close"===e.oParams.szWDRMode),expression:"oCapa.bBLCMode && (bSupportPTZ || (!oCapa.bWDRMode || oParams.szWDRMode === 'close'))"}],attrs:{title:e.$t(e.oImgLan.szBLCName)}},[t("base-select",{attrs:{title:e.$t(e.oImgLan.szBLCName),options:e.oCapa.aBLCModes},on:{change:function(t){return e.changeBLCName()}},model:{value:e.oParams.szBLCMode,callback:function(t){e.$set(e.oParams,"szBLCMode",t)},expression:"oParams.szBLCMode"}})],1),e.oCapa.bBLCLevel&&"false"!==e.oParams.szBLCMode?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("BLCLevel")+"："+e.oParams.iBLCLevel}}):e._e(),e.oCapa.bBLCLevel&&"false"!==e.oParams.szBLCMode?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iBLCLevelMin,max:e.oCapa.iBLCLevelMax,"bar-height":3},on:{change:e.setBLC},model:{value:e.oParams.iBLCLevel,callback:function(t){e.$set(e.oParams,"iBLCLevel",t)},expression:"oParams.iBLCLevel"}})],1):e._e(),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bWDRMode&&(e.bSupportPTZ||!e.bSupportPTZ&&"false"===e.oParams.szBLCMode),expression:"oCapa.bWDRMode && (bSupportPTZ || (!bSupportPTZ && oParams.szBLCMode === 'false'))"}],attrs:{title:e.$t("WDR")}},[t("base-select",{attrs:{title:e.$t("WDR"),options:e.oCapa.aWDRModes},on:{change:function(t){return e.changeWDRMode()}},model:{value:e.oParams.szWDRMode,callback:function(t){e.$set(e.oParams,"szWDRMode",t)},expression:"oParams.szWDRMode"}})],1),e.oCapa.bWDRLevel&&"open"===e.oParams.szWDRMode?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("wideDynamicLevel")+(e.oCapa.bWDRLevel1?"1":"")+"："+e.oParams.iWDRLevel}}):e._e(),e.oCapa.bWDRLevel&&"open"===e.oParams.szWDRMode?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iWDRLevelMin,max:e.oCapa.iWDRLevelMax,"bar-height":3},on:{change:e.setWDR},model:{value:e.oParams.iWDRLevel,callback:function(t){e.$set(e.oParams,"iWDRLevel",t)},expression:"oParams.iWDRLevel"}})],1):e._e(),e.oCapa.bWDRLevel1&&"close"!==e.oParams.szWDRMode?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("wideDynamicLevel")+"2："+e.oParams.iWDRLevel1}}):e._e(),e.oCapa.bWDRLevel1&&"close"!==e.oParams.szWDRMode?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iWDRLevelMin,max:e.oCapa.iWDRLevelMax,"bar-height":3},on:{change:e.setWDR},model:{value:e.oParams.iWDRLevel1,callback:function(t){e.$set(e.oParams,"iWDRLevel1",t)},expression:"oParams.iWDRLevel1"}})],1):e._e(),e.oCapa.bWDRContrast&&"close"!==e.oParams.szWDRMode?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("wideDynamicContrast")+"："+e.oParams.iWDRContrast}}):e._e(),e.oCapa.bWDRContrast&&"close"!==e.oParams.szWDRMode?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iWDRContrastMin,max:e.oCapa.iWDRContrastMax,"bar-height":3},on:{change:e.setWDR},model:{value:e.oParams.iWDRContrast,callback:function(t){e.$set(e.oParams,"iWDRContrast",t)},expression:"oParams.iWDRContrast"}})],1):e._e(),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bHLC,expression:"oCapa.bHLC"}],attrs:{title:e.$t("HLC")}},[t("base-select",{attrs:{title:e.$t("HLC"),options:e.oCapa.aHLCModes},on:{change:function(t){return e.changeHLC()}},model:{value:e.oParams.szHLC,callback:function(t){e.$set(e.oParams,"szHLC",t)},expression:"oParams.szHLC"}})],1),e.oCapa.bHLCLevel&&"true"===e.oParams.szHLC?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("HLCLevel")+"："+e.oParams.iHLCLevel}}):e._e(),e.oCapa.bHLCLevel&&"true"===e.oParams.szHLC?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iHLCLevelMin,max:e.oCapa.iHLCLevelMax,"bar-height":3},on:{change:e.changeHLC},model:{value:e.oParams.iHLCLevel,callback:function(t){e.$set(e.oParams,"iHLCLevel",t)},expression:"oParams.iHLCLevel"}})],1):e._e()],1)]):e._e()],1),e.oCapa.bWhiteBlance||"manual"===e.oParams.szWhiteBlance&&(e.oCapa.bWhiteBlanceRed||e.oCapa.bWhiteBlanceBlue)?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("whiteBalance")}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bWhiteBlance||"manual"===e.oParams.szWhiteBlance&&(e.oCapa.bWhiteBlanceRed||e.oCapa.bWhiteBlanceBlue),expression:"oCapa.bWhiteBlance || (oParams.szWhiteBlance === 'manual' && (oCapa.bWhiteBlanceRed || oCapa.bWhiteBlanceBlue))"}]},[e.oCapa.bWhiteBlance?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("whiteBalance")}},[t("base-select",{attrs:{title:e.$t("whiteBalance"),options:e.oCapa.aWhiteBlances},on:{change:function(t){return e.setWhiteBalance()}},model:{value:e.oParams.szWhiteBlance,callback:function(t){e.$set(e.oParams,"szWhiteBlance",t)},expression:"oParams.szWhiteBlance"}})],1):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:"manual"===e.oParams.szWhiteBlance,expression:"oParams.szWhiteBlance === 'manual'"}]},[e.oCapa.bWhiteBlanceRed?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("WBGainCircuitR")+"："+e.oParams.iWhiteBlanceRed}}):e._e(),e.oCapa.bWhiteBlanceRed?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iWhiteBlanceRedMin,max:e.oCapa.iWhiteBlanceRedMax,"bar-height":3},on:{change:e.setWhiteBalance},model:{value:e.oParams.iWhiteBlanceRed,callback:function(t){e.$set(e.oParams,"iWhiteBlanceRed",t)},expression:"oParams.iWhiteBlanceRed"}})],1):e._e(),e.oCapa.bWhiteBlanceBlue?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("WBGainCircuitB")+"："+e.oParams.iWhiteBlanceBlue}}):e._e(),e.oCapa.bWhiteBlanceBlue?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iWhiteBlanceBlueMin,max:e.oCapa.iWhiteBlanceBlueMax,"bar-height":3},on:{change:e.setWhiteBalance},model:{value:e.oParams.iWhiteBlanceBlue,callback:function(t){e.$set(e.oParams,"iWhiteBlanceBlue",t)},expression:"oParams.iWhiteBlanceBlue"}})],1):e._e()],1)],1)]):e._e(),e.oCapa.bNoiseReduce||e.oCapa.bNoiseReduce&&"general"===e.oParams.szNoiseReduceMode||e.oCapa.bNoiseReduce&&"advanced"===e.oParams.szNoiseReduceMode||e.oCapa.bDefogMode||e.oCapa.bDefogLevel&&("true"===e.oParams.szDefogMode||"open"===e.oParams.szDefogMode)||e.oCapa.bEIS||e.oCapa.bEISLevel&&"true"===e.oParams.szEISEnable||e.oCapa.bChromaSuppress||e.oCapa.bGammaCorrect||e.oCapa.bIllEnhance||e.oCapa.bGrayScale?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("imageEnhancement")}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bNoiseReduce||e.oCapa.bNoiseReduce&&"general"===e.oParams.szNoiseReduceMode||e.oCapa.bNoiseReduce&&"advanced"===e.oParams.szNoiseReduceMode||e.oCapa.bDefogMode||e.oCapa.bDefogLevel&&("true"===e.oParams.szDefogMode||"open"===e.oParams.szDefogMode)||e.oCapa.bEIS||e.oCapa.bEISLevel&&"true"===e.oParams.szEISEnable||e.oCapa.bChromaSuppress||e.oCapa.bGammaCorrect||e.oCapa.bIllEnhance||e.oCapa.bGrayScale,expression:"oCapa.bNoiseReduce || (oCapa.bNoiseReduce && oParams.szNoiseReduceMode === 'general') || (oCapa.bNoiseReduce && oParams.szNoiseReduceMode === 'advanced') || oCapa.bDefogMode || (oCapa.bDefogLevel && (oParams.szDefogMode === 'true' || oParams.szDefogMode === 'open')) || oCapa.bEIS || (oCapa.bEISLevel && oParams.szEISEnable === 'true') || oCapa.bChromaSuppress || oCapa.bGammaCorrect || oCapa.bIllEnhance || oCapa.bGrayScale"}]},[t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bNoiseReduce,expression:"oCapa.bNoiseReduce"}],attrs:{title:e.$t("digitalNoiseReduce")}},[t("base-select",{attrs:{title:e.$t("digitalNoiseReduce"),options:e.oCapa.aNoiseReduceModes},on:{change:function(t){return e.setNoiseReduce()}},model:{value:e.oParams.szNoiseReduceMode,callback:function(t){e.$set(e.oParams,"szNoiseReduceMode",t)},expression:"oParams.szNoiseReduceMode"}})],1),e.oCapa.bNoiseReduce&&"general"===e.oParams.szNoiseReduceMode?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("noiseReduceLevel")+"："+e.oParams.iGeneralLevel}}):e._e(),e.oCapa.bNoiseReduce&&"general"===e.oParams.szNoiseReduceMode?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iGeneralLevelMin,max:e.oCapa.iGeneralLevelMax,"bar-height":3},on:{change:e.setNoiseReduce},model:{value:e.oParams.iGeneralLevel,callback:function(t){e.$set(e.oParams,"iGeneralLevel",t)},expression:"oParams.iGeneralLevel"}})],1):e._e(),e.oCapa.bNoiseReduce&&"advanced"===e.oParams.szNoiseReduceMode?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("spaceDNRLevel")+"："+e.oParams.iSpaceDNRLevel}}):e._e(),e.oCapa.bNoiseReduce&&"advanced"===e.oParams.szNoiseReduceMode?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iSpaceDNRLevelMin,max:e.oCapa.iSpaceDNRLevelMax,"bar-height":3},on:{change:e.setNoiseReduce},model:{value:e.oParams.iSpaceDNRLevel,callback:function(t){e.$set(e.oParams,"iSpaceDNRLevel",t)},expression:"oParams.iSpaceDNRLevel"}})],1):e._e(),e.oCapa.bNoiseReduce&&"advanced"===e.oParams.szNoiseReduceMode?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("timeDNRLevel")+"："+e.oParams.iTimeDNRLevel}}):e._e(),e.oCapa.bNoiseReduce&&"advanced"===e.oParams.szNoiseReduceMode?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iTimeDNRLevelMin,max:e.oCapa.iTimeDNRLevelMax,"bar-height":3},on:{change:e.setNoiseReduce},model:{value:e.oParams.iTimeDNRLevel,callback:function(t){e.$set(e.oParams,"iTimeDNRLevel",t)},expression:"oParams.iTimeDNRLevel"}})],1):e._e(),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bDefogMode,expression:"oCapa.bDefogMode"}],attrs:{title:e.$t("defogMode")}},[t("base-select",{attrs:{title:e.$t("defogMode"),options:e.oCapa.aDefogModes},on:{change:function(t){return e.setDehaze()}},model:{value:e.oParams.szDefogMode,callback:function(t){e.$set(e.oParams,"szDefogMode",t)},expression:"oParams.szDefogMode"}})],1),!e.oCapa.bDefogLevel||"true"!==e.oParams.szDefogMode&&"open"!==e.oParams.szDefogMode?e._e():t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("defogLevel")+"："+e.oParams.iDefogLevel}}),!e.oCapa.bDefogLevel||"true"!==e.oParams.szDefogMode&&"open"!==e.oParams.szDefogMode?e._e():t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iDefogLevelMin,max:e.oCapa.iDefogLevelMax,"bar-height":3},on:{change:e.setDehaze},model:{value:e.oParams.iDefogLevel,callback:function(t){e.$set(e.oParams,"iDefogLevel",t)},expression:"oParams.iDefogLevel"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bEIS,expression:"oCapa.bEIS"}],attrs:{title:e.$t("EIS")}},[t("base-select",{attrs:{title:e.$t("EIS"),options:e.aEnable},on:{change:function(t){return e.setEIS()}},model:{value:e.oParams.szEISEnable,callback:function(t){e.$set(e.oParams,"szEISEnable",t)},expression:"oParams.szEISEnable"}})],1),e.oCapa.bEISLevel&&"true"===e.oParams.szEISEnable?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("EISLevel")+"："+e.oParams.iEISLevel}}):e._e(),e.oCapa.bEISLevel&&"true"===e.oParams.szEISEnable?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iEISLevelMin,max:e.oCapa.iEISLevelMax,"bar-height":3},on:{change:e.setEIS},model:{value:e.oParams.iEISLevel,callback:function(t){e.$set(e.oParams,"iEISLevel",t)},expression:"oParams.iEISLevel"}})],1):e._e(),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bOISMode,expression:"oCapa.bOISMode"}],attrs:{title:e.$t("OIS")}},[t("base-select",{attrs:{title:e.$t("OIS"),options:e.oCapa.aOISMode},on:{change:function(t){return e.setOIS()}},model:{value:e.oParams.szOISMode,callback:function(t){e.$set(e.oParams,"szOISMode",t)},expression:"oParams.szOISMode"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bOISLevel,expression:"oCapa.bOISLevel"}],attrs:{title:e.$t("OISLevel")}},[t("base-select",{attrs:{title:e.$t("OISLevel"),options:e.oCapa.aOISLevel},on:{change:function(t){return e.setOIS()}},model:{value:e.oParams.szOISLevel,callback:function(t){e.$set(e.oParams,"szOISLevel",t)},expression:"oParams.szOISLevel"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bOISSensitivity,expression:"oCapa.bOISSensitivity"}],attrs:{title:e.$t("OISSensitivity")}},[t("base-select",{attrs:{title:e.$t("OISSensitivity"),options:e.oCapa.aOISSensitivity},on:{change:function(t){return e.setOIS()}},model:{value:e.oParams.szOISSensitivity,callback:function(t){e.$set(e.oParams,"szOISSensitivity",t)},expression:"oParams.szOISSensitivity"}})],1),e.oCapa.bChromaSuppress?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("chromaSuppress")+"："+e.oParams.iChromaSuppress}}):e._e(),e.oCapa.bChromaSuppress?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iChromaSuppressMin,max:e.oCapa.iChromaSuppressMax,"bar-height":3},on:{change:e.setChromaSuppress},model:{value:e.oParams.iChromaSuppress,callback:function(t){e.$set(e.oParams,"iChromaSuppress",t)},expression:"oParams.iChromaSuppress"}})],1):e._e(),e.oCapa.bGammaCorrect?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("gammaCorrection")+"："+e.oParams.iGammaCorrect}}):e._e(),e.oCapa.bGammaCorrect?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iGammaCorrectMin,max:e.oCapa.iGammaCorrectMax,"bar-height":3},on:{change:e.setGammaCorrect},model:{value:e.oParams.iGammaCorrect,callback:function(t){e.$set(e.oParams,"iGammaCorrect",t)},expression:"oParams.iGammaCorrect"}})],1):e._e(),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bIllEnhance,expression:"oCapa.bIllEnhance"}],attrs:{title:e.$t("illEnhance")}},[t("base-select",{attrs:{title:e.$t("illEnhance"),options:e.oCapa.aEnable},on:{change:function(t){return e.setIllEnhance()}},model:{value:e.oParams.szIllEnhance,callback:function(t){e.$set(e.oParams,"szIllEnhance",t)},expression:"oParams.szIllEnhance"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bGrayScale,expression:"oCapa.bGrayScale"}],attrs:{title:e.$t("grayScale")}},[t("base-select",{attrs:{title:e.$t("grayScale"),options:e.aGrayScale},on:{change:function(t){return e.setColor()}},model:{value:e.oParams.szGrayScale,callback:function(t){e.$set(e.oParams,"szGrayScale",t)},expression:"oParams.szGrayScale"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bPalettes,expression:"oCapa.bPalettes"}],attrs:{title:e.$t("palettes")}},[t("base-select",{attrs:{title:e.$t("palettes"),options:e.oCapa.aPalettesModes},on:{change:function(t){return e.setPalettes()}},model:{value:e.oParams.szPalettes,callback:function(t){e.$set(e.oParams,"szPalettes",t)},expression:"oParams.szPalettes"}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:"WhiteHot"===e.oParams.szPalettes&&e.oCapa.bColorTarget,expression:"oParams.szPalettes === 'WhiteHot' && oCapa.bColorTarget"}]},["WhiteHot"===e.oParams.szPalettes&&e.oCapa.bColorTarget?t("hm-cell",{attrs:{title:e.$t("aboveBeColored")}},[t("hm-switch",{model:{value:e.oParams.oColorateHotArea.bEnabled,callback:function(t){e.$set(e.oParams.oColorateHotArea,"bEnabled",t)},expression:"oParams.oColorateHotArea.bEnabled"}})],1):e._e(),t("hm-cell",{attrs:{title:e.$t("betweenBeColored")}},[t("hm-switch",{model:{value:e.oParams.oColorateIntervalArea.bEnabled,callback:function(t){e.$set(e.oParams.oColorateIntervalArea,"bEnabled",t)},expression:"oParams.oColorateIntervalArea.bEnabled"}})],1),t("hm-cell",{attrs:{title:e.$t("belowBeColored")}},[t("hm-switch",{model:{value:e.oParams.oColorateColdArea.bEnabled,callback:function(t){e.$set(e.oParams.oColorateColdArea,"bEnabled",t)},expression:"oParams.oColorateColdArea.bEnabled"}})],1)],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bDDE,expression:"oCapa.bDDE"}],attrs:{title:e.$t("DDE")}},[t("base-select",{attrs:{title:e.$t("DDE"),options:e.oCapa.aDDEModes},on:{change:e.setDDE},model:{value:e.oParams.szDDEMode,callback:function(t){e.$set(e.oParams,"szDDEMode",t)},expression:"oParams.szDDEMode"}})],1),e.oCapa.bDDELevel?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("DDELevel")+"："+e.oParams.iDDELevel}}):e._e(),e.oCapa.bDDELevel?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iDDELevelMin,max:e.oCapa.iDDELevelMax,"bar-height":3},on:{change:e.setDDE},model:{value:e.oParams.iDDELevel,callback:function(t){e.$set(e.oParams,"iDDELevel",t)},expression:"oParams.iDDELevel"}})],1):e._e(),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bBrightnessSudden,expression:"oCapa.bBrightnessSudden"}],attrs:{title:e.$t("brightnessSudden")}},[t("base-select",{attrs:{title:e.$t("brightnessSudden"),options:e.oCapa.aBrightnessSudden},on:{change:function(t){return e.setBrightnessSudden()}},model:{value:e.oParams.szBrightnessSudden,callback:function(t){e.$set(e.oParams,"szBrightnessSudden",t)},expression:"oParams.szBrightnessSudden"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bSupportRegionalImageEnhancement,expression:"oCapa.bSupportRegionalImageEnhancement"}],attrs:{title:e.$t("regionalImageEnhancement")}},[t("base-select",{attrs:{title:e.$t("regionalImageEnhancement"),options:e.oCapa.aRegionalImageEnhancementMode},on:{change:function(t){return e.setImageEnhancement()}},model:{value:e.oParams.szRegionalImageEnhancementMode,callback:function(t){e.$set(e.oParams,"szRegionalImageEnhancementMode",t)},expression:"oParams.szRegionalImageEnhancementMode"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bCompensationRegionMode,expression:"oCapa.bCompensationRegionMode"}],attrs:{title:e.$t("laserCompensationRegion")}},[t("base-select",{attrs:{title:e.$t("laserCompensationRegion"),options:e.oCapa.aCompensationRegionModes},on:{change:function(t){return e.setLaser()}},model:{value:e.oParams.szCompensationRegionMode,callback:function(t){e.$set(e.oParams,"szCompensationRegionMode",t)},expression:"oParams.szCompensationRegionMode"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bCompensationLevel,expression:"oCapa.bCompensationLevel"}],attrs:{title:e.$t("laserLevel")}},[t("base-select",{attrs:{title:e.$t("laserLevel"),options:e.oCapa.aCompensationLevel},on:{change:function(t){return e.setLaser()}},model:{value:e.oParams.szCompensationLevel,callback:function(t){e.$set(e.oParams,"szCompensationLevel",t)},expression:"oParams.szCompensationLevel"}})],1)],1)]):e._e(),e.oCapa.bImageFlip||e.oCapa.bRotate||e.oCapa.bSceneMode||e.oCapa.bVideoStandard||e.oCapa.bCaptureMode||e.oCapa.bLensDistorCorrect||e.oCapa.bEPTZ||e.oCapa.bDistorCorrect||e.oCapa.bZoomedInDistantView?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("videoAdjust")}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bImageFlip||e.oCapa.bRotate||e.oCapa.bSceneMode||e.oCapa.bVideoStandard||e.oCapa.bCaptureMode||e.oCapa.bLensDistorCorrect||e.oCapa.bEPTZ||e.oCapa.bDistorCorrect||e.oCapa.bZoomedInDistantView,expression:"oCapa.bImageFlip || oCapa.bRotate || oCapa.bSceneMode || oCapa.bVideoStandard || oCapa.bCaptureMode || oCapa.bLensDistorCorrect || oCapa.bEPTZ || oCapa.bDistorCorrect || oCapa.bZoomedInDistantView"}]},[t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bImageFlip,expression:"oCapa.bImageFlip"}],attrs:{title:e.$t("mirror")}},[t("base-select",{attrs:{title:e.$t("mirror"),options:e.oCapa.aImageFlipModes},on:{change:function(t){return e.setImageFlip()}},model:{value:e.oParams.szImageFlipMode,callback:function(t){e.$set(e.oParams,"szImageFlipMode",t)},expression:"oParams.szImageFlipMode"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bRotate,expression:"oCapa.bRotate"}],attrs:{title:e.$t("rotate")}},[t("base-select",{attrs:{title:e.$t("rotate"),options:e.oCapa.aRotateModes},on:{change:function(t){return e.setCorridor()}},model:{value:e.oParams.szRotateEnable,callback:function(t){e.$set(e.oParams,"szRotateEnable",t)},expression:"oParams.szRotateEnable"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bSceneMode,expression:"oCapa.bSceneMode"}],attrs:{title:e.$t("sceneMode")}},[t("base-select",{attrs:{title:e.$t("sceneMode"),options:e.oCapa.aSceneModes},on:{change:function(t){return e.setScene()}},model:{value:e.oParams.szSceneMode,callback:function(t){e.$set(e.oParams,"szSceneMode",t)},expression:"oParams.szSceneMode"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bVideoStandard,expression:"oCapa.bVideoStandard"}],attrs:{title:e.$t("videoStandard")}},[t("base-select",{attrs:{title:e.$t("videoStandard"),options:e.oCapa.aVideoStandard},on:{change:function(t){return e.setVideoStandard()}},model:{value:e.oParams.szVideoStandard,callback:function(t){e.$set(e.oParams,"szVideoStandard",t)},expression:"oParams.szVideoStandard"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bCaptureMode,expression:"oCapa.bCaptureMode"}],attrs:{title:e.$t("captureMode")}},[t("base-select",{attrs:{title:e.$t("captureMode"),options:e.oCapa.aCaptureModes},on:{change:e.setCaptureMode},model:{value:e.oParams.szCaptureMode,callback:function(t){e.$set(e.oParams,"szCaptureMode",t)},expression:"oParams.szCaptureMode"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bLensDistorCorrect,expression:"oCapa.bLensDistorCorrect"}],attrs:{title:e.$t("lensDistorCorrect")}},[t("base-select",{attrs:{title:e.$t("lensDistorCorrect"),options:e.aEnable},on:{change:function(t){return e.setLensDistorCorrect()}},model:{value:e.oParams.szLensDistorCorrect,callback:function(t){e.$set(e.oParams,"szLensDistorCorrect",t)},expression:"oParams.szLensDistorCorrect"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bEPTZ,expression:"oCapa.bEPTZ"}],attrs:{title:e.$t("EPTZ")}},[t("base-select",{attrs:{title:e.$t("EPTZ"),options:e.aEnable},on:{change:function(t){return e.setEPTZ()}},model:{value:e.oParams.szEPTZEnable,callback:function(t){e.$set(e.oParams,"szEPTZEnable",t)},expression:"oParams.szEPTZEnable"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bDistorCorrect,expression:"oCapa.bDistorCorrect"}],attrs:{title:e.$t("imageCalibrate")}},[t("base-select",{attrs:{title:e.$t("imageCalibrate"),options:e.oCapa.aDistorCorrectLevel},on:{change:function(t){return e.setDistorCorrect()}},model:{value:e.oParams.szDistorCorrect,callback:function(t){e.$set(e.oParams,"szDistorCorrect",t)},expression:"oParams.szDistorCorrect"}})],1),e.oCapa.bAccurate?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("calibrateLevel")+"："+e.oParams.iAccurateLevel}}):e._e(),e.oCapa.bAccurate?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iAccurateMin,max:e.oCapa.iAccurateMax,"bar-height":3},on:{change:e.setDistorCorrect},model:{value:e.oParams.iAccurateLevel,callback:function(t){e.$set(e.oParams,"iAccurateLevel",t)},expression:"oParams.iAccurateLevel"}})],1):e._e(),e.oCapa.bHorizontalFOV?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("horizontalFOV")+"："+e.oParams.iHorizontalFOV}}):e._e(),e.oCapa.bHorizontalFOV?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iHorizontalFOVMin,max:e.oCapa.iHorizontalFOVMax,"bar-height":3},on:{change:e.setDistorCorrect},model:{value:e.oParams.iHorizontalFOV,callback:function(t){e.$set(e.oParams,"iHorizontalFOV",t)},expression:"oParams.iHorizontalFOV"}})],1):e._e(),e.oCapa.bVerticalFOV?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("verticalFOV")+"："+e.oParams.iVerticalFOV}}):e._e(),e.oCapa.bVerticalFOV?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iVerticalFOVMin,max:e.oCapa.iVerticalFOVMax,"bar-height":3},on:{change:e.setDistorCorrect},model:{value:e.oParams.iVerticalFOV,callback:function(t){e.$set(e.oParams,"iVerticalFOV",t)},expression:"oParams.iVerticalFOV"}})],1):e._e(),e.oCapa.bZoomedInDistantView?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("zoomedInDistantView")+"："+e.oParams.iZoomedInDistantView}}):e._e(),e.oCapa.bZoomedInDistantView?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:e.oCapa.iZoomedInDistantViewMin,max:e.oCapa.iZoomedInDistantViewMax,"bar-height":3},on:{change:e.setDistorCorrect},model:{value:e.oParams.iZoomedInDistantView,callback:function(t){e.$set(e.oParams,"iZoomedInDistantView",t)},expression:"oParams.iZoomedInDistantView"}})],1):e._e()],1)]):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:0!==e.iDeviceType,expression:"iDeviceType !== 0"}]},[e.oCapa.bLensInit||e.oCapa.bZoomLimit||e.oCapa.bLocalOutput&&"day"!=e.oParams.oISP.szScheduleType&&"night"!=e.oParams.oISP.szScheduleType?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("other")}},[t("div",[t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bLensInit,expression:"oCapa.bLensInit"}],attrs:{title:e.$t("lensInit")}},[t("base-select",{attrs:{title:e.$t("lensInit"),options:e.aEnable},on:{change:function(t){return e.setLensInit()}},model:{value:e.oParams.szLensInitEnable,callback:function(t){e.$set(e.oParams,"szLensInitEnable",t)},expression:"oParams.szLensInitEnable"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bZoomLimit,expression:"oCapa.bZoomLimit"}],attrs:{title:e.$t("zoomLimit")}},[t("base-select",{attrs:{title:e.$t("zoomLimit"),options:e.oCapa.aZoomLimits},on:{change:function(t){return e.setZoomLimit()}},model:{value:e.oParams.szZoomLimit,callback:function(t){e.$set(e.oParams,"szZoomLimit",t)},expression:"oParams.szZoomLimit"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapa.bLocalOutput&&"day"!=e.oParams.oISP.szScheduleType&&"night"!=e.oParams.oISP.szScheduleType,expression:"oCapa.bLocalOutput && oParams.oISP.szScheduleType != 'day' && oParams.oISP.szScheduleType != 'night'"}],attrs:{title:e.$t("localOutput")}},[t("base-select",{attrs:{title:e.$t("localOutput"),options:e.oCapa.aLocalOutputs},on:{change:function(t){return e.setLocalOutput()}},model:{value:e.oParams.szLocalOutput,callback:function(t){e.$set(e.oParams,"szLocalOutput",t)},expression:"oParams.szLocalOutput"}})],1)],1)]):e._e()],1)],1):e._e()],1),t("base-view")],1)])},n=[],o=a("cc03"),r=o["a"],s=(a("68b8"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"addda5a4",null);t["default"]=l.exports},"254e":function(e,t,a){"use strict";(function(e){a("6b54"),a("7514"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("c050"),s=a("7de8"),l=a("d09c"),c=a("8d94"),u=a("f193"),d=function(){function t(){Object(n["a"])(this,t),this._oIPFilterInfo={bEnabled:!1,szType:"allow"},this._oBtnDisabled={bAdd:!1},this.oAddIP={szIP:""},this.tableData=[],this._iMaxIPNum=48,this.oIPValid={ip:!0}}return Object(o["a"])(t,[{key:"init",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getIPFilter();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getIPFilter",value:function(){var t=this;t.tableData.length=0;var a={urlCGI:"ipFilter",params:{},data:null,loading:!0};return u["a"].get(a).then((function(a){var i=a.oResult;""!==s["a"].nodeAttr(i,"IPFilterAddressList","size","i")&&(t._iMaxIPNum=s["a"].nodeAttr(i,"IPFilterAddressList","size","i")),t._oIPFilterInfo.bEnabled=s["a"].nodeValue(i,"enabled","b"),t._oIPFilterInfo.szType=s["a"].nodeValue(i,"permissionType");var n=e(i).find("IPFilterAddress"),o=n.length>t._iMaxIPNum?t._iMaxIPNum:n.length;o>=t._iMaxIPNum?t._oBtnDisabled.bAdd=!0:t._oBtnDisabled.bAdd=!1;for(var r=0;r<o;r++)t.tableData[r]={id:r},n.eq(r).find("ipv6Address").length>0?t.tableData[r].ip=n.eq(r).find("ipv6Address").eq(0).text():t.tableData[r].ip=n.eq(r).find("ipAddress").eq(0).text()}))}},{key:"save",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){var i,n,o,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=this,n="",o=null,i.tableData=a,!i._oIPFilterInfo.bEnabled||"allow"!==i._oIPFilterInfo.szType||0!==i.tableData.length){t.next=7;break}return r["a"].stateAlert(c["a"].t("ipAllowedEmpty")),t.abrupt("return");case 7:return n="<?xml version='1.0' encoding='UTF-8' ?>",n+="<IPFilter><enabled>"+i._oIPFilterInfo.bEnabled.toString()+"</enabled><permissionType>"+i._oIPFilterInfo.szType+"</permissionType><IPFilterAddressList>",e.each(i.tableData,(function(e){if(e>=i._iMaxIPNum)return!1;n+="<IPFilterAddress><id>"+(e+1)+"</id><permissionType>"+i._oIPFilterInfo.szType+"</permissionType><addressFilterType>mask</addressFilterType><AddressMask>",s["a"].isIPv6Address(this.ip)?n+="<ipv6Address>"+this.ip+"</ipv6Address>":n+="<ipAddress>"+this.ip+"</ipAddress>",n+="</AddressMask></IPFilterAddress>"})),n+="</IPFilterAddressList></IPFilter>",o=s["a"].parseXmlFromStr(n),d={urlCGI:"ipFilter",params:{},data:o,loading:!0},t.abrupt("return",u["a"].put(d).then((function(e){l["a"].saveState(e.xhr)}),(function(e){l["a"].saveState(e)})));case 14:case"end":return t.stop()}}),t,this)})));function a(e){return t.apply(this,arguments)}return a}()}]),t}();t["a"]=new d}).call(this,a("1157"))},"25b6":function(e,t,a){"use strict";(function(e){a("28a5"),a("7514"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("1f20"),s=a("7de8"),l=a("d09c"),c=a("8d94"),u=a("f193"),d=function(){function t(){Object(n["a"])(this,t),this.oXmlDoc=null,this.m_oCap={oStreamInfo:null,aStreamList:[],aPackagingFormat:[],bSupportActiveMulticast:!1,bSupportFECDestPort:!1,bSupportFECRatio:!1},this.m_oCapa={bSupportSRTSP:!1,bSupportSRTPVideoDestPortNo:!1,bSupportSRTSPAudioDestPortNo:!1},this.m_oParams={oChannel:{id:"1"},szIPAddress:"",szStreamType:"00",iVideoDestPortNo:0,iAudioDestPortNo:0,bEnableActiveMulticast:!1,szPackagingFormat:"",iFECDestPortNo:1,iFECRatio:0,iSRTSPVideoDestPortNo:0,iSRTSPAudioDestPortNo:0},this.m_oParamsValid={oIPAddress:{required:!0,ipcmulticast:!0},oVideoDestPortNo:{required:!0,range:[1,65535],skipVerify:!1},oAudioDestPortNo:{required:!0,range:[1,65535],skipVerify:!1},oFECDestPortNo:{required:!0,range:[1,65535],skipVerify:!1},oFECRatio:{required:!0,range:[0,100],skipVerify:!1},oSRTPVideoDestPortNo:{required:!0,range:[1,65535],skipVerify:!1},oSRTPAudioDestPortNo:{required:!0,range:[1,65535],skipVerify:!1}}}return Object(o["a"])(t,[{key:"initMulticast",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.m_oParams.oChannel.id=t,e.next=3,this.getStreamInfo();case 3:return e.next=5,this.getMulticast();case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getStreamInfo",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a,i,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["a"].getChannelInfo();case 2:a=t.sent,i=this.m_oCap.oStreamInfo={},e.each(a,(function(t){n=this.aStream,n&&(o=i[t]=[],e.each(n,(function(e,t){switch(t){case 1:o.push({text:c["a"].t("mainStream"),value:"0"+t});break;case 2:o.push({text:c["a"].t("subStream"),value:"0"+t});break;case 3:o.push({text:c["a"].t("thirdStream"),value:"0"+t});break;case 4:o.push({text:c["a"].t("fourthStream"),value:"0"+t});break;case 5:o.push({text:c["a"].t("fifthStream"),value:"0"+t});break;default:break}})))})),this.m_oCap.aStreamList=o;case 6:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}()},{key:"getMulticast",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t||this.getChannelStreamList(),e.next=3,this.getCap();case 3:return e.next=5,this.getInfo();case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getChannelStreamList",value:function(){this.m_oCap.aStreamList=this.m_oCap.oStreamInfo[this.m_oParams.oChannel.id],this.m_oCap.aStreamList.length&&(this.m_oParams.szStreamType=this.m_oCap.aStreamList[0].value)}},{key:"changeStream",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getMulticast(!0);case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getCap",value:function(){var t=this,a=new Promise((function(a){var i=t,n=t.m_oCap,o=t.m_oParams,r=t.m_oParamsValid,l={urlCGI:"videoCapa",params:{channel:o.oChannel.id,videoStream:o.szStreamType},data:null,loading:!0};u["a"].get(l).then((function(t){var o,l,c=t.oResult;if(s["a"].nodeAttr(c,"videoDestPortNo","min")&&s["a"].nodeAttr(c,"videoDestPortNo","max")&&(o=s["a"].nodeAttr(c,"videoDestPortNo","min","i"),l=s["a"].nodeAttr(c,"videoDestPortNo","max","i"),r.oVideoDestPortNo.range[0]=o,r.oVideoDestPortNo.range[1]=l),s["a"].nodeAttr(c,"audioDestPortNo","min")&&s["a"].nodeAttr(c,"audioDestPortNo","max")&&(o=s["a"].nodeAttr(c,"audioDestPortNo","min","i"),l=s["a"].nodeAttr(c,"audioDestPortNo","max","i"),r.oAudioDestPortNo.range[0]=o,r.oAudioDestPortNo.range[1]=l),i.m_oCapa.bSupportSRTSP=!1,i.m_oCapa.bSupportSRTPVideoDestPortNo=!1,i.m_oCapa.bSupportSRTSPAudioDestPortNo=!1,e(c).find("SRTPMulticast").length&&(i.m_oCapa.bSupportSRTSP=!0,e(c).find("SRTPMulticast SRTPVideoDestPortNo").length&&(i.m_oCapa.bSupportSRTPVideoDestPortNo=!0,o=s["a"].nodeAttr(c,"SRTPMulticast SRTPVideoDestPortNo","min","i"),l=s["a"].nodeAttr(c,"SRTPMulticast SRTPVideoDestPortNo","max","i"),r.oSRTPVideoDestPortNo.range[0]=o,r.oSRTPVideoDestPortNo.range[1]=l),e(c).find("SRTPMulticast SRTPAudioDestPortNo").length&&(i.m_oCapa.bSupportSRTSPAudioDestPortNo=!0,o=s["a"].nodeAttr(c,"SRTPMulticast SRTPAudioDestPortNo","min","i"),l=s["a"].nodeAttr(c,"SRTPMulticast SRTPAudioDestPortNo","max","i"),r.oSRTPAudioDestPortNo.range[0]=o,r.oSRTPAudioDestPortNo.range[1]=l)),e(c).find("activeMulticastEnabled").length?n.bSupportActiveMulticast=!0:n.bSupportActiveMulticast=!1,e(c).find("packagingFormat").length&&(n.aPackagingFormat=s["a"].nodeAttr(c,"packagingFormat","opt").split(",")),n.bSupportFECDestPort=!1,n.bSupportFECRatio=!1,e(c).find("Multicast FecInfo").length){var u=e(c).find("Multicast FecInfo").eq(0);u.find("fecDestPortNo").length&&(n.bSupportFECDestPort=!0,o=s["a"].nodeAttr(u,"fecDestPortNo","min","i"),l=s["a"].nodeAttr(u,"fecDestPortNo","max","i"),r.oFECDestPortNo.range[0]=o,r.oFECDestPortNo.range[1]=l),u.find("fecRatio").length&&(n.bSupportFECRatio=!0,o=s["a"].nodeAttr(u,"fecRatio","min","i"),l=s["a"].nodeAttr(u,"fecRatio","max","i"),r.oFECRatio.range[0]=o,r.oFECRatio.range[1]=l)}a()}),(function(){a()}))}));return a}},{key:"getInfo",value:function(){var e=this,t=this,a=this.m_oCap,i=this.m_oParams,n={urlCGI:"videoInfo",params:{channel:i.oChannel.id,videoStream:i.szStreamType},data:null,loading:!0};return u["a"].get(n).then((function(n){var o=n.oResult;e.oXmlDoc=o,i.szIPAddress=s["a"].nodeValue(o,"destIPAddress")||s["a"].nodeValue(o,"destIPv6Address"),i.iVideoDestPortNo=s["a"].nodeValue(o,"videoDestPortNo","i"),i.iAudioDestPortNo=s["a"].nodeValue(o,"audioDestPortNo","i"),i.bEnableActiveMulticast=s["a"].nodeValue(o,"activeMulticastEnabled","b"),i.szPackagingFormat=s["a"].nodeValue(o,"packagingFormat"),a.bSupportFECDestPort&&(i.iFECDestPortNo=s["a"].nodeValue(o,"fecDestPortNo","i")),a.bSupportFECRatio&&(i.iFECRatio=s["a"].nodeValue(o,"fecRatio","i")),t.m_oCapa.bSupportSRTPVideoDestPortNo&&(t.m_oParams.iSRTSPVideoDestPortNo=s["a"].nodeValue(o,"SRTPMulticast SRTPVideoDestPortNo","i")),t.m_oCapa.bSupportSRTSPAudioDestPortNo&&(t.m_oParams.iSRTSPAudioDestPortNo=s["a"].nodeValue(o,"SRTPMulticast SRTPAudioDestPortNo","i"))})).catch()}},{key:"save",value:function(){var t=this.oXmlDoc,a=this.m_oParams,i=this.m_oCap,n=this;return e(t).find("Multicast destIPv6Address").remove(),e(t).find("Multicast destIPAddress").remove(),s["a"].isIPv6Address(a.szIPAddress)?e(t).find("Multicast").append(s["a"].parseXmlFromStr("<destIPv6Address>"+a.szIPAddress+"</destIPv6Address>").childNodes[0].cloneNode(!0)):e(t).find("Multicast").append(s["a"].parseXmlFromStr("<destIPAddress>"+a.szIPAddress+"</destIPAddress>").childNodes[0].cloneNode(!0)),s["a"].nodeValue(t,"videoDestPortNo","",a.iVideoDestPortNo),s["a"].nodeValue(t,"audioDestPortNo","",a.iAudioDestPortNo),s["a"].nodeValue(t,"activeMulticastEnabled","",a.bEnableActiveMulticast),s["a"].nodeValue(t,"packagingFormat","",a.szPackagingFormat),i.bSupportFECDestPort&&s["a"].nodeValue(t,"fecDestPortNo","",a.iFECDestPortNo),i.bSupportFECRatio&&s["a"].nodeValue(t,"fecRatio","",a.iFECRatio),n.m_oCapa.bSupportSRTPVideoDestPortNo&&s["a"].nodeValue(t,"SRTPMulticast SRTPVideoDestPortNo","",n.m_oParams.iSRTSPVideoDestPortNo),n.m_oCapa.bSupportSRTSPAudioDestPortNo&&s["a"].nodeValue(t,"SRTPMulticast SRTPAudioDestPortNo","",n.m_oParams.iSRTSPAudioDestPortNo),new Promise((function(e){var i={urlCGI:"videoInfo",params:{channel:a.oChannel.id,videoStream:a.szStreamType},data:t,loading:!0};u["a"].put(i).then((function(t){l["a"].saveState(t.xhr),e()}),(function(t){l["a"].saveState(t),e()}))}))}}]),t}();t["a"]=new d}).call(this,a("1157"))},"261e":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("rtmpConfig"),"right-type":"text","b-lazy-loading":e.oParams.bLazyLoading}},[t("div",{staticClass:"Rtmp",attrs:{slot:"content"},slot:"content"},[t("hm-scroll",[t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("channel-list",{attrs:{"o-channel":e.oChannel}}),t("hm-cell",{attrs:{title:e.$t("enable")}},[t("hm-switch",{model:{value:e.oParams.bEnableRtmp,callback:function(t){e.$set(e.oParams,"bEnableRtmp",t)},expression:"oParams.bEnableRtmp"}})],1),t("hm-cell",{attrs:{title:e.$t("streamType")}},[t("base-select",{attrs:{options:e.streamTypes,title:e.$t("streamType")},model:{value:e.oParams.szStreamType,callback:function(t){e.$set(e.oParams,"szStreamType",t)},expression:"oParams.szStreamType"}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oUrlValid&&e.oParamsValid.oUrlValid.required},attrs:{title:e.$t("rtmpUrl")}},[t("hm-input",{attrs:{placeholder:e.$t("rtmpUrl")},model:{value:e.oParams.szRtmpUrl,callback:function(t){e.$set(e.oParams,"szRtmpUrl",t)},expression:"oParams.szRtmpUrl"}}),t("hm-validator",{attrs:{model:e.oParams.szRtmpUrl,rules:e.oParamsValid.oUrlValid,param:e.$t("rtmpUrl")}})],1)],1)],1),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{on:{click:e.save}},[e._v(e._s(e.$t("save")))])],1)],1)],1)])},n=[],o=(a("96cf"),a("1da1")),r=a("7bc2"),s=a("c050"),l=a("6458"),c=a("47b5"),u={name:"Rtmp",components:{ChannelList:l["a"],BaseSelect:c["a"]},data:function(){return{validate:{},oParamsCap:{},oParams:r["a"].m_oParams,oParamsValid:{},oChannel:r["a"].oChannel,streamTypes:[]}},watch:{oChannel:{handler:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t&&r["a"].getRtmpInfo();case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0},"oParams.szStreamType":{handler:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t&&r["a"].getRtmpInfo();case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0}},created:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r["a"].initRtmp().finally((function(){t.oParamsCap=r["a"].m_oParamsCap,t.oParams=r["a"].m_oParams,t.oParamsValid=r["a"].m_oParamsValid,t.streamTypes=r["a"].streamTypes,t.oChannel=r["a"].oChannel,t.oChannel.id=1}));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),methods:{save:function(){this.validate.validateAll(),s["a"].validateTips(this.validate.getErrorReport())&&r["a"].saveParams()}}},d=u,p=(a("d19f"),a("2877")),m=Object(p["a"])(d,i,n,!1,null,"796cb547",null);t["default"]=m.exports},"262e":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var i=a("b380");function n(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Object(i["a"])(e,t)}},2638:function(e,t,a){"use strict";function i(){return i=Object.assign||function(e){for(var t,a=1;a<arguments.length;a++)for(var i in t=arguments[a],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)}var n=["attrs","props","domProps"],o=["class","style","directives"],r=["on","nativeOn"],s=function(e){return e.reduce((function(e,t){for(var a in t)if(e[a])if(-1!==n.indexOf(a))e[a]=i({},e[a],t[a]);else if(-1!==o.indexOf(a)){var s=e[a]instanceof Array?e[a]:[e[a]],c=t[a]instanceof Array?t[a]:[t[a]];e[a]=s.concat(c)}else if(-1!==r.indexOf(a))for(var u in t[a])if(e[a][u]){var d=e[a][u]instanceof Array?e[a][u]:[e[a][u]],p=t[a][u]instanceof Array?t[a][u]:[t[a][u]];e[a][u]=d.concat(p)}else e[a][u]=t[a][u];else if("hook"==a)for(var m in t[a])e[a][m]=e[a][m]?l(e[a][m],t[a][m]):t[a][m];else e[a]=t[a];else e[a]=t[a];return e}),{})},l=function(e,t){return function(){e&&e.apply(this,arguments),t&&t.apply(this,arguments)}};e.exports=s},26386:function(e,t,a){"use strict";a("9011")},2817:function(e,t,a){"use strict";a("2adc")},2889:function(e,t,a){"use strict";var i=a("d4ec"),n=a("bee2"),o=a("6d7b"),r=a("d6ce"),s=function(){function e(){Object(i["a"])(this,e),this.oCombinedResult={bSet:!1,cachePromise:[]},this.oSecurityCap=o["a"].oSecurityCap,o["a"].registerDevice(r["a"].szHostName,r["a"].iHttpPort,r["a"].szProtocol)}return Object(n["a"])(e,[{key:"encodeChallenge",value:function(e,t,a){return o["a"].encodeChallenge(e,t,a)}},{key:"resetLoginInfo",value:function(){o["a"].reset()}},{key:"registerDevice",value:function(e,t,a){o["a"].registerDevice(e,t,a)}},{key:"login",value:function(e,t,a,i,n,r){return o["a"].login(e,t,a,i,n,r)}},{key:"noLogin",value:function(e,t,a,i,n){return o["a"].noLogin(e,t,a,i,n)}},{key:"logout",value:function(){return o["a"].logout()}},{key:"activeDevice",value:function(e){return o["a"].activeDevice(e)}},{key:"getSecurityVersion",value:function(e,t){var a=o["a"].getSecurityVersion();return a>0&&(t=t||o["a"].getAesIV(),e+="?security="+a+"&iv="+t+"&key="+o["a"].oAuthInfo.szAESKey),e}},{key:"WSDK_GetDeviceConfig",value:function(e,t,a,i){a||(a={}),t||(t=null);var n="GET";return o["a"].request(i,n,e,t,a)}},{key:"WSDK_SetDeviceConfig",value:function(e,t,a,i){a||(a={}),t||(t=null);var n="PUT";return this.oCombinedResult.bSet&&this.oCombinedResult.cachePromise.push(new Promise((function(e,t){a.oCombinedTips={resolve:function(t){e(t)},reject:function(e){t(e)},finally:function(){var e={readyState:5};a.oCombinedTips.reject(e),a.oCombinedTips.resolve(e)}}}))),o["a"].request(i,n,e,t,a)}},{key:"getSecurityUrl",value:function(e,t){return o["a"].getSecurityUrl(e,t)}},{key:"setRequestOptions",value:function(e){o["a"].setRequestOptions(e)}},{key:"getPluginAuth",value:function(){return o["a"].getPluginAuth()}},{key:"getPlayAuth",value:function(){return o["a"].getPlayAuth()}},{key:"getUserName",value:function(){return o["a"].getUserName()}}]),e}();t["a"]=new s},"29ef":function(e,t,a){"use strict";a.r(t);a("6762"),a("2fdb");var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"online-device-select"},[t("div",{class:"multiple"===e.selectType?"select-content":"confirm-content-height"},["multiple"===e.selectType?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[e.outLoading?t("div",{staticClass:"loading-container"},[t("hm-loading",{attrs:{size:28}})],1):e._e(),t("hm-checkbox-group",{staticClass:"halfControl",on:{input:e.showSelectAll},model:{value:e.checkValueList,callback:function(t){e.checkValueList=t},expression:"checkValueList"}},e._l(e.options,(function(i,n){return t("hm-checkbox",{key:"onlineDevice"===e.type?i.deviceIpAdd:i.cameraName+n,staticClass:"with-click",attrs:{option:n+"",position:"left"}},[t("div",{staticClass:"online-list-item",on:{click:function(e){e.stopPropagation()}}},[t("img",{attrs:{src:a("f915"),alt:""}}),t("div",{staticClass:"item-right-info",on:{click:function(t){return t.preventDefault(),e.openDeviceInfo(i)}}},[t("div",{staticClass:"item-info"},[t("div",[e._v(e._s("onlineDevice"===e.type?i.deviceIpAdd:"["+i.channelNo+"] "+i.cameraName))]),t("div",{staticClass:"small-font"},[e._v(e._s("onlineDevice"===e.type?i.serialNumber:i.ipAddr))])]),"multiple"===e.selectType?t("div",{staticClass:"item-right"},[t("hm-icon",{staticClass:"arrow-color",attrs:{name:"arrow"}})],1):e._e()])])])})),1)],1):t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[e.outLoading?t("div",{staticClass:"loading-container"},[t("hm-loading",{attrs:{size:28}})],1):e._e(),t("hm-radio-group",{attrs:{options:e.options},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},e._l(e.options,(function(i,n){return t("hm-radio",{key:"onlineDevice"===e.type?i.deviceIpAdd:i.cameraName+n,staticClass:"with-click",attrs:{option:n+"",position:"left"}},[t("div",{staticClass:"online-list-item",on:{click:function(e){e.stopPropagation()}}},[t("img",{attrs:{src:a("f915"),alt:""}}),t("div",{staticClass:"item-right-info",on:{click:function(t){return t.preventDefault(),e.openDeviceInfo(i)}}},[t("div",{staticClass:"item-info"},[t("div",[e._v(e._s("onlineDevice"===e.type?i.deviceIpAdd:"["+i.channelNo+"] "+i.cameraName))]),t("div",{staticClass:"small-font"},[e._v(e._s("onlineDevice"===e.type?i.serialNumber:i.ipAddr))])])])])])})),1)],1)],1),"multiple"===e.selectType?t("div",{staticClass:"bottom-container"},[t("div",{staticClass:"select-all-content"},[t("hm-checkbox",{attrs:{position:"left","hollow-style":e.bIndeterminate},on:{input:e.selectAll},model:{value:e.bSelectAll,callback:function(t){e.bSelectAll=t},expression:"bSelectAll"}},[e._v(e._s(e.$t("selectAll")))]),t("div",[e._v(" "+e._s(e.$t("hadChoose")+"(".concat(e.checkValueList.length,")"))+" ")])],1),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{attrs:{disabled:0===e.checkValueList.length},on:{click:e.confirm}},[e._v(e._s("onlineDevice"===e.type?e.$t("add_name"):e.$t("delete")))])],1)]):t("div",{staticClass:"bottom-confirm-container"},[t("hm-button",{staticClass:"info-add",attrs:{"border-radius":"24px"},on:{click:e.addInfo}},[e._v(e._s(e.$t("ok")))])],1),t("hm-popup",{ref:"myPopup",attrs:{type:"my-popup"}},[t("hm-loading",{attrs:{size:28}})],1),e.bShowOnlineDeviceInfo?t("base-page",{attrs:{title:"onlineDevice"===e.type?e.oOnlineDeviceInfo.deviceIpAdd:e.oOnlineDeviceInfo.cameraName,"right-type":"text","b-back":!1},on:{"left-handle":e.showDevice}},["onlineDevice"===e.type?t("div",{staticClass:"online-device-info-container",attrs:{slot:"content"},slot:"content"},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("ipAddr")}},[e._v("\n          "+e._s(e.oOnlineDeviceInfo.deviceIpAdd)+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("deviceModel")}},[e._v("\n          "+e._s(e.oOnlineDeviceInfo.deviceModel)+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("state_name")}},[t("span",{staticClass:"table-status"},[e.oOnlineDeviceInfo.state==e.$t("onLine")?t("span",{staticClass:"status-text",class:e.oOnlineDeviceInfo.state==e.$t("onLine")?"status-online":"",attrs:{title:e.oOnlineDeviceInfo.state}},[e._v(" "+e._s(e.oOnlineDeviceInfo.state))]):t("span",{staticClass:"status-text",class:e.oOnlineDeviceInfo.state==e.$t("onLine")?"status-online":"",attrs:{title:e.oOnlineDeviceInfo.state}},[e._v(e._s(e.oOnlineDeviceInfo.state))])])]),t("hm-cell",{attrs:{title:e.$t("protocolType_name")}},[t("span",{staticClass:"base-ellipsis",attrs:{title:["HIKVISION","AXIS"].includes(e.oOnlineDeviceInfo.proxyProtocol)?e.$t(e.oOnlineDeviceInfo.proxyProtocol+"_name"):e.oOnlineDeviceInfo.proxyProtocol}},[e._v(" "+e._s(["HIKVISION","AXIS"].includes(e.oOnlineDeviceInfo.proxyProtocol)?e.$t(e.oOnlineDeviceInfo.proxyProtocol+"_name"):e.oOnlineDeviceInfo.proxyProtocol)+" ")])]),t("hm-cell",{attrs:{title:e.$t("managementPort_name")}},[e._v("\n          "+e._s(e.oOnlineDeviceInfo.managePortNo)+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("serialNum_name")}},[e._v("\n          "+e._s(e.oOnlineDeviceInfo.serialNumber)+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("firmware")}},[e._v("\n          "+e._s(e.oOnlineDeviceInfo.firmwareVersion)+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("macAddress")}},[e._v("\n          "+e._s(e.oOnlineDeviceInfo.macAddress)+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("IPv6")}},[e._v("\n          "+e._s(e.oOnlineDeviceInfo.ipv6Address)+"\n        ")])],1)],1):t("div",{staticClass:"online-device-info-container",attrs:{slot:"content"},slot:"content"},[t("hm-cell-group",{staticClass:"custom-cell-group-card"},[t("hm-cell",{attrs:{title:e.$t("channelNo")}},[e._v("\n          "+e._s(e.oOnlineDeviceInfo.channelNo)+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("cameraName")}},[e._v("\n          "+e._s(e.oOnlineDeviceInfo.cameraName)+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("ipAddr")}},[t("span",{staticClass:"base-ellipsis",attrs:{title:e.oOnlineDeviceInfo.ipAddr}},[e._v(" "+e._s(e.oOnlineDeviceInfo.ipAddr)+" ")])]),t("hm-cell",{attrs:{title:e.$t("deviceChanNo")}},[t("span",{staticClass:"base-ellipsis",attrs:{title:e.oOnlineDeviceInfo.deviceChanNo}},[e._v(" "+e._s(e.oOnlineDeviceInfo.deviceChanNo)+" ")])]),t("hm-cell",{attrs:{title:e.$t("networkstate_name")}},[t("span",{staticClass:"table-status"},[e.oOnlineDeviceInfo.state==e.$t("onLine")?t("span",{staticClass:"status-text",class:{"status-online":e.oOnlineDeviceInfo.state==e.$t("onLine")},attrs:{title:e.oOnlineDeviceInfo.state}},[e._v(" "+e._s(e.oOnlineDeviceInfo.state))]):t("span",{staticClass:"status-text",class:{"status-online":e.oOnlineDeviceInfo.state==e.$t("onLine")},attrs:{title:e.oOnlineDeviceInfo.state||e.$t("offLine")}},[e._v(e._s(e.oOnlineDeviceInfo.state||e.$t("offLine")))])])]),e.oCap.bSupportCheckRisk?t("hm-cell",{attrs:{title:e.$t("securityStat")}},[e._v("\n          "+e._s(e.oOnlineDeviceInfo.securityStat||"--")+"\n        ")]):e._e(),t("hm-cell",{attrs:{title:e.$t("ProtocolConf")}},[t("span",{staticClass:"base-ellipsis",attrs:{title:["HIK","AXIS"].includes(e.oOnlineDeviceInfo.protocol)?e.$t(e.oOnlineDeviceInfo.protocol+"_name"):e.oOnlineDeviceInfo.protocol}},[e._v(" "+e._s(["HIK","AXIS"].includes(e.oOnlineDeviceInfo.protocol)?e.$t(e.oOnlineDeviceInfo.protocol+"_name"):e.oOnlineDeviceInfo.protocol)+" ")])]),t("hm-cell",{attrs:{title:e.$t("portManage_name")}},[e._v("\n          "+e._s(e.oOnlineDeviceInfo.managementPort||"--")+"\n        ")])],1)],1)]):e._e()],1)},n=[],o=a("c050"),r=a("b5bd"),s={name:"OnlineListAdd",props:{options:{type:Array,default:function(){return[]}},outLoading:{type:Boolean,default:function(){return!1}},selectType:{type:String,default:function(){return"multiple"}},type:{type:String,default:function(){return"onlineDevice"}}},data:function(){return{bShowOnlineDeviceInfo:!1,checkValueList:[],selected:"0",oOnlineDeviceInfo:{},oCap:r["a"].oCap,bSelectAll:!1,bIndeterminate:!1}},mounted:function(){this.showSelectAll(this.checkValueList)},methods:{openDeviceInfo:function(e){console.log("item: ",e),this.bShowOnlineDeviceInfo=!0,this.oOnlineDeviceInfo=e},showDevice:function(){this.bShowOnlineDeviceInfo=!1},showSelectAll:function(e){e.length===this.options.length?(this.bSelectAll=!0,this.bIndeterminate=!1):e.length>0&&e.length<this.options.length?(this.bSelectAll=!0,this.bIndeterminate=!0):(this.bSelectAll=!1,this.bIndeterminate=!1)},selectAll:function(e){e?(this.bIndeterminate=!1,this.checkValueList=this.options.map((function(e,t){return t+""}))):this.checkValueList=[]},confirm:function(){var e=this,t=this.checkValueList.map((function(t){return e.options[t]}));"onlineDevice"===this.type?this.$emit("confirmAddOnline",t):o["a"].confirm(this.$t("deleteDeviceTips_msg"),(function(){e.$emit("confirmDelete",t)}),(function(){}))},addInfo:function(){var e=this.options[parseInt(this.selected,10)];this.$emit("confirmAddOnline",e)}}},l=s,c=(a("36b1"),a("2877")),u=Object(c["a"])(l,i,n,!1,null,"5af36856",null);t["default"]=u.exports},"29f0":function(e,t,a){"use strict";a("e7ed")},"29fc":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"onvifUser-page-wrapper"},[t("hm-scroll",[t("div",{staticClass:"hm-index-list-item"},[t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",[t("hm-cell",{class:{"cell-require":e.oUserameValid&&e.oUserameValid.required},attrs:{title:e.$t("username")}},[t("hm-input",{attrs:{maxlength:e.length32},model:{value:e.oCurrentUser.userName,callback:function(t){e.$set(e.oCurrentUser,"userName",t)},expression:"oCurrentUser.userName"}}),t("hm-validator",{attrs:{model:e.oCurrentUser.userName,rules:e.oUserameValid,param:e.$t("username")}})],1),e.showPwd?t("div",[t("hm-cell",{class:{"cell-require":e.oPassword&&e.oPassword.required},attrs:{title:e.$t("password")}},[t("hm-input",{attrs:{type:"password",minlength:e.length8,maxlength:e.length16},on:{blur:function(t){return e.validatConfirmPS()}},model:{value:e.oCurrentUser.password.szPassword,callback:function(t){e.$set(e.oCurrentUser.password,"szPassword",t)},expression:"oCurrentUser.password.szPassword"}}),t("hm-validator",{attrs:{model:e.oCurrentUser.password.szPassword,rules:e.oPassword,param:e.$t("password")}})],1),t("hm-cell",{class:{"cell-require":e.oPassword&&e.oPassword.required},attrs:{title:e.$t("confirmPassword")}},[t("hm-input",{attrs:{type:"password",minlength:e.length8,maxlength:e.length16},on:{blur:function(t){return e.validatConfirmPS()}},model:{value:e.oCurrentUser.password.szPasswordConfirm,callback:function(t){e.$set(e.oCurrentUser.password,"szPasswordConfirm",t)},expression:"oCurrentUser.password.szPasswordConfirm"}}),t("hm-validator",{attrs:{model:e.oCurrentUser.password.szPasswordConfirm,rules:e.oPassword,param:e.$t("confirmPassword")}})],1)],1):e._e(),t("hm-cell",{attrs:{title:e.$t("userLevel")}},[t("base-select",{attrs:{title:e.$t("userLevel"),options:e.aUserLevel},model:{value:e.oCurrentUser.userType,callback:function(t){e.$set(e.oCurrentUser,"userType",t)},expression:"oCurrentUser.userType"}})],1)],1)],1)],1)]),t("base-view")],1)},n=[],o=(a("28a5"),a("1c1a")),r=a("c050"),s=a("7de8"),l=a("47b5"),c={name:"AdvancedOnvifUser",components:{BaseView:o["a"],BaseSelect:l["a"]},props:{oCurrentUser:{type:Object,default:Object},showPwd:{type:Boolean,default:!1},type:{type:String,default:""}},data:function(){var e=this;return{validate:{},aUserLevel:[{value:"mediaUser",text:this.$t("mediaUser")},{value:"operator",text:this.$t("operator")},{value:"administrator",text:this.$t("administrator")}],length8:8,length16:16,length32:32,bFlag:!0,bRiskyPwd:!0,oUserameValid:{required:!0},oPassword:{required:!0,lengthRange:[8,16]},oPasswordConfirm:{required:!0,lengthRange:[8,16],confirmPass:function(t){return t===e._oDDNSInfo.oPassword.szPassword}},szDefaultPwd:""}},watch:{},created:function(){"modify"===this.type&&(this.oCurrentUser.password={szPassword:this.szDefaultPwd,szPasswordConfirm:this.szDefaultPwd,szPasswordDefault:this.szDefaultPwd})},methods:{changeUser:function(){this.validate.validateAll(),r["a"].validateTips(this.validate.getErrorReport())&&this.bFlag&&this.bRiskyPwd?this.$emit("changeUser",!0):(r["a"].validateTips(this.validate.getErrorReport())&&(this.bFlag?this.bRiskyPwd||r["a"].tip(this.$t("riskyInputPwd")):r["a"].tip(this.$t("passNotMatch"))),this.$emit("changeUser",!1))},validatConfirmPS:function(){this.oCurrentUser.password.szPassword!==this.oCurrentUser.password.szPasswordConfirm?this.bFlag=!1:this.bFlag=!0,this.oCurrentUser.password.szPassword===this.oCurrentUser.userName.split("").reverse().join("")&&!s["a"].isEmpty(this.oCurrentUser.password.szPassword)||!s["a"].checkPasswordComplexity(this.oCurrentUser.password.szPassword)?this.bRiskyPwd=!1:this.bRiskyPwd=!0}}},u=c,d=(a("9adf"),a("2877")),p=Object(d["a"])(u,i,n,!1,null,null,null);t["default"]=p.exports},"2a3b":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAFCAYAAACTphZWAAAABHNCSVQICAgIfAhkiAAAAFhJREFUCJmFjkENgDAUxfoI13kAJ9MzE2MmmBy+k4mYgM+BhECyQM9NUy21RzkZiAAtBa17d96YizI/xQ+iHO5KS0Eja6k9y9ngko9RebBjk4sC2M+GuSgnq6wgh+Zx1psAAAAASUVORK5CYII="},"2a45":function(e,t,a){"use strict";a("303f")},"2adc":function(e,t,a){},"2b88":function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"config-plugin"},[t("div",{staticClass:"widthfull heightfull",attrs:{id:"main_plugin"}}),e.bPluginInit?e._e():t("p",[e._v("loading...")])])},n=[],o=a("0f7b"),r=o["a"],s=(a("2209"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"0262be5a",null);t["a"]=l.exports},"2c45":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"add-or-edit-container"},[t("div",{staticClass:"form-content"},[t("hm-validator-group",{attrs:{result:e.validate}},["GB28181"!==e.oParams.oProtocol&&"OTAP"!==e.oParams.oProtocol?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",[t("div",{attrs:{slot:"title"},slot:"title"},[t("div",{staticClass:"require-title-container"},[t("div",{staticClass:"require-star"},[e._v("\n                *\n              ")]),t("div",{staticClass:"require-title"},[e._v("\n                "+e._s(e.$t("ipChanAddress"))+"\n              ")])])]),t("hm-input",{attrs:{disabled:"plugplay"===e.oParams.szConnMode},model:{value:e.oParams.szIpAddress,callback:function(t){e.$set(e.oParams,"szIpAddress",t)},expression:"oParams.szIpAddress"}}),t("hm-validator",{attrs:{model:e.oParams.szIpAddress,rules:e.oParamsValid.szIpAddress,param:e.$t("ipAddr")}})],1)],1):e._e(),"GB28181"===e.oParams.oProtocol&&"OTAP"!==e.oParams.oProtocol?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",[t("div",{attrs:{slot:"title"},slot:"title"},[t("div",{staticClass:"require-title-container"},[t("div",{staticClass:"require-star"},[e._v("\n                *\n              ")]),t("div",{staticClass:"require-title"},[e._v("\n                "+e._s(e.$t("deviceUID_name"))+"\n              ")])])]),t("hm-input",{attrs:{disabled:"plugplay"===e.oParams.szConnMode},model:{value:e.oParams.szDeviceId,callback:function(t){e.$set(e.oParams,"szDeviceId",t)},expression:"oParams.szDeviceId"}}),t("hm-validator",{attrs:{model:e.oParams.szDeviceId,rules:e.oParamsValid.szDeviceId,param:e.$t("deviceUID_name")}})],1)],1):e._e(),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("protocol_name")}},[t("hm-select",{attrs:{options:e.aProtocolOptions,disabled:"plugplay"===e.oParams.szConnMode},on:{change:function(t){return e.changeProtocol(0,t)}},model:{value:e.oParams.oProtocol,callback:function(t){e.$set(e.oParams,"oProtocol",t)},expression:"oParams.oProtocol"}})],1)],1),"OTAP"!==e.oParams.oProtocol?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",[t("div",{attrs:{slot:"title"},slot:"title"},[t("div",{staticClass:"require-title-container"},[t("div",{staticClass:"require-star"},[e._v("\n                *\n              ")]),t("div",{staticClass:"require-title"},[e._v("\n                "+e._s(e.$t("managementPort_name"))+"\n              ")])])]),t("hm-input",{attrs:{disabled:"plugplay"===e.oParams.szConnMode||e.GBProtocol||!!e.oParams.bCustom||e.oParams.bDefaultAdminPortEnabled&&"HIKVISION"===e.oParams.oProtocol},model:{value:e.oParams.szPort,callback:function(t){e.$set(e.oParams,"szPort",t)},expression:"oParams.szPort"}}),t("hm-validator",{attrs:{model:e.oParams.szPort,rules:e.oParamsValid.szPort,param:e.$t("managementPort_name")}})],1),"HIKVISION"===e.oParams.oProtocol&&e.oCapInner.bSupportDefaultAdminPortEnabled?t("hm-cell",{attrs:{title:e.$t("useDefaultAdminPort")}},[t("hm-switch",{attrs:{disabled:"plugplay"===e.oParams.szConnMode},model:{value:e.oParams.bDefaultAdminPortEnabled,callback:function(t){e.$set(e.oParams,"bDefaultAdminPortEnabled",t)},expression:"oParams.bDefaultAdminPortEnabled"}})],1):e._e(),"add"!==e.type?t("hm-cell",{attrs:{title:e.$t("deviceChanNo")}},[t("hm-input",{attrs:{disabled:"plugplay"===e.oParams.szConnMode||!!e.oParams.bCustom},model:{value:e.oParams.szDeviceChannelNo,callback:function(t){e.$set(e.oParams,"szDeviceChannelNo",t)},expression:"oParams.szDeviceChannelNo"}}),t("hm-validator",{attrs:{model:e.oParams.szDeviceChannelNo,rules:e.oParamsValid.szDeviceChannelNo,param:e.$t("deviceChanNo")}})],1):e._e()],1):e._e(),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("username")}},[t("div",{attrs:{slot:"title"},slot:"title"},[t("div",{staticClass:"require-title-container"},[t("div",{staticClass:"require-star"},[e._v("\n                *\n              ")]),t("div",{staticClass:"require-title"},[e._v("\n                "+e._s(e.$t("username"))+"\n              ")])])]),t("hm-input",{attrs:{disabled:"plugplay"===e.oParams.szConnMode||"OTAP"===e.oParams.oProtocol},model:{value:e.oParams.szUserName,callback:function(t){e.$set(e.oParams,"szUserName",t)},expression:"oParams.szUserName"}}),t("hm-validator",{attrs:{model:e.oParams.szUserName,rules:e.oParamsValid.szUserName,param:e.$t("username")}})],1),"OTAP"!==e.oParams.oProtocol?t("hm-cell",{attrs:{title:e.oCapInner.szPasswordName}},[t("hm-input",{attrs:{disabled:"plugplay"===e.oParams.szConnMode,type:"password"},model:{value:e.oParams.oPassword,callback:function(t){e.$set(e.oParams,"oPassword",t)},expression:"oParams.oPassword"}}),t("hm-validator",{attrs:{model:e.oParams.oPassword,rules:e.oParamsValid.oPassword,param:e.$t("password")}})],1):e._e()],1),"OTAP"!==e.oParams.oProtocol||"HIKVISION"===e.oParams.oProtocol||"add"!==e.type&&e.oCapInner.bSupportIPCTiming||"add"===e.type&&e.oCapInner.bSupportChannelsTimeSync?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},["OTAP"!==e.oParams.oProtocol?t("hm-cell",{attrs:{title:e.$t("streamTransMode")}},[t("hm-select",{attrs:{disabled:"plugplay"===e.oParams.szConnMode,options:e.aStreamTypeOptions},model:{value:e.oParams.szStreamType,callback:function(t){e.$set(e.oParams,"szStreamType",t)},expression:"oParams.szStreamType"}})],1):e._e(),"add"!==e.type&&e.oParams.szConnMode?t("hm-cell",{attrs:{title:e.$t("addingMethod")}},[t("hm-select",{attrs:{options:e.aMethodOptions},model:{value:e.oParams.szConnMode,callback:function(t){e.$set(e.oParams,"szConnMode",t)},expression:"oParams.szConnMode"}})],1):e._e(),"HIKVISION"===e.oParams.oProtocol?t("hm-cell",{attrs:{title:e.$t("certificateValidation")}},[t("hm-switch",{attrs:{disabled:"plugplay"===e.oParams.szConnMode},model:{value:e.oParams.bCertificateValidation,callback:function(t){e.$set(e.oParams,"bCertificateValidation",t)},expression:"oParams.bCertificateValidation"}})],1):e._e(),"add"!==e.type&&e.oCapInner.bSupportIPCTiming||"add"===e.type&&e.oCapInner.bSupportChannelsTimeSync?t("hm-cell",{attrs:{title:e.$t("ipcTiming")}},[t("hm-switch",{attrs:{disabled:"plugplay"===e.oParams.szConnMode},model:{value:e.oParams.bIpcTiming,callback:function(t){e.$set(e.oParams,"bIpcTiming",t)},expression:"oParams.bIpcTiming"}})],1):e._e()],1):e._e()],1)],1),t("div",{staticClass:"bottom-container"},[t("hm-button",{staticClass:"bottom-btn",on:{click:function(t){return e.addDevice()}}},[e._v(e._s("add"===e.type?e.$t("add_name"):e.$t("save")))])],1),t("hm-popup",{ref:"myPopup",attrs:{type:"my-popup"}},[t("hm-loading",{attrs:{size:28}})],1),t("hm-modal",{attrs:{visible:e.selectChannelDialogVisible,"close-type":"right","half-height":!0,title:"add"===e.selectChannelDialogType?e.$t("addChannel_name"):e.$t("editChannel_name")},on:{close:function(t){e.selectChannelDialogVisible=!1}}},[t("channel-select",{attrs:{type:e.selectChannelDialogType,options:e.deviceResourceList},on:{confirm:e.addChannelSuccess}})],1)],1)},n=[],o=a("4ecd"),r=o["a"],s=(a("673c"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"b0dc5506",null);t["default"]=l.exports},"2cb8":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("whiteLightAlarmOut"),"b-lazy-loading":e.bLazyLoading,"left-type":"back"}},[t("div",{staticClass:"whiteLightAlarmOut-page-wrapper",attrs:{slot:"content"},slot:"content"},[e.oCap.bSupportByChannel?t("div",[t("channel-list",{ref:"channel",attrs:{"o-channel":e.oChannel}})],1):e._e(),e.bSupportConfig?t("hm-scroll",[t("div",{staticClass:"hm-index-list-item"},[t("hm-validator-group",{staticClass:"custom-cell-group",attrs:{result:e.validate,title:" "}},[t("hm-cell-group",[e.oCap.oDurationTime.bSupport?t("hm-cell",[t("div",{attrs:{slot:"title"},slot:"title"},[t("div",{staticClass:"require-title-container"},[t("div",{staticClass:"require-star"},[e._v("\n                    *\n                  ")]),t("div",{staticClass:"require-title"},[e._v("\n                    "+e._s(e.$t("twinkleTime")+"("+e.$t("seconds")+")")+"\n                  ")])])]),t("hm-input",{model:{value:e.oParams.durationTime,callback:function(t){e.$set(e.oParams,"durationTime",t)},expression:"oParams.durationTime"}}),t("hm-validator",{attrs:{model:e.oParams.durationTime,rules:e.oInputDataValid,param:e.$t("twinkleTime")+"("+e.$t("seconds")+")"}})],1):e._e(),e.oCap.oFrequency.bSupport?t("hm-cell",{attrs:{title:e.$t("twinkleFrequency")}},[t("base-select",{attrs:{title:e.$t("twinkleFrequency"),options:e.oCap.oFrequency.aList},model:{value:e.oParams.frequency,callback:function(t){e.$set(e.oParams,"frequency",t)},expression:"oParams.frequency"}})],1):e._e(),e.oCap.oBrightness.bSupport?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("brightness")}},[t("hm-input",{staticClass:"slider-input",attrs:{maxlength:3,disabled:!0,type:"number"},model:{value:e.oParams.brightness,callback:function(t){e.$set(e.oParams,"brightness",t)},expression:"oParams.brightness"}})],1):e._e(),e.oCap.oBrightness.bSupport?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("hm-slider",{staticClass:"slider-wrapper",attrs:{min:e.oCap.oBrightness.iMin,max:e.oCap.oBrightness.iMax},model:{value:e.oParams.brightness,callback:function(t){e.$set(e.oParams,"brightness",t)},expression:"oParams.brightness"}})],1):e._e()],1),e.oCap.bSupportSchedule?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("armSchedulePlan")}},[t("hm-cell",{attrs:{"is-link":"",title:e.$t("armSchedulePlan")},nativeOn:{click:function(t){return e.showArmSchedule()}}})],1):e._e()],1)],1),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{on:{click:function(t){return e.save()}}},[e._v("\n          "+e._s(e.$t("save"))+"\n        ")])],1)]):e._e(),e.bShowSchedule?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:e.$t("armSchedule"),"show-footer":!0,"enable-cancel-callback":e.bEnableCancelCallback},on:{delete:e.deleteAll,cancelcallback:e.cancelcallback,confirm:e.confirm}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"swipe-wrapper time-plan-padding swipe-wrapper-show-footer"},[t("hm-scroll",[t("time-plan",{ref:"timePlan",attrs:{"times-data":e.aTimes,holiday:e.oCap.bHoliday}})],1)],1)])])],1):e._e()],1)])},n=[],o=a("f51c"),r=o["a"],s=(a("badf"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"79805790",null);t["default"]=l.exports},"2d3a":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("instantPreviews"),"left-type":"back"}},[t("div",{staticClass:"displayContent",attrs:{slot:"content"},slot:"content"},[t("hm-scroll",[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("streamType")}},[t("base-select",{attrs:{title:e.$t("streamType"),options:e.oCap.aStreamTypeList},model:{value:e.oParams.szStreamType,callback:function(t){e.$set(e.oParams,"szStreamType",t)},expression:"oParams.szStreamType"}})],1),t("hm-cell",{attrs:{title:e.$t("enableInstantPreviews")}},[t("hm-switch",{attrs:{"before-change":e.changeEnable},model:{value:e.oParams.enable,callback:function(t){e.$set(e.oParams,"enable",t)},expression:"oParams.enable"}})],1),t("hm-cell",{attrs:{title:e.$t("adjustPolicy")}},[t("base-select",{attrs:{title:e.$t("adjustPolicy"),options:e.oCap.aPolicyList},model:{value:e.oParams.policy,callback:function(t){e.$set(e.oParams,"policy",t)},expression:"oParams.policy"}})],1),3===e.oParams.policy?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("errorCorrectionRatio")}},[t("div",{staticStyle:{width:"80%",height:"34px"}},[t("mt-range",{staticStyle:{width:"90%"},attrs:{min:1,max:100,step:1,"bar-height":5},model:{value:e.oParams.percentage,callback:function(t){e.$set(e.oParams,"percentage",t)},expression:"oParams.percentage"}})],1),t("hm-input",{staticClass:"slider-input",attrs:{disabled:!0,type:"number"},model:{value:e.oParams.percentage,callback:function(t){e.$set(e.oParams,"percentage",t)},expression:"oParams.percentage"}})],1):e._e()],1),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{on:{click:e.save}},[e._v("\n          "+e._s(e.$t("save"))+"\n        ")])],1)],1),t("base-view")],1)])},n=[],o=(a("8e6e"),a("ac6a"),a("456d"),a("28a5"),a("ade3")),r=(a("96cf"),a("1da1")),s=a("1c1a"),l=a("1f20"),c=a("f193"),u=a("d09c"),d={},p={getNpqCap:function(){return new Promise((function(e,t){var a={urlCGI:"npqCap",params:null,data:null,loading:!0};c["a"].get(a).then((function(t){e(t.oResult.AdaptionCap)}),(function(e){t(e)}))}))},getNpqInfo:function(e,t){e.state;return new Promise((function(e,a){var i={urlCGI:"npqInfo",params:t,data:null,loading:!0};c["a"].get(i).then((function(t){e(t.oResult.Adaption)}),(function(e){a(e)}))}))},save:function(e,t){e.state;return new Promise((function(e,a){c["a"].put(t).then((function(t){u["a"].saveState(t.xhr),e(t)}),(function(e){u["a"].saveState(e),a(e)}))}))}},m={},h={},f={namespaced:!0,state:d,actions:p,mutations:m,getters:h},v=a("c050"),b=a("8d94"),g=a("47b5");function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var C={name:"SmoothStream",components:{BaseView:s["a"],BaseSelect:g["a"]},data:function(){return{validate:{},oParams:{szStreamType:"",enable:!1,policy:0,percentage:0},oCap:{aStreamTypeList:[],aPolicyList:[],oErrorCorrectionRatio:{"@min":0,"@max":100}},policyTranslate:[this.$t("auto"),this.$t("resolutionFirst"),this.$t("frameFirst"),this.$t("errorCorrection")],streamTranslate:[this.$t("mainStream"),this.$t("subStream"),this.$t("thirdStream"),this.$t("transcodedStream")]}},created:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["a"].getNetworkCap();case 2:if(!l["a"].m_oDeviceCapa.oNpq||!l["a"].m_oDeviceCapa.oNpq.bSupport){e.next=8;break}if(this.$store.state.smoothStreamModule){e.next=6;break}return e.next=6,this.$store.registerModule("smoothStreamModule",S({},f));case 6:this.getCap(),this.getInfo();case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),destroyed:function(){this.$store.state.smoothStreamModule&&this.$store.unregisterModule("smoothStreamModule")},methods:{changeEnable:function(){var e=this;this.oParams.enable?this.oParams.enable=!1:v["a"].confirm(b["a"].t("enableInstantPreviewsTips"),(function(){e.oParams.enable=!0}))},getCap:function(){var e=this;this.oCap.aStreamTypeList=[],this.oCap.aStreamTypeList=l["a"].m_oDeviceCapa.oNpq.aStreamType.map((function(t){return{text:e.streamTranslate[+t],value:+t}})),this.oCap.aStreamTypeList.length&&(this.oParams.szStreamType=this.oCap.aStreamTypeList[0].value),this.oCap.aPolicyList=[],this.$store.dispatch("smoothStreamModule/getNpqCap").then((function(t){e.oCap.oErrorCorrectionRatio=S({},t.percentage),e.oCap.aPolicyList=t.policy["@opt"].split(",").map((function(t){return{text:e.policyTranslate[+t],value:+t}}))}))},getInfo:function(){var e=this,t={id:this.oParams.szStreamType};this.$store.dispatch("smoothStreamModule/getNpqInfo",t).then((function(t){e.oParams=Object.assign(e.oParams,S({},t))}))},save:function(){var e=this.oParams,t=e.enable,a=e.policy,i=e.percentage,n={urlCGI:"npqInfo",params:{id:this.oParams.szStreamType},data:{Adaption:{enable:t,policy:a,percentage:i}}};this.$store.dispatch("smoothStreamModule/save",n)}}},y=C,I=(a("0af2"),a("2877")),D=Object(I["a"])(y,i,n,!1,null,"16910310",null);t["default"]=D.exports},"2d51":function(e,t,a){},"2d6c":function(e,t,a){"use strict";var i=a("071c");t["a"]=i["a"]},"2e08":function(e,t,a){var i=a("9def"),n=a("9744"),o=a("be13");e.exports=function(e,t,a,r){var s=String(o(e)),l=s.length,c=void 0===a?" ":String(a),u=i(t);if(u<=l||""==c)return s;var d=u-l,p=n.call(c,Math.ceil(d/c.length));return p.length>d&&(p=p.slice(0,d)),r?p+s:s+p}},"2e42":function(e,t,a){"use strict";(function(e){a("a481"),a("6b54"),a("7514"),a("28a5"),a("ac6a"),a("5df3");var i=a("d4ec"),n=a("bee2"),o=a("c050"),r=a("7de8"),s=a("d09c"),l=a("9741"),c=a("8d94"),u=a("f193"),d=function(){function t(){var e=this;Object(i["a"])(this,t),this.oXmlDoc=null,this.szDefaultPwd="",this._oDDNSInfo={bEnableDdns:!1,bEnableCountry:!0,szDdnsType:"",szServerAddress:"",szDomain:"",szUserName:"",oPassword:{szPassword:this.szDefaultPwd,szPasswordConfirm:this.szDefaultPwd,szPasswordDefault:this.szDefaultPwd},iPort:0,szCountry:"101",szRegion:"Custom",szDdnsStatus:"connServerfail",oCountryInit:{value:"",region:""}},this.m_oCapbilities={aCountryList:[],aRegionList:[],aDDNSList:[],aDdnsTypeSupport:[!1,!1,!1,!1,!1],bSupportCountry:!1,bSupportStatus:!1,bSupportDdnsTest:!1,aStatus:[]},this.m_oParamsValid={oServerAddr:{required:!0,lengthRange:[1,64]},oDomain:{required:!0,hiddns:!0,lengthRange:[1,64]},oUserName:{required:!0,lengthRange:[1,32]},oPassword:{required:!0},oPasswordConfirm:{required:!0,confirmPass:function(t){return t===e._oDDNSInfo.oPassword.szPassword}},immediate:!1},this.m_oParamsInit={},this.m_iTesting=!1}return Object(n["a"])(t,[{key:"initoLan",value:function(){this.m_oCapbilities.aStatus=[{value:"connServerfail",text:c["a"].t("connServerfail")},{value:"solveServerMesFail",text:c["a"].t("solveServerMesFail")},{value:"connHeartSrvfail",text:c["a"].t("connHeartSrvfail")},{value:"solveHeartSrvMesFail",text:c["a"].t("solveHeartSrvMesFail")},{value:"connHostSrvfail",text:c["a"].t("connHostSrvfail")},{value:"solveHostSrvMesFail",text:c["a"].t("solveHostSrvMesFail")},{value:"updateSuccess",text:c["a"].t("updateSuccess")},{value:"disable",text:c["a"].t("ddnsDisable")},{value:"registHostSuccess",text:c["a"].t("registHostSuccess")},{value:"DNSSrvError",text:c["a"].t("DNSSrvError")},{value:"DomainConflict",text:c["a"].t("DomainConflict")},{value:"invalidAlias",text:c["a"].t("invalidAlias")},{value:"authenticationFail",text:c["a"].t("authenticationFail")},{value:"registServerError",text:c["a"].t("registServerError")},{value:"registFail",text:c["a"].t("registFail")},{value:"connecting",text:c["a"].t("inConnecting")}]}},{key:"initDDNS",value:function(){var e=this;e.initoLan();var t=new Promise((function(t){Promise.all([e.getDdnsCap(),e.getDdnsInfo(),e.getDdnsCountryCap()]).then((function(){t()}))}));return t}},{key:"getDdnsCap",value:function(){var t=this,a=new Promise((function(a){var i={urlCGI:"ddnsCapa",params:{},data:null,loading:!0};u["a"].get(i).then((function(i){var n=i.oResult,o=e(n).find("provider").eq(0).attr("opt").split(","),r=t.m_oCapbilities.aDDNSList=[];e.each(o,(function(e,t){"dyndns"===t.toLowerCase()?r.push({text:"DynDNS",value:t}):"NO-IP"===t||"NoIpDns"===t?r.push({text:"NO-IP",value:t}):"PeanutHall"===t?r.push({text:c["a"].t("peanutHull")||"PeanutHull",value:"PeanutHall"}):"CCTVDDNS"===t?r.push({text:"CCTVDDNS",value:t}):"SafireDNS"===t?r.push({text:"SafireDNS",value:t}):r.push({text:t,value:t})})),t.m_oCapbilities.bSupportPort=e(n).find("portNo").eq(0).length>0&&1===l["a"].iDeviceType,t.m_oCapbilities.bSupportDdnsTest=e(n).find("bSupportDdnsTest").eq(0).length>0&&1===l["a"].iDeviceType,a()}),(function(){t.m_oCapbilities.aDDNSList=[],a()}))}));return a}},{key:"getDdnsCountryCap",value:function(){var t=this,a=new Promise((function(a){var i={urlCGI:"ddnsCountry",params:{},data:null,loading:!0};u["a"].get(i).then((function(i){var n=i.oResult;t.m_oCapbilities.bSupportCountry=!0,e(n).find("Continent").each((function(a,i){var n=i;t.m_oCapbilities.aRegionList.push({name:r["a"].nodeValue(e(i),"name"),firstCountry:r["a"].nodeValue(e(i).find("Country").eq(0),"id")}),e(i).find("Country").each((function(){t.m_oCapbilities.aCountryList.push({name:r["a"].nodeValue(e(i),"name"),value:r["a"].nodeValue(e(i),"id"),region:r["a"].nodeValue(e(n),"name")})}))})),t.m_oCapbilities.aRegionList.push({name:"Custom",firstCountry:"0"}),a()}),(function(){t.m_oCapbilities.bSupportCountry=!1,a()}))}));return a}},{key:"getDdnsInfo",value:function(){var t=this,a=new Promise((function(a){var i={urlCGI:"ddnsInfo",params:{},data:null,loading:!0};u["a"].get(i).then((function(i){var n=i.oResult;t._oDDNSInfo.bEnableDdns=r["a"].nodeValue(e(n),"enabled","b"),t._oDDNSInfo.szDdnsType=r["a"].nodeValue(e(n),"provider");var o=r["a"].nodeValue(e(n),"addressingFormatType");if("hostname"===o?t._oDDNSInfo.szServerAddress=r["a"].nodeValue(e(n),"hostName"):e(n).find("ipAddress").length>0?t._oDDNSInfo.szServerAddress=r["a"].nodeValue(e(n),"ipAddress"):e(n).find("ipv6Address").length>0?t._oDDNSInfo.szServerAddress=r["a"].nodeValue(e(n),"ipv6Address"):t._oDDNSInfo.szServerAddress="",t.m_oCapbilities.bSupportPort&&(t._oDDNSInfo.iPort=r["a"].nodeValue(e(n),"portNo")),t._oDDNSInfo.szDomain=r["a"].nodeValue(e(n),"deviceDomainName"),t._oDDNSInfo.szUserName=r["a"].nodeValue(e(n),"userName"),e(n).find("status").length>0&&(t._oDDNSInfo.szDdnsStatus=r["a"].nodeValue(e(n),"status"),t.m_oCapbilities.bSupportStatus=!0),e(n).find("countryID").length>0){if(t._oDDNSInfo.szCountry=r["a"].nodeValue(e(n),"countryID"),"0"===t._oDDNSInfo.szCountry)t._oDDNSInfo.bEnableCountry=!1,t._oDDNSInfo.szRegion="Custom";else for(var s=0;s<t._oDDNSInfo.aCountryList.length;s++)t._oDDNSInfo.szCountry===t._oDDNSInfo.aCountryList[s].value&&(t._oDDNSInfo.szRegion=t._oDDNSInfo.aCountryList[s].region);t._oDDNSInfo.oCountryInit.region=t._oDDNSInfo.szRegion,t._oDDNSInfo.oCountryInit.value=t._oDDNSInfo.szCountry}e.extend(t.m_oParamsInit,t._oDDNSInfo),a()}),(function(){t.m_oCapbilities.aDDNSList=[],a()}))}));return a}},{key:"save",value:function(t){var a=this;if(1===t){if(a.m_iTesting)return;a.m_iTesting=!0}var i="<?xml version='1.0' encoding='UTF-8'?><DDNS><id>1</id><enabled>"+a._oDDNSInfo.bEnableDdns.toString()+"</enabled>";i+="<provider>"+a._oDDNSInfo.szDdnsType+"</provider>",i+="<serverAddress>";var n=r["a"].checkAddressingType(a._oDDNSInfo.szServerAddress);i+="ipAddress"===n?"<addressingFormatType>ipaddress</addressingFormatType><ipAddress>"+a._oDDNSInfo.szServerAddress+"</ipAddress>":"ipv6Address"===n?"<addressingFormatType>ipaddress</addressingFormatType><ipv6Address>"+a._oDDNSInfo.szServerAddress+"</ipv6Address>":"<addressingFormatType>hostname</addressingFormatType><hostName>"+a._oDDNSInfo.szServerAddress.replace(/</g,"&lt;")+"</hostName>",i+="</serverAddress>",i+="<portNo></portNo>",i+="<deviceDomainName>"+a._oDDNSInfo.szDomain.replace(/</g,"&lt;")+"</deviceDomainName>",i+="<userName>"+a._oDDNSInfo.szUserName.replace(/</g,"&lt;")+"</userName>",a._oDDNSInfo.oPassword.szPassword!==a._oDDNSInfo.oPassword.szPasswordDefault&&(i+="<password>"+a._oDDNSInfo.oPassword.szPassword.replace(/</g,"&lt;")+"</password>"),a.m_oCapbilities.bSupportCountry&&(i+="<countryID>"+a._oDDNSInfo.szCountry+"</countryID>"),i+="<isTest>",i+=t?"true":"false",i+="</isTest>",i+="</DDNS>";var o=r["a"].parseXmlFromStr(i);return new Promise((function(i){var n={urlCGI:"ddnsInfo",params:{},data:o,loading:!0};u["a"].put(n).then((function(t){e.extend(a.m_oParamsInit,a._oDDNSInfo),s["a"].saveState(t.xhr),i()}),(function(e){s["a"].saveState(e),i()})).then((function(){1===t&&a.getDdnsTest(),i()}),(function(){i()}))}))}},{key:"getDdnsTest",value:function(){var t=this,a=new Promise((function(a){u["a"].get({urlCGI:"ddnsInfoTest",loading:!0,success:function(a,i){o["a"].tip(r["a"].nodeValue(e(i),"ResInfo")),t.m_iTesting=!1}}).then((function(){a()}),(function(){a()}))}));return a}}]),t}();t["a"]=new d}).call(this,a("1157"))},"2e65":function(e,t,a){"use strict";a("7a1f")},"2e79":function(e,t,a){"use strict";a("7db7")},"2e8d":function(e,t,a){"use strict";a("af33")},"2f21":function(e,t,a){"use strict";var i=a("79e5");e.exports=function(e,t){return!!e&&i((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},"303f":function(e,t,a){},3084:function(e,t,a){},"30de":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",[t("base-page",{attrs:{title:e.$t("smartEvent"),"right-type":"text"}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"smart-content"},[e.bSupportChannelCap?t("channel-list",{attrs:{"o-channel":e.oChannel}}):e._e(),e._l(e.aMenu,(function(a,i){return t("div",{key:i,staticClass:"content"},[a.title?t("div",{staticClass:"title"},[e._v(e._s(a.title))]):e._e(),t("div",{staticClass:"menu"},[e._l(a.menu,(function(a,i){return[a.cap?t("hm-cell",{key:i,attrs:{center:"",title:a.label,"is-link":""},nativeOn:{click:function(t){return e.goMenu(a)}}}):e._e()]}))],2)])}))],2),t("router-view")],1)])],1)},n=[],o=a("7a8b"),r=o["a"],s=(a("1c8d"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"448f425b",null);t["default"]=l.exports},"30ee":function(e,t,a){"use strict";a("8294")},3109:function(e,t,a){},"310c":function(e,t,a){"use strict";a("1a11")},3117:function(e,t,a){"use strict";(function(e){a("ac6a"),a("a481"),a("6b54"),a("28a5"),a("7514"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("181b"),s=a("768a"),l=a("08d4"),c=a("7de8"),u=a("d09c"),d=a("8d94"),p=a("f193"),m=function(){function t(){Object(n["a"])(this,t),this.oOsdParams={bLazyLoading:!1,iChannelId:0,displayMode:"",dateFormat:"",timeFormat:"",boundary:"",cameraName:"",OSDSize:"",OSDColorMode:"",OSDColor:"",bDisplayName:!1,bDisplayDate:!1,bDisplayWeek:!1,textOverlayList:[],nameList:[],nLDSNWidth:0,nLDSNHeight:0,szAlignment:"customize",szLastAlignment:"customize",bOldVersion:!1},this.oOSDCapa={displayModes:[],dateFormats:[],OSDSizes:[],OSDColorModes:[],bSupportOSD:!0,bSupportOSDSize:!1,bSupportDisplayMode:!0,bSupportTimeFormat:!0,bSupportOSDTime:!0,bSupportDateFormat:!0,bSupportDisplayName:!0,bSupportDisplayWeek:!0,bSupportDisplayWeekSet:!0,bSupportOSDColor:!1,bSupportDisplayBatteryPower:!1,iTextOverlayMax:8,oAlignment:{bSupport:!1,aList:[]},bPublicSecurity:!1},this.oInputValid={oTextOverlayValid:{required:!1,lengthRange:[0,44]},oOSDValid:{required:!1,lengthRange:[0,32]}},this.redundantData={osd:{widthResolution:0,heightResolution:0,channelName:"",text:{}}},this.oOverlayInfo={}}return Object(o["a"])(t,[{key:"initParames",value:function(){var e=this;e.oChannelXml=null,e.szCompatible="NVR",e.oOsdLan={},e.oOsdLan.oneCharacter=c["a"].replaceAll(d["a"].t("multiCharacter"),"%s",1),e.oOsdLan.twoCharacter=c["a"].replaceAll(d["a"].t("multiCharacter"),"%s",2)}},{key:"getInfo",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=this,0!==a.oOsdParams.iChannelId){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,s["a"].getChannelList(!0);case 5:return t.abrupt("return",new Promise(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(n){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o={urlCGI:"videoCapa",params:{channel:a.oOsdParams.iChannelId,videoStream:"01"},data:null,loading:!0},t.next=3,p["a"].get(o).then((function(e){var t=e.oResult,i=c["a"].nodeAttr(t,"channelName","max","i");i>0&&(a.oInputValid.oOSDValid.lengthRange[1]=i)}));case 3:return o={urlCGI:"overlayCapa",params:{channel:a.oOsdParams.iChannelId},data:null,loading:!0},t.next=6,p["a"].get(o).then(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(i){var l,u,m,h,f,v,b,g,P,S,C,y,I,D,w,T,k,x,A,R,L,E,_,z,V,M;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(l=i.oResult,a.oOSDCapa.bSupportOSD=!0,u=e(l),a.oOSDCapa.bPublicSecurity=!!u.find("publicSecurity").length,u.find("transparent").length>0&&u.find("flashing").length>0){if(a.oOSDCapa.bSupportDisplayMode=!0,u.find("transparent").eq(0).attr("opt")&&u.find("flashing").eq(0).attr("opt"))for(a.oOSDCapa.displayModes.length=0,m=u.find("transparent").eq(0).attr("opt").split(","),h=u.find("flashing").eq(0).attr("opt").split(","),f=["true_true","true_false","false_true","false_false"],v=["transparentFlashing","transparentNotFlashing","notTransparentFlashing","notTransparentNotFlashing"],b=0;b<m.length;b++)for(g=0;g<h.length;g++)P=e.inArray(m[b]+"_"+h[g],f),a.oOSDCapa.displayModes.push({text:d["a"].t(v[P]),value:m[b]+"_"+h[g]})}else a.oOSDCapa.bSupportDisplayMode=!1;if(e(l).find("DateTimeOverlay").eq(0).length>0?a.oOSDCapa.bSupportOSDTime=!0:a.oOSDCapa.bSupportOSDTime=!1,u.find("DateTimeOverlay").eq(0).find("dateStyle").length>0){if(a.oOSDCapa.bSupportDateFormat=!0,u.find("DateTimeOverlay").eq(0).find("dateStyle").eq(0).attr("opt"))for(a.oOSDCapa.dateFormats.length=0,S=e(l).find("DateTimeOverlay").eq(0).find("dateStyle").eq(0).attr("opt").split(","),C=["YYYY-MM-DD","MM-DD-YYYY","DD-MM-YYYY","CHR-YYYY-MM-DD","CHR-MM-DD-YYYY","CHR-DD-MM-YYYY","CHR-YYYY/MM/DD","CHR-MM/DD/YYYY","CHR-DD/MM/YYYY"],y=["YYYY-MM-DD","MM-DD-YYYY","DD-MM-YYYY","YYYY MM DD","MM DD YYYY","DD MM YYYY","YYYY/MM/DD","MM/DD/YYYY","DD/MM/YYYY"],I=0;I<S.length;I++)D=e.inArray(S[I],C),a.oOSDCapa.dateFormats.push({text:d["a"].t(y[D]),value:S[I]})}else a.oOSDCapa.bSupportDateFormat=!1;if(a.oOSDCapa.bSupportTimeFormat=u.find("DateTimeOverlay").eq(0).find("timeStyle").length>0,u.find("DateTimeOverlay").eq(0).find("displayWeek").length>0?(a.oOSDCapa.bSupportDisplayWeek=!0,u.find("DateTimeOverlay").eq(0).find("displayWeek").eq(0).attr("opt").split(",").length<=1?a.oOSDCapa.bSupportDisplayWeekSet=!1:a.oOSDCapa.bSupportDisplayWeekSet=!0):a.oOSDCapa.bSupportDisplayWeek=!1,e(l).find("channelNameOverlay").length>0?a.oOSDCapa.bSupportDisplayName=!0:a.oOSDCapa.bSupportDisplayName=!1,u.find("fontSize").length>0&&e(l).find("fontSize").eq(0).attr("opt"))for(a.oOSDCapa.bSupportOSDSize=!0,a.oOSDCapa.OSDSizes.length=0,w=e(l).find("fontSize").eq(0).attr("opt").split(","),T=0;T<w.length;T++)k=w[T],"adaptive"===k&&(k=d["a"].t("auto")),a.oOSDCapa.OSDSizes.push({text:k,value:w[T]});else u.find("fontSize").length>0?(a.oOSDCapa.bSupportOSDSize=!0,a.oOSDCapa.OSDSizes=[{text:"16*16",value:"0"},{text:"32*32",value:"1"},{text:"64*64",value:"2"}]):a.oOSDCapa.bSupportOSDSize=!1;if(u.find("frontColorMode").length>0?(a.oOSDCapa.bSupportOSDColor=!0,x=e(l).find("frontColorMode").eq(0).attr("opt").split(","),s["a"].createNgOptions(x,["blackWhiteAdap","custom","osdOutline"],["auto","customize","outline"],a.oOSDCapa.OSDColorModes)):a.oOSDCapa.bSupportOSDColor=!1,a.oOsdParams.textOverlayList.length=0,A=u.find("TextOverlayList TextOverlay").length,u.find("TextOverlayList").attr("size")&&(A=parseInt(u.find("TextOverlayList").attr("size"),10),a.szCompatible="IPC"),a.oOSDCapa.iTextOverlayMax=A,!(A>0)){t.next=44;break}R="",L=a.oOsdLan,E=0;case 20:if(!(E<A)){t.next=44;break}if(!a.oOSDCapa.bPublicSecurity){t.next=39;break}t.t0=E,t.next=0===t.t0?25:1===t.t0?27:2===t.t0?29:3===t.t0?31:4===t.t0?33:35;break;case 25:return R=L.province,t.abrupt("break",37);case 27:return R=L.city,t.abrupt("break",37);case 29:return R=L.county,t.abrupt("break",37);case 31:return R=L.town,t.abrupt("break",37);case 33:return R=L.address,t.abrupt("break",37);case 35:return R=L.custom,t.abrupt("break",37);case 37:t.next=40;break;case 39:R=d["a"].t("textOverLay")+(E+1);case 40:a.oOsdParams.nameList.push({name:R.toString()});case 41:E++,t.next=20;break;case 44:return a.oOSDCapa.bSupportDisplayBatteryPower=!!e(l).find("BatteryPowerOverlay").length,_=a.oOSDCapa.oAlignment,_.aList.length=0,_.bSupport=!!e(l).find("alignment").length,_.bSupport&&(z=c["a"].nodeAttr(l,"alignment","opt").split(","),V="",_.aList.length=0,e.each(z,(function(e,t){switch(t){case"customize":V=d["a"].t("custom");break;case"alignRight":V=d["a"].t("alignRight");break;case"alignLeft":V=d["a"].t("alignLeft");break;case"allRight":V=d["a"].t("allAlignRight");break;case"allLeft":V=d["a"].t("allAlignLeft");break;case"GB":V=d["a"].t("GBMode");break;default:V="";break}""!==V&&_.aList.push({text:V,value:t})}))),M=c["a"].nodeAttr(l,"TextOverlaySize","max","i"),M>0?a.oInputValid.oTextOverlayValid.lengthRange[1]=M:a.oOSDCapa.bPublicSecurity&&(a.oInputValid.oTextOverlayValid.lengthRange[1]=32),o={urlCGI:"ChannelSingleInfo",params:{channel:a.oOsdParams.iChannelId},data:null,loading:!0},t.next=54,p["a"].get(o).then((function(t){var i=t.oResult;a.oChannelXml=i,a.oOsdParams.cameraName=e(i).find("name").eq(0).text(),o={urlCGI:"overlayInfo",params:{channel:a.oOsdParams.iChannelId},data:null,loading:!0},p["a"].get(o).then((function(t){var i=e(t.oResult);a.oOSDCapa.bSupportDisplayMode&&(a.oOsdParams.displayMode=i.find("transparent").eq(0).text()+"_"+i.find("flashing").eq(0).text()),a.oOsdParams.bDisplayName="true"===i.find("channelNameOverlay").eq(0).find("enabled").eq(0).text(),a.oOsdParams.bDisplayDate="true"===i.find("DateTimeOverlay").eq(0).find("enabled").eq(0).text(),a.oOsdParams.bDisplayWeek="true"===i.find("DateTimeOverlay").eq(0).find("displayWeek").eq(0).text(),a.oOsdParams.bDisplayBatteryPower=c["a"].nodeValue(i,"BatteryPowerOverlay enabled","b"),a.oOsdParams.dateFormat=i.find("DateTimeOverlay").eq(0).find("dateStyle").eq(0).text(),a.oOsdParams.timeFormat=i.find("DateTimeOverlay").eq(0).find("timeStyle").eq(0).text(),a.oOsdParams.OSDSize=i.find("fontSize").eq(0).text(),a.oOsdParams.OSDColorMode=i.find("frontColorMode").eq(0).text(),a.oOsdParams.OSDColor="#"+i.find("frontColor").eq(0).text(),a.oOsdParams.szAlignment=i.find("alignment").eq(0).text()||"customize",a.oOsdParams.szLastAlignment=a.oOsdParams.szAlignment,a.oOsdParams.boundary=(c["a"].nodeValue(i,"boundary","i")||0).toString();var o=parseInt(i.find("normalizedScreenWidth").eq(0).text(),10),s=parseInt(i.find("normalizedScreenHeight").eq(0).text(),10);o<=0&&(o=704),s<=0&&(s=576),a.oOsdParams.nLDSNWidth=o,a.oOsdParams.nLDSNHeight=s;var l=0;i.find("TextOverlay").each((function(){l=c["a"].nodeValue(this,"id","i")-1,a.oOsdParams.textOverlayList.push({checked:!1,name:a.oOsdParams.nameList[l].toString(),value:"",x:0,y:0}),a.oOsdParams.textOverlayList[l].checked="true"===e(this).find("enabled").eq(0).text(),a.oOsdParams.textOverlayList[l].value=e(this).find("displayText").eq(0).text();var t=parseInt(e(this).find("positionX").eq(0).text(),10),i=parseInt(e(this).find("positionY").eq(0).text(),10);"IPC"===a.szCompatible&&""===a.oOsdParams.textOverlayList[l].value&&(t=0,i=s),a.oOsdParams.textOverlayList[l].x=t,"IPC"===a.szCompatible?a.oOsdParams.textOverlayList[l].y=a.oOsdParams.nLDSNHeight-i:a.oOsdParams.textOverlayList[l].y=i}));var u=a.oOsdParams.dateFormat,d="0";d="YYYY-MM-DD"===u||"CHR-YYYY/MM/DD"===u?"0":"MM-DD-YYYY"===u||"CHR-MM/DD/YYYY"===u?"1":"DD-MM-YYYY"===u||"CHR-DD/MM/YYYY"===u?"4":"CHR-YYYY-MM-DD"===u?"2":"CHR-MM-DD-YYYY"===u?"3":"5";var p="<?xml version='1.0' encoding='UTF-8'?><OSD>";if(p+="<videoResolutionWidth>"+o+"</videoResolutionWidth>",p+="<videoResolutionHeight>"+s+"</videoResolutionHeight>",p+="<channelNameOverlay><enabled>"+a.oOsdParams.bDisplayName.toString()+"</enabled>",p+="<alignment>0</alignment>",p+="<ChannelName>"+a.oOsdParams.cameraName.replace(/</g,"&lt;").replace(/&(?!lt;|amp;|gt;|apos;|quot;)/g,"&amp;")+"</ChannelName>",p+="<positionX>"+i.find("channelNameOverlay").eq(0).find("positionX").eq(0).text()+"</positionX>","IPC"===a.szCompatible?p+="<positionY>"+(a.oOsdParams.nLDSNHeight-parseInt(i.find("channelNameOverlay").eq(0).find("positionY").eq(0).text(),10))+"</positionY></channelNameOverlay>":p+="<positionY>"+i.find("channelNameOverlay").eq(0).find("positionY").eq(0).text()+"</positionY></channelNameOverlay>",p+="<DateTimeOverlay><enabled>"+a.oOsdParams.bDisplayDate.toString()+"</enabled>",p+="<alignment>"+(a.oOSDCapa.bPublicSecurity?a.alignment():"0")+"</alignment>",p+="<type>"+d+"</type><clockType>"+a.oOsdParams.timeFormat+"</clockType>",p+="<displayWeek>"+a.oOsdParams.bDisplayWeek.toString()+"</displayWeek>",p+="<positionX>"+i.find("DateTimeOverlay").eq(0).find("positionX").eq(0).text()+"</positionX>","IPC"===a.szCompatible?p+="<positionY>"+(a.oOsdParams.nLDSNHeight-parseInt(i.find("DateTimeOverlay").eq(0).find("positionY").eq(0).text(),10))+"</positionY></DateTimeOverlay>":p+="<positionY>"+i.find("DateTimeOverlay").eq(0).find("positionY").eq(0).text()+"</positionY></DateTimeOverlay>",p+="<TextOverlayList>",a.oOsdParams.textOverlayList.length>0&&"GB"!==a.oOsdParams.szAlignment)e(a.oOsdParams.textOverlayList).each((function(e){p+="<TextOverlay><id>"+(e+1)+"</id><enabled>"+this.checked.toString()+"</enabled>",p+="<alignment>"+a.alignment()+"</alignment>",p+="<positionX>"+this.x+"</positionX>",p+="<positionY>"+this.y+"</positionY>",p+="<displayText>"+this.value.replace(/</g,"&lt;").replace(/&(?!lt;|amp;|gt;|apos;|quot;)/g,"&amp;")+"</displayText></TextOverlay>"}));else for(var m=0;m<8;m++)p+="<TextOverlay><id>"+(m+1)+"</id><enabled>false</enabled>",p+="<alignment>"+a.alignment()+"</alignment>",p+="<positionX>0</positionX>",p+="<positionY>0</positionY>",p+="<displayText></displayText></TextOverlay>";p+="</TextOverlayList>",p+="</OSD>",a.oOverlayInfo=a.setTextOverlay(p),r["a"].setTextOverlay(a.oOverlayInfo),a.oOsdParams.textOverlayList=a.oOsdParams.textOverlayList.filter((function(e){return e.value})),a.oOsdParams.textOverlayList.forEach((function(e){e.value&&(e.checked=!0)})),n()}))}));case 54:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(){n()}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 6:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}()},{key:"getTextOverlayFromPlugin",value:function(){var e=this;r["a"].getTextOverlay().then(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.oOverlayInfo=a;case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setTextOverlayToPlugin",value:function(){r["a"].setTextOverlay(this.oOverlayInfo)}},{key:"alignment",value:function(){var e=this,t=e.oOsdParams.szAlignment;return"customize"===t?"0":"alignRight"===t?"2":"alignLeft"===t?"1":void 0}},{key:"changeAliment",value:function(){var e=this;if(e.oOsdParams.szLastAlignment===e.oOsdParams.szAlignment||"GB"!==e.oOsdParams.szLastAlignment&&"GB"!==e.oOsdParams.szAlignment)e.changeOSDInfo();else{var t={urlCGI:"overlayInfo",params:{channel:e.oOsdParams.iChannelId},data:c["a"].parseXmlFromStr("<VideoOverlay><alignment>"+e.oOsdParams.szAlignment+"</alignment></VideoOverlay>"),loading:!0};p["a"].put(t).then(Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getInfo();case 2:case"end":return t.stop()}}),t)}))),(function(e){u["a"].saveState(e)}))}e.oOsdParams.szLastAlignment=e.oOsdParams.szAlignment}},{key:"watchAlignment",value:function(){var e=this;return new Promise(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={urlCGI:"overlayInfo",params:{channel:e.oOsdParams.iChannelId},data:c["a"].parseXmlFromStr("<VideoOverlay><alignment>"+e.oOsdParams.szAlignment+"</alignment></VideoOverlay>"),loading:!0},t.abrupt("return",p["a"].put(n).then(Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getInfo();case 2:a();case 3:case"end":return t.stop()}}),t)}))),(function(e){u["a"].saveState(e),a()})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"changeOSDInfo",value:function(t){var a=this,n=null;return new Promise(function(){var o=Object(i["a"])(regeneratorRuntime.mark((function o(s){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:r["a"].getTextOverlay().then(function(){var o=Object(i["a"])(regeneratorRuntime.mark((function i(o){var u,d,p,m,h,f;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=e(c["a"].parseXmlFromStr(a.getTextOverlay(o))),l["a"].init(n.get(0)),u=l["a"],d=n.find("channelNameOverlay").eq(0),d.find("enabled").eq(0).text(a.oOsdParams.bDisplayName.toString()),d.find("ChannelName").eq(0).text(a.oOsdParams.cameraName),p=n.find("DateTimeOverlay").eq(0),m=a.oOsdParams.dateFormat,h="0",h="YYYY-MM-DD"===m||"CHR-YYYY/MM/DD"===m?"0":"MM-DD-YYYY"===m||"CHR-MM/DD/YYYY"===m?"1":"DD-MM-YYYY"===m||"CHR-DD/MM/YYYY"===m?"4":"CHR-YYYY-MM-DD"===m?"2":"CHR-MM-DD-YYYY"===m?"3":"5",p.find("enabled").eq(0).text(a.oOsdParams.bDisplayDate.toString()),p.find("type").eq(0).text(h),p.find("clockType").eq(0).text(a.oOsdParams.timeFormat),p.find("displayWeek").eq(0).text(a.oOsdParams.bDisplayWeek.toString()),a.oOSDCapa.bPublicSecurity&&(p.find("alignment").length?p.find("alignment").eq(0).text(a.alignment()):u.insert("alignment:"+a.alignment(),p.get(0))),"GB"!==a.oOsdParams.szAlignment&&(f=n.find("TextOverlayList").eq(0),e(a.oOsdParams.textOverlayList).each((function(e){f.find("enabled").eq(e).text(this.checked.toString()),f.find("displayText").eq(e).text(this.value),f.find("TextOverlay").eq(e).find("alignment").length?f.find("alignment").eq(e).text(a.alignment()):u.insert("alignment:"+a.alignment(),f.find("TextOverlay").eq(e).get(0))}))),t>=0&&"customize"===a.oOsdParams.szAlignment&&n.find("videoResolutionWidth").text()===f.find("positionX").eq(t).text()&&f.find("positionX").eq(t).text(0),i.next=19,r["a"].setTextOverlay(a.setTextOverlay(c["a"].xmlToStr(n.get(0))));case 19:s();case 20:case"end":return i.stop()}}),i)})));return function(e){return o.apply(this,arguments)}}());case 1:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}())}},{key:"save",value:function(){var t=this;0!==t.oOsdParams.iChannelId&&r["a"].getTextOverlay().then(function(){var a=Object(i["a"])(regeneratorRuntime.mark((function a(n){var o,r,m,h,f,v,b,g,P,S,C,y,I,D,w,T,k,x,A,R;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(o=e(c["a"].parseXmlFromStr(t.getTextOverlay(n))),l["a"].init(),r=l["a"],r.insert("VideoOverlay"),m=r.createNode("normalizedScreenSize"),r.insert("normalizedScreenWidth:"+o.find("videoResolutionWidth").eq(0).text(),m),r.insert("normalizedScreenHeight:"+o.find("videoResolutionHeight").eq(0).text(),m),r.insert(m),t.oOSDCapa.bSupportDisplayMode&&(h=r.createNode("attribute"),r.insert("transparent:"+t.oOsdParams.displayMode.split("_")[0],h),r.insert("flashing:"+t.oOsdParams.displayMode.split("_")[1],h),r.insert(h)),t.oOSDCapa.bSupportOSDSize&&r.insert("fontSize:"+t.oOsdParams.OSDSize),t.oOSDCapa.bSupportOSDColor&&(r.insert("frontColorMode:"+t.oOsdParams.OSDColorMode),"customize"===t.oOsdParams.OSDColorMode&&r.insert("frontColor:"+("#"===t.oOsdParams.OSDColor.charAt(0)?t.oOsdParams.OSDColor.substr(1,t.oOsdParams.OSDColor.length-1):t.oOsdParams.OSDColor))),t.oOSDCapa.oAlignment.bSupport&&r.insert("alignment:"+t.oOsdParams.szAlignment),"GB"===t.oOsdParams.szAlignment&&r.insert("boundary:"+t.oOsdParams.boundary),t.oOSDCapa.bSupportDisplayBatteryPower&&(f=r.createNode("BatteryPowerOverlay"),r.insert("enabled:"+t.oOsdParams.bDisplayBatteryPower.toString(),f),r.insert(f)),t.oOsdParams.textOverlayList=t.oOsdParams.textOverlayList.filter((function(e){return e.value})),"IPC"===t.szCompatible){for(v=o.find("TextOverlayList").eq(0),b=0,g=0,P=t.oOsdParams.textOverlayList.length,S=P-1;S>=0;S--)t.oOsdParams.textOverlayList[S]?(b=t.oOsdParams.nLDSNHeight-parseInt(v.find("TextOverlay").eq(S).find("positionY").eq(0).text(),10),g=parseInt(v.find("TextOverlay").eq(S).find("positionX").eq(0).text(),10),"GB"===t.oOsdParams.szAlignment?(v.find("TextOverlay").eq(S).find("positionY").eq(0).text(0),v.find("TextOverlay").eq(S).find("positionX").eq(0).text(0)):(v.find("TextOverlay").eq(S).find("positionY").eq(0).text(b),v.find("TextOverlay").eq(S).find("positionX").eq(0).text(g)),v.find("TextOverlay").eq(S).find("enabled").eq(0).text(!!t.oOsdParams.textOverlayList[S]&&t.oOsdParams.textOverlayList[S].checked.toString()),v.find("TextOverlay").eq(S).find("displayText").eq(0).text(t.oOsdParams.textOverlayList[S]?t.oOsdParams.textOverlayList[S].value.toString():"")):v.find("TextOverlay").eq(S).remove();if(C=v.get(0),"GB"===t.oOsdParams.szAlignment){for(I=1;I<=P;++I)y=r.createNode("TextOverlay"),r.insert("id:"+I.toString(),y),r.insert("enabled:"+t.oOsdParams.textOverlayList[I-1].checked.toString()||!1,y),r.insert("displayText:"+t.oOsdParams.textOverlayList[I-1].value||!1,y),r.insert(y,C);r.insert(C)}else{for(D=P+1;D<=t.oOSDCapa.iTextOverlayMax;++D)y=r.createNode("TextOverlay"),r.insert("id:"+D.toString(),y),r.insert("enabled:false",y),r.insert(y,C);r.insert(C)}}return w=r.createNode("DateTimeOverlay"),t.oOSDCapa.bSupportOSDTime&&(r.insert("enabled:"+t.oOsdParams.bDisplayDate.toString(),w),"IPC"===t.szCompatible?r.insert("positionY:"+(t.oOsdParams.nLDSNHeight-parseInt(o.find("DateTimeOverlay").eq(0).find("positionY").eq(0).text(),10)),w):r.insert("positionY:"+parseInt(o.find("DateTimeOverlay").eq(0).find("positionY").eq(0).text(),10),w),r.insert("positionX:"+o.find("DateTimeOverlay").eq(0).find("positionX").eq(0).text(),w),t.oOSDCapa.bSupportDateFormat&&r.insert("dateStyle:"+t.oOsdParams.dateFormat,w),t.oOSDCapa.bSupportTimeFormat&&r.insert("timeStyle:"+t.oOsdParams.timeFormat,w),t.oOSDCapa.bSupportDisplayWeek&&r.insert("displayWeek:"+t.oOsdParams.bDisplayWeek.toString(),w),r.insert(w)),t.oOSDCapa.bSupportDisplayName&&(T=r.createNode("channelNameOverlay"),r.insert("enabled:"+t.oOsdParams.bDisplayName.toString(),T),"IPC"===t.szCompatible?r.insert("positionY:"+(t.oOsdParams.nLDSNHeight-parseInt(o.find("channelNameOverlay").eq(0).find("positionY").eq(0).text(),10)),T):r.insert("positionY:"+o.find("channelNameOverlay").eq(0).find("positionY").eq(0).text(),T),r.insert("positionX:"+o.find("channelNameOverlay").eq(0).find("positionX").eq(0).text(),T),r.insert(T)),k=null,x=null,A="",t.oOsdParams.bLazyLoading=!0,R={urlCGI:"overlayInfo",params:{channel:t.oOsdParams.iChannelId},data:r.m_oXmlDoc,loading:!0},a.next=26,p["a"].put(R).then((function(e){k=e.xhr}),(function(e){x=e}));case 26:return e(t.oChannelXml).find("name").eq(0).text(t.oOsdParams.cameraName),R={urlCGI:"ChannelSingleInfo",params:{channel:t.oOsdParams.iChannelId},data:t.oChannelXml,loading:!0},a.next=30,p["a"].put(R).then((function(a){e(s["a"].m_oDigitalChannel).find("id").each((function(){if(e(this).text()===""+t.oOsdParams.iChannelId)return e(this).next("name").eq(0).text(t.oOsdParams.cameraName),!1})),k=a.xhr}),(function(e){x=e}));case 30:t.iChannelId<=s["a"].m_iAnalogChannelNum&&e.each(t.oCopyTo,function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a.value||a.disabled){e.next=5;break}return R={urlCGI:"overlayInfo",params:{channel:a.id},data:r.m_oXmlDoc,loading:!0},e.next=4,p["a"].put(R).then((function(e){k=e.xhr}),(function(e){x=e}));case 4:null!==x&&(""===A?A=d["a"].t("setParamFailed")+a.name+" ":A+=","+a.name+" ");case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),t.oOsdParams.bLazyLoading=!1,null===x?u["a"].saveState(k):u["a"].saveState(x,A);case 33:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}},{key:"unload",value:function(){return r["a"].removePlugin()}},{key:"setTextOverlay",value:function(t){var a=this,i=c["a"].parseXmlFromStr(t),n=parseInt(e(i).find("videoResolutionWidth").text(),10),o=parseInt(e(i).find("videoResolutionHeight").text(),10);a.redundantData.osd.widthResolution=n,a.redundantData.osd.heightResolution=o,a.redundantData.osd.channelName=e(i).find("channelNameOverlay").find("ChannelName").text();var r={channelName:{enable:"true"===e(i).find("channelNameOverlay").find("enabled").text(),point:[e(i).find("channelNameOverlay").find("positionX").text()/n,e(i).find("channelNameOverlay").find("positionY").text()/o],alignment:e(i).find("channelNameOverlay").find("alignment").text(),name:e(i).find("channelNameOverlay").find("ChannelName").text()},date:{enable:"true"===e(i).find("DateTimeOverlay").find("enabled").text(),alignment:e(i).find("DateTimeOverlay").find("alignment").text(),dateType:parseInt(e(i).find("DateTimeOverlay").find("type").text(),10),timeFormat:e(i).find("DateTimeOverlay").find("clockType").text(),showWeekDay:"true"===e(i).find("DateTimeOverlay").find("displayWeek").text(),point:[e(i).find("DateTimeOverlay").find("positionX").text()/n,e(i).find("DateTimeOverlay").find("positionY").text()/o]},text:[]};return e(i).find("TextOverlay").each((function(t){a.redundantData.osd.text[t]={name:e(this).find("displayText").text(),point:[e(this).find("positionX").text(),e(this).find("positionY").text()]},r.text.push({id:parseInt(e(this).find("id").text(),10),enable:"true"===e(this).find("enabled").text(),alignment:e(this).find("alignment").text(),point:[e(this).find("positionX").text()/n,e(this).find("positionY").text()/o],text:e(this).find("displayText").text()})})),r}},{key:"getTextOverlay",value:function(t){var a=this;if(t=e.extend({},a.oOverlayInfo,t),!t.channelName||!t.date)return null;var i="<?xml version='1.0' encoding='UTF-8'?><OSD>";i+="<videoResolutionWidth>"+this.redundantData.osd.widthResolution+"</videoResolutionWidth>",i+="<videoResolutionHeight>"+this.redundantData.osd.heightResolution+"</videoResolutionHeight>",i+="<channelNameOverlay><enabled>"+t.channelName.enable.toString()+"</enabled>",i+="<ChannelName>"+this.redundantData.osd.channelName.replace(/</g,"&lt;").replace(/&(?!lt;|amp;|gt;|apos;|quot;)/g,"&amp;")+"</ChannelName>",i+="<positionX>"+parseInt(t.channelName.point[0]*this.redundantData.osd.widthResolution,10)+"</positionX>",i+="<positionY>"+parseInt(t.channelName.point[1]*this.redundantData.osd.heightResolution,10)+"</positionY></channelNameOverlay>",i+="<DateTimeOverlay><enabled>"+t.date.enable.toString()+"</enabled>",i+="<type>"+t.date.dateType+"</type><clockType>"+t.date.dateType+"</clockType>",i+="<displayWeek>"+t.date.showWeekDay.toString()+"</displayWeek>",i+="<positionX>"+parseInt(t.date.point[0]*this.redundantData.osd.widthResolution,10)+"</positionX>",i+="<positionY>"+parseInt(t.date.point[1]*this.redundantData.osd.heightResolution,10)+"</positionY></DateTimeOverlay>",i+="<TextOverlayList>";var n=a.oOsdParams.textOverlayList.filter((function(e){return!0===e.checked})),o=n.length>0&&a.oOsdParams.textOverlayList.length>0&&"GB"!==a.oOsdParams.szAlignment?a.oOsdParams.textOverlayList.length:0;console.log("🚀 ~ Osd ~ getTextOverlay ~ infoLength:",o);for(var r=1;r<=o;r++){for(var s=!1,l=0,c=0,u=t.text.length;c<u;c++)parseInt(t.text[c].id,10)===r&&(s=!0,l=c);s?(i+="<TextOverlay><id>"+r+"</id><enabled>"+t.text[l].enable.toString()+"</enabled>",i+="<positionX>"+t.text[l].point[0]*a.redundantData.osd.widthResolution+"</positionX>",i+="<positionY>"+t.text[l].point[1]*a.redundantData.osd.heightResolution+"</positionY>",i+="<displayText>"+a.redundantData.osd.text[l].name.replace(/</g,"&lt;").replace(/&(?!lt;|amp;|gt;|apos;|quot;)/g,"&amp;")+"</displayText>",i+="</TextOverlay>"):(i+="<TextOverlay><id>"+r+"</id><enabled>false</enabled>",i+="<positionX>"+a.redundantData.osd.text[l].point[0]+"</positionX>",i+="<positionY>"+a.redundantData.osd.text[l].point[1]+"</positionY>",i+="<displayText>"+a.redundantData.osd.text[l].name.replace(/</g,"&lt;").replace(/&(?!lt;|amp;|gt;|apos;|quot;)/g,"&amp;")+"</displayText>",i+="</TextOverlay>")}return i+="</TextOverlayList></OSD>",i}}]),t}();t["a"]=new m}).call(this,a("1157"))},"313e":function(e,t,a){"use strict";a("a1a4")},3195:function(e,t,a){"use strict";(function(e){a("96cf");var i=a("1da1"),n=a("1c1a"),o=a("962a"),r=a("3916"),s=a("c050"),l=a("47b5");t["a"]={name:"Wifi",components:{BaseView:n["a"],BasePageExtend:o["a"],BaseSelect:l["a"]},data:function(){return{validate:{},oParams:{},oParamsValid:{},oCapbilities:{},oWifiParams:{},oListInfo:[],oDetailInfo:[],bShowTableItem:!1,aNetworkModeManage:[{value:"infrastructure",text:"Manage"},{value:"adhoc",text:"WEAd-HocP"}],aSecurityMode:[{value:"disable",text:"not-encrypted"},{value:"WEP",text:"WEP"},{value:"WPA-personal",text:"WPA-personal"},{value:"WPA-enterprise",text:"WPA-enterprise"},{value:"WPA2-personal",text:"WPA2-personal"},{value:"WPA2-enterprise",text:"WPA2-enterprise"}],aEncryptionType:[{value:"TKIP",text:"TKIP"},{value:"AES",text:"AES"}],aAuthentication:[{text:this.$t("openType"),value:"open"},{text:this.$t("shareType"),value:"sharedkey"}],aKeyLength:[{text:"64bit",value:"64"},{text:"128bit",value:"128"}],aKeyType:[{text:this.$t("hex"),value:"HEX"},{text:"ASCII",value:"ASC"}],aEnterpriseType:[{value:"EAP-TLS",text:"EAP-TLS"},{value:"EAP-PEAP",text:"EAP-PEAP"},{value:"EAP-TTLS",text:"EAP-TTLS"}],aPEAPVersion:[{value:"0",text:"0"},{value:"1",text:"1"}],aPEAPLabel:[{value:"old",text:this.$t("old")},{value:"new",text:this.$t("new")}],aInnerAuthentication:[{value:"EAP-GTC",text:"GTC"},{value:"EAP-MD5",text:"MD5"},{value:"MS-CHAPv2",text:"MSCHAPv2"}],aInnerAuthenticationMode:[{value:"PAP",text:"PAP"},{value:"MS-CHAPv2",text:"MSCHAPv2"}],aEAPOLVersion:[{value:"1",text:"1"},{value:"2",text:"2"}],aConnectMode:[{label:this.$t("pbcConnect"),value:"0"},{label:this.$t("manualConnect"),value:"1"}],aKeyChoose:[{value:"1",text:this.$t("key")+"1"},{value:"2",text:this.$t("key")+"2"},{value:"3",text:this.$t("key")+"3"},{value:"4",text:this.$t("key")+"4"}]}},watch:{"oWifiParams.szSecurityMode":{handler:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:"disable"===a?(this.oParamsValid.oKey1.bSkipValid=!0,this.oParamsValid.oKey2.bSkipValid=!0,this.oParamsValid.oKey3.bSkipValid=!0,this.oParamsValid.oKey4.bSkipValid=!0,this.oParamsValid.oUserName.bSkipValid=!0,this.oParamsValid.oPassword.bSkipValid=!0,this.oParamsValid.oAnonymousIdentity.bSkipValid=!0,this.oParamsValid.oIdentity.bSkipValid=!0,this.oParamsValid.oPrivateKeyPassword.bSkipValid=!0):"WPA-personal"===a||"WPA2-personal"===a?(this.aKeyChoose=[{value:"1",text:this.$t("key")+"1"}],this.oParams.szKeyChoose="1",this.oParamsValid.oKey1.bSkipValid=!1,this.oParamsValid.oKey2.bSkipValid=!0,this.oParamsValid.oKey3.bSkipValid=!0,this.oParamsValid.oKey4.bSkipValid=!0,this.oParamsValid.oUserName.bSkipValid=!0,this.oParamsValid.oPassword.bSkipValid=!0,this.oParamsValid.oAnonymousIdentity.bSkipValid=!0,this.oParamsValid.oIdentity.bSkipValid=!0,this.oParamsValid.oPrivateKeyPassword.bSkipValid=!0,this.oParamsValid.oKey1.required=!0,this.oParamsValid.oKey1.lengthRange[0]=8,this.oParamsValid.oKey1.lengthRange[1]=63):"WPA-enterprise"===a||"WPA2-enterprise"===a?(this.oParamsValid.oKey1.bSkipValid=!0,this.oParamsValid.oKey2.bSkipValid=!0,this.oParamsValid.oKey3.bSkipValid=!0,this.oParamsValid.oKey4.bSkipValid=!0,this.changeEnterpriseType()):"WEP"===a&&(this.aKeyChoose=[{value:"1",text:this.$t("key")+"1"},{value:"2",text:this.$t("key")+"2"},{value:"3",text:this.$t("key")+"3"},{value:"4",text:this.$t("key")+"4"}],this.oParamsValid.oUserName.bSkipValid=!0,this.oParamsValid.oPassword.bSkipValid=!0,this.oParamsValid.oAnonymousIdentity.bSkipValid=!0,this.oParamsValid.oIdentity.bSkipValid=!0,this.oParamsValid.oPrivateKeyPassword.bSkipValid=!0,this.changeKeyChoose()),-1!==e.inArray(a,this.oCapbilities.aSupport64bitKey)&&(this.oParamsValid.oKey1.lengthRange[1]=64);case 2:case"end":return t.stop()}}),t,this)})));function a(e){return t.apply(this,arguments)}return a}(),deep:!0},"oParams.szKeyChoose":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"WEP"===this.oWifiParams.szSecurityMode&&this.changeKeyChoose();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),deep:!0},"oParams.szEnterpriseType":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"WPA-enterprise"!==this.oWifiParams.szSecurityMode&&"WPA2-enterprise"!==this.oWifiParams.szSecurityMode||this.changeEnterpriseType();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),deep:!0},"oParams.szKeyLength":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"WEP"===this.oWifiParams.szSecurityMode&&this.changeKey(this.oParams.szKeyChoose);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),deep:!0},"oParams.szKeyType":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"WEP"===this.oWifiParams.szSecurityMode&&this.changeKey(this.oParams.szKeyChoose);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),deep:!0},"oParams.szConnectMode":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t&&(this.oParams.bEnableWps&&"0"!==t?(this.oParamsValid.oApPinCode.bSkipValid=!1,this.oParamsValid.oApPinSSID.bSkipValid=!0):(this.oParamsValid.oApPinCode.bSkipValid=!0,this.oParamsValid.oApPinSSID.bSkipValid=!0));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0},"oParams.bEnableWps":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t&&(t&&"0"!==this.oParams.szConnectMode?(this.oParamsValid.oApPinCode.bSkipValid=!1,this.oParamsValid.oApPinSSID.bSkipValid=!0):(this.oParamsValid.oApPinCode.bSkipValid=!0,this.oParamsValid.oApPinSSID.bSkipValid=!0));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0}},created:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r["a"].initWifi().finally((function(){t.oParams=r["a"].m_oParams,t.oParamsValid=r["a"].m_oParamsValid,t.oCapbilities=r["a"].m_oCapbilities,t.oWifiParams=r["a"].m_oWifiParams,t.oListInfo=r["a"].m_oParams.tableData.tableItem}));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),methods:{getChannelDetail:function(e){e<0||(this.oDetailInfo=this.oListInfo[e],console.log(2222,this.oDetailInfo),this.bShowTableItem=!0)},confirm:function(){this.bShowTableItem=!1},cancelCallBack:function(){this.bShowTableItem=!1},search:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r["a"].getWifiList();case 2:this.oListInfo=r["a"].m_oParams.tableData.tableItem;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),connect:function(){"1"===this.oParams.szConnectMode?r["a"].manualConnect():r["a"].autoConnect()},generatePinCode:function(){r["a"].generatePinCode()},save:function(){this.validate.validateAll(),s["a"].validateTips(this.validate.getErrorReport())&&r["a"].setsave()},changeEnterpriseType:function(){"EAP-TLS"===this.oParams.szEnterpriseType?(this.oParamsValid.oUserName.bSkipValid=!0,this.oParamsValid.oPassword.bSkipValid=!0,this.oParamsValid.oAnonymousIdentity.bSkipValid=!0,this.oParamsValid.oIdentity.bSkipValid=!1,this.oParamsValid.oPrivateKeyPassword.bSkipValid=!1):"EAP-PEAP"!==this.oParams.szEnterpriseType&&"EAP-TTLS"!==this.oParams.szEnterpriseType||(this.oParamsValid.oUserName.bSkipValid=!1,this.oParamsValid.oPassword.bSkipValid=!1,this.oParamsValid.oAnonymousIdentity.bSkipValid=!1,this.oParamsValid.oIdentity.bSkipValid=!0,this.oParamsValid.oPrivateKeyPassword.bSkipValid=!0)},changeKeyChoose:function(){this.oParamsValid.oKey1.bSkipValid=!0,this.oParamsValid.oKey2.bSkipValid=!0,this.oParamsValid.oKey3.bSkipValid=!0,this.oParamsValid.oKey4.bSkipValid=!0,"1"===this.oParams.szKeyChoose?(this.oParamsValid.oKey1.bSkipValid=!1,this.oParamsValid.oKey1.required=!0):"2"===this.oParams.szKeyChoose?(this.oParamsValid.oKey2.bSkipValid=!1,this.oParamsValid.oKey2.required=!0):"3"===this.oParams.szKeyChoose?(this.oParamsValid.oKey3.bSkipValid=!1,this.oParamsValid.oKey3.required=!0):"4"===this.oParams.szKeyChoose&&(this.oParamsValid.oKey4.bSkipValid=!1,this.oParamsValid.oKey4.required=!0),this.changeKey(this.oParams.szKeyChoose)},changeKey:function(e){console.log("changeKey1111111111");var t=0;"128"===this.oParams.szKeyLength?"HEX"===this.oParams.szKeyType?t=26:"ASC"===this.oParams.szKeyType&&(t=13):"64"===this.oParams.szKeyLength&&("HEX"===this.oParams.szKeyType?t=10:"ASC"===this.oParams.szKeyType&&(t=5)),"1"===e?(this.oParamsValid.oKey1.bSkipValid=!1,this.oParamsValid.oKey1.required=!0,this.oParamsValid.oKey1.lengthRange[0]=t,this.oParamsValid.oKey1.lengthRange[1]=t):"2"===e?(this.oParamsValid.oKey2.bSkipValid=!1,this.oParamsValid.oKey2.required=!0,this.oParamsValid.oKey2.lengthRange[0]=t,this.oParamsValid.oKey2.lengthRange[1]=t):"3"===e?(this.oParamsValid.oKey3.bSkipValid=!1,this.oParamsValid.oKey3.required=!0,this.oParamsValid.oKey3.lengthRange[0]=t,this.oParamsValid.oKey3.lengthRange[1]=t):"4"===e&&(this.oParamsValid.oKey4.bSkipValid=!1,this.oParamsValid.oKey4.required=!0,this.oParamsValid.oKey4.lengthRange[0]=t,this.oParamsValid.oKey4.lengthRange[1]=t)}}}}).call(this,a("1157"))},"31f3":function(e,t,a){"use strict";a("4528")},"32df":function(e,t,a){},3303:function(e,t,a){},3365:function(e,t,a){"use strict";(function(e){a("6b54"),a("7514"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("7de8"),s=a("f193"),l=a("1f20"),c=a("181b"),u=a("d09c"),d=a("8d94"),p=a("9815"),m=a("c050"),h=function(){function t(){Object(n["a"])(this,t),this.oRoiParams={iChannelId:0,oData:null,m_iNorScreenWidth:1e3,m_iNorScreenHeight:1e3,streamType:"",enableFixedROI:!1,regionNo:0,fixedROILevel:0,regionName:"",enableFaceTrack:!1,faceTrackLevel:0,enableTargetTrack:!1,targetTrackLevel:0,enableLicPlateTrack:!1,plateTrackLevel:0},this.oRoiCapa={regionNos:[],fixedROILevels:[],faceTrackLevels:[],plateTrackLevels:[],targetTrackLevels:[],bSupportStream:!1,bSupportFaceTrack:!1,bSupportTargetTrack:!1,bSupportPlateTrack:!1,aSupportStream:[],bSupport:!0,bSupportPTZWithPreview:!1}}return Object(o["a"])(t,[{key:"getPTZCtrlCap",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["a"].getPTZCtrlCap();case 2:this.oRoiCapa.bSupportPTZWithPreview=l["a"].m_oDeviceCapa.bSupportPTZWithPreview;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getROICap",value:function(){var t=this;return new Promise((function(a,i){var n={urlCGI:"allRoiInfo",loading:!0,params:{}};s["a"].get(n).then((function(i){var n=i.oResult;t.m_oXmlDoc=n;var o={"01":d["a"].t("mainStreamNormal"),"02":d["a"].t("subStream"),"03":d["a"].t("thirdStream"),"04":d["a"].t("fourthStream"),"05":d["a"].t("fifthStream")},r=t.oRoiCapa.aSupportStream;r.length=0;for(var s=e(n).find("ROI"),l=0;l<s.length;l++){var c=parseInt(s.eq(l).find("id").eq(0).text().slice(0,1),10);if(c===t.oRoiParams.iChannelId){var u=s.eq(l).find("id").eq(0).text().slice(1);r.push({text:o[u],value:u})}}t.oRoiCapa.bSupportStream=r.length>0,t.oRoiCapa.bSupportStream?t.oRoiParams.streamType=r[0].value:t.oRoiParams.streamType="",a()}),(function(){i()}))}))}},{key:"getChannelCap",value:function(){var t=this;return new Promise((function(a,i){var n={urlCGI:"roiCapa",loading:!0,params:{channel:t.oRoiParams.iChannelId,videoStream:t.oRoiParams.streamType}};return s["a"].get(n).then((function(i){var n=i.oResult;t.oRoiCapa.bSupport=!0;var o=e(n);t.oRoiParams.m_iNorScreenWidth=parseInt(o.find("normalizedScreenWidth").eq(0).text(),10),t.oRoiParams.m_iNorScreenHeight=parseInt(o.find("normalizedScreenHeight").eq(0).text(),10);var r=parseInt(o.find("ROIRegionList").eq(0).find("qualityLevelOfROI").eq(0).attr("min"),10),s=parseInt(o.find("ROIRegionList").eq(0).find("qualityLevelOfROI").eq(0).attr("max"),10);t.oRoiCapa.fixedROILevels.length=0;for(var l=r;l<=s;l++)t.oRoiCapa.fixedROILevels.push(l);if(o.find("FaceTrace").eq(0).find("qualityLevelOfROI").length>0){t.oRoiCapa.bSupportFaceTrack=!0;var c=parseInt(o.find("FaceTrace").eq(0).find("qualityLevelOfROI").eq(0).attr("min"),10),u=parseInt(o.find("FaceTrace").eq(0).find("qualityLevelOfROI").eq(0).attr("max"),10);t.oRoiCapa.faceTrackLevels.length=0;for(var d=c;d<=u;d++)t.oRoiCapa.faceTrackLevels.push(d)}else t.oRoiCapa.bSupportFaceTrack=!1;if(o.find("PlateTrace").eq(0).find("qualityLevelOfROI").length>0){t.oRoiCapa.bSupportPlateTrack=!0;var p=parseInt(o.find("PlateTrace").eq(0).find("qualityLevelOfROI").eq(0).attr("min"),10),m=parseInt(o.find("PlateTrace").eq(0).find("qualityLevelOfROI").eq(0).attr("max"),10);t.oRoiCapa.plateTrackLevels.length=0;for(var h=p;h<=m;h++)t.oRoiCapa.plateTrackLevels.push(h)}else t.oRoiCapa.bSupportPlateTrack=!1;if(o.find("ObjectTrace").eq(0).find("qualityLevelOfROI").length>0){t.oRoiCapa.bSupportTargetTrack=!0;var f=parseInt(o.find("ObjectTrace").eq(0).find("qualityLevelOfROI").eq(0).attr("min"),10),v=parseInt(o.find("ObjectTrace").eq(0).find("qualityLevelOfROI").eq(0).attr("max"),10);t.oRoiCapa.targetTrackLevels.length=0;for(var b=f;b<=v;b++)t.oRoiCapa.targetTrackLevels.push(b)}else t.oRoiCapa.bSupportTargetTrack=!1;a()}),(function(){t.oRoiCapa.bSupport=!1,i()}))}))}},{key:"getChannelInfo",value:function(){var t=this;return new Promise((function(a,i){var n={urlCGI:"roiInfo",loading:!0,params:{channel:t.oRoiParams.iChannelId,videoStream:t.oRoiParams.streamType}};s["a"].get(n).then((function(i){var n=i.oResult,o=parseInt(e(n).find("ROIRegionList").eq(0).attr("size"),10);if(!isNaN(o)){t.oRoiCapa.regionNos.length=0;for(var r=0;r<o;r++)t.oRoiCapa.regionNos.push(r+1);t.oRoiParams.regionNo=t.oRoiCapa.regionNos[0]}e(n).find("FaceTrace").length>0&&(t.oRoiParams.enableFaceTrack="true"===e(n).find("FaceTrace").eq(0).find("enabled").eq(0).text(),t.oRoiParams.faceTrackLevel=parseInt(e(n).find("FaceTrace").eq(0).find("qualityLevelOfROI").eq(0).text(),10)),e(n).find("PlateTrace").length>0&&(t.oRoiParams.enableLicPlateTrack="true"===e(n).find("PlateTrace").eq(0).find("enabled").eq(0).text(),t.oRoiParams.plateTrackLevel=parseInt(e(n).find("PlateTrace").eq(0).find("qualityLevelOfROI").eq(0).text(),10)),e(n).find("ObjectTrace").length>0&&(t.oRoiParams.enableTargetTrack="true"===e(n).find("ObjectTrace").eq(0).find("enabled").eq(0).text(),t.oRoiParams.targetTrackLevel=parseInt(e(n).find("ObjectTrace").eq(0).find("qualityLevelOfROI").eq(0).text(),10)),a()}),(function(){i()}))}))}},{key:"getRoiRegionInfo",value:function(t){var a=this,i=this;return new Promise((function(n,o){var r={urlCGI:"oneRoiRegion",loading:!0,params:{channel:i.oRoiParams.iChannelId,videoStream:i.oRoiParams.streamType,io:t}};s["a"].get(r).then((function(t){var o=t.oResult;a.oRoiParams.oData=o,i.oRoiParams.enableFixedROI="true"===e(o).find("enabled").eq(0).text(),i.oRoiParams.fixedROILevel=parseInt(e(o).find("qualityLevelOfROI").eq(0).text(),10),i.oRoiParams.regionName=e(o).find("name").eq(0).text(),a.setRegionInfo(o),n()}),(function(){o()}))}))}},{key:"setRegionInfo",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){var i,n,o,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["a"].clearRegion();case 2:if(i=e(a).find("RegionCoordinatesList").eq(0).find("RegionCoordinates"),!(i.length>0)){t.next=10;break}return n=parseInt(i.find("positionX").eq(0).text(),10)/this.oRoiParams.m_iNorScreenWidth,o=1-parseInt(i.find("positionY").eq(0).text(),10)/this.oRoiParams.m_iNorScreenHeight,r=parseInt(i.find("positionX").eq(2).text(),10)/this.oRoiParams.m_iNorScreenWidth,s=1-parseInt(i.find("positionY").eq(2).text(),10)/this.oRoiParams.m_iNorScreenHeight,t.next=10,c["a"].setRectInfo([{id:1,type:0,editType:0,points:[[n,o],[r,o],[r,s],[n,s]],tips:"",widthHeightRate:0,maxShapeSupport:1,drawColor:"#FF0000",translucent:0}]);case 10:case"end":return t.stop()}}),t,this)})));function a(e){return t.apply(this,arguments)}return a}()},{key:"drawRegion",value:function(){this.setRegionInfo(this.oRoiParams.oData)}},{key:"setDrawStatus",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].setDrawStatus(t);case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateRegionInfo",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){var i,n,o,s,l,u,d,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=5;break}return t.next=3,c["a"].getRectInfo();case 3:i=t.sent,this.oRoiParams.RectTempInfo=p["a"].plugin2Points(i,!0)[1];case 5:if(n=this.oRoiParams.RectTempInfo,o=this.oRoiParams.oData,s=e(o).find("RegionCoordinatesList"),l=s.find("RegionCoordinates"),l.length||(u="<?xml version='1.0' encoding='utf-8' ?><RegionCoordinatesList><RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates><RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates><RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates><RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates></RegionCoordinatesList>",l=r["a"].parseXmlFromStr(u),e(o).find("RegionCoordinatesList").eq(0).append(e(l.cloneNode(!0)).children().children())),n&&n.length>0)for(d=0;d<l.length;d++)l.eq(d).find("positionX").eq(0).text(parseInt(n[d][0]*this.oRoiParams.m_iNorScreenWidth,10)),l.eq(d).find("positionY").eq(0).text(parseInt(n[d][1]*this.oRoiParams.m_iNorScreenHeight,10));else for(m=0;m<l.length;m++)l.eq(m).find("positionX").eq(0).text(0),l.eq(m).find("positionY").eq(0).text(0);a&&this.drawRegion();case 12:case"end":return t.stop()}}),t,this)})));function a(e){return t.apply(this,arguments)}return a}()},{key:"needRedrawRegion",value:function(){var t=this,a=!0,i=this.oRoiParams.oData,n=e(i).find("RegionCoordinatesList").eq(0).find("RegionCoordinates"),o=[];return null!==n&&0!==n.length?(n.each((function(a,i){o.push([parseInt(e(i).find("positionX").text(),10)/t.oRoiParams.m_iNorScreenWidth,parseInt(e(i).find("positionY").text(),10)/t.oRoiParams.m_iNorScreenHeight])})),0===o[0][0]&&0===o[0][1]&&0===o[1][0]&&0===o[1][1]&&(a=!1)):a=!1,a}},{key:"draw",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].clearRegion();case 2:c["a"].setDrawStatus(!0),t={id:1,drawColor:"#FF0000",translucent:0,editType:0,widthHeightRate:0},c["a"].setDrawShapeInfo("Rect",t);case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"clear",value:function(){var e=this;m["a"].confirm(d["a"].t("clearDrawArea"),Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["a"].clearRegion();case 2:return t.next=4,e.updateRegionInfo(!1);case 4:c["a"].setDrawStatus(!1);case 5:case"end":return t.stop()}}),t)}))))}},{key:"saveRoiInfo",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,t.oRoiCapa.bSupportStream){e.next=3;break}return e.abrupt("return");case 3:return a="<?xml version='1.0' encoding='utf-8' ?><ROI><id>"+t.oRoiParams.iChannelId+t.oRoiParams.streamType+"</id><enabled>true</enabled>",a+="<ROIRegionList><ROIRegion><id>"+t.oRoiParams.regionNo+"</id><enabled>"+t.oRoiParams.enableFixedROI.toString()+"</enabled><name>"+r["a"].encodeString(t.oRoiParams.regionName)+"</name><qualityLevelOfROI>"+t.oRoiParams.fixedROILevel+"</qualityLevelOfROI><RegionCoordinatesList>",e.next=7,c["a"].getRectInfo();case 7:return i=e.sent,i.length>0&&(a+="<RegionCoordinates><positionX>"+Math.floor(i[0].points[1][0]*t.oRoiParams.m_iNorScreenWidth)+"</positionX><positionY>"+Math.floor((1-i[0].points[1][1])*t.oRoiParams.m_iNorScreenHeight)+"</positionY></RegionCoordinates>",a+="<RegionCoordinates><positionX>"+Math.floor(i[0].points[0][0]*t.oRoiParams.m_iNorScreenWidth)+"</positionX><positionY>"+Math.floor((1-i[0].points[0][1])*t.oRoiParams.m_iNorScreenHeight)+"</positionY></RegionCoordinates>",a+="<RegionCoordinates><positionX>"+Math.floor(i[0].points[3][0]*t.oRoiParams.m_iNorScreenWidth)+"</positionX><positionY>"+Math.floor((1-i[0].points[3][1])*t.oRoiParams.m_iNorScreenHeight)+"</positionY></RegionCoordinates>",a+="<RegionCoordinates><positionX>"+Math.floor(i[0].points[2][0]*t.oRoiParams.m_iNorScreenWidth)+"</positionX><positionY>"+Math.floor((1-i[0].points[2][1])*t.oRoiParams.m_iNorScreenHeight)+"</positionY></RegionCoordinates>"),a+="</RegionCoordinatesList></ROIRegion></ROIRegionList>",t.oRoiCapa.bSupportFaceTrack&&(a+="<FaceTrace><enabled>"+t.oRoiParams.enableFaceTrack.toString()+"</enabled><qualityLevelOfROI>"+t.oRoiParams.faceTrackLevel+"</qualityLevelOfROI></FaceTrace>"),t.oRoiCapa.bSupportPlateTrack&&(a+="<PlateTrace><enabled>"+t.oRoiParams.enableLicPlateTrack.toString()+"</enabled><qualityLevelOfROI>"+t.oRoiParams.plateTrackLevel+"</qualityLevelOfROI></PlateTrace>"),t.oRoiCapa.bSupportTargetTrack&&(a+="<ObjectTrace><enabled>"+t.oRoiParams.enableTargetTrack.toString()+"</enabled><qualityLevelOfROI>"+t.oRoiParams.targetTrackLevel+"</qualityLevelOfROI></ObjectTrace>"),a+="</ROI>",n=r["a"].parseXmlFromStr(a),e.abrupt("return",new Promise((function(e){var a={urlCGI:"roiInfo",loading:!0,params:{channel:t.oRoiParams.iChannelId,videoStream:t.oRoiParams.streamType},data:n};s["a"].put(a).then((function(t){u["a"].saveState(t.xhr),e()}),(function(t){u["a"].saveState(t),e()}))})));case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),t}();t["a"]=new h}).call(this,a("1157"))},"338e":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",[t("base-page",{attrs:{title:e.$t("security"),"left-type":"back"}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"config"},e._l(e.aMenu,(function(a,i){return t("div",{key:i,staticClass:"content top-distance"},[a.title?t("div",{staticClass:"title"},[e._v(e._s(a.title))]):e._e(),t("div",{staticClass:"menu"},[e._l(a.menu,(function(a,i){return[a.cap?t("hm-cell",{key:i,attrs:{center:"",title:a.label,"is-link":"",value:a.value},nativeOn:{click:function(t){return e.goMenu(a)}}}):e._e()]}))],2),e.bNotSupport&&e.isInit?t("div",{staticClass:"no-support-tip"},[e._v("\n            "+e._s(e.$t("ImportNoSupport"))+"\n          ")]):e._e()])})),0),t("router-view")],1)])],1)},n=[],o=a("62a8"),r=o["a"],s=(a("52f3"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"da724f66",null);t["default"]=l.exports},3616:function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"base-page-rotate",class:e.type},[t("div",{staticClass:"wrapper-for-fullscreen",class:{"flow-y-hidden":e.isIOS,"flow-y-auto":!e.isIOS}},[t("div",{staticClass:"content"},[t("div",{staticClass:"confirm-button",on:{click:e.confirm}},[e._v(e._s(e.$t("ok")))]),t("div",{staticClass:"left-button"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.showClearPolygon,expression:"showClearPolygon"}],staticClass:"rule-button",on:{click:e.clearPolygon}},[e._v(e._s(e.$t("clearRegion")))]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showClearOnePloyon,expression:"showClearOnePloyon"}],staticClass:"rule-button",on:{click:e.clearOnePolygon}},[e._v(e._s(e.$t("deleteSelectRegion")))]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showDrawPolygon,expression:"showDrawPolygon"}],staticClass:"rule-button",on:{click:e.drawPolygon}},[e._v(e._s(e.$t("drawRule")))]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showMinFilter,expression:"showMinFilter"}],staticClass:"rule-button",on:{click:e.addMinFilter}},[e._v(e._s(e.$t("MinSize")))]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showMaxFilter,expression:"showMaxFilter"}],staticClass:"rule-button",on:{click:e.addMaxFilter}},[e._v(e._s(e.$t("MaxSize")))])]),e._t("content",(function(){return[e._v("\n        "+e._s(e.content)+"\n      ")]}))],2)])])},n=[],o=(a("96cf"),a("1da1")),r=(a("4917"),"confirm"),s="cancelcallback",l="drawPolygon",c="clearPolygon",u="clearOnePolygon",d="addMinFilter",p="addMaxFilter",m=navigator.userAgent,h={props:{title:{type:String,default:"",required:!0},type:{type:String,default:""},content:{type:String,default:""},enableCancelCallback:{type:Boolean,default:!1},showClearPolygon:{type:Boolean,default:!0},showDrawPloyon:{type:Boolean,default:!1},showDrawPolygon:{type:Boolean,default:!0},showMinFilter:{type:Boolean,default:!1},showMaxFilter:{type:Boolean,default:!1},showClearOnePloyon:{type:Boolean,default:!1},showClearPloyon:{type:Boolean,default:!1}},data:function(){return{isIOS:!1}},created:function(){this.isIOS=!!m.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)||-1!==m.indexOf("AppleWebKit")||-1!==m.indexOf("iPhone")||-1!==m.indexOf("iPad")},methods:{back:function(){this.enableCancelCallback?this.$emit(s):this.$router.back()},confirm:function(){this.$emit(r)},drawPolygon:function(){this.$emit(l)},clearOnePolygon:function(){this.$emit(u)},clearPolygon:function(){this.$emit(c)},addMinFilter:function(){this.$emit(d)},addMaxFilter:function(){this.$emit(p)},fullScreenTip:function(e){this.$nextTick(Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:document.getElementsByClassName("hm-dialog")[0]&&document.getElementsByClassName("hm-dialog")[0].lastChild&&document.getElementsByClassName("hm-dialog")[0].lastChild.childNodes[0]&&(a=document.getElementsByClassName("hm-dialog")[0].lastChild.childNodes[0],e?a.style.transform="matrix(6.12323e-17, -1, 1, 6.12323e-17, -121.8, -64)":a&&a.style&&(a.style.transform="matrix(1, 0, 0, 1, -128, -58)"));case 1:case"end":return t.stop()}}),t)}))))}}},f=h,v=(a("70bc"),a("2877")),b=Object(v["a"])(f,i,n,!1,null,"3f4fa8d5",null);t["a"]=b.exports},3628:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("802.1x"),"right-type":"text","show-save-button":!0,"save-text":e.$t("save"),"b-lazy-loading":e.oParams.bLazyLoading},on:{"save-handle":e.save}},[t("div",{staticClass:"x8021",attrs:{slot:"content"},slot:"content"},[t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("enable")}},[t("hm-switch",{on:{input:function(t){return e.enable8021x()}},model:{value:e.oParams.bEnable8021x,callback:function(t){e.$set(e.oParams,"bEnable8021x",t)},expression:"oParams.bEnable8021x"}})],1),t("hm-cell",{attrs:{title:e.$t("ProtocolConf")}},[t("base-select",{attrs:{options:e.oCapbilities.aProtocol,title:e.$t("ProtocolConf"),disabled:!e.oParams.bEnable8021x},model:{value:e.oParams.szProtocol,callback:function(t){e.$set(e.oParams,"szProtocol",t)},expression:"oParams.szProtocol"}})],1),"EAP-TLS"===e.oParams.szProtocol?t("hm-cell",{class:{"cell-require":e.oParamsValid.oIdentity&&e.oParamsValid.oIdentity.required},attrs:{title:e.$t("identity")}},[t("hm-input",{attrs:{type:"text",title:e.$t("identity"),disabled:!e.oParams.bEnable8021x,maxlength:32},model:{value:e.oParams.szIdentity,callback:function(t){e.$set(e.oParams,"szIdentity",t)},expression:"oParams.szIdentity"}}),t("hm-validator",{attrs:{model:e.oParams.szIdentity,rules:e.oParamsValid.oIdentity,param:e.$t("identity")}})],1):e._e(),"EAP-TLS"===e.oParams.szProtocol?t("hm-cell",{class:{"cell-require":e.oParamsValid.oPrivateKeyPassword&&e.oParamsValid.oPrivateKeyPassword.required},attrs:{title:e.$t("privateKeyPassword")}},[t("hm-input",{attrs:{type:"password",title:e.$t("privateKeyPassword"),disabled:!e.oParams.bEnable8021x,maxlength:16},model:{value:e.oParams.szPrivateKeyPassword,callback:function(t){e.$set(e.oParams,"szPrivateKeyPassword",t)},expression:"oParams.szPrivateKeyPassword"}}),t("hm-validator",{attrs:{model:e.oParams.szPrivateKeyPassword,rules:e.oParamsValid.oPrivateKeyPassword,param:e.$t("privateKeyPassword")}})],1):e._e(),t("hm-cell",{attrs:{title:e.$t("eapolVersion")}},[t("base-select",{attrs:{options:e.oCapbilities.aEapolVersion,title:e.$t("eapolVersion"),disabled:!e.oParams.bEnable8021x},model:{value:e.oParams.szEapolVersion,callback:function(t){e.$set(e.oParams,"szEapolVersion",t)},expression:"oParams.szEapolVersion"}})],1),"EAP-TLS"!==e.oParams.szProtocol?t("hm-cell",{class:{"cell-require":e.oParamsValid.oUserName&&e.oParamsValid.oUserName.required},attrs:{title:e.$t("username")}},[t("hm-input",{attrs:{disabled:!e.oParams.bEnable8021x,maxlength:32},model:{value:e.oParams.szUserName,callback:function(t){e.$set(e.oParams,"szUserName",t)},expression:"oParams.szUserName"}}),t("hm-validator",{attrs:{model:e.oParams.szUserName,rules:e.oParamsValid.oUserName,param:e.$t("username")}})],1):e._e(),"EAP-TLS"!==e.oParams.szProtocol&&e.oParams.oPassword?t("hm-cell",{class:{"cell-require":e.oParamsValid.oPassword&&e.oParamsValid.oPassword.required},attrs:{title:e.$t("password")}},[t("hm-input",{attrs:{maxlength:16,type:"password",disabled:!e.oParams.bEnable8021x},on:{focus:function(t){return e.clear(0)}},model:{value:e.oParams.oPassword.szPassword,callback:function(t){e.$set(e.oParams.oPassword,"szPassword",t)},expression:"oParams.oPassword.szPassword"}}),t("hm-validator",{attrs:{model:e.oParams.oPassword.szPassword,rules:e.oParamsValid.oPassword,disabled:!e.oParams.bEnable8021x,param:e.$t("password")}})],1):e._e(),"EAP-TLS"!==e.oParams.szProtocol&&e.oParams.oPassword?t("hm-cell",{class:{"cell-require":e.oParamsValid.oPasswordConfirm&&e.oParamsValid.oPasswordConfirm.required},attrs:{title:e.$t("confirmPassword")}},[t("hm-input",{attrs:{maxlength:16,type:"password",disabled:!e.oParams.bEnable8021x},on:{focus:function(t){return e.clear(1)}},model:{value:e.oParams.oPassword.szPasswordConfirm,callback:function(t){e.$set(e.oParams.oPassword,"szPasswordConfirm",t)},expression:"oParams.oPassword.szPasswordConfirm"}}),t("hm-validator",{attrs:{model:e.oParams.oPassword.szPasswordConfirm,rules:e.oParamsValid.oPasswordConfirm,disabled:!e.oParams.bEnable8021x,param:e.$t("confirmPassword")}})],1):e._e()],1)],1)],1)])},n=[],o=(a("96cf"),a("1da1")),r=a("5269"),s=a("c050"),l=a("47b5"),c={name:"X8021",components:{BaseSelect:l["a"]},data:function(){return{validate:{},oCapbilities:{},oParams:r["a"].m_oParams,oParamsValid:{}}},watch:{"oParams.szProtocol":{handler:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"EAP-TLS"===t?(r["a"].m_oParamsValid.oIdentity.required=!0,r["a"].m_oParamsValid.oPrivateKeyPassword.required=!0,r["a"].m_oParamsValid.oUserName.required=!1,r["a"].m_oParamsValid.oPassword.required=!1,r["a"].m_oParamsValid.oPasswordConfirm.required=!1):"EAP-MD5"!==t&&"EAP-LEAP"!==t&&"EAP-PEAP"!==t||(r["a"].m_oParamsValid.oIdentity.required=!1,r["a"].m_oParamsValid.oPrivateKeyPassword.required=!1,r["a"].m_oParamsValid.oUserName.required=!0,r["a"].m_oParamsValid.oPassword.required=!0,r["a"].m_oParamsValid.oPasswordConfirm.required=!0);case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0},"oParams.bEnable8021x":{handler:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:!1===t?(r["a"].m_oParamsValid.oIdentity.required=!1,r["a"].m_oParamsValid.oPrivateKeyPassword.required=!1,r["a"].m_oParamsValid.oUserName.required=!1,r["a"].m_oParamsValid.oPassword.required=!1,r["a"].m_oParamsValid.oPasswordConfirm.required=!1):"EAP-TLS"===this.oParams.szProtocol?(r["a"].m_oParamsValid.oIdentity.required=!0,r["a"].m_oParamsValid.oPrivateKeyPassword.required=!0,r["a"].m_oParamsValid.oUserName.required=!1,r["a"].m_oParamsValid.oPassword.required=!1,r["a"].m_oParamsValid.oPasswordConfirm.required=!1):"EAP-MD5"!==this.oParams.szProtocol&&"EAP-LEAP"!==t&&"EAP-PEAP"!==t||(r["a"].m_oParamsValid.oIdentity.required=!1,r["a"].m_oParamsValid.oPrivateKeyPassword.required=!1,r["a"].m_oParamsValid.oUserName.required=!0,r["a"].m_oParamsValid.oPassword.required=!0,r["a"].m_oParamsValid.oPasswordConfirm.required=!0);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0}},created:function(){var e=this;r["a"].initNetwork8021x().then((function(){e.oCapbilities=r["a"].m_oCapbilities,e.oParams=r["a"].m_oParams,e.oParamsValid=r["a"].m_oParamsValid}))},methods:{save:function(){this.validate.validateAll(),s["a"].validateTips(this.validate.getErrorReport())&&r["a"].saveParams()},clear:function(e){r["a"].clear(e)},enable8021x:function(){var e=this;r["a"].m_oParams.bEnable8021x?(r["a"].m_oParams.oPassword.skipVerify=!1,r["a"].m_oParamsValid.oUserName.skipVerify=!1,setTimeout((function(){e.validate.validateAll()}),10)):(r["a"].m_oParams.oPassword.skipVerify=!0,r["a"].m_oParamsValid.oUserName.skipVerify=!0,setTimeout((function(){e.validate.validateAll()}),10))}}},u=c,d=(a("31f3"),a("2877")),p=Object(d["a"])(u,i,n,!1,null,"21881518",null);t["default"]=p.exports},"364c":function(e,t,a){},"365b":function(e,t,a){},3668:function(e,t,a){},"36b1":function(e,t,a){"use strict";a("594b")},3707:function(e,t,a){"use strict";(function(e){a("96cf");var i=a("1da1"),n=a("ef90"),o=a("962a"),r=a("23d7"),s=a("6458"),l=a("c050"),c=a("9741"),u=a("47b5");t["a"]={components:{BasePageExtend:o["a"],TimePlan:r["a"],ChannelList:s["a"],BaseSelect:u["a"]},data:function(){return{advance:"",arr:[],oChannel:{id:0},verifyResult:n["a"].verifyResult,oParamsValid:n["a"].m_oParamsValid,oCapbilities:n["a"].m_oCapbilities,params:{bLazyLoading:!1,szEventIntervalType:"0",szTimingIntervalType:"0"},iDeviceType:c["a"].iDeviceType,oCapbilitiesTemp:{},paramsTemp:{},oCopyTo:n["a"].m_oCopyTo,bParams:!1,bSchedule:!1,bEnableCancelCallback:!0,rules:{type:"number",require:!0,min:0,max:10},times:[{value:"0",text:this.$t("millisecond")},{value:"1",text:this.$t("seconds")},{value:"2",text:this.$t("minute")},{value:"3",text:this.$t("hour")},{value:"4",text:this.$t("daysUni")}],time:[{value:"0",text:this.$t("millisecond")},{value:"1",text:this.$t("seconds")}],aTimes:[[],[],[],[],[],[],[]],aTimesTemp:[[],[],[],[],[],[],[]],validate:{},EventNumRule:{required:!0,range:[1,120]},EventIntervalRule:{required:!0,range:[0,65535]},TimingIntervalRule:{required:!0,range:[0,6048e5]}}},watch:{"oChannel.id":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t>0&&(n["a"].m_oChannel.id=t,this.init(t));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0},"params.szTimingIntervalType":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,a){var i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t&&a&&(n["a"].m_oCapbilities.bSupportIntervalOpt||(n["a"].m_oParamsValid.oTimingInterval.skipVerify=!1,n["a"].m_oParams.szTimingInterval=Math.ceil(n["a"].m_oParams.szTimingInterval*n["a"].m_oParams.aRate[a]/n["a"].m_oParams.aRate[t]),i=Math.ceil(n["a"].m_oCapbilities.aTimingPicIntervalRange[0]/n["a"].m_oParams.aRate[t]),o=Math.floor(n["a"].m_oCapbilities.aTimingPicIntervalRange[1]/n["a"].m_oParams.aRate[t]),this.TimingIntervalRule.range[0]=i,this.TimingIntervalRule.range[1]=o));case 1:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},"params.szEventIntervalType":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,a){var i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t&&a&&(n["a"].m_oCapbilities.bSupportIntervalOpt||(n["a"].m_oParamsValid.oEventInterval.skipVerify=!1,n["a"].m_oParams.szEventInterval=Math.ceil(n["a"].m_oParams.szEventInterval*n["a"].m_oParams.aRate[a]/n["a"].m_oParams.aRate[t]),i=Math.ceil(n["a"].m_oCapbilities.aEventPicIntervalRange[0]/n["a"].m_oParams.aRate[t]),o=Math.floor(n["a"].m_oCapbilities.aEventPicIntervalRange[1]/n["a"].m_oParams.aRate[t]),this.EventIntervalRule.range[0]=i,this.EventIntervalRule.range[1]=o));case 1:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()}},methods:{init:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n["a"].initLan();case 2:return this.verifyResult=n["a"].verifyResult,this.oParamsValid=n["a"].m_oParamsValid,this.arr=n["a"].m_oCapbilities.aSupportStream,e.next=7,n["a"].getCapturePlanCap(t);case 7:if(!n["a"].m_oCapbilities.bSupport){e.next=10;break}return e.next=10,n["a"].getCapturePlanInfo();case 10:return e.next=12,n["a"].getSnapshotCap(t);case 12:if(!n["a"].m_oCapbilities.bChannelSupport){e.next=15;break}return e.next=15,n["a"].getSnapshotInfo(t);case 15:this.advance=n["a"].m_oParams.szStreamType,this.aTimes=this.changeLength(n["a"].m_aTimes),this.params=n["a"].m_oParams,this.params.szEventNum=n["a"].m_oParams.szEventNum,this.oCapbilities=n["a"].m_oCapbilities,this.oCopyTo=n["a"].m_oCopyTo,this.TimingIntervalRule.range[0]=1e3,this.EventIntervalRule.range[0]=1e3;case 23:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),changeAdvance:function(e){n["a"].m_oParams.szStreamType=e},save:function(){n["a"].save(this.aTimes)},cancelcallback:function(){this.aTimes=[],e.extend(!0,this.aTimes,this.aTimesTemp),this.bSchedule=!1},confirm:function(){this.aTimes=this.$refs.timePlan.timesData,this.bSchedule=!1},showSchedule:function(){this.aTimesTemp=e.extend(!0,[],this.aTimes),this.bSchedule=!0},showParams:function(){e.extend(!0,this.oCapbilitiesTemp,this.oCapbilities),e.extend(!0,this.paramsTemp,this.params),this.bParams=!0},cancelcallbackParams:function(){e.extend(!0,this.oCapbilities,this.oCapbilitiesTemp),e.extend(!0,this.params,this.paramsTemp),this.bParams=!1},confirmParams:function(){this.validate.validateAll(),l["a"].validateTips(this.validate.getErrorReport())&&(this.bParams=!1)},deleteAll:function(){for(var e=0,t=this.aTimes.length;e<t;e++)this.aTimes[e]=[];this.$refs.timePlan.timesData=this.aTimes,this.$refs.timePlan.$forceUpdate()},changeLength:function(e){return e.slice(0,e.length-1)}}}}).call(this,a("1157"))},"372e":function(e,t,a){},"37b5":function(e,t,a){"use strict";(function(e){a("28a5"),a("7514"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("1f20"),s=a("7de8"),l=a("d09c"),c=a("8d94"),u=a("f193"),d=function(){function t(){Object(n["a"])(this,t),this.oXmlDoc=null,this.m_oCap={oStreamInfo:null,aStreamList:[],aPackagingFormat:[],bSupportActiveMulticast:!1,bSupportFECDestPort:!1,bSupportFECRatio:!1},this.m_oCapa={bSupportSRTSP:!1,bSupportSRTPVideoDestPortNo:!1,bSupportSRTSPAudioDestPortNo:!1},this.m_oParams={oChannel:{id:"1"},szIPAddress:"",szStreamType:"00",iVideoDestPortNo:0,iAudioDestPortNo:0,bEnableActiveMulticast:!1,szPackagingFormat:"",iFECDestPortNo:1,iFECRatio:0,iSRTSPVideoDestPortNo:0,iSRTSPAudioDestPortNo:0},this.m_oParamsValid={oIPAddress:{required:!0,ipcmulticast:!0},oVideoDestPortNo:{required:!0,range:[1,65535],skipVerify:!1},oAudioDestPortNo:{required:!0,range:[1,65535],skipVerify:!1},oFECDestPortNo:{required:!0,range:[1,65535],skipVerify:!1},oFECRatio:{required:!0,range:[0,100],skipVerify:!1},oSRTPVideoDestPortNo:{required:!0,range:[1,65535],skipVerify:!1},oSRTPAudioDestPortNo:{required:!0,range:[1,65535],skipVerify:!1}}}return Object(o["a"])(t,[{key:"initMulticast",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.m_oParams.oChannel.id=t,e.next=3,this.getStreamInfo();case 3:return e.next=5,this.getMulticast();case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getStreamInfo",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a,i,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["a"].getChannelInfo();case 2:a=t.sent,i=this.m_oCap.oStreamInfo={},e.each(a,(function(t){n=this.aStream,n&&(o=i[t]=[],e.each(n,(function(e,t){switch(t){case 1:o.push({text:c["a"].t("mainStream"),value:"0"+t});break;case 2:o.push({text:c["a"].t("subStream"),value:"0"+t});break;case 3:o.push({text:c["a"].t("thirdStream"),value:"0"+t});break;case 4:o.push({text:c["a"].t("fourthStream"),value:"0"+t});break;case 5:o.push({text:c["a"].t("fifthStream"),value:"0"+t});break;default:break}})))})),this.m_oCap.aStreamList=o;case 6:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}()},{key:"getMulticast",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t||this.getChannelStreamList(),e.next=3,this.getCap();case 3:return e.next=5,this.getInfo();case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getChannelStreamList",value:function(){this.m_oCap.aStreamList=this.m_oCap.oStreamInfo[this.m_oParams.oChannel.id],this.m_oCap.aStreamList.length&&(this.m_oParams.szStreamType=this.m_oCap.aStreamList[0].value)}},{key:"changeStream",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getMulticast(!0);case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getCap",value:function(){var t=this,a=new Promise((function(a){var i=t,n=t.m_oCap,o=t.m_oParams,r=t.m_oParamsValid,l={urlCGI:"videoCapa",params:{channel:o.oChannel.id,videoStream:o.szStreamType},data:null,loading:!0};u["a"].get(l).then((function(t){var o,l,c=t.oResult;if(s["a"].nodeAttr(c,"videoDestPortNo","min")&&s["a"].nodeAttr(c,"videoDestPortNo","max")&&(o=s["a"].nodeAttr(c,"videoDestPortNo","min","i"),l=s["a"].nodeAttr(c,"videoDestPortNo","max","i"),r.oVideoDestPortNo.range[0]=o,r.oVideoDestPortNo.range[1]=l),s["a"].nodeAttr(c,"audioDestPortNo","min")&&s["a"].nodeAttr(c,"audioDestPortNo","max")&&(o=s["a"].nodeAttr(c,"audioDestPortNo","min","i"),l=s["a"].nodeAttr(c,"audioDestPortNo","max","i"),r.oAudioDestPortNo.range[0]=o,r.oAudioDestPortNo.range[1]=l),i.m_oCapa.bSupportSRTSP=!1,i.m_oCapa.bSupportSRTPVideoDestPortNo=!1,i.m_oCapa.bSupportSRTSPAudioDestPortNo=!1,e(c).find("SRTPMulticast").length&&(i.m_oCapa.bSupportSRTSP=!0,e(c).find("SRTPMulticast SRTPVideoDestPortNo").length&&(i.m_oCapa.bSupportSRTPVideoDestPortNo=!0,o=s["a"].nodeAttr(c,"SRTPMulticast SRTPVideoDestPortNo","min","i"),l=s["a"].nodeAttr(c,"SRTPMulticast SRTPVideoDestPortNo","max","i"),r.oSRTPVideoDestPortNo.range[0]=o,r.oSRTPVideoDestPortNo.range[1]=l),e(c).find("SRTPMulticast SRTPAudioDestPortNo").length&&(i.m_oCapa.bSupportSRTSPAudioDestPortNo=!0,o=s["a"].nodeAttr(c,"SRTPMulticast SRTPAudioDestPortNo","min","i"),l=s["a"].nodeAttr(c,"SRTPMulticast SRTPAudioDestPortNo","max","i"),r.oSRTPAudioDestPortNo.range[0]=o,r.oSRTPAudioDestPortNo.range[1]=l)),e(c).find("activeMulticastEnabled").length?n.bSupportActiveMulticast=!0:n.bSupportActiveMulticast=!1,e(c).find("packagingFormat").length&&(n.aPackagingFormat=s["a"].nodeAttr(c,"packagingFormat","opt").split(",")),n.bSupportFECDestPort=!1,n.bSupportFECRatio=!1,e(c).find("Multicast FecInfo").length){var u=e(c).find("Multicast FecInfo").eq(0);u.find("fecDestPortNo").length&&(n.bSupportFECDestPort=!0,o=s["a"].nodeAttr(u,"fecDestPortNo","min","i"),l=s["a"].nodeAttr(u,"fecDestPortNo","max","i"),r.oFECDestPortNo.range[0]=o,r.oFECDestPortNo.range[1]=l),u.find("fecRatio").length&&(n.bSupportFECRatio=!0,o=s["a"].nodeAttr(u,"fecRatio","min","i"),l=s["a"].nodeAttr(u,"fecRatio","max","i"),r.oFECRatio.range[0]=o,r.oFECRatio.range[1]=l)}a()}),(function(){a()}))}));return a}},{key:"getInfo",value:function(){var e=this,t=this,a=this.m_oCap,i=this.m_oParams,n={urlCGI:"videoInfo",params:{channel:i.oChannel.id,videoStream:i.szStreamType},data:null,loading:!0};return u["a"].get(n).then((function(n){var o=n.oResult;e.oXmlDoc=o,i.szIPAddress=s["a"].nodeValue(o,"destIPAddress")||s["a"].nodeValue(o,"destIPv6Address"),i.iVideoDestPortNo=s["a"].nodeValue(o,"videoDestPortNo","i"),i.iAudioDestPortNo=s["a"].nodeValue(o,"audioDestPortNo","i"),i.bEnableActiveMulticast=s["a"].nodeValue(o,"activeMulticastEnabled","b"),i.szPackagingFormat=s["a"].nodeValue(o,"packagingFormat"),a.bSupportFECDestPort&&(i.iFECDestPortNo=s["a"].nodeValue(o,"fecDestPortNo","i")),a.bSupportFECRatio&&(i.iFECRatio=s["a"].nodeValue(o,"fecRatio","i")),t.m_oCapa.bSupportSRTPVideoDestPortNo&&(t.m_oParams.iSRTSPVideoDestPortNo=s["a"].nodeValue(o,"SRTPMulticast SRTPVideoDestPortNo","i")),t.m_oCapa.bSupportSRTSPAudioDestPortNo&&(t.m_oParams.iSRTSPAudioDestPortNo=s["a"].nodeValue(o,"SRTPMulticast SRTPAudioDestPortNo","i"))})).catch()}},{key:"save",value:function(){var t=this.oXmlDoc,a=this.m_oParams,i=this.m_oCap,n=this;return e(t).find("Multicast destIPv6Address").remove(),e(t).find("Multicast destIPAddress").remove(),s["a"].isIPv6Address(a.szIPAddress)?e(t).find("Multicast").append(s["a"].parseXmlFromStr("<destIPv6Address>"+a.szIPAddress+"</destIPv6Address>").childNodes[0].cloneNode(!0)):e(t).find("Multicast").append(s["a"].parseXmlFromStr("<destIPAddress>"+a.szIPAddress+"</destIPAddress>").childNodes[0].cloneNode(!0)),s["a"].nodeValue(t,"videoDestPortNo","",a.iVideoDestPortNo),s["a"].nodeValue(t,"audioDestPortNo","",a.iAudioDestPortNo),s["a"].nodeValue(t,"activeMulticastEnabled","",a.bEnableActiveMulticast),s["a"].nodeValue(t,"packagingFormat","",a.szPackagingFormat),i.bSupportFECDestPort&&s["a"].nodeValue(t,"fecDestPortNo","",a.iFECDestPortNo),i.bSupportFECRatio&&s["a"].nodeValue(t,"fecRatio","",a.iFECRatio),n.m_oCapa.bSupportSRTPVideoDestPortNo&&s["a"].nodeValue(t,"SRTPMulticast SRTPVideoDestPortNo","",n.m_oParams.iSRTSPVideoDestPortNo),n.m_oCapa.bSupportSRTSPAudioDestPortNo&&s["a"].nodeValue(t,"SRTPMulticast SRTPAudioDestPortNo","",n.m_oParams.iSRTSPAudioDestPortNo),new Promise((function(e){var i={urlCGI:"videoInfo",params:{channel:a.oChannel.id,videoStream:a.szStreamType},data:t,loading:!0};u["a"].put(i).then((function(t){l["a"].saveState(t.xhr),e()}),(function(t){l["a"].saveState(t),e()}))}))}}]),t}();t["a"]=new d}).call(this,a("1157"))},3916:function(e,t,a){"use strict";(function(e){a("a481"),a("7514"),a("6b54"),a("28a5"),a("ac6a"),a("5df3"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("181b"),s=a("7de8"),l=a("c050"),c=a("d09c"),u=a("145f"),d=a("1f20"),p=a("f193"),m=a("8d94"),h=function(){function t(){Object(n["a"])(this,t),this.m_oParams=u["a"].m_oParams,this.m_oParamsValid=u["a"].m_oParamsValid,this.m_oWifiParams=u["a"].m_oWifiParams}return Object(o["a"])(t,[{key:"getDeviceCapa",value:function(){var e=this;return new Promise((function(t){d["a"].getNetworkCap().then((function(){u["a"].init(d["a"].m_oDeviceCapa),e.m_oCapbilities=u["a"].m_oCapbilities,e.m_oCapbilities.bSupportWLANAP=d["a"].m_oDeviceCapa.bSupportWLANAP,e.m_oCapbilities.bSupportWPS=d["a"].m_oDeviceCapa.bSupportWPS,e.m_oCapbilities.bSupportWifiEnable=d["a"].m_oDeviceCapa.bSupportWifiEnable,e.m_oCapbilities.bSupportMutexWithWirelessServer=d["a"].m_oDeviceCapa.bSupportWifiEnable&&d["a"].m_oDeviceCapa.bSupportWLANAP,t()}),(function(){t()}))}))}},{key:"initWifi",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.oTools={world:m["a"].t("world"),china:m["a"].t("china"),europe:m["a"].t("europe"),nothAmerica:m["a"].t("nothAmerica"),japan:m["a"].t("japan"),default:m["a"].t("defaultCountry")},e.next=3,this.getDeviceCapa();case 3:return e.abrupt("return",Promise.all([this.getWifiCap(),this.getWifiList(),this.getWifiInfo(),this.get8021xInfo(),this.getWpsInfo()]));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getWifiCap",value:function(){var t=this;return new Promise((function(a){var i={urlCGI:"wifiCap",params:null,data:null,async:!1,loading:!0};p["a"].get(i).then((function(i){var n=i.oResult,o=t.m_oCapbilities,r=s["a"].nodeAttr(n,"TableElement","opt");r&&(o.aSupportStatus=r.split(","),o.aSupportStatus.unshift("serialNumber"));var l=o.oNetworkMode,c=s["a"].nodeAttr(n,"wirelessNetworkMode","opt");if(c){e.each(l,(function(e){l[e]=!1}));var u=c.split(",");-1!==e.inArray("infrastructure",u)&&(l.bInfrastructure=!0),-1!==e.inArray("adhoc",u)&&(l.bAdhoc=!0)}var d=s["a"].nodeAttr(n,"support64bitKey","opt")||"WPA-personal,WPA2-personal";if(d&&(o.aSupport64bitKey=d.split(",")),o.bSupportWifiRegion){o.bSetRegionNeedReboot=s["a"].nodeValue(n,"RegionInformation reboot",!0);var p=s["a"].nodeAttr(n,"RegionInformation region","opt");""!==p&&e.each(p.split(","),(function(e,a){o.aRegionList.push({name:t.oTools[a.toString()],value:a.toString()})}))}var m=s["a"].nodeValue(n,"isSupportNullSsid","b");m&&(t.m_oCapbilities.bSupportNullSsid=m,t.m_oParamsValid.oSSID.required=!1),a()}),(function(){a()}))}))}},{key:"getWifiList",value:function(){var t=this;return new Promise((function(a){var i={urlCGI:"wifiList",params:null,data:null,async:!1,loading:!0};p["a"].get(i).then((function(i){var n=i.oResult,o=[];e(n).find("accessPoint").each((function(t){o[t]=[],o[t][0]=s["a"].nodeValue(e(this),"id"),o[t][1]=s["a"].nodeValue(e(this),"ssid"),o[t][2]=s["a"].nodeValue(e(this),"wirelessNetworkMode"),o[t][2]={name:"infrastructure"===o[t][2]?"Manage":"Ad-Hoc",value:o[t][2]},o[t][3]=s["a"].nodeValue(e(this),"securityMode"),"not-encrypted"===o[t][3]&&(o[t][3]="disable"),o[t][4]=s["a"].nodeValue(e(this),"channel"),o[t][5]=s["a"].nodeValue(e(this),"signalStrength"),o[t][6]=s["a"].nodeValue(e(this),"speed"),o[t][7]=m["a"].t(s["a"].nodeValue(e(this),"connected","b")?"connected":"unconnected")})),t.m_oParams.tableData={tableItem:o,iSelectIndex:-1},a()}),(function(){a()}))}))}},{key:"getWifiInfo",value:function(){var t=this;return new Promise((function(a){var i={urlCGI:"wifiInfo",data:null,loading:!0};p["a"].get(i).then((function(i){var n=i.oResult;t.m_oWifiParams.bEnableWifi=s["a"].nodeValue(e(n),"enabled","b"),t.m_oWifiParams.szSSID=s["a"].nodeValue(e(n),"ssid"),t.m_oWifiParams.szWPSSSID=t.m_oWifiParams.szSSID,t.m_oWifiParams.szNetworkMode=s["a"].nodeValue(e(n),"wirelessNetworkMode"),t.m_oWifiParams.szSecurityMode=s["a"].nodeValue(e(n),"securityMode"),t.m_oParams.szAuthentication=s["a"].nodeValue(e(n),"authenticationType")||"open",t.m_oParams.szKeyChoose=s["a"].nodeValue(e(n),"defaultTransmitKeyIndex")||"1",t.m_oParams.szKeyLength=s["a"].nodeValue(e(n),"wepKeyLength")||"64",t.m_oParams.szKeyType=s["a"].nodeValue(e(n),"keyType")||"HEX",t.m_oParams.szEncryptionType=s["a"].nodeValue(e(n),"algorithmType")||"TKIP",t.m_oParams.aKey[0]=s["a"].nodeValue(e(n),"sharedKey"),t.m_oCapbilities.bSupportWifiRegion&&(t.m_oParams.szRegion=t.m_oParams.szRegionCache=s["a"].nodeValue(e(n),"region")),e(n).find("encryptionKey").each((function(a,i){t.m_oParams.aKey[a]=e(i).text()})),e(n).find("ASCIIKey").each((function(a,i){t.m_oParams.aKey[a]=e(i).text()})),a()}),(function(){a()}))}))}},{key:"get8021xInfo",value:function(){var t=this;return new Promise((function(a){var i={urlCGI:"wifiIpc8021x",data:null,loading:!0};p["a"].get(i).then((function(i){var n=i.oResult;t.m_oParams.szEnterpriseType=s["a"].nodeValue(e(n),"authenticationProtocolType")||"EAP-TLS",t.m_oParams.szInnerAuthenticationMode=s["a"].nodeValue(e(n),"innerTTLSAuthenticationMethod")||"PAP",t.m_oParams.szAnonymousIdentity=s["a"].nodeValue(e(n),"anonymousID"),t.m_oParams.szInnerAuthentication=s["a"].nodeValue(e(n),"innerEAPProtocolType")||"EAP-GTC",t.m_oParams.szPEAPVersion=s["a"].nodeValue(e(n),"PEAPVersion")||"0",t.m_oParams.szPEAPLabel=s["a"].nodeValue(e(n),"PEAPLabel")||"old",t.m_oParams.szEAPOLVersion=s["a"].nodeValue(e(n),"EAPOLVersion")||"1",t.m_oParams.szIdentity=s["a"].nodeValue(e(n),"userName"),t.m_oParams.szUsername=s["a"].nodeValue(e(n),"userName"),a()}),(function(){a()}))}))}},{key:"getWpsInfo",value:function(){var t=this;return new Promise((function(a){var n={urlCGI:"wpsIpcInfo",data:null,loading:!0};p["a"].get(n).then(function(){var n=Object(i["a"])(regeneratorRuntime.mark((function i(n){var o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return o=n.oResult,t.m_oParams.bEnableWps=s["a"].nodeValue(e(o),"enable","b"),i.next=4,t.getDevicePinCode();case 4:a();case 5:case"end":return i.stop()}}),i)})));return function(e){return n.apply(this,arguments)}}(),(function(){a()}))}))}},{key:"generatePinCode",value:function(){var e=this;return new Promise((function(t){var a={urlCGI:"generatePinCode",data:null,loading:!0};p["a"].put(a).then(Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.getDevicePinCode();case 2:t();case 3:case"end":return a.stop()}}),a)}))),(function(){t()}))}))}},{key:"getDevicePinCode",value:function(){var e=this;return new Promise((function(t){var a={urlCGI:"deviceIpcPinCode",data:null,loading:!0};p["a"].get(a).then((function(a){e.m_oParams.szPinCode=a.xhr.responseText,t()}),(function(){t()}))}))}},{key:"autoConnect",value:function(){var e=l["a"].wait(null,m["a"].t("connecting"));return new Promise((function(t){var a={urlCGI:"autoIpcConnect",data:null,loading:!0};p["a"].put(a).then((function(){e.close(),t()}),(function(){e.close(),l["a"].tip(m["a"].t("conectFail")),t()}))}))}},{key:"manualConnect",value:function(){var e="<?xml version='1.0' encoding='UTF-8'?><WpsApPincode><ssid>"+this.m_oWifiParams.szWPSSSID.replace(/</g,"&lt;").replace(/&(?!lt;|amp;|gt;|apos;|quot;)/g,"&amp;")+"</ssid><pinCode>"+this.m_oParams.szApPinCode.replace(/</g,"&lt;").replace(/&(?!lt;|amp;|gt;|apos;|quot;)/g,"&amp;")+"</pinCode></WpsApPincode>",t=s["a"].parseXmlFromStr(e),a=l["a"].wait(null,m["a"].t("connecting"));return new Promise((function(e,i){var n={urlCGI:"manualIpcConnect",data:t,loading:!0};p["a"].put(n).then((function(){l["a"].tip(m["a"].t("connectSuccess")),a.close(),e()}),(function(e){c["a"].saveState(e),a.close(),i()}))}))}},{key:"setWifi8021x",value:function(e){var t="";"EAP-TLS"===e?(t="<?xml version='1.0' encoding='UTF-8' ?><IEEE802_1x><enabled>true</enabled><authenticationProtocolType>"+this.m_oParams.szEnterpriseType+"</authenticationProtocolType><userName>"+this.m_oParams.szIdentity.replace(/</g,"&lt;").replace(/&(?!lt;|amp;|gt;|apos;|quot;)/g,"&amp;")+"</userName>",""!==this.m_oParams.szPrivateKeyPassword&&(t+="<password>"+this.m_oParams.szPrivateKeyPassword.replace(/</g,"&lt;").replace(/&(?!lt;|amp;|gt;|apos;|quot;)/g,"&amp;")+"</password>"),t+="<Extensions><EAPOLVersion>"+this.m_oParams.szEAPOLVersion+"</EAPOLVersion></Extensions></IEEE802_1x>"):"EAP-PEAP"===e?(t="<?xml version='1.0' encoding='UTF-8' ?><IEEE802_1x><enabled>true</enabled><authenticationProtocolType>"+this.m_oParams.szEnterpriseType+"</authenticationProtocolType><innerEAPProtocolType>"+this.m_oParams.szInnerAuthentication+"</innerEAPProtocolType><userName>"+this.m_oParams.szUsername.replace(/</g,"&lt;").replace(/&(?!lt;|amp;|gt;|apos;|quot;)/g,"&amp;")+"</userName>",""!==this.m_oParams.szPassword&&(t+="<password>"+this.m_oParams.szPassword.replace(/</g,"&lt;").replace(/&(?!lt;|amp;|gt;|apos;|quot;)/g,"&amp;")+"</password>"),t+="<anonymousID>"+this.m_oParams.szAnonymousIdentity.replace(/</g,"&lt;").replace(/&(?!lt;|amp;|gt;|apos;|quot;)/g,"&amp;")+"</anonymousID><Extensions><EAPOLVersion>"+this.m_oParams.szEAPOLVersion+"</EAPOLVersion><PEAPVersion>"+this.m_oParams.szPEAPVersion+"</PEAPVersion><PEAPLabel>"+this.m_oParams.szPEAPLabel+"</PEAPLabel></Extensions></IEEE802_1x>"):(t="<?xml version='1.0' encoding='UTF-8' ?><IEEE802_1x><enabled>true</enabled><authenticationProtocolType>"+this.m_oParams.szEnterpriseType+"</authenticationProtocolType><innerTTLSAuthenticationMethod>"+this.m_oParams.szInnerAuthenticationMode+"</innerTTLSAuthenticationMethod><userName>"+this.m_oParams.szUsername+"</userName>",""!==this.m_oParams.szPassword&&(t+="<password>"+this.m_oParams.szPassword.replace(/</g,"&lt;").replace(/&(?!lt;|amp;|gt;|apos;|quot;)/g,"&amp;")+"</password>"),t+="<anonymousID>"+this.m_oParams.szAnonymousIdentity.replace(/</g,"&lt;").replace(/&(?!lt;|amp;|gt;|apos;|quot;)/g,"&amp;")+"</anonymousID><Extensions><EAPOLVersion>"+this.m_oParams.szEAPOLVersion+"</EAPOLVersion></Extensions></IEEE802_1x>");var a=s["a"].parseXmlFromStr(t);return new Promise((function(e,t){var i={urlCGI:"wifiIpc8021x",data:a,loading:!0};p["a"].put(i).then((function(){e()}),(function(e){t(e)}))}))}},{key:"setWifiInfo",value:function(){var e=this,t="<?xml version='1.0' encoding='UTF-8'?><Wireless><enabled>"+this.m_oWifiParams.bEnableWifi.toString()+"</enabled><wirelessNetworkMode>"+this.m_oWifiParams.szNetworkMode+"</wirelessNetworkMode><channel>auto</channel><ssid>"+this.m_oWifiParams.szSSID+"</ssid><wmmEnabled>false</wmmEnabled><WirelessSecurity><securityMode>"+this.m_oWifiParams.szSecurityMode+"</securityMode>";if("WEP"===this.m_oWifiParams.szSecurityMode){if(t+="<WEP><authenticationType>"+this.m_oParams.szAuthentication+"</authenticationType><defaultTransmitKeyIndex>"+this.m_oParams.szKeyChoose+"</defaultTransmitKeyIndex><wepKeyLength>"+this.m_oParams.szKeyLength+"</wepKeyLength>",t+="<keyType>"+this.m_oParams.szKeyType+"</keyType>","HEX"===this.m_oParams.szKeyType){t+="<EncryptionKeyList>";for(var a=0;a<this.m_oParams.aKey.length;a++)t+="<encryptionKey>"+this.m_oParams.aKey[a].replace(/</g,"&lt;").replace(/&(?!lt;|amp;|gt;|apos;|quot;)/g,"&amp;")+"</encryptionKey>";t+="</EncryptionKeyList>"}else{t+="<ASCKeyList>";for(var i=0;i<this.m_oParams.aKey.length;i++)t+="<ASCIIKey>"+this.m_oParams.aKey[i].replace(/</g,"&lt;").replace(/&(?!lt;|amp;|gt;|apos;|quot;)/g,"&amp;")+"</ASCIIKey>";t+="</ASCKeyList>"}t+="</WEP>"}else"disable"!==this.m_oWifiParams.szSecurityMode&&("WPA-enterprise"===this.m_oWifiParams.szSecurityMode||"WPA2-enterprise"===this.m_oWifiParams.szSecurityMode?t+="<WPA><algorithmType>"+this.m_oParams.szEncryptionType+"</algorithmType></WPA>":t+="<WPA><algorithmType>"+this.m_oParams.szEncryptionType+"</algorithmType><sharedKey>"+this.m_oParams.aKey[0].replace(/</g,"&lt;").replace(/&(?!lt;|amp;|gt;|apos;|quot;)/g,"&amp;")+"</sharedKey><wpaKeyLength>"+this.m_oParams.aKey[0].length+"</wpaKeyLength></WPA>");t+="</WirelessSecurity>",this.m_oCapbilities.bSupportWifiRegion&&(t+="<Region><region>"+this.m_oParams.szRegion+"</region></Region>"),t+="</Wireless>";var n=s["a"].parseXmlFromStr(t);return new Promise((function(t,a){var i={urlCGI:"wifiInfo",data:n,loading:!0};p["a"].put(i).then((function(a){e.m_oParams.szRegionCache=e.m_oParams.szRegion,t(a)}),(function(e){a(e)}))}))}},{key:"setWpsInfo",value:function(){var e="<?xml version='1.0' encoding='UTF-8'?><WPS><enable>"+this.m_oParams.bEnableWps.toString()+"</enable></WPS>",t=s["a"].parseXmlFromStr(e);return new Promise((function(e,a){var i={urlCGI:"wpsIpcInfo",data:t,loading:!0};p["a"].put(i).then((function(t){e(t)}),(function(e){a(e)}))}))}},{key:"setsave",value:function(){var e=this;this.m_oParams.szRegion!==this.m_oParams.szRegionCache&&this.m_oCapbilities.bSupportWifiRegion&&this.m_oCapbilities.bSetRegionNeedReboot?l["a"].confirm(m["a"].t("tipChangeRegion"),(function(){e.setInfo(!0)}),(function(){e.m_oParams.szRegion=e.m_oParams.szRegionCache})):this.setInfo(!1)}},{key:"setInfo",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a,i,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=[],i=this,e.next=4,this.setWifiInfo().then((function(e){"WPA-enterprise"!==n.m_oWifiParams.szSecurityMode&&"WPA2-enterprise"!==n.m_oWifiParams.szSecurityMode||("EAP-TLS"===n.m_oParams.szEnterpriseType?a.push(i.setWifi8021x("EAP-TLS")):"EAP-PEAP"===n.m_oParams.szEnterpriseType?a.push(i.setWifi8021x("EAP-PEAP")):"EAP-TTLS"===n.m_oParams.szEnterpriseType&&a.push(i.setWifi8021x("EAP-TTLS"))),n.m_oCapbilities.bSupportWPS&&a.push(i.setWpsInfo()),0===a.length?t?c["a"].toRestart():c["a"].saveState(e.xhr):s["a"].waitAll(a).then((function(e){t?c["a"].toRestart():c["a"].saveState(e[0].xhr)}),(function(e){c["a"].saveState(e[0].xhr)}))}),(function(e){c["a"].saveState(e.xhr)}));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"browseFilePath",value:function(){return new Promise((function(e){r["a"].browseFilePath(1,"").then((function(t){e(t)}))}))}},{key:"uploadCertificate",value:function(e){var t="";return 0===e?t=this.m_oParams.szCACerPath:1===e?t=this.m_oParams.szUserCerPath:2===e&&(t=this.m_oParams.szPrivateKeyCerPath),new Promise((function(e){t||e()}))}}]),t}();t["a"]=new h}).call(this,a("1157"))},"3a2d":function(e,t,a){},"3a64":function(e,t,a){"use strict";a("f723")},"3b35":function(e,t,a){},"3c8c":function(e,t,a){"use strict";a("ef35")},"3ca5":function(e,t,a){var i=a("7726").parseInt,n=a("aa77").trim,o=a("fdef"),r=/^[-+]?0[xX]/;e.exports=8!==i(o+"08")||22!==i(o+"0x16")?function(e,t){var a=n(String(e),3);return i(a,t>>>0||(r.test(a)?16:10))}:i},"3cc4":function(e,t,a){"use strict";(function(e){a("7514"),a("28a5"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("8d94"),s=a("7de8"),l=a("1f20"),c=a("9741"),u=a("d09c"),d=a("f193"),p=a("c98f"),m=function(){function t(){Object(n["a"])(this,t),this.oAuth={szRtsp:"false",szWeb:"basic",szRawRtsp:"false",szRawWeb:"basic",szRTDigestAlgorithm:"",szRawRTDigestAlgorithm:"",szWEBDigestAlgorithm:"",szRAWWEBDigestAlgorithm:""},this._oXmlDoc={oRtsp:null,oWeb:null},this.authCap={oSupportAuth:{},aRTSPCap:[],aWebCap:[],aCertificateType:!1,aWEBDigestAlgorithm:!1,bWEBDigestAlgorithm:!1},this.aRTSPCap={aCertificateType:[],aRTDigestAlgorithm:[],bRTDigestAlgorithm:!1},this.bNVRDevice=0===c["a"].iDeviceType}return Object(o["a"])(t,[{key:"init",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,l["a"].getAuthSupport().then((function(){t.authCap.oSupportAuth=l["a"].m_oDeviceCapa.oSupportAuth}));case 3:return p["a"].oSecurityCap&&p["a"].oSecurityCap.oWebCap&&(this.authCap.aCertificateType=p["a"].oSecurityCap.oWebCap.aOptions,this.authCap.aWEBDigestAlgorithm=p["a"].oSecurityCap.oWebCap.aWEBDigestAlgorithm,this.authCap.bWEBDigestAlgorithm=p["a"].oSecurityCap.oWebCap.bWEBDigestAlgorithm,this.authCap.aWebCap=p["a"].oSecurityCap.oWebCap.aOptions),a=[],t.bNVRDevice?(a.push(t.getAuthCapNVR()),t.authCap.oSupportAuth.bRtsp&&a.push(t.getRtspAuthInfoNVR())):(a.push(t.getAuthCapIPC()),t.authCap.oSupportAuth.bRtsp&&a.push(t.getRtspAuthInfoIPC())),t.authCap.oSupportAuth.bWeb&&a.push(t.getWebAuthInfo()),e.next=9,s["a"].waitAll(a);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getAuthCapNVR",value:function(){var t=this,a={urlCGI:"rtspAuthCap",params:{channel:1,videoStream:1},data:null,loading:!0};return d["a"].get(a).then((function(a){var i=a.oResult,n=[];s["a"].nodeAttr(i,"certificateType","opt")&&(n=s["a"].nodeAttr(i,"certificateType","opt").split(",")),t.authCap.aRTSPCap=n,e(i).find("SecurityAlgorithm").length&&(t.aRTSPCap.bRTDigestAlgorithm=!0,t.aRTSPCap.aRTDigestAlgorithm=s["a"].nodeAttr(i,"algorithmType","opt").split(","))}),(function(e){u["a"].getState(e)}))}},{key:"getAuthCapIPC",value:function(){var t=this,a=[],i={urlCGI:"videoCapa",params:{channel:1,videoStream:"01"},data:null,loading:!0};return d["a"].get(i).then((function(i){var n=i.oResult;t.oXmlDoc=n,t.aRTSPCap.aCertificateType=[r["a"].t("basicAuth"),r["a"].t("disable")],a=[r["a"].t("basicAuth"),r["a"].t("disable")],s["a"].nodeAttr(n,"certificateType","opt")&&(a=s["a"].nodeAttr(n,"certificateType","opt").split(",")),e(n).find("SecurityAlgorithm").length&&(t.aRTSPCap.bRTDigestAlgorithm=!0,t.aRTSPCap.aRTDigestAlgorithm=s["a"].nodeAttr(n,"algorithmType","opt").split(",")),t.authCap.aRTSPCap=a}))}},{key:"getRtspAuthInfoNVR",value:function(){var e=this,t={urlCGI:"rtspAuthInfo",data:null,loading:!0};return d["a"].get(t).then((function(t){var a=t.oResult;e._oXmlDoc.oRtsp=a;var i=s["a"].nodeValue(a,"certificateType");e.oAuth.szRtsp=i,e.oAuth.szRawRtsp=i,e.oAuth.szRTDigestAlgorithm=s["a"].nodeValue(a,"algorithmType"),e.oAuth.szRawRTDigestAlgorithm=e.oAuth.szRTDigestAlgorithm}))}},{key:"getRtspAuthInfoIPC",value:function(){var t=this,a={urlCGI:"rtspAuth",data:null,loading:!0};return d["a"].get(a).then((function(a){var i=a.oResult;t._oXmlDoc.oRtsp=i;var n=s["a"].nodeValue(i,"certificateType");n||(n=e(i).find("Security").eq(0).find("enabled").eq(0).text(),n="true"===n?r["a"].t("basicAuth"):r["a"].t("disable")),t.oAuth.szRtsp=n,t.oAuth.szRawRtsp=n,t.oAuth.szRTDigestAlgorithm=s["a"].nodeValue(i,"algorithmType"),t.oAuth.szRawRTDigestAlgorithm=t.oAuth.szRTDigestAlgorithm}))}},{key:"getWebAuthInfo",value:function(){var t=this,a={urlCGI:"webAuth",data:null,loading:!0};return d["a"].get(a).then((function(a){var i=a.oResult;t._oXmlDoc.oWeb=i;var n=e(i).find("CertificateType").eq(0).text();t.oAuth.szWeb=n,t.oAuth.szRawWeb=n,t.oAuth.szWEBDigestAlgorithm=s["a"].nodeValue(i,"algorithmType"),t.oAuth.szRAWWEBDigestAlgorithm=t.oAuth.szWEBDigestAlgorithm}))}},{key:"setRtspAuthInfoNVR",value:function(){var t=this,a=t._oXmlDoc.oRtsp,i=t.oAuth.szRtsp;return e(a).find("certificateType").eq(0).text(i),new Promise((function(e){var t={urlCGI:"rtspAuthInfo",data:a,loading:!0};return d["a"].put(t).then((function(t){e(t)}),(function(t){e(t)}))}))}},{key:"setRtspAuthInfoIPC",value:function(){var t=this,a=t._oXmlDoc.oRtsp,i=t.oAuth.szRtsp;return i===r["a"].t("basicAuth")?e(a).find("Security").eq(0).find("enabled").eq(0).text("true"):i===r["a"].t("disable")&&e(a).find("Security").eq(0).find("enabled").eq(0).text("false"),e(a).find("Security").eq(0).find("certificateType").eq(0).text(i),e(a).find("algorithmType").eq(0).text(t.oAuth.szRTDigestAlgorithm),new Promise((function(e,t){var i={urlCGI:"rtspAuth",data:a,loading:!0};return d["a"].put(i).then((function(t){e(t)}),(function(e){t(e)}))}))}},{key:"setWebAuthInfo",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a,i,n,o,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=this,i=a._oXmlDoc.oWeb,n=e(i).find("CertificateType").eq(0).text(),o=a.oAuth.szWeb,r=e(i).find("algorithmType").eq(0).text(),n!==o||a.oAuth.szWEBDigestAlgorithm!==r){t.next=7;break}return t.abrupt("return",!1);case 7:return e(i).find("CertificateType").eq(0).text(a.oAuth.szWeb),e(i).find("algorithmType").eq(0).text(a.oAuth.szWEBDigestAlgorithm),t.abrupt("return",new Promise((function(e,t){var a={urlCGI:"webAuth",data:i,loading:!0};return d["a"].put(a).then((function(t){e(t)}),(function(e){t(e)}))})));case 10:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}()},{key:"save",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,a=[],t.authCap.oSupportAuth.bRtsp&&(t.bNVRDevice?a.push(t.setRtspAuthInfoNVR()):a.push(t.setRtspAuthInfoIPC())),t.authCap.oSupportAuth.bWeb&&a.push(t.setWebAuthInfo()),e.next=6,s["a"].waitAll(a).then((function(e){for(var t=[],a=0,i=e.length;a<i;++a)e[a]&&t.push(e[a].xhr);u["a"].successState(t)}),(function(e){u["a"].saveState(e)}));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),t}();t["a"]=new m}).call(this,a("1157"))},"3e23":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"port-details"},[t("hm-scroll",[t("div",{staticClass:"hm-index-list-item"},[t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",[t("hm-cell",{staticClass:"item-port",attrs:{title:e.$t("portType")}},[e._v("\n            "+e._s(e.portType)+"\n          ")]),t("hm-cell",{class:{"cell-require":e.oParamsValid.oExternalPortValid&&e.oParamsValid.oExternalPortValid.required},attrs:{title:e.$t("externalPort")}},[t("hm-input",{attrs:{disabled:e.odistable},model:{value:e.externalPort,callback:function(t){e.externalPort=t},expression:"externalPort"}}),t("hm-validator",{attrs:{model:e.externalPort,rules:e.oParamsValid.oExternalPortValid,param:e.$t("externalPort")}})],1),t("hm-cell",{attrs:{title:e.$t("externalIp")}},[t("hm-input",{attrs:{disabled:!0},model:{value:e.externalIp,callback:function(t){e.externalIp=t},expression:"externalIp"}})],1),t("hm-cell",{attrs:{title:e.$t("internalPort")}},[t("hm-input",{attrs:{disabled:!0},model:{value:e.internalPort,callback:function(t){e.internalPort=t},expression:"internalPort"}})],1),t("hm-cell",{attrs:{title:e.$t("status")}},[t("hm-input",{attrs:{disabled:!0},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}})],1)],1)],1)],1)])],1)},n=[],o=a("c050"),r={name:"PortDetails",props:{portDetailsData:{type:Array,default:function(){return[]},required:!0},portStatus:{type:Boolean,default:function(){return!1},required:!0}},data:function(){return{validate:{},oParamsValid:{oExternalPortValid:{required:!0,range:[1,65535]}},portDetails:this.portDetailsData,odistable:this.portStatus,portType:"",externalPort:"",externalIp:"",internalPort:"",status:"",address:""}},mounted:function(){this.initParam()},methods:{initParam:function(){this.portDetails&&(this.portType=this.portDetails.portType,this.externalPort=this.portDetails.externalPort,this.externalIp=this.portDetails.externalIp,this.internalPort=this.portDetails.internalPort,this.status=this.portDetails.status)},changePort:function(){this.validate.validateAll(),o["a"].validateTips(this.validate.getErrorReport())?(this.$emit("changePort",!0,this.externalPort),this.$emit("updata",this.externalPort)):this.$emit("changePort",!1)}}},s=r,l=(a("b234"),a("2877")),c=Object(l["a"])(s,i,n,!1,null,null,null);t["default"]=c.exports},"3e97":function(e,t,a){"use strict";(function(e){a("96cf");var i=a("1da1"),n=a("9b22"),o=a("768a"),r=a("962a"),s=a("23d7"),l=a("6458"),c=a("1f20");t["a"]={name:"TimingCaptureRecord",components:{BasePageExtend:r["a"],TimePlan:s["a"],ChannelList:l["a"]},data:function(){return{iChannelId:-1,oChannel:{id:1},iCurPresetIndex:0,aFilterIds:[],bHoliday:"",aTimes_Capture:n["a"].m_aTimes_Capture,aTimes_Record:n["a"].m_aTimes_Record,oParams:n["a"].m_oParams,oCapbilities:n["a"].m_oCapbilities,oSceneNameMap:n["a"].oSceneNameMap,bShowScheduleCapture:!1,bShowScheduleRecord:!1,bEnableCancelCallback:!0,isParamCap:{inputParam:n["a"].m_oCapbilities.oCapture.oInterval.iDef,textName:this.$t("intervalTime"),unit:this.$t("minute")},isParamRec:{inputParam:n["a"].m_oCapbilities.oRecord.oInterval.iDef,textName:this.$t("intervalTime"),unit:this.$t("minute")}}},watch:{"oChannel.id":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t>0&&t!==a)){e.next=7;break}return n["a"].oChannel.id=t,o["a"].m_iChannelId=t,e.next=5,o["a"].getChannelEvents();case 5:n["a"].initParams(),n["a"].getAll();case 7:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),immediate:!0,deep:!0}},created:function(){c["a"].isEnableHoliday(),this.bHoliday=c["a"].m_oDeviceCapa.bEnableHoliday;for(var t=1;t<=o["a"].m_aOnlineAnalogChannelId;t++)-1===e.inArray(o["a"].m_aOnlineAnalogChannelId[t],o["a"].m_aImageCaptureChannels)&&-1===e.inArray(o["a"].m_aOnlineAnalogChannelId[t],o["a"].m_aScheduledRecordUploadChannels)&&this.aFilterIds.push(t)},methods:{showScheduleCapture:function(){this.bShowScheduleCapture=!0},deleteAllCapture:function(){for(var e=0,t=n["a"].m_aTimes_Capture.length;e<t;e++)n["a"].m_aTimes_Capture[e]=[];this.$refs.timePlanCapture.timesData=n["a"].m_aTimes_Capture,this.$refs.timePlanCapture.$forceUpdate()},confirmCapture:function(){n["a"].m_aTimes_Capture=this.$refs.timePlanCapture.timesData,this.bShowScheduleCapture=!1},cancelcallbackCapture:function(){this.bShowScheduleCapture=!1},showScheduleRecord:function(){this.bShowScheduleRecord=!0},deleteAllRecord:function(){for(var e=0,t=n["a"].m_aTimes_Record.length;e<t;e++)n["a"].m_aTimes_Record[e]=[];this.$refs.timePlanRecord.timesData=n["a"].m_aTimes_Record,this.$refs.timePlanRecord.$forceUpdate()},confirmRecord:function(){n["a"].m_aTimes_Record=this.$refs.timePlanRecord.timesData,this.bShowScheduleRecord=!1},cancelcallbackRecord:function(){this.bShowScheduleRecord=!1},addPreset:function(){n["a"].addPreset()},PresetUp:function(){n["a"].PresetUp()},PresetDown:function(){n["a"].PresetDown()},deletePreset:function(){n["a"].deletePreset()},save:function(){n["a"].save()},changeStep:function(){n["a"].changeStep()},changePreset:function(e){this.iCurPresetIndex=e}}}}).call(this,a("1157"))},"3f14":function(e,t,a){"use strict";(function(e){a("28a5"),a("c5f6"),a("7514"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("c050"),s=a("1f20"),l=a("9741"),c=a("7de8"),u=a("d09c"),d=a("8d94"),p=a("f193"),m=function(){function t(){var e=this;Object(n["a"])(this,t),this.oXmlDoc=null,this.m_oCapbilities={bSptUsePhoneSadp:!1,bSupportWorkMode:!1,aEthernetTypeSupport:[!1,!1,!1,!1,!1,!1],aNetworkMode:[!1,!1],aMtuRange:[500,9676],bSupportIpv6:!0,iBondModeNum:1,iBondNum:1,bSupportDefaultConnection:!1,aRoute:[],aEthernetNames:[],bSupportPoe:!1,bSupportEnableDns:!1},this.verifyResult={},this.m_oParams={bLazyLoading:!1,szNetworkMode:"",szMulticast:"",bAutoDns:!1,bAutoDnsDisabled:!1,bDnsServerDisabled:!1,szPrimaryDns:"",szIpv6Mode:"1",szAlternateDns:"",szMainEthernet:"1",szDefaultRoute:"1",bEnablePPPoE:!1,tableData:{tableItem:[]},szRegisterDNSName:"",bSupportSubMaskLength:!1,szSubMaskLength:"",szInNicIPv4Address:"",szEnableDNS:!1,iID:0,szEthernetType:"",bDhcp:!1,szIpv4:"",szIpv4Mask:"",szIpv4Gateway:"",oIPV6:{},szIpv6:"",szIpv6Gateway:"",szIpv6Bitmask:"",szMacAddress:"",szMtu:"",bSupportMtu:!1,bSupportIpv6:!0,bSupportIpv6Mode:!1,bSupportNicType:!1,iNetIndex:1},this.m_aBondParams=[],this.m_aEthernetParams=[],this.m_aEthernetParam=[],this.oXmlBond=null,this.oXmlNetwork=null,this.oRouteAdList=[],this.m_oParamsValid={oIpValid:{required:!0,ipv4:!0},oIpMask:{required:!0,mask:!0},oIpGetway:{required:!1,ip:!0},oMtu:{required:!0,range:[500,9676]},oMainDns:{required:!0,custom:function(t){var a=!0;return c["a"].isEmpty(t)||c["a"].isIPv6Address(t)||(a=!1,e.m_oParamsValid.oIpv6Addr.oMessages.custom=d["a"].t("wrong")+d["a"].t("ipAddr")),a}},oSubDns:{required:!1,subDns:!0},oIpv6Addr:{required:!0,ipv6ex:!0},oIpv6Bitmask:{required:!0,range:[3,127]},oIpv6GateWay:{required:!1,ipv6GateWay:!0},oMulticast:{required:!1,ipcmulticast:!0},oActiveMulticastAddr:{required:!0,ipcmulticast:!0},oActiveMulticastPort:{required:!0,range:[1,1]},oDNSName:{required:!0,lengthRange:[0,32]},oIPv4:{required:!0,ip:!0}},this.oPoeXhr=null}return Object(o["a"])(t,[{key:"initNetwork",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].getNetworkCap();case 2:return this.m_oCapbilities.bNVR=0===l["a"].iDeviceType,this.m_oCapbilities.bSupportPoe=s["a"].m_oDeviceCapa.bSupportPoe,this.m_oCapbilities.bNVR?this.m_oParamsValid.oIpv6Bitmask={required:!0,lengthRange:[3,127]}:this.m_oParamsValid.oIpv6Bitmask={required:!0,range:[3,127]},e.next=7,this.getPPPoEInfo();case 7:if(1!==l["a"].iDeviceType){e.next=12;break}return e.next=10,this.getMulticast();case 10:return e.next=12,this.getPhoneSadpInfo();case 12:return e.next=14,this.getNetworkBondCapaCabs();case 14:return e.next=16,this.getNetworkFaceCapaCabs();case 16:return this.getPoeInfo(),e.abrupt("return",this.getNetworkInfos());case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getPhoneSadpInfo",value:function(){var t=this,a=new Promise((function(a){var i={urlCGI:"phoneSadpInfo",params:{},data:null,loading:!0};p["a"].get(i).then((function(i){var n=i.oResult;e(n).find("ONVIFDiscoveryMode").length>0||e(n).find("ISDiscoveryMode").length>0?(t.m_oCapbilities.bSptUsePhoneSadp=!0,"discoverable"===e(n).find("ONVIFDiscoveryMode").eq(0).text()||"discoverable"===e(n).find("ISDiscoveryMode").eq(0).text()?t.m_oParams.bUsePhoneSadp=!0:t.m_oParams.bUsePhoneSadp=!1):t.m_oCapbilities.bSptUsePhoneSadp=!1,a()}),(function(){t.m_oParams.bEnablePPPoE=!1,a()}))}));return a}},{key:"getMulticast",value:function(){var t=this,a=new Promise((function(a){var i={urlCGI:"MulticastInfo",params:{},data:null,loading:!0};p["a"].get(i).then((function(i){var n=i.oResult;if(t.m_oParams.szMulticastXml=i.xhr.responseText,e(n).find("Transport").eq(0).find("Multicast").length>0){var o="";t.m_oCapbilities.bSptIPCMulticast=!0,e(n).find("Transport").eq(0).find("Multicast").eq(0).find("destIPAddress").length>0?o=e(n).find("Transport").eq(0).find("Multicast").eq(0).find("destIPAddress").eq(0).text():e(n).find("Transport").eq(0).find("Multicast").eq(0).find("destIPv6Address").length>0&&(o=e(n).find("Transport").eq(0).find("Multicast").eq(0).find("destIPv6Address").eq(0).text()),t.m_oParams.szMulticast="::"===o||"0.0.0.0"===o?"":o}else t.m_oCapbilities.bSptIPCMulticast=!1;a()}),(function(){a()}))}));return a}},{key:"enableDns",value:function(e){1===e&&(this.m_oParams.bAutoDns=this.m_oParams.bDhcp),this.m_oCapbilities.bSupportEnableDns?(this.m_oParams.bAutoDnsDisabled=!this.m_oParams.bDhcp&&"dhcp"!==this.m_oParams.szIpv6Mode,this.m_oParams.bDhcp||"dhcp"===this.m_oParams.szIpv6Mode?this.m_oParams.bDnsServerDisabled=this.m_oParams.bAutoDns:(this.m_oParams.bAutoDns=!1,this.m_oParams.bDnsServerDisabled=!1),Number(this.m_oParams.szDefaultRoute)!==1+this.m_oParams.iNetIndex&&(this.m_oParams.bAutoDnsDisabled=!0,this.m_oParams.bDnsServerDisabled=!0)):this.m_oParams.bDnsServerDisabled=this.m_oParams.bDhcp||this.m_oParams.bEnablePPPoE}},{key:"getPPPoEInfo",value:function(){var e=this,t=new Promise((function(t){var a={urlCGI:"PPPoEInfo",params:{},data:null,loading:!0};p["a"].get(a).then((function(a){var i=a.oResult;e.m_oParams.bEnablePPPoE=c["a"].nodeValue(i,"enabled","b"),t()}),(function(){e.m_oParams.bEnablePPPoE=!1,t()}))}));return t}},{key:"getNetworkBondCapaCabs",value:function(){var t=this,a=new Promise((function(a){var i={urlCGI:"networkBondCapa",params:{},data:null,loading:!0};p["a"].get(i).then((function(i){var n=i.oResult;t.m_oCapbilities.bSupportWorkMode=!0;var o=e(n).find("workMode").eq(0).attr("opt").split(",");1===o.length?"active-backup"===o[0]?t.m_oCapbilities.aNetworkMode[0]=!0:t.m_oCapbilities.aNetworkMode[1]=!0:(t.m_oCapbilities.aNetworkMode[0]=!0,t.m_oCapbilities.aNetworkMode[1]=!0),t.m_oCapbilities.iBondNum=e(n).find("Bond").length,t.m_oCapbilities.iBondModeNum=o.length,a()}),(function(){t.m_oCapbilities.bSupportWorkMode=!1,a()}))}));return a}},{key:"getNetworkFaceCapaCabs",value:function(){var t=this,a=new Promise((function(a){var i={urlCGI:"networkInterfaceCapa",params:{},data:null,loading:!0};p["a"].get(i).then((function(i){var n=i.oResult;t.m_oCapbilities.aRoute.length=0,t.m_oCapbilities.aEthernetNames.length=0,e(n).find("NetworkInterface").each((function(e){t.m_oCapbilities.aRoute.push({text:"Lan"+(e+1),value:e+1}),t.m_oCapbilities.aEthernetNames.push({text:"Lan"+(e+1),value:e})})),void 0!==e(n).find("Link").eq(0).find("autoNegotiation").eq(0).attr("opt")?2===e(n).find("Link").eq(0).find("autoNegotiation").eq(0).attr("opt").split(",").length&&(t.m_oCapbilities.aEthernetTypeSupport[4]=!0):"true"===e(n).find("Link").eq(0).find("autoNegotiation").eq(0).text()&&(t.m_oCapbilities.aEthernetTypeSupport[4]=!0);var o=[];void 0!==e(n).find("Link").eq(0).find("speed").eq(0).attr("opt")&&(o=e(n).find("Link").eq(0).find("speed").eq(0).attr("opt").split(","));var r=[];void 0!==e(n).find("Link").eq(0).find("duplex").eq(0).attr("opt")&&(r=e(n).find("Link").eq(0).find("duplex").eq(0).attr("opt").split(","));for(var s=0;s<o.length;s++)2===r.length?"10"===o[s]?(t.m_oCapbilities.aEthernetTypeSupport[0]=!0,t.m_oCapbilities.aEthernetTypeSupport[1]=!0):"100"===o[s]?(t.m_oCapbilities.aEthernetTypeSupport[2]=!0,t.m_oCapbilities.aEthernetTypeSupport[3]=!0):"1000"===o[s]&&(t.m_oCapbilities.aEthernetTypeSupport[5]=!0):"half"===r[0]?"10"===o[s]?t.m_oCapbilities.aEthernetTypeSupport[0]=!0:"100"===o[s]&&(t.m_oCapbilities.aEthernetTypeSupport[2]=!0):"10"===o[s]?t.m_oCapbilities.aEthernetTypeSupport[1]=!0:"100"===o[s]?t.m_oCapbilities.aEthernetTypeSupport[3]=!0:"1000"===o[s]&&(t.m_oCapbilities.aEthernetTypeSupport[5]=!0);if(null!==e(n).find("MTU").eq(0).attr("min")&&(t.m_oCapbilities.aMtuRange[0]=parseInt(e(n).find("MTU").eq(0).attr("min"),10),t.m_oCapbilities.aMtuRange[1]=parseInt(e(n).find("MTU").eq(0).attr("max"),10),t.m_oParamsValid.oMtu.range[1]=t.m_oCapbilities.aMtuRange[1],t.m_oParamsValid.oMtu.range[0]=t.m_oCapbilities.aMtuRange[0]),e(n).find("ActiveMulticast").length?(t.m_oCapbilities.bSptActiveMulticast=!0,t.m_oParamsValid.oActiveMulticastAddr.required=!1,t.m_oParamsValid.oActiveMulticastPort.required=!1,e(n).find("ActiveMulticast").each((function(e,a){var i=c["a"].nodeAttr(a,"port","min","i"),n=c["a"].nodeAttr(a,"port","max","i");t.m_oParamsValid.oActiveMulticastPort.range[0]=i,t.m_oParamsValid.oActiveMulticastPort.range[1]=n}))):(t.m_oCapbilities.bSptActiveMulticast=!1,t.m_oParamsValid.oActiveMulticastAddr.required=!0,t.m_oParamsValid.oActiveMulticastPort.required=!0),0===e(n).find("ipv6Address").length&&(t.m_oCapbilities.bSupportIpv6=!1),e(n).find("defaultConnection").length&&(t.m_oCapbilities.bSupportDefaultConnection=!0),e(n).find("DNSEnable").length&&(t.m_oCapbilities.bSupportEnableDns=!0),e(n).find("addressingType").length&&e(n).find("addressingType").attr("opt")){var l=e(n).find("addressingType").attr("opt").split(",");1===l.length&&"static"===l[0]&&(t.m_oCapbilities.bSupportDhcp=!1)}a()}),(function(){a()}))}));return a}},{key:"testIP",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a,i,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a="<?xml version='1.0' encoding='UTF-8'?><pingTestDescription>",a+="<ipAddress>"+this.m_oParams.szIpv4+"</ipAddress>",a+="</pingTestDescription>",i=c["a"].parseXmlFromStr(a),n=r["a"].wait(d["a"].t("Testing")),o={urlCGI:"ipTest",params:{},data:i},p["a"].post(o).then((function(t){var a=t.oResult;setTimeout((function(){n.close();var t=d["a"].t("TestFailed"),i=c["a"].nodeValue(e(a),"status");switch(i){case"used":t=d["a"].t("ipUsed");break;case"not used":t=d["a"].t("ipNotUsed");break;default:break}r["a"].stateAlert(t,"fail")}),2e3)}),(function(){setTimeout((function(){n.close(),r["a"].stateAlert("ERROR","fail")}),2e3)}));case 7:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}()},{key:"getNetworkInfo",value:function(t){var a=this,i=new Promise((function(i){var n={urlCGI:"networkBond",params:{id:t.iNetIndex+1},data:null,loading:!0};p["a"].get(n).then((function(n){var o=n.oResult;a.oXmlBond=o,t.szNetworkMode=c["a"].nodeValue(e(o),"workMode"),a.m_oParams.szNetworkMode=c["a"].nodeValue(e(o),"enabled","b")?t.szNetworkMode:"multiAddress";var r=c["a"].nodeValue(e(o),"speed"),s=c["a"].nodeValue(e(o),"duplex"),l=c["a"].nodeValue(e(o),"autoNegotiation");"true"===l?t.szEthernetType="5":"10"===r?"half"===s?t.szEthernetType="1":"full"===s&&(t.szEthernetType="2"):"100"===r?"half"===s?t.szEthernetType="3":"full"===s&&(t.szEthernetType="4"):t.szEthernetType="1000"===r?"6":"1",t.bDhcp="dynamic"===c["a"].nodeValue(e(o),"addressingType"),t.szIpv4=c["a"].nodeValue(e(o),"ipAddress"),t.szIpv4Mask=c["a"].nodeValue(e(o),"subnetMask"),"0.0.0.0"===c["a"].nodeValue(e(o).find("DefaultGateway").eq(0),"ipAddress")?t.szIpv4Gateway="":t.szIpv4Gateway=c["a"].nodeValue(e(o).find("DefaultGateway").eq(0),"ipAddress"),t.szIpv6=c["a"].nodeValue(e(o),"ipv6Address"),t.szIpv6Gateway=c["a"].nodeValue(e(o).find("DefaultGateway").eq(0),"ipv6Address"),t.szMacAddress=c["a"].nodeValue(e(o),"MACAddress"),t.szMtu=c["a"].nodeValue(e(o),"MTU"),e(o).find("MTU").length>0&&(t.bSupportMtu=!0),e(o).find("PrimaryDNS").eq(0).find("ipAddress").length>0?"0.0.0.0"===c["a"].nodeValue(e(o).find("PrimaryDNS").eq(0),"ipAddress")?t.szPrimaryDns="":t.szPrimaryDns=c["a"].nodeValue(e(o).find("PrimaryDNS").eq(0),"ipAddress"):e(o).find("PrimaryDNS").eq(0).find("ipv6Address").length>0?t.szPrimaryDns=c["a"].nodeValue(e(o).find("PrimaryDNS").eq(0),"ipv6Address"):t.szPrimaryDns="",e(o).find("SecondaryDNS").eq(0).find("ipAddress").length>0?"0.0.0.0"===c["a"].nodeValue(e(o).find("SecondaryDNS").eq(0),"ipAddress")?t.szAlternateDns="":t.szAlternateDns=c["a"].nodeValue(e(o).find("SecondaryDNS").eq(0),"ipAddress"):e(o).find("SecondaryDNS").eq(0).find("ipv6Address").length>0?t.szAlternateDns=c["a"].nodeValue(e(o).find("SecondaryDNS").eq(0),"ipv6Address"):t.szAlternateDns="",e(o).find("DNSName").length>0&&(a.m_oParams.szRegisterDNSName=c["a"].nodeValue(e(o),"DNSName"),a.m_oParams.szEnableDNS=!0),e(o).find("bitMask").length>0&&(t.bSupportSubMaskLength=!0,t.szSubMaskLength=c["a"].nodeValue(e(o),"bitMask")),e(o).find("primaryIf").length>0&&(t.szMainEthernet=c["a"].nodeValue(e(o),"primaryIf")),e(o).find("DNSEnable").length&&(t.bAutoDns=c["a"].nodeValue(e(o),"DNSEnable","b")),0===e(o).find("ipv6Address").length?t.bSupportIpv6=!1:t.bSupportIpv6=!0,0===e(o).find("ipV6AddressingType").length?t.bSupportIpv6Mode=!1:t.bSupportIpv6Mode=!0,0!==e(o).find("Ipv6Mode").length&&(t.szIpv6Mode=c["a"].nodeValue(e(o).find("Ipv6Mode").eq(0),"ipV6AddressingType")),a.m_aBondParams.push(t),i()}),(function(){a.m_oParams.szNetworkMode="multiAddress",i()}))}));return i}},{key:"getNetworkInfos",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=this,t.m_aBondParams.length=0,a=0;case 3:if(!(a<t.m_oCapbilities.iBondNum)){e.next=10;break}return i={iNetIndex:a,bSupportMtu:!1},e.next=7,t.getNetworkInfo(i);case 7:a++,e.next=3;break;case 10:return e.abrupt("return",t.getNetworkInterface());case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getNetworkInterface",value:function(){var t=this;t.m_aEthernetParams.length=0;var a=new Promise((function(a){var i={urlCGI:"networkInterface",params:{},data:null,loading:!0};p["a"].get(i).then((function(i){var n=i.oResult;t.oXmlNetwork=n;var o=e(n).find("NetworkInterface"),r=o.length,s=[];o.each((function(a,i){s={iNetIndex:a,szNetworkMode:"multiAddress",szEthernetType:"",bDhcp:!1,szIpv4:"",szIpv4Mask:"",szIpv4Gateway:"",oIPV6:{},szIpv6:"",szIpv6Gateway:"",szIpv6Bitmask:"",szMacAddress:"",szMtu:"",bSupportMtu:!1,bSupportIpv6:!1,bSupportIpv6Mode:!1,szIpv6Mode:"",bSupportNicType:!1,szPrimaryDns:"",szAlternateDns:"",szRegisterDNSName:"",szSubMaskLength:"",szEnableDNS:!1};var o=c["a"].nodeValue(e(i),"speed"),r=c["a"].nodeValue(e(i),"duplex"),l=c["a"].nodeValue(e(i),"autoNegotiation");s.iID=c["a"].nodeValue(i,"id","i"),s.bSupportNicType=""!==l,"true"===l?s.szEthernetType="5":"10"===o?"half"===r?s.szEthernetType="1":"full"===r&&(s.szEthernetType="2"):"100"===o?"half"===r?s.szEthernetType="3":"full"===r&&(s.szEthernetType="4"):s.szEthernetType="1000"===o?"6":"1",s.bDhcp="dynamic"===c["a"].nodeValue(e(i),"addressingType"),s.szIpv4=c["a"].nodeValue(e(i),"ipAddress"),s.szIpv4Mask=c["a"].nodeValue(e(i),"subnetMask"),"0.0.0.0"===c["a"].nodeValue(e(i).find("DefaultGateway").eq(0),"ipAddress")?s.szIpv4Gateway="":s.szIpv4Gateway=c["a"].nodeValue(e(i).find("DefaultGateway").eq(0),"ipAddress"),s.szIpv6=c["a"].nodeValue(e(i),"ipv6Address"),s.szIpv6Bitmask=c["a"].nodeValue(e(i),"bitMask"),s.szIpv6Gateway=c["a"].nodeValue(e(i).find("DefaultGateway").eq(0),"ipv6Address"),s.szMacAddress=c["a"].nodeValue(e(i),"MACAddress"),s.szMtu=c["a"].nodeValue(e(i),"MTU");var u=s.oIPV6;u&&e(i).find("IPAddress ipv6AddressList").eq(0).find("v6Address").each((function(t,a){u[c["a"].nodeValue(a,"type")]=u[c["a"].nodeValue(a,"type")]||{address:c["a"].nodeValue(a,"address"),bitMask:c["a"].nodeValue(a,"bitMask"),defaultGateway:c["a"].nodeValue(e(i).find("DefaultGateway").eq(0),"ipv6Address")}})),e(i).find("MTU").length>0&&(s.bSupportMtu=!0),e(i).find("PrimaryDNS").eq(0).find("ipAddress").length>0?"0.0.0.0"===c["a"].nodeValue(e(i).find("PrimaryDNS").eq(0),"ipAddress")?s.szPrimaryDns="":s.szPrimaryDns=c["a"].nodeValue(e(i).find("PrimaryDNS").eq(0),"ipAddress"):e(i).find("PrimaryDNS").eq(0).find("ipv6Address").length>0?s.szPrimaryDns=c["a"].nodeValue(e(i).find("PrimaryDNS").eq(0),"ipv6Address"):s.szPrimaryDns="",e(i).find("SecondaryDNS").eq(0).find("ipAddress").length>0?"0.0.0.0"===c["a"].nodeValue(e(i).find("SecondaryDNS").eq(0),"ipAddress")?s.szAlternateDns="":s.szAlternateDns=c["a"].nodeValue(e(i).find("SecondaryDNS").eq(0),"ipAddress"):e(i).find("SecondaryDNS").eq(0).find("ipv6Address").length>0?s.szAlternateDns=c["a"].nodeValue(e(i).find("SecondaryDNS").eq(0),"ipv6Address"):s.szAlternateDns="",t.m_oCapbilities.bSupportDefaultConnection&&(s.bDefaultConnection=c["a"].nodeValue(e(i),"defaultConnection","b"),s.bDefaultConnection&&(t.m_oParams.szDefaultRoute=a+1)),e(n).find("DNSEnable").length&&(s.bAutoDns=c["a"].nodeValue(e(n),"DNSEnable","b")),e(n).find("primaryIf").length>0&&(s.szMainEthernet=c["a"].nodeValue(e(i),"primaryIf")),e(n).find("DNSName").length>0&&(t.m_oParams.szRegisterDNSName=c["a"].nodeValue(e(n),"DNSName"),t.m_oParams.szEnableDNS=!0),0===e(i).find("ipv6Address").length?s.bSupportIpv6=!1:s.bSupportIpv6=!0,e(n).find("bitMask").length>0&&(s.bSupportSubMaskLength=!0,s.szSubMaskLength=c["a"].nodeValue(e(i),"bitMask")),e(i).find("ipV6AddressingType").length>0?(s.szIpv6Mode=c["a"].nodeValue(e(i),"ipV6AddressingType"),s.bSupportIpv6Mode=!0):(s.szIpv6Mode="manual",s.bSupportIpv6Mode=!1);var d=e(n).find("ActiveMulticast").eq(0);if(d.length){var p=t.m_oParams;p.bEnableActiveMulticast=c["a"].nodeValue(d,"enabled","b"),p.szActiveMulticastAddr=c["a"].nodeValue(d,"ipV4Address")||c["a"].nodeValue(d,"ipV6Address"),p.szActiveMulticastPort=c["a"].nodeValue(d,"port"),p.szActiveMulticastStream=c["a"].nodeValue(d,"streamID")}t.m_aEthernetParams.push(s)})),r&&(t.m_oParams.szPrimaryDns=s.szPrimaryDns,t.m_oParams.szAlternateDns=s.szAlternateDns),t.oRouteAdList.length=0,e(n).find("IPAddress").eq(0).find("ipv6AddressList").eq(0).find("v6Address").each((function(a,i){if("ra"===e(i).find("type").eq(0).text()){var n=[];n[0]=[e(i).find("address").eq(0).text()],t.oRouteAdList.push(n)}})),a()}),(function(){a()}))}));return a}},{key:"setCurPageNetParam",value:function(t,a,i){var n=this,o={};"multiAddress"===t?(a=a||0,"undefined"!==typeof i&&i>-1&&n.setSingleNetParam(n.m_aEthernetParams[i],n.m_oParams),o=n.m_aEthernetParams[a]):n.m_oCapbilities.iBondModeNum===n.m_aBondParams.length?e.each(n.m_aBondParams,(function(e,a){if(t===a.szNetworkMode)return o=a,!1})):o=n.m_aBondParams[0],o&&(o.szNetworkMode=t||o.szNetworkMode,n.setSingleNetParam(n.m_oParams,o),n.m_aEthernetParam=o)}},{key:"setSingleNetParam",value:function(e,t){t.hasOwnProperty("szNetworkMode")&&(e.szNetworkMode=t.szNetworkMode),e.iNetIndex=t.iNetIndex,e.szEthernetType=t.szEthernetType,e.bDhcp=t.bDhcp,e.szIpv4=t.szIpv4,e.szIpv4Mask=t.szIpv4Mask,e.szIpv4Gateway=t.szIpv4Gateway,e.szIpv6=t.szIpv6,e.szIpv6Gateway=t.szIpv6Gateway,e.szMacAddress=t.szMacAddress,e.szMtu=t.szMtu,e.bAutoDns=t.bAutoDns,e.oIPV6=t.oIPV6,e.szIpv6=t.szIpv6,e.szIpv6Gateway=t.szIpv6Gateway,e.szIpv6Bitmask=t.szIpv6Bitmask,e.szMacAddress=t.szMacAddress,e.szMtu=t.szMtu,e.bSupportMtu=t.bSupportMtu,e.bSupportIpv6=t.bSupportIpv6,e.bSupportIpv6Mode=t.bSupportIpv6Mode,e.szIpv6Mode=t.szIpv6Mode,e.bSupportNicType=t.bSupportNicType,e.szPrimaryDns=t.szPrimaryDns,e.szAlternateDns=t.szAlternateDns,e.bSupportSubMaskLength=t.bSupportSubMaskLength,e.szSubMaskLength=t.szSubMaskLength,t.hasOwnProperty("szMainEthernet")&&(e.szMainEthernet=t.szMainEthernet)}},{key:"setxml",value:function(e,t){var a={urlCGI:"networkInterfacePut",params:{id:e+1},data:t,loading:!0};return p["a"].put(a)}},{key:"setPhoneSadpInfo",value:function(){var e="nonDiscoverable";this.m_oParams.bUsePhoneSadp&&(e="discoverable");var t="<?xml version='1.0' encoding='UTF-8'?><DiscoveryMode><ONVIFDiscoveryMode>"+e+"</ONVIFDiscoveryMode>";t+="<ISDiscoveryMode>"+e+"</ISDiscoveryMode></DiscoveryMode>";var a=c["a"].parseXmlFromStr(t);return new Promise((function(e){var t={urlCGI:"phoneSadpInfo",params:{},data:a,loading:!0};p["a"].put(t).then((function(){e()}),(function(){e()}))}))}},{key:"setMulticast",value:function(){var t=this.m_oParams.szMulticast,a=c["a"].parseXmlFromStr(this.m_oParams.szMulticastXml),i=e(a).find("Transport").eq(0).children("Multicast").eq(0);"ipv6Address"!==c["a"].checkAddressingType(t)?(i.find("destIPAddress").length>0?i.find("destIPAddress").eq(0).text(""===t?"0.0.0.0":t):i.append(e(c["a"].parseXmlFromStr('<?xml version="1.0" encoding="UTF-8"?><Multicast><destIPAddress>'+(""===t?"0.0.0.0":t)+"</destIPAddress></Multicast>")).find("Multicast").eq(0).clone().children()),i.find("destIPv6Address").length>0&&i.find("destIPv6Address").eq(0).remove()):(i.find("destIPAddress").length>0&&i.find("destIPAddress").eq(0).remove(),i.find("destIPv6Address").length>0?i.find("destIPv6Address").eq(0).text(""===t?"::":t):i.append(e(c["a"].parseXmlFromStr('<?xml version="1.0" encoding="UTF-8"?><Multicast><destIPv6Address>'+(""===t?"::":t)+"</destIPv6Address></Multicast>")).find("Multicast").eq(0).clone().children()));var n=c["a"].parseXmlFromStr('<?xml version="1.0" encoding="UTF-8"?><StreamingChannel><Transport></Transport></StreamingChannel>'),o=e(n).find("Transport").eq(0);return o.append(e(a).find("Transport").eq(0).clone().children("ControlProtocolList")),o.append(e(a).find("Transport").eq(0).clone().children("Multicast")),new Promise((function(e){var t={urlCGI:"MulticastInfo",params:{},data:a,loading:!0};p["a"].put(t).then((function(){e()}),(function(){e()}))}))}},{key:"setNetworkInterfaceInfo",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){var n,o,r,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=this,!n.m_oCapbilities.bSptUsePhoneSadp||1!==l["a"].iDeviceType){t.next=6;break}return t.next=4,n.setPhoneSadpInfo();case 4:return t.next=6,n.setMulticast();case 6:return o=[],e(n.oXmlNetwork).find("NetworkInterface").each(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=n.setXml("multiAddress",n.m_aEthernetParams[t],n.oXmlNetwork),o.push(n.setxml(t,a));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r=[],d=[],t.next=12,c["a"].waitAll(o).then((function(e){for(var t=0,a=e.length;t<a;++t)r.push(e[t].xhr)}),(function(e){d.push(e)}));case 12:if(!s["a"].m_oDeviceCapa.bSupportPoe){t.next=15;break}return t.next=15,n.savePoe();case 15:this.m_oParams.bLazyLoading=!1,a&&"7"===e(a.responseXML).find("statusCode").eq(0).text()?u["a"].saveState(a):r.length>0?u["a"].saveState(r[0]):d.length>0&&u["a"].saveState(d[0]);case 17:case"end":return t.stop()}}),t,this)})));function a(e){return t.apply(this,arguments)}return a}()},{key:"save",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a,i,n,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=this,a.oPoeXhr=null,this.m_oParams.bLazyLoading=!0,"multiAddress"===a.m_oParams.szNetworkMode?a.setSingleNetParam(a.m_aEthernetParams[a.m_oParams.iNetIndex],a.m_oParams):a.setSingleNetParam(a.m_aBondParams[0],a.m_oParams),!a.m_oCapbilities.bSupportWorkMode){t.next=18;break}if(i=null,"multiAddress"===a.m_oParams.szNetworkMode){t.next=13;break}if(!s["a"].m_oDeviceCapa.bSupportPoe){t.next=10;break}return t.next=10,a.savePoe(!0);case 10:i=a.setXml(a.m_oParams.szNetworkMode,a.m_aBondParams[0],a.oXmlBond),t.next=16;break;case 13:i=a.oXmlBond,e(i).find("enabled").eq(0).text("false"),e(i).find("workMode").eq(0).text("1");case 16:return n={urlCGI:"networkBond",params:{id:1},data:i,loading:!0},t.abrupt("return",p["a"].put(n).then((function(e){"multiAddress"!==a.m_oParams.szNetworkMode?(o.m_oParams.bLazyLoading=!1,null!==a.oPoeXhr?u["a"].saveState(a.oPoeXhr):u["a"].saveState(e.xhr)):a.setNetworkInterfaceInfo(e.xhr)}),(function(e){"multiAddress"!==a.m_oParams.szNetworkMode?(o.m_oParams.bLazyLoading=!1,null!==a.oPoeXhr?u["a"].saveState(a.oPoeXhr):u["a"].saveState(e)):a.setNetworkInterfaceInfo(e)})));case 18:return t.abrupt("return",a.setNetworkInterfaceInfo());case 19:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}()},{key:"setXml",value:function(e,t,a){var i="<?xml version='1.0' encoding='UTF-8'?>",n="",o="",r="";if("1"===t.szEthernetType?(n="10",o="half",r="false"):"2"===t.szEthernetType?(n="10",o="full",r="false"):"3"===t.szEthernetType?(n="100",o="half",r="false"):"4"===t.szEthernetType?(n="100",o="full",r="false"):"6"===t.szEthernetType?(n="1000",o="full",r="false"):"5"===t.szEthernetType&&(n="0",o="full",r="true"),"multiAddress"===e?i+="<NetworkInterface><id>"+(t.iNetIndex+1)+"</id>":(i+="<Bond><id>1</id>",i+="<enabled>true</enabled><workMode>"+t.szNetworkMode+"</workMode><primaryIf>"+t.szMainEthernet+"</primaryIf><slaveIfList><ethernetIfId>1</ethernetIfId><ethernetIfId>2</ethernetIfId></slaveIfList>"),i+="<IPAddress><ipVersion>"+c["a"].nodeValue(a,"ipVersion")+"</ipVersion><addressingType>"+(t.bDhcp?"dynamic":"static")+"</addressingType><ipAddress>"+t.szIpv4+"</ipAddress><subnetMask>"+t.szIpv4Mask+"</subnetMask>",t.bSupportIpv6Mode?("manual"===t.szIpv6Mode&&(i+="<ipv6Address>"+t.szIpv6+"</ipv6Address>",i+="<bitMask>"+t.szIpv6Bitmask+"</bitMask>"),i+="<ipV6AddressingType>"+t.szIpv6Mode+"</ipV6AddressingType>"):i+="<ipv6Address>"+t.szIpv6+"</ipv6Address>",t.bSupportSubMaskLength?i+="<bitMask>"+t.szSubMaskLength+"</bitMask>":i+="<bitMask>"+c["a"].nodeValue(a,"bitMask")+"</bitMask>",""===t.szIpv4Gateway?i+="<DefaultGateway><ipAddress>0.0.0.0</ipAddress></DefaultGateway>":i+="<DefaultGateway><ipAddress>"+t.szIpv4Gateway+"</ipAddress></DefaultGateway>",""===this.m_oParams.szPrimaryDns)i+="<PrimaryDNS><ipAddress>0.0.0.0</ipAddress></PrimaryDNS>";else{var s=c["a"].checkAddressingType(this.m_oParams.szPrimaryDns);i+="ipv6Address"===s?"<PrimaryDNS><ipv6Address>"+this.m_oParams.szPrimaryDns+"</ipv6Address></PrimaryDNS>":"<PrimaryDNS><ipAddress>"+this.m_oParams.szPrimaryDns+"</ipAddress></PrimaryDNS>"}if(""===this.m_oParams.szAlternateDns)i+="<SecondaryDNS><ipAddress>0.0.0.0</ipAddress></SecondaryDNS>";else{var l=c["a"].checkAddressingType(this.m_oParams.szAlternateDns);i+="ipv6Address"===l?"<SecondaryDNS><ipv6Address>"+this.m_oParams.szAlternateDns+"</ipv6Address></SecondaryDNS>":"<SecondaryDNS><ipAddress>"+this.m_oParams.szAlternateDns+"</ipAddress></SecondaryDNS>"}return"multiAddress"===e&&this.m_oCapbilities.bSupportEnableDns&&(i+="<DNSEnable>"+t.bAutoDns+"</DNSEnable>"),i+="</IPAddress>",i+="<Link><MACAddress>"+c["a"].nodeValue(a,"MACAddress")+"</MACAddress><autoNegotiation>"+r+"</autoNegotiation><speed>"+n+"</speed><duplex>"+o+"</duplex><MTU>"+t.szMtu+"</MTU></Link>",i+="<DNS><enable>"+this.m_oParams.szEnableDNS+"</enable><DNSName>"+this.m_oParams.szRegisterDNSName+"</DNSName></DNS>","multiAddress"===e?(this.m_oCapbilities.bSupportDefaultConnection&&(i+="<defaultConnection>"+(1+t.iNetIndex===Number(this.m_oParams.szDefaultRoute))+"</defaultConnection>"),i+="</NetworkInterface>"):(this.m_oCapbilities.bSupportEnableDns&&(i+="<DNSEnable>"+t.bAutoDns+"</DNSEnable>"),i+="</Bond>"),i}},{key:"getPoeInfo",value:function(){var e=this,t={urlCGI:"poeInfo",params:{},data:null,loading:!0};p["a"].get(t).then((function(t){var a=t.oResult;try{e.m_oParams.szInNicIPv4Address=a["POE"]["ipAddress"]?a["POE"]["ipAddress"]:a["POE"]["ipv6Address"]}catch(i){}}))}},{key:"savePoe",value:function(e){var t=this,a={POE:{ipAddress:t.m_oParams.szInNicIPv4Address}};return new Promise(e?function(e){var i={urlCGI:"poeInfo",params:{},data:a,loading:!0};p["a"].put(i).then((function(t){e(t.xhr)}),(function(a){t.oPoeXhr=a,e(a)}))}:function(e){var t={urlCGI:"poeInfo",params:{},data:a,loading:!0};p["a"].put(t).then((function(){e()}),(function(){e()}))})}}]),t}();t["a"]=new m}).call(this,a("1157"))},"3ffb":function(e,t,a){"use strict";a("91f8")},"40d1":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("thirdCloudStorage"),"right-type":"text"}},[t("div",{staticClass:"third-cloud-page-wrapper",attrs:{slot:"content"},slot:"content"},[t("hm-scroll",[t("div",{staticClass:"hm-index-list-item"},[t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("cloudStorageEnable")}},[t("hm-switch",{model:{value:e.oParams.enabled,callback:function(t){e.$set(e.oParams,"enabled",t)},expression:"oParams.enabled"}})],1),t("hm-cell",{attrs:{title:e.$t("cloudType")}},[t("base-select",{attrs:{title:e.$t("cloudType"),options:e.oCapbilities.aCloudTypes,disabled:e.bDisabled},model:{value:e.oParams.szCloudType,callback:function(t){e.$set(e.oParams,"szCloudType",t)},expression:"oParams.szCloudType"}})],1),t("hm-cell",[t("hm-button",{staticClass:"test-btn",attrs:{disabled:e.bDisabled},on:{click:function(t){return e.getUrl()}}},[e._v(e._s(e.$t("laGet")))])],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oAuthCode&&e.oParamsValid.oAuthCode.required},attrs:{title:e.$t("authCode")}},[t("hm-input",{attrs:{disabled:e.bDisabled,maxlength:e.authCodeLength},model:{value:e.oParams.szAuthCode,callback:function(t){e.$set(e.oParams,"szAuthCode",t)},expression:"oParams.szAuthCode"}}),t("hm-validator",{attrs:{model:e.oParams.szAuthCode,rules:e.oParamsValid.oAuthCode,param:e.$t("authCode"),disabled:!0}})],1),t("hm-cell",{attrs:{title:e.$t("state")}},[t("base-select",{attrs:{title:e.$t("state"),options:e.aStatus,disabled:!0},model:{value:e.oParams.szStatus,callback:function(t){e.$set(e.oParams,"szStatus",t)},expression:"oParams.szStatus"}})],1),t("hm-cell",{attrs:{title:e.$t("cloudUserInfo")}},[t("hm-input",{attrs:{disabled:!0},model:{value:e.oParams.szUserInfo,callback:function(t){e.$set(e.oParams,"szUserInfo",t)},expression:"oParams.szUserInfo"}})],1),t("hm-cell",{attrs:{title:e.$t("capacity")+" (GB)"}},[t("hm-input",{attrs:{disabled:!0},model:{value:e.oParams.szCapacity,callback:function(t){e.$set(e.oParams,"szCapacity",t)},expression:"oParams.szCapacity"}})],1),t("hm-cell",{attrs:{title:e.$t("usedSpace")+" (GB)"}},[t("hm-input",{attrs:{disabled:!0},model:{value:e.oParams.szUsedSpace,callback:function(t){e.$set(e.oParams,"szUsedSpace",t)},expression:"oParams.szUsedSpace"}})],1)],1),t("channel-list",{attrs:{"o-channel":e.oChannel}}),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.title}},[t("hm-cell",{attrs:{title:e.$t("uploadType")}},[t("base-select",{attrs:{title:e.$t("uploadType"),options:e.oCapbilities.aUploadTypes},model:{value:e.oParams.szUploadType,callback:function(t){e.$set(e.oParams,"szUploadType",t)},expression:"oParams.szUploadType"}})],1),t("hm-cell",{attrs:{title:e.$t("eventUpload")}},[t("hm-switch",{model:{value:e.oParams.bEventUpload,callback:function(t){e.$set(e.oParams,"bEventUpload",t)},expression:"oParams.bEventUpload"}})],1)],1)],1)],1),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{attrs:{disabled:e.bNoSupport},on:{click:e.save}},[e._v(e._s(e.$t("save")))])],1)]),t("base-view")],1)])},n=[],o=(a("96cf"),a("1da1")),r=a("1c1a"),s=a("6458"),l=a("4d6e"),c=a("c050"),u=a("47b5"),d={name:"StorageManageThirdCloud",components:{BaseView:r["a"],ChannelList:s["a"],BaseSelect:u["a"]},data:function(){return{validate:{},oParams:l["a"].m_oParams,oParamsValid:l["a"].m_oParamsValid,oCapbilities:l["a"].m_oCapbilities,aStatus:[{value:"true",text:this.$t("onLine")},{value:"false",text:this.$t("offLine")}],oChannel:{id:1},bDisabled:!1,bNoSupport:!1,title:" ",authCodeLength:64}},watch:{"oChannel.id":{handler:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t>0&&0!==t)){e.next=3;break}return e.next=3,l["a"].getCloudUploadInfo(t);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0},"oParams.szCloudType":{handler:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t!==l["a"].m_oLastParams.szCloudType?(this.oParams.szAuthCode="",this.oParams.szStatus="false",this.oParams.szCapacity="",this.oParams.szUsedSpace="",this.oParams.szUserInfo=""):(this.oParams.szAuthCode=l["a"].m_oLastParams.szAuthCode,this.oParams.szStatus=l["a"].m_oLastParams.szStatus,this.oParams.szCapacity=l["a"].m_oLastParams.szCapacity,this.oParams.szUsedSpace=l["a"].m_oLastParams.szUsedSpace,this.oParams.szUserInfo=l["a"].m_oLastParams.szUserInfo);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0},"oParams.enabled":{handler:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.bDisabled=!t;case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0}},created:function(){var e=this;this.oChannel={id:1},l["a"].init().finally((function(){e.oParams.enabled?e.bDisabled=!1:e.bDisabled=!0}))},methods:{getUrl:function(){l["a"].getCloudUrl()},save:function(){this.validate.validateAll(),c["a"].validateTips(this.validate.getErrorReport())&&l["a"].save()}}},p=d,m=(a("d30d"),a("2877")),h=Object(m["a"])(p,i,n,!1,null,"bf9e9844",null);t["default"]=h.exports},4119:function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"hm-copy-fade"}},[t("hm-popup",{directives:[{name:"show",rawName:"v-show",value:e.isVisible,expression:"isVisible"}],attrs:{type:"picker",mask:!0,center:!1,"z-index":e.zIndex},on:{touchmove:function(e){e.preventDefault()},"mask-click":e.maskClick}},[t("transition",{attrs:{name:"hm-copy-move"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isVisible,expression:"isVisible"}],staticClass:"hm-copy-panel",style:{height:e.finalData.weekList.length>7?"436px":"394px"},on:{click:function(e){e.stopPropagation()}}},[t("div",{staticClass:"hm-copy-choose"},[t("span",{staticClass:"hm-copy-cancel",on:{click:e.cancel}},[e._v(e._s(e.$t("cancel")))]),t("span",{staticClass:"hm-copy-confirm",on:{click:e.confirm}},[e._v(e._s(e.$t("ok")))]),t("div",{staticClass:"hm-copy-title-group"},[t("h1",{staticClass:"hm-copy-title"},[e._v("\n              "+e._s(e.titleTip)+"\n            ")])])]),t("div",{staticClass:"hm-copy-content"},[t("div",[t("hm-checker",{attrs:{options:e.finalData.weekList},model:{value:e.checkboxCheckerList,callback:function(t){e.checkboxCheckerList=t},expression:"checkboxCheckerList"}})],1)])])])],1)],1)},n=[],o="copy-to",r="select",s="cancel",l={name:o,props:{pending:{type:Boolean,default:!1},titleTip:{type:String,default:"copy to"},weekData:{type:Object,default:function(){return{}},required:!0}},data:function(){return{checkboxCheckerList:[],finalData:this.weekData,isVisible:!1,zIndex:99999,oTranslator:{dayNightSwitchMap:{off:this.$t("off"),auto:this.$t("autoSwitch"),schedule:this.$t("scheduledSwitch")}}}},created:function(){this._values=[],this._indexes=this.selectedIndex},methods:{confirm:function(){this.hide(),this.$emit(r,this.checkboxCheckerList)},maskClick:function(){this.cancel()},cancel:function(){this.hide(),this.$emit(s)},show:function(){this.isVisible||(this.isVisible=!0)},hide:function(){this.isVisible&&(this.isVisible=!1)}}},c=l,u=(a("5fe8"),a("30ee"),a("2877")),d=Object(u["a"])(c,i,n,!1,null,"2cd4bf06",null);t["a"]=d.exports},"419c":function(e,t,a){"use strict";(function(e){a("2397"),a("6b54"),a("5df3"),a("b54a"),a("ac6a"),a("28a5"),a("7514"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("262e"),s=a("99de"),l=a("7e84"),c=a("0fe0"),u=a("1f20"),d=a("7de8"),p=a("f193"),m=a("9741"),h=a("181b"),f=a("768a"),v=a("c050"),b=a("d09c"),g=a("8d94");function P(e){var t=S();return function(){var a,i=Object(l["a"])(e);if(t){var n=Object(l["a"])(this).constructor;a=Reflect.construct(i,arguments,n)}else a=i.apply(this,arguments);return Object(s["a"])(this,a)}}function S(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var C=function(t){Object(r["a"])(s,t);var a=P(s);function s(){var e;return Object(n["a"])(this,s),e=a.call(this),e.oEventInfo={bLoading:!1,bEnableEvent:!1,oLink:null,oScheduleTimes:[],bMisinformation:!1,bVehicleMisFilter:!1,iTime:0,iSen:0,iProp:0,bIpcDtectionTargetHuman:!1,bIpcDtectionTargetVehicle:!1,bIpcDtectionTargetOthers:!1,bSupportAll:!1,iFieldId:0,aFieldList:[],szDect:"all",enableEventLan:"",bPluginHide:!1,warnRegionLan:"",aDectList:[],pageTitle:"",oPreset:{bSupportPreset:!1,aPresetList:[],iPresetID:"",sPresetName:""}},e.oEventCap={bSupportHoliday:!1,bSupportModify:!1,bChannelSupport:!1,bEnableLocalDetection:!1,bSupportMultiScene:!1,oAlarmConfidence:{bSupport:!1,aAlarmConfidence:[],szConfidence:""},bRegionBtnDisabled:!0,bSupportMisinformation:!1,bSupportVehicleMisFilter:!1,bSupportDetectionTarget:!1,oSupportDetectionTarget:[],bSupportSmartCalibration:!1,bTime:!0,bSen:!0,bProp:!0,iTimeMin:0,iTimeMax:100,iSenMin:0,iSenMax:100,iPropMin:0,iPropMax:100,bIPCDevice:1===m["a"].iDeviceType,bSupportPTZWithPreview:!1,bDect:!1,bSupportMultiDect:!1,aDectList:[],bSupportConfigByRule:!1},e.oParams={oData:null,iChannelId:0,iDScreenWidth:0,iDScreenHeight:0,oXhr:{oErrorXhr:null,oSuccessXhr:null,oRestartXhr:null},oSmart:{}},e.oFieldInfo={iPointMin:4,iPointMax:4,iFieldSize:0,aFieldCapList:[],iAreaLastIndex:-1,iAreaCurIndex:-1,oFieldCap:{iTimeMin:0,iTimeMax:100,iSenMin:0,iSenMax:100,iPropMin:0,iPropMax:100,id:-1,iTime:0,iSen:0,iProp:0,aPointList:[],aMaxFilterPointList:[],aMinFilterPointList:[]}},e.sType="",e}return Object(o["a"])(s,[{key:"init",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,a){var i,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.sType=a,i=this,i.oParams.iChannelId=t||1,i.oFieldInfo.iAreaLastIndex=-1,i.oFieldInfo.iAreaCurIndex=-1,u["a"].getPresets(t).then((function(e){n.oEventInfo.oPreset.bSupportPreset=e.bSupport,n.oEventInfo.oPreset.aPresetList=e.aPresetList,n.oEventInfo.oPreset.iPresetID=""})),e.next=8,f["a"].getAlarmOutput();case 8:return e.next=10,f["a"].initDeviceParams(this.oEventCap,!0,!0,!0,!0);case 10:return e.next=12,u["a"].getAnalysisUnitSwitch(this.oParams.iChannelId);case 12:return i.oEventCap.bEnableLocalDetection=u["a"].m_oDeviceCapa.bEnableLocalDetection&&0===m["a"].iDeviceType,i.transISAPI(a),e.next=16,i.getDetectCap();case 16:return e.next=18,i.getCalibrationsInfo();case 18:return e.abrupt("return",b["a"].getAll([i.getDetectInfo(),i.getDetectLink(),i.getSchedule()]));case 19:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"transISAPI",value:function(e){var t={},a="enableIntrusionDetect",i="warnRegion",n="";switch(e){case"smartFieldDetection":t={smart:"FieldDetection",linkCapNode:"FiledDetectTriggerCap",link:"fielddetection-",schedule:"fieldDetections/fielddetection_video",szPrefix:"FieldDetection",linkEventType:"fielddetection",scheduleEventType:"fielddetection"},a="enableIntrusionDetect",n="intrusionDetect";break;case"smartEntranceDetection":t={smart:"regionEntrance",linkCapNode:"RegionEntranceTriggerCap",link:"regionEntrance-",schedule:"regionEntrances/regionEntrance-",szPrefix:"RegionEntrance",linkEventType:"regionEntrance",scheduleEventType:"regionentrance"},a="enableRegionEntranceDetect",n="regionEntranceDetect";break;case"smartExitDetection":t={smart:"regionExiting",linkCapNode:"RegionExitingTriggerCap",link:"regionExiting-",schedule:"regionExitings/regionExiting-",szPrefix:"RegionExiting",linkEventType:"regionExiting",scheduleEventType:"regionexiting"},a="enableRegionExitDetect",n="regionExitDetect";break;case"smartLoiterDetection":t={smart:"loitering",linkCapNode:"LoiteringTriggerCap",link:"loitering-",schedule:"loiterings/loitering-",szPrefix:"Loitering",linkEventType:"loitering",scheduleEventType:"loitering"},a="enableLoiterDetect",n="loiterDetect";break;case"smartGroupDetection":t={smart:"group",linkCapNode:"GroupDetectionTriggerCap",link:"group-",schedule:"groups/group-",szPrefix:"Group",linkEventType:"group",scheduleEventType:"group"},a="enablePeopleGatherDetect",n="peopleGatherDetect";break;case"smartFastMoveDetection":t={smart:"rapidMove",linkCapNode:"RapidMoveTriggerCap",link:"rapidMove-",schedule:"rapidMoves/rapidMove-",szPrefix:"RapidMove",linkEventType:"rapidMove",scheduleEventType:"rapidmove"},a="enableFastMoveDetect",n="fastMoveDetect";break;case"smartParkDetection":t={smart:"parking",linkCapNode:"ParkingTriggerCap",link:"parking-",schedule:"parkings/parking-",szPrefix:"Parking",linkEventType:"parking",scheduleEventType:"parking"},a="enableParkDetect",n="parkDetect";break;case"smartLegacyDetection":t={smart:"unattendedBaggage",linkCapNode:"UnattendedBaggageTriggerCap",link:"unattendedBaggage-",schedule:"unattendedBaggages/unattendedBaggage-",szPrefix:"UnattendedBaggage",linkEventType:"unattendedBaggage",scheduleEventType:"unattendedbaggage"},a="enableUnattendedBaggageDetect",n="unattendedBaggageDetect";break;case"smartPackDetection":t={smart:"attendedBaggage",linkCapNode:"AttendedBaggageTriggerCap",link:"attendedBaggage-",schedule:"attendedBaggages/attendedBaggage-",szPrefix:"AttendedBaggage",linkEventType:"attendedBaggage",scheduleEventType:"attendedbaggage"},a="enableObjectRemovalDetect",n="objectRemovalDetect";break;case"smartPeopleDetection":t={smart:"peopleDetection",linkCapNode:"PeopleDetectionTriggerCap",link:"peopleDetection-",schedule:"peopleDetections/peopleDetection-",szPrefix:"PeopleDetection",linkEventType:"peopleDetection",scheduleEventType:"peopledetection"},a="enable",i="judgmentSeatArea",n="peopleDetect";break;default:break}this.oParams.oSmart=t,this.oEventInfo.enableEventLan=g["a"].t(a),this.oEventInfo.pageTitle=g["a"].t(n),this.oEventInfo.warnRegionLan=g["a"].t(i)}},{key:"draw",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,h["a"].setDrawStatus(!0),e.next=4,h["a"].clearShapeByType("Polygon",t.oFieldInfo.iAreaCurIndex);case 4:t.addRegion();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"clear",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,!(t.oFieldInfo.iAreaCurIndex>=0&&t.oFieldInfo.aFieldCapList.length>0)){e.next=9;break}return a=t.oFieldInfo.aFieldCapList[t.oFieldInfo.iAreaCurIndex],a.aPointList.length=0,a.aMinFilterPointList.length=0,a.aMaxFilterPointList.length=0,e.next=8,h["a"].clearShapeByType("All");case 8:t.oEventInfo.bDraw&&t.addRegion();case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"addRegion",value:function(){var e=[[.1,.1],[.9,.1],[.9,.9],[.1,.9]],t=[],a={id:1,editType:0,points:e,closed:!0,tips:"#"+(this.oFieldInfo.iAreaCurIndex+1),drawColor:"#FFFF00",translucent:.1};t.push(a),h["a"].setDrawStatus(!0),h["a"].setPolygonInfo(t)}},{key:"addMinFilter",value:function(){var e=[[.35,.35],[.4,.35],[.4,.4],[.35,.4]],t=[],a={id:2,editType:0,points:e,closed:!0,tips:"min",drawColor:"#00FF00",translucent:.1,type:1};t.push(a),h["a"].setRectInfo(t)}},{key:"addMaxFilter",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=[[.3,.05],[.6,.05],[.3,.95],[.6,.95]],a=[],i={id:3,editType:0,points:t,closed:!0,tips:"max",drawColor:"#00FF00",translucent:.1,type:1},a.push(i),h["a"].setRectInfo(a);case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getDetectCap",value:function(){var t=this;return new Promise((function(a,i){var n={urlCGI:"smartDetectionCapa",params:{channel:t.oParams.iChannelId,param:t.oParams.oSmart.smart},data:null,loading:!0};return p["a"].get(n).then((function(i){var n=i.oResult;t.oEventCap.bChannelSupport=!0,t.oEventCap.bSupportMultiDect=d["a"].nodeValue(n,"isSupportTargetMultiSelect","b"),t.oParams.iDScreenWidth=d["a"].nodeValue(n,"normalizedScreenWidth","i"),t.oParams.iDScreenHeight=d["a"].nodeValue(n,"normalizedScreenHeight","i"),t.oFieldInfo.iFieldSize=parseInt(e(n).find(t.oParams.oSmart.szPrefix+"RegionList").eq(0).attr("size"),10);var o=e(n).find(t.oParams.oSmart.szPrefix+"RegionList").eq(0),r=null,s=null;t.oFieldInfo.aFieldCapList.length=0,t.oEventInfo.aFieldList.length=0;for(var l=function(e){r=o.find(t.oParams.oSmart.szPrefix+"Region").eq(e),s={iTimeMin:0,iTimeMax:100,iSenMin:0,iSenMax:100,iPropMin:0,iPropMax:100,id:-1,iTime:0,iSen:0,iProp:0,aPointList:[],aMaxFilterPointList:[],aMinFilterPointList:[],aAlarmConfidenceList:[],aDectList:[],szDect:"all"},s.id=d["a"].nodeValue(r,"id","i"),s.iTimeMin=parseInt(r.find("timeThreshold").eq(0).attr("min"),10)||s.iTimeMin,s.iTimeMax=parseInt(r.find("timeThreshold").eq(0).attr("max"),10)||s.iTimeMax,s.iSenMin=parseInt(r.find("sensitivityLevel").eq(0).attr("min"),10)||s.iSenMin,s.iSenMax=parseInt(r.find("sensitivityLevel").eq(0).attr("max"),10)||s.iSenMax,s.iPropMin=parseInt(r.find("objectOccupation").eq(0).attr("min"),10)||s.iPropMin,s.iPropMax=parseInt(r.find("objectOccupation").eq(0).attr("max"),10)||s.iPropMax,t.oFieldInfo.iPointMin=parseInt(r.find("minRegionCoordinatesNum").eq(0).text(),10)||t.oFieldInfo.iPointMin,t.oFieldInfo.iPointMax=parseInt(r.find("maxRegionCoordinatesNum").eq(0).text(),10)||t.oFieldInfo.iPointMax,s.aDectList.length=0;var a=r.find("detectionTarget"),i=["basic","high","higher","highest"];s.aAlarmConfidenceList.length=0;var n=d["a"].nodeAttr(r,"alarmConfidence","opt");if(0<a.length&&""!==n){t.oEventCap.oAlarmConfidence.bSupport=!0;var l=n.split(",");t.oEventCap.oAlarmConfidence.aAlarmConfidence=[],l.forEach((function(e,a){t.oEventCap.oAlarmConfidence.aAlarmConfidence.push({name:g["a"].t(i[a]),value:e})}))}var c=d["a"].nodeAttr(r,"detectionTarget","opt"),u={all:g["a"].t("all"),human:g["a"].t("humanBody"),vehicle:g["a"].t("vehicle")};if(0<a.length&&""!==c)for(var p=c.split(","),m=p.length,h=0;h<m;h++)s.aDectList.push({text:u[p[h]],value:p[h],bCheck:!1});for(var f=0;f<t.oFieldInfo.iPointMax;f++)s.aPointList.push({iX:-1,iY:-1});t.oFieldInfo.aFieldCapList.push(s),t.oEventInfo.aFieldList.push({text:e+1,value:s.id}),t.oEventCap.oSupportDetectionTarget[e]=o.find(t.oParams.oSmart.szPrefix+"Region").eq(e).find("detectionTarget").length>0},c=0;c<t.oFieldInfo.iFieldSize;c++)l(c);t.oEventCap.bSupportMultiScene=d["a"].nodeValue(n,"isSupportMultiScene","b"),t.oEventCap.bSupportMisinformation=d["a"].nodeValue(n,"isSupportHumanMisinfoFilter","b"),t.oEventCap.bSupportVehicleMisFilter=d["a"].nodeValue(n,"isSupportVehicleMisinfoFilter","b"),t.oEventCap.bSupportDetectionTarget=t.oEventCap.oSupportDetectionTarget[0],a()}),(function(e){t.oEventCap.bChannelSupport=!1,b["a"].getState(e),i()}))}))}},{key:"getDetectInfo",value:function(){var t=this,a={urlCGI:"smartDetection",params:{channel:t.oParams.iChannelId,param:t.oParams.oSmart.smart},data:null,loading:!0};return p["a"].get(a).then(function(){var a=Object(i["a"])(regeneratorRuntime.mark((function a(i){var n,o,r,s,l,c,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:for(n=i.oResult,t.oParams.oData=n,t.oEventInfo.bEnableEvent=d["a"].nodeValue(n,"enabled","b"),t.oEventInfo.bMisinformation=d["a"].nodeValue(n,"humanMisinfoFilterEnabled","b"),t.oEventInfo.bVehicleMisFilter=d["a"].nodeValue(n,"vehicleMisinfoFilterEnabled","b"),t.oEventCap.bSupportConfigByRule=e(n).find(t.oParams.oSmart.szPrefix+"Region").eq(0).find("humanMisinfoFilterEnabled").length>0,o=e(n).find(t.oParams.oSmart.szPrefix+"RegionList").eq(0),r=o.find(t.oParams.oSmart.szPrefix+"Region").length,s=null,t.oEventCap.bTime=0!==e(n).find("timeThreshold").length,t.oEventCap.bSen=0!==e(n).find("sensitivityLevel").length,t.oEventCap.bProp=0!==e(n).find("objectOccupation").length,t.oEventCap.bDect=0!==e(n).find("detectionTarget").length,t.oEventCap.aDectList=t.oFieldInfo.aFieldCapList[0].aDectList,l=0;l<r;l++)s=o.find(t.oParams.oSmart.szPrefix+"Region").eq(l),t.oFieldInfo.aFieldCapList[l].id===d["a"].nodeValue(s,"id","i")&&(t.oFieldInfo.aFieldCapList[l].iTime=d["a"].nodeValue(s,"timeThreshold","i"),t.oFieldInfo.aFieldCapList[l].iSen=d["a"].nodeValue(s,"sensitivityLevel","i"),t.oFieldInfo.aFieldCapList[l].iProp=d["a"].nodeValue(s,"objectOccupation","i"),t.oFieldInfo.aFieldCapList[l].aPointList=t.transRegionPointsFromDevice(s.find("RegionCoordinates")),t.oFieldInfo.aFieldCapList[l].szDect=d["a"].nodeValue(s,"detectionTarget"),c=[],d["a"].nodeValue(s,"humanMisinfoFilterEnabled","b")&&c.push("human"),d["a"].nodeValue(s,"vehicleMisinfoFilterEnabled","b")&&c.push("vehicle"),t.oFieldInfo.aFieldCapList[l].aDetectionTarget=c),0===l&&(t.oEventCap.bSupportDetectionTarget&&(u=e(s).find("detectionTarget").text(),t.oEventInfo.bIpcDtectionTargetHuman=u.indexOf("human")>-1,t.oEventInfo.bIpcDtectionTargetVehicle=u.indexOf("vehicle")>-1,t.oEventInfo.bIpcDtectionTargetOthers=u.indexOf("others")>-1),t.oEventCap.bSupportConfigByRule&&(t.oEventInfo.bIpcDtectionTargetHuman=d["a"].nodeValue(s,"humanMisinfoFilterEnabled","b"),t.oEventInfo.bIpcDtectionTargetVehicle=d["a"].nodeValue(s,"vehicleMisinfoFilterEnabled","b")));if(!t.oEventInfo.aFieldList.length){a.next=22;break}if(t.oEventInfo.iFieldId===t.oEventInfo.aFieldList[0].value){a.next=20;break}t.oEventInfo.iFieldId=t.oEventInfo.aFieldList[0].value,a.next=22;break;case 20:return a.next=22,t.changeField(!0);case 22:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),(function(){}))}},{key:"getCalibrationsInfo",value:function(){var t=this;return new Promise((function(a){var i={urlCGI:"smdCalibrations",params:{channel:t.oParams.iChannelId,param:t.oParams.oSmart.smart},data:null,loading:!0};p["a"].get(i).then((function(i){var n=i.oResult;t.oEventCap.bSupportSmartCalibration=!0,e(n).find("SmartCalibration").each((function(a,i){var n=t.oFieldInfo.aFieldCapList[a];n.aMinFilterPointList=t.transRegionPointsFromDevice(e(i).find("MinTargetSize RegionCoordinates")),n.aMaxFilterPointList=t.transRegionPointsFromDevice(e(i).find("MaxTargetSize RegionCoordinates"))})),a()}),(function(){t.oEventCap.bSupportSmartCalibration=!1,a()}))}))}},{key:"getDetectLink",value:function(){var e=this;return f["a"].getLinkageCap("FiledDetectTriggerCap").then((function(t){e.oEventInfo.oLink=t;var a={urlCGI:"linkInfo",params:{param:e.oParams.oSmart.link+e.oParams.iChannelId},data:null,loading:!0};p["a"].get(a).then((function(t){var a=t.oResult;f["a"].getLinkInfo(e.oEventInfo.oLink,a)}))}))}},{key:"getSchedule",value:function(){var e=this,t={urlCGI:"scheduleInfo",params:{param:this.oParams.oSmart.schedule+this.oParams.iChannelId},data:null,loading:!0};return p["a"].get(t).then((function(t){var a=t.oResult;f["a"].getSchedule(e.oEventInfo.oScheduleTimes,a)}))}},{key:"changeField",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){var n,o,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=this,e.each(n.oFieldInfo.aFieldCapList,(function(e,t){if(t.id===n.oEventInfo.iFieldId)return n.oFieldInfo.iAreaCurIndex=e,!1})),!(n.oFieldInfo.aFieldCapList.length>0&&n.oFieldInfo.iAreaCurIndex>=0)){t.next=28;break}if(!(n.oFieldInfo.iAreaLastIndex>=0)||a){t.next=6;break}return t.next=6,n.savePolygonFromPlugin(n.oFieldInfo.iAreaLastIndex);case 6:if(!n.oEventCap.bSupportMultiScene){t.next=12;break}return o={urlCGI:"smartDetectionRegion",params:{param:n.oParams.oSmart.smart,channel:n.oParams.iChannelId,id:n.oEventInfo.iFieldId},data:null,loading:!0},t.next=10,p["a"].get(o).then((function(t){var a=t.oResult,i=e(a).find(n.oParams.oSmart.szPrefix+"Region").eq(0);if(n.oFieldInfo.aFieldCapList[n.oFieldInfo.iAreaCurIndex].id===d["a"].nodeValue(i,"id","i")){if(n.oFieldInfo.aFieldCapList[n.oFieldInfo.iAreaCurIndex].iTime=d["a"].nodeValue(i,"timeThreshold","i"),n.oFieldInfo.aFieldCapList[n.oFieldInfo.iAreaCurIndex].iSen=d["a"].nodeValue(i,"sensitivityLevel","i"),n.oFieldInfo.aFieldCapList[n.oFieldInfo.iAreaCurIndex].iProp=d["a"].nodeValue(i,"objectOccupation","i"),n.oFieldInfo.aFieldCapList[n.oFieldInfo.iAreaCurIndex].aPointList=n.transRegionPointsFromDevice(i.find("RegionCoordinates")),n.oFieldInfo.aFieldCapList[n.oFieldInfo.iAreaCurIndex].szDect=d["a"].nodeValue(i,"detectionTarget"),n.oEventCap.bSupportDetectionTarget){var o=[],r=e(i).find("detectionTarget").text();if(n.oEventInfo.bIpcDtectionTargetHuman=r.indexOf("human")>-1,n.oEventInfo.bIpcDtectionTargetVehicle=r.indexOf("vehicle")>-1,n.oEventInfo.bIpcDtectionTargetOthers=r.indexOf("others")>-1,n.oEventInfo.bIpcDtectionTargetHuman&&o.push("human"),n.oEventInfo.bIpcDtectionTargetVehicle&&o.push("vehicle"),n.oEventInfo.bIpcDtectionTargetOthers&&o.push("others"),n.oFieldInfo.aFieldCapList[n.oFieldInfo.iAreaCurIndex].aDetectionTarget=o,n.oEventCap.oAlarmConfidence.bSupport){var s=e(i).find("alarmConfidence").text();n.oFieldInfo.aFieldCapList[n.oFieldInfo.iAreaCurIndex].szConfidence=s}}if(n.oEventCap.bSupportConfigByRule){var l=[];d["a"].nodeValue(i,"humanMisinfoFilterEnabled","b")&&l.push("human"),d["a"].nodeValue(i,"vehicleMisinfoFilterEnabled","b")&&l.push("vehicle"),n.oFieldInfo.aFieldCapList[n.oFieldInfo.iAreaCurIndex].aDetectionTarget=l}}}));case 10:t.next=23;break;case 12:r=[],s=e(n.oParams.oData).find("detectionTarget").eq(n.oFieldInfo.iAreaCurIndex).text(),n.oEventInfo.bIpcDtectionTargetHuman=s.indexOf("human")>-1,n.oEventInfo.bIpcDtectionTargetVehicle=s.indexOf("vehicle")>-1,n.oEventInfo.bIpcDtectionTargetOthers=s.indexOf("others")>-1,s.indexOf("all")>-1&&(this.oEventInfo.bIpcDtectionTargetHuman=!0,this.oEventInfo.bIpcDtectionTargetVehicle=!0,this.oEventInfo.bIpcDtectionTargetOthers=!0,this.oEventInfo.bSupportAll=!0),n.oEventInfo.bIpcDtectionTargetHuman&&r.push("human"),n.oEventInfo.bIpcDtectionTargetVehicle&&r.push("vehicle"),n.oEventInfo.bIpcDtectionTargetOthers&&r.push("others"),n.oFieldInfo.aFieldCapList[n.oFieldInfo.iAreaCurIndex].aDetectionTarget=r,n.oEventInfo.szDect=s;case 23:n.oFieldInfo.iAreaLastIndex=n.oFieldInfo.iAreaCurIndex;try{n.oEventCap.bSupportDetectionTarget=n.oEventCap.oSupportDetectionTarget[n.oFieldInfo.iAreaCurIndex],n.oEventCap.iTimeMin=n.oFieldInfo.aFieldCapList[n.oFieldInfo.iAreaCurIndex].iTimeMin,n.oEventCap.iTimeMax=n.oFieldInfo.aFieldCapList[n.oFieldInfo.iAreaCurIndex].iTimeMax,n.oEventCap.iSenMin=n.oFieldInfo.aFieldCapList[n.oFieldInfo.iAreaCurIndex].iSenMin,n.oEventCap.iSenMax=n.oFieldInfo.aFieldCapList[n.oFieldInfo.iAreaCurIndex].iSenMax,n.oEventCap.iPropMin=n.oFieldInfo.aFieldCapList[n.oFieldInfo.iAreaCurIndex].iPropMin,n.oEventCap.iPropMax=n.oFieldInfo.aFieldCapList[n.oFieldInfo.iAreaCurIndex].iPropMax,n.oEventInfo.iTime=n.oFieldInfo.aFieldCapList[n.oFieldInfo.iAreaCurIndex].iTime,n.oEventInfo.iSen=n.oFieldInfo.aFieldCapList[n.oFieldInfo.iAreaCurIndex].iSen,n.oEventInfo.iProp=n.oFieldInfo.aFieldCapList[n.oFieldInfo.iAreaCurIndex].iProp,n.oEventInfo.szDect=n.oFieldInfo.aFieldCapList[n.oFieldInfo.iAreaCurIndex].szDect}catch(l){}return t.next=27,h["a"].clearShapeByType("All");case 27:Promise.all([n.setRegionInfo(),n.setMinFilter(),n.setMaxFilter()]).then(Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,h["a"].setDrawStatus(!1);case 2:case"end":return e.stop()}}),e)}))));case 28:case"end":return t.stop()}}),t,this)})));function a(e){return t.apply(this,arguments)}return a}()},{key:"save",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,this.oParams.oXhr={oErrorXhr:null,oSuccessXhr:null,oRestartXhr:null},!t.oEventCap.bSupportMultiScene||t.polygonValidCheck()){e.next=5;break}return v["a"].alert(g["a"].t("lineCross")),e.abrupt("return");case 5:return this.oEventInfo.bLoading=!0,e.next=8,t.setDetectInfo();case 8:if(!t.oEventCap.bSupportSmartCalibration){e.next=11;break}return e.next=11,t.setCalibrationsInfo();case 11:return e.next=13,t.setDetectLink();case 13:return e.next=15,t.setDetectSchedule();case 15:this.oEventInfo.bLoading=!1,t.oParams.oXhr.oErrorXhr||b["a"].saveState(t.oParams.oXhr.oSuccessXhr);case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setDetectInfo",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a,i,n,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=this,!(a.oFieldInfo.iAreaCurIndex>=0&&a.oFieldInfo.aFieldCapList.length>0)){t.next=4;break}return t.next=4,a.savePolygonFromPlugin(a.oFieldInfo.iAreaCurIndex);case 4:return i=a.getRegionInfo(),a.oEventCap.bSupportMultiScene&&e(i).find(a.oParams.oSmart.szPrefix+"RegionList").eq(0).remove(),n={urlCGI:"smartDetection",params:{channel:a.oParams.iChannelId,param:a.oParams.oSmart.smart},data:i,loading:!0},t.abrupt("return",p["a"].put(n).then((function(e){if(a.oEventCap.bSupportMultiScene)return a.setFieldDetectionRegion();o.oParams.oXhr.oSuccessXhr=e.xhr}),(function(e){o.oParams.oXhr.oErrorXhr=e,b["a"].saveState(e)})));case 8:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}()},{key:"getRegionInfo",value:function(){for(var t=this,a=t.oParams.oData,i="",n=[],o=0;o<e(a).find("detectionTarget").length;o++)n[o]=e(a).find("detectionTarget").eq(o).text();if(e(a).find("enabled").eq(0).text(t.oEventInfo.bEnableEvent.toString()),e(a).find(t.oParams.oSmart.szPrefix+" > humanMisinfoFilterEnabled").eq(0).text(t.oEventInfo.bMisinformation.toString()),e(a).find(t.oParams.oSmart.szPrefix+" > vehicleMisinfoFilterEnabled").eq(0).text(t.oEventInfo.bVehicleMisFilter.toString()),t.oFieldInfo.iAreaCurIndex>=0&&t.oFieldInfo.aFieldCapList.length>0)for(var r=0;r<t.oFieldInfo.aFieldCapList.length;r++){e(a).find(t.oParams.oSmart.szPrefix+"Region").eq(r).find("RegionCoordinatesList").remove(),e(a).find(t.oParams.oSmart.szPrefix+"Region").eq(r).find("timeThreshold").eq(0).text(t.oFieldInfo.aFieldCapList[r].iTime),e(a).find(t.oParams.oSmart.szPrefix+"Region").eq(r).find("sensitivityLevel").eq(0).text(t.oFieldInfo.aFieldCapList[r].iSen),e(a).find(t.oParams.oSmart.szPrefix+"Region").eq(r).find("objectOccupation").eq(0).text(t.oFieldInfo.aFieldCapList[r].iProp),t.oEventCap.bDect&&e(a).find(t.oParams.oSmart.szPrefix+"Region").eq(r).find("detectionTarget").eq(0).text(t.getDectString(t.oFieldInfo.aFieldCapList[r])),i="<?xml version='1.0' encoding='UTF-8'?><TmpRegion><RegionCoordinatesList>";for(var s=0;s<t.oFieldInfo.aFieldCapList[r].aPointList.length;s++){if(t.oFieldInfo.aFieldCapList[r].aPointList[s].iX<0||t.oFieldInfo.aFieldCapList[r].aPointList[s].iY<0)break;i+="<RegionCoordinates><positionX>"+parseInt(t.oFieldInfo.aFieldCapList[r].aPointList[s].iX,10),i+="</positionX><positionY>"+parseInt(t.oFieldInfo.aFieldCapList[r].aPointList[s].iY,10)+"</positionY></RegionCoordinates>"}if(""!==i){i+="</RegionCoordinatesList></TmpRegion>";var l=e(d["a"].parseXmlFromStr(i)).find("TmpRegion").eq(0).clone().children();e(a).find(t.oParams.oSmart.szPrefix+"Region").eq(r).append(l)}if(t.oEventCap.bSupportDetectionTarget&&!t.oEventCap.bEnableLocalDetection){var c=[];t.oEventInfo.bIpcDtectionTargetHuman&&c.push("human"),t.oEventInfo.bIpcDtectionTargetVehicle&&c.push("vehicle"),!t.oEventInfo.bIpcDtectionTargetHuman&&!t.oEventInfo.bIpcDtectionTargetVehicle&&!t.oEventInfo.bIpcDtectionTargetOthers&&c.push("all"),e(a).find(t.oParams.oSmart.prefix+"Region").eq(r).find("detectionTarget").remove();var u="";u=r===t.oFieldInfo.iAreaCurIndex?c.join(","):n[r];var p="<?xml version='1.0' encoding='UTF-8'?><TmpDetectionTarget><detectionTarget>"+u+"</detectionTarget></TmpDetectionTarget>",m=e(d["a"].parseXmlFromStr(p)).find("TmpDetectionTarget").eq(0).clone().children();e(a).find(t.oParams.oSmart.szPrefix+"Region").eq(r).append(m)}t.oEventCap.bSupportConfigByRule&&(e(a).find(t.oParams.oSmart.szPrefix+"Region").eq(r).find("humanMisinfoFilterEnabled").eq(0).text(t.oFieldInfo.aFieldCapList[r].aDetectionTarget.indexOf("human")>-1),e(a).find(t.oParams.oSmart.szPrefix+"Region").eq(r).find("vehicleMisinfoFilterEnabled").eq(0).text(t.oFieldInfo.aFieldCapList[r].aDetectionTarget.indexOf("vehicle")>-1))}else t.oEventCap.bSupportDetectionTarget&&(c=[],t.oEventInfo.bIpcDtectionTargetHuman&&c.push("human"),t.oEventInfo.bIpcDtectionTargetVehicle&&c.push("vehicle"),t.oEventInfo.bIpcDtectionTargetOthers&&c.push("others"),!t.oEventInfo.bIpcDtectionTargetHuman&&!t.oEventInfo.bIpcDtectionTargetVehicle&&!t.oEventInfo.bIpcDtectionTargetOthers&&c.push("all"),e(a).find(t.oParams.oSmart.szPrefix+"Region").eq(0).find("detectionTarget").remove(),p="<?xml version='1.0' encoding='UTF-8'?><TmpDetectionTarget><detectionTarget>"+c.join(",")+"</detectionTarget></TmpDetectionTarget>",m=e(d["a"].parseXmlFromStr(p)).find("TmpDetectionTarget").eq(0).clone().children(),e(a).find(t.oParams.oSmart.szPrefix+"Region").eq(0).append(m)),t.oEventCap.bSupportConfigByRule&&(p="<?xml version='1.0' encoding='UTF-8'?><TmpDetectionTarget><humanMisinfoFilterEnabled>"+t.oEventInfo.bIpcDtectionTargetHuman+"</humanMisinfoFilterEnabled><vehicleMisinfoFilterEnabled>"+t.oEventInfo.bIpcDtectionTargetVehicle+"</vehicleMisinfoFilterEnabled></TmpDetectionTarget>",m=e(d["a"].parseXmlFromStr(p)).find("TmpDetectionTarget").eq(0).clone().children(),e(a).find(t.oParams.oSmart.szPrefix+"Region").eq(0).append(m));return"smartPeopleDetection"===t.oParams.oSmart.szPrefix&&(a=d["a"].replaceAll(a,"PeopleDetectionRegionList","RegionPeopleDetectionList"),a=d["a"].replaceAll(a,"PeopleDetectionRegion","RegionPeopleDetection")),a}},{key:"polygonValidCheck",value:function(){for(var e=this,t=e.oFieldInfo.iAreaCurIndex,a=e.oFieldInfo.aFieldCapList,i=a[t].aPointList.length,n=[],o=null,r=0;r<i;r++)o={x:0,y:0},o.x=d["a"].rangeValid(a[t].aPointList[r].iX,0,1e3),o.y=d["a"].rangeValid(a[t].aPointList[r].iY,0,1e3),n.push(o);return!!d["a"].checkPolygonValid(n)}},{key:"setFieldDetectionRegion",value:function(){for(var e=this,t=this,a=t.oFieldInfo.iAreaCurIndex,i=t.oFieldInfo.aFieldCapList,n=i[a].aPointList.length,o=[],r=null,s=0;s<n;s++)r={x:0,y:0},r.x=d["a"].rangeValid(i[a].aPointList[s].iX,0,1e3),r.y=d["a"].rangeValid(i[a].aPointList[s].iY,0,1e3),o.push(r);i[a].iSen=t.oEventInfo.iSen,i[a].iTime=t.oEventInfo.iTime,i[a].iProp=t.oEventInfo.iProp;var l="<?xml version='1.0' encoding='UTF-8'?><"+t.oParams.oSmart.szPrefix+"Region>";l+="<id>"+t.oEventInfo.iFieldId+"</id>",t.oEventCap.bSen&&(l+="<sensitivityLevel>"+i[a].iSen+"</sensitivityLevel>"),t.oEventCap.bTime&&(l+="<timeThreshold>"+i[a].iTime+"</timeThreshold>"),t.oEventCap.bProp&&(l+="<objectOccupation>"+i[a].iProp+"</objectOccupation>"),t.oEventCap.bDect&&(l+="<detectionTarget>"+t.getDectString(i[a])+"</detectionTarget>"),t.oEventCap.oAlarmConfidence.bSupport&&(l+="<alarmConfidence>"+i[a].szConfidence+"</alarmConfidence>");for(var c=0;c<n;c++)if(i[a].aPointList[c].iX<0||i[a].aPointList[c].iY<0)break;if(l+="<enabled>"+(n===c?"true":"false")+"</enabled>",l+="<RegionCoordinatesList>",n>c)for(var u=0;u<n;u++)l+="<RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates>";else for(var m=0;m<n;m++)l+="<RegionCoordinates><positionX>"+Math.floor(i[a].aPointList[m].iX)+"</positionX><positionY>"+Math.floor(i[a].aPointList[m].iY)+"</positionY></RegionCoordinates>";l+="</RegionCoordinatesList>",l+="</"+t.oParams.oSmart.szPrefix+"Region>";var h=d["a"].parseXmlFromStr(l),f={urlCGI:"smartDetectionRegion",params:{param:t.oParams.oSmart.smart,channel:t.oParams.iChannelId,id:t.oEventInfo.iFieldId},data:h,loading:!0};return p["a"].put(f).then((function(t){e.oParams.oXhr.oSuccessXhr=t.xhr}),(function(t){e.oParams.oXhr.oErrorXhr=t,b["a"].saveState(t)}))}},{key:"setCalibrationsInfo",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,i,n,o,r,s,l,c,u,m,h,f,P,S=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=this.oFieldInfo.aFieldCapList,a=[],i=[],n="<?xml version='1.0' encoding='UTF-8'?>",n+="<SmartCalibrationList>",o=0,r=t.length;case 6:if(!(o<r)){e.next=32;break}if(a=t[o].aMinFilterPointList,i=t[o].aMaxFilterPointList,a=t[o].aMinFilterPointList,i=t[o].aMaxFilterPointList,!a.length||!i.length){e.next=22;break}if(s=Math.abs(a[0].iX-a[2].iX),l=Math.abs(a[0].iY-a[2].iY),c=Math.abs(i[0].iX-i[2].iX),u=Math.abs(i[0].iY-i[2].iY),m="",0===s||0===c){e.next=22;break}if(s>=c?m=d["a"].replaceAll(g["a"].t("sizeLessthan"),"%s",g["a"].t("width")):l>=u&&(m=d["a"].replaceAll(g["a"].t("sizeLessthan"),"%s",g["a"].t("height"))),!m){e.next=22;break}return v["a"].tip(m),e.abrupt("return",(new Promise).reject());case 22:if(n+="<SmartCalibration>",n+="<ID>"+(o+1)+"</ID>",n+="<FilterSize><MinTargetSize><RegionCoordinatesList>",a.length)for(h=0;h<a.length;h++)n+="<RegionCoordinates><positionX>"+a[h].iX+"</positionX>",n+="<positionY>"+a[h].iY+"</positionY></RegionCoordinates>";else n+="<RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates>",n+="<RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates>",n+="<RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates>",n+="<RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates>";if(n+="</RegionCoordinatesList></MinTargetSize><MaxTargetSize><RegionCoordinatesList>",i.length)for(f=0;f<i.length;f++)n+="<RegionCoordinates><positionX>"+i[f].iX+"</positionX>",n+="<positionY>"+i[f].iY+"</positionY></RegionCoordinates>";else n+="<RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates>",n+="<RegionCoordinates><positionX>"+this.oParams.iDScreenWidth+"</positionX><positionY>0</positionY></RegionCoordinates>",n+="<RegionCoordinates><positionX>"+this.oParams.iDScreenWidth+"</positionX><positionY>"+this.oParams.iDScreenHeight+"</positionY></RegionCoordinates>",n+="<RegionCoordinates><positionX>0</positionX><positionY>"+this.oParams.iDScreenHeight+"</positionY></RegionCoordinates>";n+="</RegionCoordinatesList></MaxTargetSize></FilterSize></SmartCalibration>";case 29:++o,e.next=6;break;case 32:return n+="</SmartCalibrationList>",P={urlCGI:"smdCalibrations",params:{channel:this.oParams.iChannelId,param:this.oParams.oSmart.smart},data:n,loading:!0},e.abrupt("return",p["a"].put(P).then((function(e){S.oParams.oXhr.oSuccessXhr=e.xhr}),(function(e){S.oParams.oXhr.oErrorXhr=e,b["a"].saveState(e)})));case 35:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setDetectLink",value:function(){var e=this,t=this,a=f["a"].setLinkInfo(t.oEventInfo.oLink,t.oParams.oSmart.linkEventType,t.oParams.iChannelId),i={urlCGI:"linkInfo",params:{param:t.oParams.oSmart.link+t.oParams.iChannelId},data:a,loading:!0};return p["a"].put(i).then((function(t){e.oParams.oXhr.oSuccessXhr=t.xhr}),(function(t){e.oParams.oXhr.oErrorXhr=t,b["a"].saveState(t)}))}},{key:"setDetectSchedule",value:function(){var e=this,t=this,a=f["a"].setSchedule(t.oEventInfo.oScheduleTimes,t.oParams.oSmart.scheduleEventType,t.oParams.iChannelId),i={urlCGI:"scheduleInfo",params:{param:t.oParams.oSmart.schedule+t.oParams.iChannelId},data:a,loading:!0};return p["a"].put(i).then((function(t){e.oParams.oXhr.oSuccessXhr=t.xhr}),(function(t){e.oParams.oXhr.oErrorXhr=t,b["a"].saveState(t)}))}},{key:"setRegionInfo",value:function(){var e=this;if(e.oFieldInfo.iAreaCurIndex>=0){var t=e.oFieldInfo.aFieldCapList[e.oFieldInfo.iAreaCurIndex].aPointList;if(e.checkPoints(t)){var a=[],i={id:1,editType:0,points:e.transRegionPointsToPlugin(t),closed:!0,tips:"#"+(e.oFieldInfo.iAreaCurIndex+1),drawColor:"#FFFF00",translucent:.1};return a.push(i),h["a"].setPolygonInfo(a)}}}},{key:"setMinFilter",value:function(){var e=this,t=e.oFieldInfo.aFieldCapList[e.oFieldInfo.iAreaCurIndex].aMinFilterPointList;if(e.checkPoints(t)){var a=[],i={id:2,editType:0,points:e.transRegionPointsToPlugin(t),closed:!0,tips:"min",drawColor:"#00FF00",translucent:.1,type:1};return a.push(i),h["a"].setRectInfo(a)}}},{key:"setMaxFilter",value:function(){var e=this,t=e.oFieldInfo.aFieldCapList[e.oFieldInfo.iAreaCurIndex].aMaxFilterPointList;if(e.checkPoints(t)){var a=[],i={id:3,editType:0,points:e.transRegionPointsToPlugin(t),closed:!0,tips:"max",drawColor:"#00FF00",translucent:.1,type:1};return a.push(i),h["a"].setRectInfo(a)}}},{key:"savePolygonFromPlugin",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){var i,n,o,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=this,t.next=3,h["a"].getPolygonInfo();case 3:if(n=t.sent,n){t.next=6;break}return t.abrupt("return");case 6:return o=i.oFieldInfo.aFieldCapList[a].aPointList,o.length=0,i.transRegionPointsFromPlugin(o,n),i.oFieldInfo.aFieldCapList[a].iTime=i.oEventInfo.iTime,i.oFieldInfo.aFieldCapList[a].iSen=i.oEventInfo.iSen,i.oFieldInfo.aFieldCapList[a].iProp=i.oEventInfo.iProp,i.oFieldInfo.aFieldCapList[a].szDect=i.oEventInfo.szDect,r=[],i.oEventInfo.bIpcDtectionTargetHuman&&r.push("human"),i.oEventInfo.bIpcDtectionTargetVehicle&&r.push("vehicle"),i.oFieldInfo.aFieldCapList[a].aDetectionTarget=r,t.next=19,h["a"].getRectInfo();case 19:s=t.sent,console.log("🚀 ~ SmartFieldDetection ~ savePolygonFromPlugin ~ aPluginRectData:",s),e.each(s,(function(e,t){if(3===t.id){var n=i.oFieldInfo.aFieldCapList[a].aMaxFilterPointList;n.length=0,i.transRegionPointsFromPlugin(n,[t])}else if(2===t.id){var o=i.oFieldInfo.aFieldCapList[a].aMinFilterPointList;o.length=0,i.transRegionPointsFromPlugin(o,[t])}}));case 22:case"end":return t.stop()}}),t,this)})));function a(e){return t.apply(this,arguments)}return a}()},{key:"getDectString",value:function(e){var t="";if(this.oEventCap.bIPCDevice&&this.oEventCap.bSupportMultiDect||!this.oEventCap.bIPCDevice&&!this.oEventCap.bEnableLocalDetection&&this.oEventCap.bSupportDetectionTarget){var a=[];this.oEventInfo.bIpcDtectionTargetHuman&&a.push("human"),this.oEventInfo.bIpcDtectionTargetVehicle&&a.push("vehicle"),this.oEventInfo.bIpcDtectionTargetOthers&&a.push("others"),this.oEventInfo.bSupportAll&&a.push("all"),t=a.join(",")}else t=e.szDect;return t}},{key:"setDrawStatus",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,h["a"].setDrawStatus(t);case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateRegionInfo",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,!(t.oFieldInfo.iAreaCurIndex>=0&&t.oFieldInfo.aFieldCapList.length>0)){e.next=4;break}return e.next=4,t.savePolygonFromPlugin(t.oFieldInfo.iAreaCurIndex);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initEvent",value:function(){h["a"].setWindowControlCallback({onMouseEvent:function(e){console.log(e),h["a"].selectShape("Polygon",-1)},onDrawEvent:function(e){console.log(e),h["a"].selectShape("Polygon",-1)}})}}]),s}(c["a"]);t["a"]=new C}).call(this,a("1157"))},"42a1":function(e,t,a){"use strict";(function(e){a("28a5"),a("7514"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("1f20"),s=a("7de8"),l=a("d09c"),c=a("8d94"),u=a("f193"),d=function(){function t(){Object(n["a"])(this,t),this.oXmlDoc=null,this.m_oCap={oStreamInfo:null,aStreamList:[],aPackagingFormat:[],bSupportActiveMulticast:!1,bSupportFECDestPort:!1,bSupportFECRatio:!1},this.m_oCapa={bSupportSRTSP:!1,bSupportSRTPVideoDestPortNo:!1,bSupportSRTSPAudioDestPortNo:!1,bSupportVideoDestPortNo:!1,bSupportiAudioDestPortNo:!1},this.m_oParams={oChannel:{id:"1"},szIPAddress:"",szStreamType:"00",iVideoDestPortNo:0,iAudioDestPortNo:0,bEnableActiveMulticast:!1,szPackagingFormat:"",iFECDestPortNo:1,iFECRatio:0,iSRTSPVideoDestPortNo:0,iSRTSPAudioDestPortNo:0},this.m_oParamsValid={oIPAddress:{required:!0,ipcmulticast:!0},oVideoDestPortNo:{required:!0,range:[1,65535],skipVerify:!1},oAudioDestPortNo:{required:!0,range:[1,65535],skipVerify:!1},oFECDestPortNo:{required:!0,range:[1,65535],skipVerify:!1},oFECRatio:{required:!0,range:[0,100],skipVerify:!1},oSRTPVideoDestPortNo:{required:!0,range:[1,65535],skipVerify:!1},oSRTPAudioDestPortNo:{required:!0,range:[1,65535],skipVerify:!1}}}return Object(o["a"])(t,[{key:"initMulticast",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.m_oParams.oChannel.id=t,e.next=3,this.getStreamInfo();case 3:return e.next=5,this.getMulticast();case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getStreamInfo",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a,i,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["a"].getChannelInfo();case 2:a=t.sent,i=this.m_oCap.oStreamInfo={},e.each(a,(function(t){n=this.aStream,n&&(o=i[t]=[],e.each(n,(function(e,t){switch(t){case 1:o.push({text:c["a"].t("mainStream"),value:"0"+t});break;case 2:o.push({text:c["a"].t("subStream"),value:"0"+t});break;case 3:o.push({text:c["a"].t("thirdStream"),value:"0"+t});break;case 4:o.push({text:c["a"].t("fourthStream"),value:"0"+t});break;case 5:o.push({text:c["a"].t("fifthStream"),value:"0"+t});break;default:break}})))})),this.m_oCap.aStreamList=o;case 6:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}()},{key:"getMulticast",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t||this.getChannelStreamList(),e.next=3,this.getCap();case 3:return e.next=5,this.getInfo();case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getChannelStreamList",value:function(){this.m_oCap.aStreamList=this.m_oCap.oStreamInfo[this.m_oParams.oChannel.id],this.m_oCap.aStreamList.length&&(this.m_oParams.szStreamType=this.m_oCap.aStreamList[0].value)}},{key:"changeStream",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getMulticast(!0);case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getCap",value:function(){var t=this,a=new Promise((function(a){var i=t,n=t.m_oCap,o=t.m_oParams,r=t.m_oParamsValid,l={urlCGI:"videoCapa",params:{channel:o.oChannel.id,videoStream:o.szStreamType},data:null,loading:!0};u["a"].get(l).then((function(t){var o,l,c=t.oResult;if(s["a"].nodeAttr(c,"videoDestPortNo","min")&&s["a"].nodeAttr(c,"videoDestPortNo","max")&&(o=s["a"].nodeAttr(c,"videoDestPortNo","min","i"),l=s["a"].nodeAttr(c,"videoDestPortNo","max","i"),r.oVideoDestPortNo.range[0]=o,r.oVideoDestPortNo.range[1]=l),s["a"].nodeAttr(c,"audioDestPortNo","min")&&s["a"].nodeAttr(c,"audioDestPortNo","max")&&(o=s["a"].nodeAttr(c,"audioDestPortNo","min","i"),l=s["a"].nodeAttr(c,"audioDestPortNo","max","i"),r.oAudioDestPortNo.range[0]=o,r.oAudioDestPortNo.range[1]=l),i.m_oCapa.bSupportSRTSP=!1,i.m_oCapa.bSupportSRTPVideoDestPortNo=!1,i.m_oCapa.bSupportSRTSPAudioDestPortNo=!1,e(c).find("SRTPMulticast").length&&(i.m_oCapa.bSupportSRTSP=!0,e(c).find("SRTPMulticast SRTPVideoDestPortNo").length&&(i.m_oCapa.bSupportSRTPVideoDestPortNo=!0,o=s["a"].nodeAttr(c,"SRTPMulticast SRTPVideoDestPortNo","min","i"),l=s["a"].nodeAttr(c,"SRTPMulticast SRTPVideoDestPortNo","max","i"),r.oSRTPVideoDestPortNo.range[0]=o,r.oSRTPVideoDestPortNo.range[1]=l),e(c).find("SRTPMulticast SRTPAudioDestPortNo").length&&(i.m_oCapa.bSupportSRTSPAudioDestPortNo=!0,o=s["a"].nodeAttr(c,"SRTPMulticast SRTPAudioDestPortNo","min","i"),l=s["a"].nodeAttr(c,"SRTPMulticast SRTPAudioDestPortNo","max","i"),r.oSRTPAudioDestPortNo.range[0]=o,r.oSRTPAudioDestPortNo.range[1]=l)),e(c).find("activeMulticastEnabled").length?n.bSupportActiveMulticast=!0:n.bSupportActiveMulticast=!1,e(c).find("packagingFormat").length&&(n.aPackagingFormat=s["a"].nodeAttr(c,"packagingFormat","opt").split(",")),n.bSupportFECDestPort=!1,n.bSupportFECRatio=!1,e(c).find("Multicast FecInfo").length){var u=e(c).find("Multicast FecInfo").eq(0);u.find("fecDestPortNo").length&&(n.bSupportFECDestPort=!0,o=s["a"].nodeAttr(u,"fecDestPortNo","min","i"),l=s["a"].nodeAttr(u,"fecDestPortNo","max","i"),r.oFECDestPortNo.range[0]=o,r.oFECDestPortNo.range[1]=l),u.find("fecRatio").length&&(n.bSupportFECRatio=!0,o=s["a"].nodeAttr(u,"fecRatio","min","i"),l=s["a"].nodeAttr(u,"fecRatio","max","i"),r.oFECRatio.range[0]=o,r.oFECRatio.range[1]=l)}a()}),(function(){a()}))}));return a}},{key:"getInfo",value:function(){var e=this,t=this,a=this.m_oCap,i=this.m_oParams,n={urlCGI:"videoInfo",params:{channel:i.oChannel.id,videoStream:i.szStreamType},data:null,loading:!0};return u["a"].get(n).then((function(n){var o=n.oResult;e.oXmlDoc=o,i.szIPAddress=s["a"].nodeValue(o,"destIPAddress")||s["a"].nodeValue(o,"destIPv6Address"),i.iVideoDestPortNo=s["a"].nodeValue(o,"videoDestPortNo","i"),e.m_oCapa.bSupportVideoDestPortNo=0!==i.iVideoDestPortNo,i.iAudioDestPortNo=s["a"].nodeValue(o,"audioDestPortNo","i"),e.m_oCapa.bSupportiAudioDestPortNo=0!==i.iAudioDestPortNo,i.bEnableActiveMulticast=s["a"].nodeValue(o,"activeMulticastEnabled","b"),i.szPackagingFormat=s["a"].nodeValue(o,"packagingFormat"),a.bSupportFECDestPort&&(i.iFECDestPortNo=s["a"].nodeValue(o,"fecDestPortNo","i")),a.bSupportFECRatio&&(i.iFECRatio=s["a"].nodeValue(o,"fecRatio","i")),t.m_oCapa.bSupportSRTPVideoDestPortNo&&(t.m_oParams.iSRTSPVideoDestPortNo=s["a"].nodeValue(o,"SRTPMulticast SRTPVideoDestPortNo","i")),t.m_oCapa.bSupportSRTSPAudioDestPortNo&&(t.m_oParams.iSRTSPAudioDestPortNo=s["a"].nodeValue(o,"SRTPMulticast SRTPAudioDestPortNo","i"))})).catch()}},{key:"save",value:function(){var t=this.oXmlDoc,a=this.m_oParams,i=this.m_oCap,n=this;return e(t).find("Multicast destIPv6Address").remove(),e(t).find("Multicast destIPAddress").remove(),s["a"].isIPv6Address(a.szIPAddress)?e(t).find("Multicast").append(s["a"].parseXmlFromStr("<destIPv6Address>"+a.szIPAddress+"</destIPv6Address>").childNodes[0].cloneNode(!0)):e(t).find("Multicast").append(s["a"].parseXmlFromStr("<destIPAddress>"+a.szIPAddress+"</destIPAddress>").childNodes[0].cloneNode(!0)),s["a"].nodeValue(t,"Multicast videoDestPortNo","",a.iVideoDestPortNo),s["a"].nodeValue(t,"Multicast audioDestPortNo","",a.iAudioDestPortNo),s["a"].nodeValue(t,"activeMulticastEnabled","",a.bEnableActiveMulticast),s["a"].nodeValue(t,"packagingFormat","",a.szPackagingFormat),i.bSupportFECDestPort&&s["a"].nodeValue(t,"fecDestPortNo","",a.iFECDestPortNo),i.bSupportFECRatio&&s["a"].nodeValue(t,"fecRatio","",a.iFECRatio),n.m_oCapa.bSupportSRTPVideoDestPortNo&&s["a"].nodeValue(t,"SRTPMulticast SRTPVideoDestPortNo","",n.m_oParams.iSRTSPVideoDestPortNo),n.m_oCapa.bSupportSRTSPAudioDestPortNo&&s["a"].nodeValue(t,"SRTPMulticast SRTPAudioDestPortNo","",n.m_oParams.iSRTSPAudioDestPortNo),new Promise((function(e){var i={urlCGI:"videoInfo",params:{channel:a.oChannel.id,videoStream:a.szStreamType},data:t,loading:!0};u["a"].put(i).then((function(t){l["a"].saveState(t.xhr),e()}),(function(t){l["a"].saveState(t),e()}))}))}}]),t}();t["a"]=new d}).call(this,a("1157"))},"42c7":function(e,t,a){"use strict";a("ebd3")},"42e7":function(e,t,a){"use strict";var i=a("d4ec"),n=a("bee2"),o=a("8d94"),r=function(){function e(){Object(i["a"])(this,e)}return Object(n["a"])(e,[{key:"init",value:function(e){this.header=[{display:o["a"].t("diskNo")},{display:o["a"].t("capacity")},{display:o["a"].t("freeSpace")},{display:o["a"].t("state"),type:"object",object:{ok:o["a"].t("normal"),unformatted:o["a"].t("uninitialized"),error:o["a"].t("error"),idle:o["a"].t("sleeping"),mismatch:o["a"].t("mismatch"),offline:o["a"].t("offLine"),formating:o["a"].t("formatting"),notexist:o["a"].t("notexist"),reparing:o["a"].t("rebuilding")}},{display:o["a"].t("type"),type:"object",object:{eSATA:"eSATA",SATA:o["a"].t("local"),NFS:"NAS",iSCSI:"IP SAN","Virtual Disk":o["a"].t("array"),MiniSAS:"MiniSAS",IDE:"IDE"}},{display:o["a"].t("attribute"),type:"select",array:{RW:o["a"].t("rw"),Redund:o["a"].t("redund"),RO:o["a"].t("ro")},select:[{text:o["a"].t("rw"),value:"RW"},{text:o["a"].t("redund"),value:"Redund"},{text:o["a"].t("ro"),value:"RO"}]},{display:o["a"].t("ipAddr"),type:"data",percentWidth:14,hide:!e},{display:o["a"].t("process"),type:"custom"},{type:"data"},{type:"data"},{type:"data"},{type:"data"},{type:"data"}]}}]),e}();t["a"]=new r},"42f9":function(e,t,a){"use strict";(function(e){a("96cf");var i=a("1da1"),n=a("1c1a"),o=a("3616"),r=a("2b88"),s=a("6458"),l=a("c050"),c=a("47b5"),u=a("3365");t["a"]={name:"ROI",components:{BaseView:n["a"],NewBasePageExtendRotate:o["a"],PluginWind:r["a"],ChannelList:s["a"],BaseSelect:c["a"]},data:function(){return{bLazyLoading:!1,scrollY:0,scrollEvents:["scroll"],bPluginHide:!1,bEnableCancelCallback:!0,bLandscapeMode:!1,bNeedManualDraw:!1,cancelMode:!1,oChannel:{},oRoiCapa:{},oRoiParams:{},validate:{},oParamsValid:{oRegionName:{lengthRange:[0,32]}}}},watch:{"oChannel.id":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t>-1&&(u["a"].oRoiParams.iChannelId=t,u["a"].getROICap().finally((function(){a.oRoiParams=u["a"].oRoiParams,a.oRoiCapa=u["a"].oRoiCapa})));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0},"oRoiParams.streamType":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.oChannel.id||!t){e.next=6;break}return this.oRoiParams.regionNo=0,e.next=4,u["a"].getChannelCap();case 4:return e.next=6,u["a"].getChannelInfo();case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0},"oRoiParams.regionNo":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t&&u["a"].getRoiRegionInfo(t);case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0}},created:function(){this.oChannel={id:1}},methods:{scrollHandler:function(e){var t=e.y;this.scrollY=-t},save:function(){var e=this;this.validate.validateAll(),l["a"].validateTips(this.validate.getErrorReport())&&(this.bLazyLoading=!0,u["a"].saveRoiInfo().then((function(){e.bLazyLoading=!1})))},confirmLandscapeMode:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.bLandscapeMode=!1,e.next=3,u["a"].updateRegionInfo(!1);case 3:this.bNeedManualDraw=!0;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),cancelLandscapeMode:function(){this.bLandscapeMode=!1,this.cancelMode=!0},draw:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.bLandscapeMode=!0,this.$nextTick((function(){var t=a.$store.state.globeStore.screenWidth?a.$store.state.globeStore.screenWidth:window.screen.height;e("#main_plugin").height(window.screen.width-88),e("#main_plugin").width(t)}));case 2:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),clear:function(){u["a"].clear()},drawRegion:function(){u["a"].draw()},playSuccess:function(e){var t=this,a=this;this.$nextTick(Object(i["a"])(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.bLandscapeMode){n.next=11;break}return n.next=3,u["a"].drawRegion();case 3:return n.next=5,u["a"].setDrawStatus(!0);case 5:if(o=u["a"].needRedrawRegion(),o){n.next=9;break}return n.next=9,u["a"].draw();case 9:n.next=23;break;case 11:if(!t.bNeedManualDraw){n.next=17;break}return n.next=14,u["a"].updateRegionInfo(!0);case 14:t.bNeedManualDraw=!1,n.next=23;break;case 17:if(!t.cancelMode){n.next=22;break}return n.next=20,u["a"].drawRegion();case 20:n.next=23;break;case 22:e&&(u["a"].getROICap().then(Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].getPTZCtrlCap();case 2:a.oRoiCapa.bSupportPTZWithPreview=u["a"].oRoiCapa.bSupportPTZWithPreview;case 3:case"end":return e.stop()}}),e)})))),a.oRoiParams.streamType="");case 23:case"end":return n.stop()}}),n)}))))}}}}).call(this,a("1157"))},4392:function(e,t,a){},"43f4":function(e,t,a){},4401:function(e,t,a){"use strict";(function(e){a("96cf");var i=a("1da1"),n=a("666d"),o=a("962a"),r=a("23d7"),s=a("6458"),l=a("47b5");t["a"]={name:"PlanRecord",components:{BasePageExtend:o["a"],TimePlan:r["a"],ChannelList:s["a"],BaseSelect:l["a"]},data:function(){return{oChannel:{id:1},oParamsSwitch:{},aTimes:[],aTimesTemp:[],aPreset:[],oCapbilities:{},bRecordSchedule:!1,bEnableCancelCallback:!0}},watch:{"oChannel.id":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,a){var i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t>0&&t!==a)){e.next=4;break}return n["a"].oChannel.id=t,e.next=4,n["a"].init(t).finally((function(){i.oParamsSwitch=n["a"].m_oParams,i.oCapbilities=n["a"].m_oCapbilities,i.aTimes=i.oParamsSwitch.oMonth.aTimes,i.aPreset=i.oParamsSwitch.oPreset.aPresets.map((function(e){return{text:e.id,value:e.id}}))}));case 4:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),immediate:!0,deep:!0},"oParamsSwitch.oPreset.bEnabled":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.mutexMode("preset");case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),immediate:!0,deep:!0},"oParamsSwitch.oSchedule.bEnabled":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.mutexMode("schedule");case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),immediate:!0,deep:!0}},methods:{changePreset:function(){n["a"].changePreset()},showScheduleTimePicker:function(e){var t=this,a=this,i=this.oCapbilities.aScenes.map((function(e){return{text:t.$t(e),value:e}})),n=[];i.length&&n.push({title:this.$t("scheduleType"),data:[i],selectedIndex:[0]}),n.push({is:"hm-date-time-picker",title:this.$t("startTime"),min:[0,0,0],max:[23,59,59],value:new Date,startColumn:"hour",columnCount:3,format:{hour:"hh",minute:"mm",second:"ss"}},{is:"hm-date-time-picker",title:this.$t("endTime"),min:[0,0,0],max:[23,59,59],value:new Date,startColumn:"hour",columnCount:3,format:{hour:"hh",minute:"mm",second:"ss"}}),this.scheduleTimePicker=this.$createSegmentPicker({data:n,onSelect:function(i){var n="",o="",r="indoor",s="",l="",c="";s=parseInt(i[1].getHours(),10)<10?"0"+i[1].getHours():i[1].getHours(),l=parseInt(i[1].getMinutes(),10)<10?"0"+i[1].getMinutes():i[1].getMinutes(),c=parseInt(i[1].getSeconds(),10)<10?"0"+i[1].getSeconds():i[1].getSeconds(),n=s+":"+l+":"+c,s=parseInt(i[2].getHours(),10)<10?"0"+i[2].getHours():i[2].getHours(),l=parseInt(i[2].getMinutes(),10)<10?"0"+i[2].getMinutes():i[2].getMinutes(),c=parseInt(i[2].getSeconds(),10)<10?"0"+i[2].getSeconds():i[2].getSeconds(),o=s+":"+l+":"+c,r=i[0][0],t.$set(a.oParamsSwitch.oSchedule.aTimes[e],"szBeginTime",n),t.$set(a.oParamsSwitch.oSchedule.aTimes[e],"szEndTime",o),t.$set(a.oParamsSwitch.oSchedule.aTimes[e],"szScene",r)},onNext:function(e){0!==e&&1!==e||t.scheduleTimePicker.$updateProps({data:n})}}),this.scheduleTimePicker.show()},showTimePicker:function(e){var t=this,a=this,i=this.oCapbilities.aScenes.map((function(e){return{text:t.$t(e),value:e}})),n=[];i.length&&n.push({title:this.$t("scheduleType"),data:[i],selectedIndex:[0]}),n.push({is:"hm-date-time-picker",title:this.$t("startTime"),min:[0,0,0],max:[23,59,59],value:new Date,startColumn:"hour",columnCount:3,format:{hour:"hh",minute:"mm",second:"ss"}},{is:"hm-date-time-picker",title:this.$t("endTime"),min:[0,0,0],max:[23,59,59],value:new Date,startColumn:"hour",columnCount:3,format:{hour:"hh",minute:"mm",second:"ss"}}),this.timePicker=this.$createSegmentPicker({data:n,onSelect:function(i){var n="",o="",r="indoor",s="",l="",c="";s=parseInt(i[1].getHours(),10)<10?"0"+i[1].getHours():i[1].getHours(),l=parseInt(i[1].getMinutes(),10)<10?"0"+i[1].getMinutes():i[1].getMinutes(),c=parseInt(i[1].getSeconds(),10)<10?"0"+i[1].getSeconds():i[1].getSeconds(),n=s+":"+l+":"+c,s=parseInt(i[2].getHours(),10)<10?"0"+i[2].getHours():i[2].getHours(),l=parseInt(i[2].getMinutes(),10)<10?"0"+i[2].getMinutes():i[2].getMinutes(),c=parseInt(i[2].getSeconds(),10)<10?"0"+i[2].getSeconds():i[2].getSeconds(),o=s+":"+l+":"+c,r=i[0][0],t.$set(a.oParamsSwitch.oPreset.oPresetInfo.aTimes[e],"szBeginTime",n),t.$set(a.oParamsSwitch.oPreset.oPresetInfo.aTimes[e],"szEndTime",o),t.$set(a.oParamsSwitch.oPreset.oPresetInfo.aTimes[e],"szScene",r)},onNext:function(e){0!==e&&1!==e||t.timePicker.$updateProps({data:n})}}),this.timePicker.show()},mutexMode:function(e){this.oParamsSwitch.oPreset&&this.oParamsSwitch.oPreset.bEnabled&&this.oParamsSwitch.oSchedule.bEnabled&&("preset"===e?this.oParamsSwitch.oSchedule.bEnabled=!1:this.oParamsSwitch.oPreset.bEnabled=!1),this.oCapbilities.oDisabled&&!this.oCapbilities.oDisabled.bSupport&&(this.oParamsSwitch.oPreset.bEnabled||this.oParamsSwitch.oSchedule.bEnabled||("preset"===e?this.oParamsSwitch.oPreset.bEnabled=!0:this.oParamsSwitch.oSchedule.bEnabled=!0))},showSchedule:function(){this.aTimesTemp=e.extend(!0,[],this.aTimes),this.bRecordSchedule=!0},cancelcallback:function(){this.bRecordSchedule=!1,this.aTimes=e.extend(!0,[],this.aTimesTemp)},confirm:function(){this.bRecordSchedule=!1,this.aTimes=this.$refs.timePlan.timesData},deleteAll:function(){this.aTimesTemp=e.extend(!0,[],this.aTimes);for(var t=0,a=this.aTimes.length;t<a;t++)this.aTimes[t]=[];this.$refs.timePlan.timesData=this.aTimes,this.$refs.timePlan.$forceUpdate()},save:function(e){n["a"].save(e)}}}}).call(this,a("1157"))},"447f":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("hddTest"),"right-type":"text"}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("hm-scroll",[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{"is-link":"",title:e.$t("smartTest")},nativeOn:{click:function(t){return e.showSettings()}}}),t("hm-cell",{attrs:{"is-link":"",title:e.$t("badBlockTest")},nativeOn:{click:function(t){return e.showDetection()}}})],1)],1),e.isShowSettings?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:e.$t("smartTest"),"enable-cancel-callback":e.bEnableCancelCallback,"enable-show-tips":e.bEnableShowTips,"sz-confirm":e.$t(" ")},on:{cancelcallback:e.cancelCallbackSettings}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"swipe-wrapper"},[t("hm-scroll",[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("useSmartHdd")}},[t("hm-switch",{model:{value:e.oParams.bEnableUseHdd,callback:function(t){e.$set(e.oParams,"bEnableUseHdd",t)},expression:"oParams.bEnableUseHdd"}})],1),t("hm-cell",{attrs:{title:e.$t("diskNo")}},[t("base-select",{attrs:{title:e.$t("diskNo"),options:e.oCapbilities.aAllOptions},model:{value:e.szDiskIdChooseWithType,callback:function(t){e.szDiskIdChooseWithType=t},expression:"szDiskIdChooseWithType"}})],1),t("hm-cell",{attrs:{title:e.$t("testStatus")}},[e._v("\n                  "+e._s(e.oCapbilities.oTestStatusOption[e.oParams.szTestStatus])+"\n                ")]),t("hm-cell",{attrs:{title:e.$t("smartTestType")}},[t("base-select",{attrs:{title:e.$t("smartTestType"),options:e.options,disabled:e.oParams.iSmartTestPersent>0&&e.oParams.iSmartTestPersent<100},model:{value:e.oParams.szSmartTestType,callback:function(t){e.$set(e.oParams,"szSmartTestType",t)},expression:"oParams.szSmartTestType"}})],1),t("hm-cell",{attrs:{title:e.$t("S.M.A.R.T")}}),t("hm-cell",[t("span",{staticClass:"label-test",attrs:{disabled:e.oParams.iSmartTestPersent>0&&e.oParams.iSmartTestPersent<100},on:{click:e.startSmartTest}},[e._v(e._s(e.$t("startSmartTest")))]),t("hm-progress",{directives:[{name:"show",rawName:"v-show",value:e.oParams.iSmartTestPersent>0,expression:"oParams.iSmartTestPersent > 0"}],attrs:{percentage:e.oParams.iSmartTestPersent}})],1),t("hm-cell",{attrs:{title:e.$t("temperature")}},[e._v("\n                  "+e._s(e.oParams.szTemperature+"℃")+"\n                ")]),t("hm-cell",{attrs:{title:e.$t("useDays")}},[e._v("\n                  "+e._s(e.oParams.szUseDays+e.$t("days"))+"\n                ")]),t("hm-cell",{attrs:{title:e.$t("selfEvaluaing")}},[e._v("\n                  "+e._s(e.oCapbilities.oTestSelfEvaluaingOpt[e.oParams.szSelfEvaluaingStatus])+"\n                ")]),t("hm-cell",{attrs:{title:e.$t("allEvaluaing")}},[e._v("\n                  "+e._s(e.oCapbilities.oTestAllEvaluaingOpt[e.oParams.szAllEvaluaingStatus])+"\n                ")])],1),e.oParams.tableData.tableItem.length>0?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("smartInfo")}},e._l(e.oParams.tableData.tableItem,(function(a,i){return t("hm-cell",{key:i,attrs:{title:e.oCapbilities.oAttributeName[a[1]]?e.oCapbilities.oAttributeName[a[1]]:"Unknown Type Value:".concat(a[1]),"is-link":""},nativeOn:{click:function(t){return e.showSmartInfo(i,e.oCapbilities.oAttributeName[a[1]])}}})})),1):e._e(),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{attrs:{disabled:!(e.szDiskIdChooseWithType.indexOf("HDD")>-1)},on:{click:e.save}},[e._v(e._s(e.$t("save")))])],1)],1)],1)])])],1):e._e(),e.isShowDetection?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:e.$t("badBlockTest"),"enable-cancel-callback":e.bEnableCancelCallback,"enable-show-tips":e.bEnableShowTips,"sz-confirm":e.$t(" ")},on:{cancelcallback:e.cancelCallbackDetection}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"swipe-wrapper"},[t("hm-scroll",[t("hm-cell",{attrs:{title:e.$t("diskNo")}},[t("base-select",{attrs:{title:e.$t("diskNo"),options:e.oCapbilities.aHddOptions},model:{value:e.oParams.szHddTestChoose,callback:function(t){e.$set(e.oParams,"szHddTestChoose",t)},expression:"oParams.szHddTestChoose"}})],1),t("hm-cell",{attrs:{title:e.$t("hddTestType")}},[t("base-select",{attrs:{title:e.$t("hddTestType"),options:e.options1,disabled:"running"===e.oParams.szBlockTestStatus||0===e.oCapbilities.aHddOptions.length},model:{value:e.oParams.szHddTestType,callback:function(t){e.$set(e.oParams,"szHddTestType",t)},expression:"oParams.szHddTestType"}})],1),t("hdd-table",{ref:"tableshdd",attrs:{params:e.oParams,capbilities:e.hddoCapbilities,starts:e.startIs,pauses:e.pauseIs,stops:e.stopIs},on:{startTestBlock:e.startBlockTest,pauseTestBlock:e.pauseTest,stopTestBlock:e.stopBlockTest}})],1)],1)])])],1):e._e(),e.isShowSmartInfo?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:e.titlet,"enable-cancel-callback":e.bEnableCancelCallback,"enable-show-tips":e.bEnableShowTips,"sz-confirm":e.$t(" ")},on:{cancelcallback:e.cancelCallbackShowSmartInfo}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"swipe-wrapper"},[t("hm-scroll",[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},e._l(e.oParams.aTableHead,(function(a,i){return t("div",{key:i},[1!=i?t("hm-cell",{attrs:{title:e.$t(a.display)},model:{value:e.oParams.tableData.tableItem[e.indexx][i],callback:function(t){e.$set(e.oParams.tableData.tableItem[e.indexx],i,t)},expression:"oParams.tableData.tableItem[indexx][index]"}}):e._e()],1)})),0)],1)],1)])])],1):e._e()],1)])},n=[],o=(a("96cf"),a("1da1")),r=a("ea01"),s=a("962a"),l=function(){var e=this,t=e._self._c;return t("div",[t("hm-row",{staticClass:"row"},[t("hm-col",{attrs:{span:8}},[t("button",{class:e.starts?"start":"start opacity",attrs:{disabled:!e.starts},on:{click:e.startBlock}})]),t("hm-col",{attrs:{span:8}},[t("button",{class:e.pauses?"pause":"pause opacity",attrs:{disabled:!e.pauses},on:{click:e.pauseBlock}})]),t("hm-col",{attrs:{span:8}},[t("button",{class:e.stops?"stop":"stop opacity",attrs:{disabled:!e.stops},on:{click:e.stopBlock}})])],1),e._m(0),t("hm-row",{staticClass:"row",attrs:{type:"flex",justify:"end"}},[t("hm-col",{attrs:{span:5}},[t("span",{staticClass:"ok"}),t("span",{staticClass:"tagText"},[e._v(e._s(e.$t("okBlock")))])]),t("hm-col",{attrs:{span:5}},[t("span",{staticClass:"bad"}),t("span",{staticClass:"tagText"},[e._v(e._s(e.$t("badBlock")))])]),t("hm-col",{attrs:{span:5}},[t("span",{staticClass:"shield"}),t("span",{staticClass:"tagText"},[e._v(e._s(e.$t("shieldBlock")))])])],1),t("div",{staticClass:"marginT"},[t("hm-cell-group",[t("hm-cell",{attrs:{title:e.$t("hddCapacity")},model:{value:e.params.szHddCapability,callback:function(t){e.$set(e.params,"szHddCapability",t)},expression:"params.szHddCapability"}}),t("hm-cell",{attrs:{title:e.$t("blockCapacity")},model:{value:e.params.szBlockSize,callback:function(t){e.$set(e.params,"szBlockSize",t)},expression:"params.szBlockSize"}}),t("hm-cell",{attrs:{title:e.$t("state")}},[e.capbilities.oHddTestStatus?t("span",[t("label",[e._v(e._s(e.capbilities.oHddTestStatus[e.params.szBlockTestStatus]))]),t("label",{directives:[{name:"show",rawName:"v-show",value:"running"===e.params.szBlockTestStatus,expression:"params.szBlockTestStatus === 'running'"}]},[e._v(e._s(e.params.szHddTestPersent))])]):e._e()]),t("hm-cell",{attrs:{title:e.$t("errorNums")},model:{value:e.params.szErrorNums,callback:function(t){e.$set(e.params,"szErrorNums",t)},expression:"params.szErrorNums"}})],1)],1)],1)},c=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"blank-part"},[t("div",{staticClass:"table-container"})])}],u=a("169e"),d=u["a"],p=(a("9282"),a("2877")),m=Object(p["a"])(d,l,c,!1,null,null,null),h=m.exports,f=a("47b5"),v={components:{BasePageExtend:s["a"],hddTable:h,BaseSelect:f["a"]},data:function(){return{options:[{value:"short",text:this.$t("shrotType")},{value:"expanded",text:this.$t("expandedType")},{value:"conveyance",text:this.$t("conveyanceType")}],options1:[{value:"full",text:this.$t("fullTest")},{value:"metadata",text:this.$t("metedataTest")}],bEnableCancelCallback:!0,isShowSettings:!1,isShowDetection:!1,verifyResult:r["a"].verifyResult,oParamsValid:r["a"].m_oParamsValid,isShowcheckbox:!0,oParams:r["a"].m_oParams,oCapbilities:r["a"].m_oCapbilities,szDiskIdChooseWithType:null,szHddSmartChoose:null,szHddTestChoose:null,szHddTestPersent:null,aTableHeadN:[],aTableHeadk:[],titlet:"",hddoParams:{},hddoCapbilities:{},isShowSmartInfo:!1,indexx:0,bEnableShowTips:!1,startIs:!0,pauseIs:!1,stopIs:!1,currentChoose:0,cuSta:!0,cuPa:!0,cuSto:!0}},watch:{szDiskIdChooseWithType:{handler:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return this.szHddSmartChoose=this.szDiskIdChooseWithType.substr(4,1),r["a"].m_oParams.szHddSmartChoose=this.szDiskIdChooseWithType.substr(4,1),r["a"].initTable(),e.next=6,r["a"].getSmartTestInfo();case 6:return e.next=8,r["a"].getSmartStatus();case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0},"oParams.szHddTestChoose":{handler:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t&&(r["a"].initBlockParams(),setTimeout((function(){r["a"].getBlockTestStatus()}),200),r["a"].getHddProperty(),t!==this.currentChoose?(this.startIs=!0,this.pauseIs=!1,this.stopIs=!1):(this.startIs=this.cuSta,this.pauseIs=this.cuPa,this.stopIs=this.cuSto));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0}},created:function(){this.init()},methods:{save:function(){r["a"].save()},startSmartTest:function(){r["a"].startSmartTest()},startBlockTest:function(e,t,a){r["a"].startBlockTest(),this.startIs=e,this.pauseIs=t,this.stopIs=a,this.currentChoose=this.oParams.szHddTestChoose,this.cuSta=e,this.cuPa=t,this.cuSto=a},pauseTest:function(e,t,a){r["a"].pauseTest(),this.startIs=e,this.pauseIs=t,this.stopIs=a},stopBlockTest:function(e,t,a){r["a"].stopBlockTest(),this.startIs=e,this.pauseIs=t,this.stopIs=a},cancelCallbackSettings:function(){this.isShowSettings=!1},cancelCallbackDetection:function(){r["a"].stopBlockTest(),this.isShowDetection=!1},cancelCallbackShowSmartInfo:function(){this.isShowSmartInfo=!1},init:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=this,r["a"].initSmartTest().finally((function(){t.szDiskIdChooseWithType=r["a"].m_oParams.szDiskIdChooseWithType,t.szHddSmartChoose=r["a"].m_oParams.szHddSmartChoose,t.szHddTestChoose=r["a"].m_oParams.szHddTestChoose,t.currentChoose=t.szHddTestChoose,t.oParams=r["a"].m_oParams,t.oCapbilities=r["a"].m_oCapbilities,t.hddoParams={szHddCapability:t.oParams.szHddCapability,szBlockSize:t.oParams.szBlockSize,szBlockTestStatus:t.oParams.szBlockTestStatus,szHddTestPersent:t.oParams.szHddTestPersent,szErrorNums:t.oParams.szErrorNums,szPauseResumetxt:t.oParams.szPauseResumetxt},t.oParams=r["a"].m_oParams,t.oCapbilities=r["a"].m_oCapbilities,t.hddoCapbilities={oHddTestStatus:t.oCapbilities.oHddTestStatus}}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),showSettings:function(){this.isShowSettings=!0},showDetection:function(){this.isShowDetection=!0},showSmartInfo:function(e,t){this.isShowSmartInfo=!0,this.indexx=e,this.titlet=t},changeArray:function(e){return e.splice(1,1),e},fresh:function(){this.$forceUpdate()}}},b=v,g=(a("89ab"),Object(p["a"])(b,i,n,!1,null,"2bc90b07",null));t["default"]=g.exports},"44e6":function(e,t,a){},4528:function(e,t,a){},"453c":function(e,t,a){"use strict";(function(e){a("6b54"),a("28a5"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("8d94"),s=a("d09c"),l=a("f193"),c=a("7de8"),u=a("1f20"),d=function(){function t(){Object(n["a"])(this,t),this.oChannel={id:0},this.oMaps={high:r["a"].t("twinkleHigh"),medium:r["a"].t("twinkleMedium"),low:r["a"].t("twinkleLow"),normallyOn:r["a"].t("twinkleNormallyOn")},this.m_oParams={durationTime:15,frequency:"high",brightness:50,TimeRangeList:[]},this.m_oParamsValid={required:!0,range:[0,65535]},this.m_aTimes=[],this.m_oCap={oDurationTime:{bSupport:!1,iDef:15,iMin:0,iMax:20},oFrequency:{bSupport:!1,aList:[],szDef:"medium"},oBrightness:{bSupport:!1,iMin:1,iMax:100,iDef:50},bSupportSchedule:!1,bHoliday:!1,iMaxSize:8}}return Object(o["a"])(t,[{key:"init",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,a){var i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.oChannel.id=t,e.next=3,u["a"].isEnableHoliday();case 3:this.m_oCap.bHoliday=u["a"].m_oDeviceCapa.bEnableHoliday,this.getCap(a).then((function(){i.getParam(a)}));case 5:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"getCap",value:function(t){var a=this,n=t?"whiteLightAlarmOutCapByChannel":"whiteLightAlarmOutCap",o=new Promise(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(i,o){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={urlCGI:n,params:{channel:a.oChannel.id},data:null,loading:!0},t.next=3,l["a"].get(r).then((function(t){try{a.m_aTimes.length=0;var n=a.oMaps,r=a.m_oCap,s=a.m_oParamsValid,l=t.oResult.WhiteLightAlarmCap;if(l.durationTime&&(r.oDurationTime.bSupport=!0,e.extend(s,{required:!0,range:[l.durationTime["@min"],l.durationTime["@max"]]}),r.oDurationTime.iMin=l.durationTime["@min"],r.oDurationTime.iMax=l.durationTime["@max"],r.oDurationTime.iDef=l.durationTime["@def"]),l.frequency&&(r.oFrequency.bSupport=!0,r.oFrequency.aList.length=0,e.each(l.frequency["@opt"].split(","),(function(){r.oFrequency.aList.push({text:n[this.toString()]||this.toString(),value:this})})),r.oFrequency.iDef=l.frequency["@def"]),l.brightness&&(r.oBrightness.bSupport=!0,r.oBrightness.iMin=l.brightness["@min"],r.oBrightness.iMax=l.brightness["@max"],r.oBrightness.iDef=l.brightness["@def"]),l.TimeRangeCap){r.bSupportSchedule=!0,r.iMaxSize=l.TimeRangeCap.id["@maxSize"];for(var c=0;c<7;c++)a.m_aTimes[c]=[]}i()}catch(u){o()}}),(function(e,t){s["a"].getState(t),o()}));case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}());return o}},{key:"getParam",value:function(t){var a=this,n=t?"whiteLightAlarmOutByChannel":"whiteLightAlarmOut",o=new Promise(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(i,o){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={urlCGI:n,params:{channel:a.oChannel.id},data:null,loading:!0},t.next=3,l["a"].get(r).then((function(t){try{var n=a.m_oCap,o=a.m_oParams;if(e.extend(!0,a.m_oParams,t.oResult.WhiteLightAlarm),n.oDurationTime.bSupport&&!o.durationTime&&(o.durationTime=n.oDurationTime.iDef),n.oFrequency.bSupport&&!o.frequency&&(o.frequency=n.oFrequency.iDef),n.oBrightness.bSupport&&!o.brightness&&(o.brightness=n.oBrightness.iDef),n.bSupportSchedule)for(var r=c["a"].objectValue(t.oResult,"WhiteLightAlarm TimeRangeList","p"),s=0;s<r.length;s++)for(var l=r[s],u=l.week-1,d=l.TimeRange,p=0;p<d.length;p++)a.m_aTimes[u].push({sTime:d[p].beginTime,eTime:d[p].endTime,type:"CMR"})}catch(m){}i()}),(function(e,t){s["a"].getState(t),o()}));case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}());return o}},{key:"setParam",value:function(t){var a=e.extend(!0,{},this.m_oParams);if(a.durationTime&&(a.durationTime=parseInt(a.durationTime,10)),a.brightness&&(a.brightness=parseInt(a.brightness,10)),this.m_oCap.bSupportSchedule){for(var i=[],n=0;n<=6;n++){for(var o={week:n+1,TimeRange:[]},r=0;r<this.m_aTimes[n].length;r++)o.TimeRange.push({id:r+1,beginTime:this.m_aTimes[n][r].sTime,endTime:this.m_aTimes[n][r].eTime});i.push(o)}a.TimeRangeList=i}var c=t?"whiteLightAlarmOutByChannel":"whiteLightAlarmOut",u={urlCGI:c,params:{channel:this.oChannel.id},data:{WhiteLightAlarm:a},loading:!0};return new Promise((function(e){l["a"].put(u).then((function(t){e(),s["a"].saveState(t.xhr)}),(function(t){e(),s["a"].saveState(t)}))}))}}]),t}();t["a"]=new d}).call(this,a("1157"))},4598:function(e,t,a){"use strict";(function(e){a("a481"),a("6b54"),a("28a5"),a("7514"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("f193"),s=a("8d94"),l=a("7de8"),c=a("1f20"),u=a("d09c"),d=a("c050"),p=function(){function t(){Object(n["a"])(this,t),this.oXmlDoc=null,this.m_oCapbilities={aFtpNames:[],bSupportSSL:!1,bSupportAnnoyftp:!1,bShowAnnoyftp:!1,bSptSetEnable:!0,bSptSetUploadPic:!0,aInterval:[],bSptPicNamePrefix:!1,bSptSetUploadRecord:!0,bShowUploadRecord:!1},this.m_aFtpParams=[],this.m_oParams={bLoading:!1,oPassword:{szPassword:"",szPasswordConfirm:"",szPasswordDefault:""}},this.m_oParamsValid={oFtpAddr:{required:!0,lengthRange:[1,64],skipVerify:!1},oFtpPort:{required:!0,range:[1,65535],skipVerify:!1},oUserName:{required:!0,lengthRange:[1,32],skipVerify:!1},oPathNameFirst:{required:!0,empty:{value:!1},lengthRange:[1,64],multiChar:{},specialChar:{},skipVerify:!0},oPathNameSecond:{required:!0,empty:{value:!1},lengthRange:[1,64],multiChar:{},specialChar:{},skipVerify:!0},oPicNamePrefix:{required:!0,lengthRange:[1,64],multiChar:{},specialChar:{},skipVerify:!0},oPassword:{required:!0,lengthRange:[0,32]},oPasswordConfirm:{required:!0,lengthRange:[0,32]},immediate:!1}}return Object(o["a"])(t,[{key:"initFtp",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getFtpCap();case 2:return e.next=4,this.getFtpInfo();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"clear",value:function(e){var t=this.m_aFtpParams;0===e&&t[0].oPassword.szPassword===this.m_oParams.oPassword.szPasswordDefault?t[0].oPassword.szPassword="":1===e&&t[0].oPassword.szPasswordConfirm===this.m_oParams.oPassword.szPasswordDefault&&(t[0].oPassword.szPasswordConfirm="")}},{key:"getFtpCap",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new Promise((function(t){var a={urlCGI:"ftpCapa",params:null,data:null,loading:!0};r["a"].get(a).then((function(a){var n=a.oResult,o=e(n).find("enabled").eq(0).attr("opt"),r=i.m_oCapbilities;if(o&&1===o.split(",").length?r.bSptSetEnable=!1:r.bSptSetEnable=!0,o=e(n).find("uploadPicture").eq(0).attr("opt"),o&&1===o.split(",").length?r.bSptSetUploadPic=!1:r.bSptSetUploadPic=!0,o=e(n).find("uploadRecord").eq(0).attr("opt"),o&&1===o.split(",").length?r.bSptSetUploadRecord=!1:r.bSptSetUploadRecord=!0,e(n).find("picArchivingInterval").length){var c=l["a"].nodeAttr(n,"picArchivingInterval","min","i"),u=l["a"].nodeAttr(n,"picArchivingInterval","max","i"),d=r.aInterval;d.length=0,d.push({text:s["a"].t("off"),value:0}),0===c&&(c=1);for(var p=c;p<=u;++p)d.push({text:p,value:p})}if(e(n).find("picNamePrefix").length){r.bSptPicNamePrefix=!0;var m=l["a"].nodeAttr(n,"picNamePrefix","max","i");i.m_oParamsValid.oPicNamePrefix.oMaxLength=m}t()}),(function(){t()}))})),t.abrupt("return",a);case 2:case"end":return t.stop()}}),t)})));function a(){return t.apply(this,arguments)}return a}()},{key:"getFtpInfo",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new Promise((function(t){var a={urlCGI:"ftpInfo",params:null,data:null,loading:!0};r["a"].get(a).then((function(a){var n=a.oResult;i.oXmlDoc=n;var o=i.m_oCapbilities;o.aFtpNames.length=0,e(n).find("uploadRecord").length?o.bShowUploadRecord=!0:o.bShowUploadRecord=!1,e(n).find("FTPNotification").each((function(t,a){o.aFtpNames.push("FTP"+(t+1).toString());var r="";r="hostname"===l["a"].nodeValue(e(a),"addressingFormatType")?l["a"].nodeValue(e(a),"hostName"):0!==e(n).find("ipAddress").length?l["a"].nodeValue(e(a),"ipAddress"):l["a"].nodeValue(e(a),"ipv6Address"),i.m_aFtpParams[t]={bEnableFtp:l["a"].nodeValue(e(a),"enabled","b"),szFtpProtocol:l["a"].nodeValue(e(a),"useSSL"),szAddress:r,szPortNo:l["a"].nodeValue(e(a),"portNo"),szUserName:l["a"].nodeValue(e(a),"userName"),bAnnoyftp:l["a"].nodeValue(e(a),"annoyftp","b"),oPassword:{szPassword:l["a"].nodeValue(e(a),"userName")?i.m_oParams.oPassword.szPasswordDefault:"",szPasswordConfirm:l["a"].nodeValue(e(a),"userName")?i.m_oParams.oPassword.szPasswordDefault:""},bUploadPic:l["a"].nodeValue(e(a),"uploadPicture","b"),bUploadRecord:l["a"].nodeValue(e(i),"uploadRecord","b"),szPathDepth:l["a"].nodeValue(e(a),"pathDepth"),szTopDirNameRule:l["a"].nodeValue(e(a),"topDirNameRule"),szSubDirNameRule:l["a"].nodeValue(e(a),"subDirNameRule"),szTopDirName:l["a"].nodeValue(e(a),"topDirName"),szSubDirName:l["a"].nodeValue(e(a),"subDirName"),iUserNameIndex:t,iArchivingInterval:l["a"].nodeValue(e(a),"picArchivingInterval","i"),szPicNamePrefixMode:"default",szPicNamePrefix:l["a"].nodeValue(e(a),"picNamePrefix")},o.bSptPicNamePrefix&&(i.m_aFtpParams[t].szPicNamePrefixMode=l["a"].nodeValue(a,"picNameRuleType"),i.m_aFtpParams[t].szPicNamePrefix=l["a"].nodeValue(a,"picNamePrefix")),e(n).find("useSSL").length>0&&(o.bSupportSSL=!0),e(n).find("annoyftp").length>0&&(o.bSupportAnnoyftp=!0)})),t()}),(function(){t()}))})),t.abrupt("return",a);case 2:case"end":return t.stop()}}),t)})));function a(){return t.apply(this,arguments)}return a}()},{key:"testFTP",value:function(e){if(e.oPassword.szPassword!==e.oPassword.szPasswordConfirm&&!e.bAnnoyftp)return d["a"].tip(s["a"].t("passNotMatch")),!1;var t='<?xml version="1.0" encoding="UTF-8"?>',a=l["a"].checkAddressingType(e.szAddress),i=this.m_oCapbilities;switch(t+="<FTPTestDescription>",i.bSupportSSL&&(t+="<useSSL>"+e.szFtpProtocol.toString()+"</useSSL>"),t+="hostName"===a?"<addressingFormatType>hostname</addressingFormatType><hostName>"+e.szAddress+"</hostName>":"ipAddress"===a?"<addressingFormatType>ipaddress</addressingFormatType><ipAddress>"+e.szAddress+"</ipAddress>":"<addressingFormatType>ipaddress</addressingFormatType><ipv6Address>"+e.szAddress+"</ipv6Address>",t+="<portNo>"+e.szPortNo+"</portNo>",i.bSupportAnnoyftp&&e.bAnnoyftp?t+="<userName>"+e.szUserName.replace(/</g,"&lt;")+"</userName>":(t+="<userName>"+e.szUserName.replace(/</g,"&lt;")+"</userName>",e.oPassword.szPassword!==this.m_oParams.oPassword.szPasswordDefault&&(t+="<password>"+e.oPassword.szPassword+"</password>")),i.bSupportAnnoyftp&&(t+="<annoyftp>"+e.bAnnoyftp.toString()+"</annoyftp>"),i.aInterval.length&&(t+="<picArchivingInterval>"+e.iArchivingInterval+"</picArchivingInterval>"),i.bSptPicNamePrefix&&(t+="<picNameRuleType>"+e.szPicNamePrefixMode+"</picNameRuleType>","prefix"===e.szPicNamePrefixMode&&(t+="<picNamePrefix>"+e.szPicNamePrefix+"</picNamePrefix>")),t+="<uploadPicture>"+e.bUploadPic.toString()+"</uploadPicture><uploadPath>",e.szPathDepth){case"0":t+="<pathDepth>0</pathDepth>";break;case"1":t+="<pathDepth>1</pathDepth><topDirNameRule>"+e.szTopDirNameRule+"</topDirNameRule>","customize"===e.szTopDirNameRule&&(t+="<topDirName>"+e.szTopDirName.replace(/</g,"&lt;")+"</topDirName>");break;case"2":t+="<pathDepth>2</pathDepth>",t+="<topDirNameRule>"+e.szTopDirNameRule+"</topDirNameRule>","customize"===e.szTopDirNameRule&&(t+="<topDirName>"+e.szTopDirName.replace(/</g,"&lt;")+"</topDirName>"),t+="<subDirNameRule>"+e.szSubDirNameRule+"</subDirNameRule>","customize"===e.szSubDirNameRule&&(t+="<subDirName>"+e.szSubDirName.replace(/</g,"&lt;")+"</subDirName>");break;default:break}t+="</uploadPath></FTPTestDescription>";var n=l["a"].parseXmlFromStr(t);c["a"].testNet("testFtp",n,u["a"])}},{key:"saveParams",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.m_aFtpParams,t[0].oPassword.szPassword===t[0].oPassword.szPasswordConfirm||t[0].bAnnoyftp){e.next=4;break}return d["a"].tip(s["a"].t("passNotMatch")),e.abrupt("return",!1);case 4:return a=[],a.push(this.save()),this.m_oParams.bLoading=!0,e.next=9,l["a"].waitAll(a).then((function(e){for(var t=[],a=0,n=e.length;a<n;++a)e[a]&&t.push(e[a].xhr);i.m_oParams.bLoading=!1,u["a"].successState(t)}),(function(e){this.m_oParams.bLoading=!1,u["a"].saveState(e[0])}));case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,i,n,o,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=this.m_oCapbilities,a=this.m_aFtpParams,i="<?xml version='1.0' encoding='UTF-8'?><FTPNotificationList>",n=0;case 4:if(!(n<a.length)){e.next=39;break}i+="<FTPNotification>",i+="<id>"+(n+1).toString()+"</id>",i+="<enabled>"+a[n].bEnableFtp.toString()+"</enabled>",t.bSupportSSL&&(i+="<useSSL>"+a[n].szFtpProtocol+"</useSSL>"),o=l["a"].checkAddressingType(a[n].szAddress),"hostName"===o?i+="<addressingFormatType>hostname</addressingFormatType><hostName>"+a[n].szAddress.replace(/</g,"&lt;")+"</hostName>":(i+="<addressingFormatType>ipaddress</addressingFormatType>",i+="ipAddress"===o?"<ipAddress>"+a[n].szAddress+"</ipAddress>":"<ipv6Address>"+a[n].szAddress+"</ipv6Address>"),i+="<portNo>"+a[n].szPortNo+"</portNo>",i+="<userName>"+a[n].szUserName.replace(/</g,"&lt;")+"</userName>",a[n].bAnnoyftp||a[n].oPassword.szPassword!==this.m_oParams.oPassword.szPasswordDefault&&(i+="<password>"+a[n].oPassword.szPassword.replace(/</g,"&lt;")+"</password>"),t.bSupportAnnoyftp&&(i+="<annoyftp>"+a[n].bAnnoyftp+"</annoyftp>"),t.aInterval.length&&(i+="<picArchivingInterval>"+a[n].iArchivingInterval+"</picArchivingInterval>"),t.bSptPicNamePrefix&&(i+="<picNameRuleType>"+a[n].szPicNamePrefixMode+"</picNameRuleType>","prefix"===a[n].szPicNamePrefixMode&&(i+="<picNamePrefix>"+a[n].szPicNamePrefix+"</picNamePrefix>")),i+="<uploadPicture>"+a[n].bUploadPic.toString()+"</uploadPicture>",t.bShowUploadRecord&&(i+="<uploadRecord>"+a[n].bUploadRecord.toString()+"</uploadRecord>"),i+="<uploadPath>",e.t0=a[n].szPathDepth,e.next="0"===e.t0?23:"1"===e.t0?25:"2"===e.t0?28:34;break;case 23:return i+="<pathDepth>0</pathDepth>",e.abrupt("break",35);case 25:return i+="<pathDepth>1</pathDepth><topDirNameRule>"+a[n].szTopDirNameRule+"</topDirNameRule>","customize"===a[n].szTopDirNameRule&&(i+="<topDirName>"+a[n].szTopDirName.replace(/</g,"&lt;")+"</topDirName>"),e.abrupt("break",35);case 28:return i+="<pathDepth>2</pathDepth>",i+="<topDirNameRule>"+a[n].szTopDirNameRule+"</topDirNameRule>","customize"===a[n].szTopDirNameRule&&(i+="<topDirName>"+a[n].szTopDirName.replace(/</g,"&lt;")+"</topDirName>"),i+="<subDirNameRule>"+a[n].szSubDirNameRule+"</subDirNameRule>","customize"===a[n].szSubDirNameRule&&(i+="<subDirName>"+a[n].szSubDirName.replace(/</g,"&lt;")+"</subDirName>"),e.abrupt("break",35);case 34:return e.abrupt("break",35);case 35:i+="</uploadPath></FTPNotification>";case 36:n++,e.next=4;break;case 39:return i+="</FTPNotificationList>",s=l["a"].parseXmlFromStr(i),c={urlCGI:"ftpInfo",params:null,data:s,loading:!0},e.abrupt("return",r["a"].put(c));case 43:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),t}();t["a"]=new p}).call(this,a("1157"))},"45c7":function(e,t,a){},4623:function(e,t,a){"use strict";a("fe2d")},4656:function(e,t,a){"use strict";(function(e){a("6b54");var i=a("d4ec"),n=a("bee2"),o=a("768a"),r=function(){function t(){Object(i["a"])(this,t)}return Object(n["a"])(t,[{key:"getChannelList",value:function(t,a){var i=this,n=new Promise((function(n){o["a"].getChannelList(!0).then((function(){i.m_iAnalogChannelNum=o["a"].m_iAnalogChNum;var r=e.extend(!0,[],o["a"].m_aChannelList),s=r.filter((function(n){return"zero"===n.szType||t&&!n.bOnline||"analog"===n.szType&&a.length>0&&-1===e.inArray(n.iId.toString(),a)?null:(n.label="["+("analog"===n.szType?"A"+n.iId:"D"+(n.iId-parseInt(i.m_iAnalogChannelNum,10)))+"] "+n.szName,n.value=n.iId,n)}));i.m_aChannelList=s,n()}))}));return n}}]),t}();t["a"]=new r}).call(this,a("1157"))},"46c6":function(e,t,a){"use strict";a("7f94")},"46fb":function(e,t,a){"use strict";(function(e){a("a481");var i=a("2909"),n=(a("28a5"),a("7514"),a("6b54"),a("96cf"),a("1da1")),o=a("d4ec"),r=a("bee2"),s=a("f193"),l=a("8d94"),c=a("7de8"),u=a("9741"),d=a("d09c"),p=function(){function t(){Object(o["a"])(this,t),this.oXmlDoc=null,this.verifyResult={},this.oPnpXmlDoc=null,this.oExtensionXmlDoc=null,this.m_aTimes=[],this.searchOptions=[],this.m_oParams={iMaxLocalHddNum:0,szSearchIp:"",szNfsType:"NFS"},this.aTypeList=[{name:"NAS",value:"NFS"},{name:"IP SAN",value:"iSCSI"}],this.m_oParamsValid={oServerIp:{empty:{value:!1},ip:{},unicast:{},skipVerify:!1,disbaleskipVerify:!0}},this.aSupportMountType=[],this.aNasParam=[],this.aItems=[],this.aItemsCopy=[],this.oTable=null}return Object(r["a"])(t,[{key:"init",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.initParams(),e.next=3,this.getHddCap();case 3:return e.abrupt("return",this.getNfsInfo());case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initParams",value:function(){for(var e=0;e<8;e++)this.aItems[e]=[],this.aItems[e][0]=(e+1).toString(),this.aItems[e][1]="",this.aItems[e][2]="",this.aItems[e][3]="NFS",this.aItems[e][4]="",this.aItemsCopy[e]=[],this.aItemsCopy[e][0]=(e+1).toString(),this.aItemsCopy[e][1]="",this.aItemsCopy[e][2]="",this.aItemsCopy[e][3]="NFS",this.aItemsCopy[e][4]=""}},{key:"getHddCap",value:function(){var t=this;return new Promise((function(a,i){var n={urlCGI:"hddCapa",data:null,loading:!0};s["a"].get(n).then((function(i){var n=i.oResult;t.m_oParams.iMaxLocalHddNum=parseInt(e(n).find("hddList").attr("size"),10),a()}),(function(e){i(e)}))}))}},{key:"getNfsInfo",value:function(){var t=this;return this.initParams(),new Promise((function(a,i){var n={urlCGI:"nasInfo",data:null,loading:!0};s["a"].get(n).then((function(i){var n=i.oResult,o=e(n).find("supportMountType").attr("opt"),r=0;if(o&&""!==o){t.aSupportMountType.length=0,o=o.split(","),r=o.length,t.aNasParam.length=0;for(var s=0;s<8;++s)t.aNasParam[s]={mountType:"NFS",userName:"",password:""};for(var d=0;d<r;d++)""!==o[d]&&t.aSupportMountType.push({text:l["a"].t(o[d]),value:o[d]});t.aTypeList=[{text:"NAS",value:"NFS"}]}else t.aTypeList=[{text:"NAS",value:"NFS"},{text:"IP SAN",value:"iSCSI"}];for(var p=0;p<8;p++){var m=[];m[0]=c["a"].nodeValue(e(n).find("nas").eq(p),"id","i")-t.m_oParams.iMaxLocalHddNum,"hostname"===c["a"].nodeValue(e(n).find("nas").eq(p),"addressingFormatType")?m[1]=c["a"].nodeValue(e(n).find("nas").eq(p),"hostName"):e(n).find("nas").eq(p).find("ipAddress").length>0?m[1]=c["a"].nodeValue(e(n).find("nas").eq(p),"ipAddress"):m[1]=c["a"].nodeValue(e(n).find("nas").eq(p),"ipv6Address"),m[2]=c["a"].nodeValue(e(n).find("nas").eq(p),"path"),m[3]=c["a"].nodeValue(e(n).find("nas").eq(p),"nasType");var h=m[0]-1;h>=0&&(t.aItems[h][0]=m[0],t.aItems[h][1]=m[1],t.aItems[h][2]=m[2],t.aItems[h][3]=m[3]);var f=c["a"].nodeValue(e(n).find("nas").eq(p),"userName");o=c["a"].nodeValue(e(n).find("nas").eq(p),"mountType"),t.aNasParam[h]={mountType:""===o?"NFS":o,userName:f,password:""===f?"":u["a"].m_szDefaultPwd}}t.aItems=t.aItems.filter((function(e){return e[1]&&e[2]})),a()}),(function(e){i(e)}))}))}},{key:"search",value:function(t,a){var i=this,o="<?xml version='1.0' encoding='UTF-8'?>";return o+="<nasServerDescriptor><nasType>"+t+"</nasType><nasServerIP>"+a+"</nasServerIP>",o+="<nasServerPort></nasServerPort></nasServerDescriptor>",o=c["a"].parseXmlFromStr(o),this.searchOptions=[],new Promise(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(a){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={urlCGI:"nasSeach",processData:!1,data:o,loading:!0},t.next=3,s["a"].post(n).then((function(t){var n=t.oResult;e(n).find("nasDirectory").each((function(t){var a=e(n).find("nasDirectory").eq(t);i.searchOptions.push({label:c["a"].nodeValue(a,"directory"),value:c["a"].nodeValue(a,"directory")})})),a()}),(function(e){i.searchOptions=[],a(e)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"save",value:function(){for(var e=this,t="<?xml version='1.0' encoding='UTF-8'?><nasList>",a=[].concat(Object(i["a"])(e.aItems),Object(i["a"])(e.aItemsCopy)),o=0;o<a.length;o++)for(var r=o+1;r<a.length;r++)1*a[o][0]===1*a[r][0]&&(a.splice(r,1),r--);for(var l=0;l<a.length;l++)t+="<nas><id>"+(parseInt(a[l][0],10)+e.m_oParams.iMaxLocalHddNum)+"</id>",t+="<addressingFormatType>ipaddress</addressingFormatType>",""!==a[l][1]&&""!==a[l][2]?(t+="<ipAddress>"+a[l][1]+"</ipAddress><portNo>0</portNo>",t+="<nasType>"+a[l][3]+"</nasType>",t+="<path>"+a[l][2].replace(/</g,"&lt;"),t+=0===u["a"].iDeviceType?"</path><property>RW</property></nas>":"</path>",e.aSupportMountType.length&&1===u["a"].iDeviceType&&(t+="<mountType>"+e.aNasParam[l].mountType+"</mountType>","SMB/CIFS"===e.aNasParam[l].mountType&&(t+="<userName>"+e.aNasParam[l].userName.replace(/</g,"&lt;")+"</userName>",t+="<password>"+e.aNasParam[l].password.replace(/</g,"&lt;")+"</password>"))):(t+="<ipAddress>0.0.0.0</ipAddress><portNo>0</portNo>",t+="<nasType>NFS</nasType>",t+="<path></path><property>RW</property></nas>"),1===u["a"].iDeviceType&&(t+="<property>RW</property></nas>");t+="</nasList>";var p=c["a"].parseXmlFromStr(t);return new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={urlCGI:"nasInfo",processData:!1,loading:!0,data:p},e.next=3,s["a"].put(a).then((function(e){d["a"].saveState(e.xhr),t(e)}),(function(e){d["a"].saveState(e),t(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),t}();t["a"]=new p}).call(this,a("1157"))},"47b5":function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"custom-select",class:{"custom-select_active":e.active,"custom-select_disabled":e.disabled},on:{click:e.showPicker}},[e.selectedText?t("span",{staticClass:"custom-select-text"},[e._v(e._s(e.selectedText))]):t("span",{staticClass:"custom-select-placeholder"},[e._v(e._s(e._placeholder))]),t("hm-icon",{staticClass:"hm-cell__right-icon",attrs:{name:"arrow"}})],1),t("hm-modal",{attrs:{visible:e.active,title:e._title,"half-height":!0},on:{close:function(t){e.active=!1}}},[t("hm-radio-group",{attrs:{options:e._options},on:{input:e.change},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}})],1)],1)},n=[],o=(a("7514"),a("c5f6"),"change"),r="input",s="picker-show",l="picker-hide",c={name:"BaseCheckboxGroup",props:{value:{type:[String,Number],required:!0,default:function(){return""}},options:{type:Array,default:function(){return[]}},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1},title:{type:String,default:""},cancelTxt:{type:String,default:""},confirmTxt:{type:String,default:""}},data:function(){return{active:!1,radioValue:this.value}},computed:{_placeholder:function(){return this.placeholder||this.$t("pleaseEnter")},_title:function(){return this.title||this.$t("pleaseEnter")},selectedText:function(){var e=this,t=this._options.find((function(t){return t.value===e.radioValue}));return t&&t.label||""},_options:function(){return this.options.map((function(e){return{label:e.label||e.text||e,value:"undefined"===typeof e.value?e:e.value}}))}},watch:{value:function(e){this.radioValue=e}},methods:{showPicker:function(){this.disabled||(this.active=!0,this.$emit(s))},hided:function(){this.active=!1,this.$emit(l)},change:function(){this.$emit(r,this.radioValue),this.$emit(o,this.radioValue),this.hided()}}},u=c,d=(a("7dfc"),a("2877")),p=Object(d["a"])(u,i,n,!1,null,"b0b8a4c4",null);t["a"]=p.exports},"47ce":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("timeSetting"),"right-type":"text","show-save-button":!0,"save-text":e.$t("save"),"b-lazy-loading":e.bLazyLoading},on:{"save-handle":e.save}},[t("div",{staticClass:"time-page-wrapper",attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"hm-index-list-item"},[t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("deviceTime")}},[t("hm-input",{attrs:{disabled:!0},model:{value:e.oSettingTimeInfo.szDeviceTime,callback:function(t){e.$set(e.oSettingTimeInfo,"szDeviceTime",t)},expression:"oSettingTimeInfo.szDeviceTime"}})],1)],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("timeZone")}},[t("base-select",{attrs:{title:e.$t("timeZone"),options:e.aTimeList,disabled:"manual"==e.oSettingTimeInfo.szTimeMode&&e.oCapbilities.bSyncComputerTime},model:{value:e.oSettingTimeInfo.szTimeZone,callback:function(t){e.$set(e.oSettingTimeInfo,"szTimeZone",t)},expression:"oSettingTimeInfo.szTimeZone"}})],1),t("hm-cell",{attrs:{center:"",title:e.$t("timingSyncMode")}},[t("base-select",{attrs:{title:e.$t("timingSyncMode"),options:e.timingModeList,disabled:"manual"==e.oSettingTimeInfo.szTimeMode&&e.oCapbilities.bSyncComputerTime},model:{value:e.oSettingTimeInfo.szTimeMode,callback:function(t){e.$set(e.oSettingTimeInfo,"szTimeMode",t)},expression:"oSettingTimeInfo.szTimeMode"}})],1),"manual"===e.oSettingTimeInfo.szTimeMode?t("hm-cell",{attrs:{title:e.$t("setTime")}},[t("hm-input",{attrs:{readonly:!0,disabled:"NTP"==e.oSettingTimeInfo.szTimeMode||e.oCapbilities.bSyncComputerTime},on:{focus:e.showDateTimePicker},model:{value:e.oSettingTimeInfo.szSelectTime,callback:function(t){e.$set(e.oSettingTimeInfo,"szSelectTime",t)},expression:"oSettingTimeInfo.szSelectTime"}})],1):e._e(),"manual"===e.oSettingTimeInfo.szTimeMode?t("hm-cell",{attrs:{title:e.$t("syncMobileTime")}},[t("hm-switch",{model:{value:e.oCapbilities.bSyncComputerTime,callback:function(t){e.$set(e.oCapbilities,"bSyncComputerTime",t)},expression:"oCapbilities.bSyncComputerTime"}})],1):e._e(),"NTP"===e.oSettingTimeInfo.szTimeMode?t("hm-cell",{class:{"cell-require":e.oParamsValid.oNTPAddressValid&&e.oParamsValid.oNTPAddressValid.required},attrs:{title:e.$t("serverAddr")}},[t("hm-input",{model:{value:e.oSettingTimeInfo.szNTPAddress,callback:function(t){e.$set(e.oSettingTimeInfo,"szNTPAddress",t)},expression:"oSettingTimeInfo.szNTPAddress"}}),t("hm-validator",{attrs:{model:e.oSettingTimeInfo.szNTPAddress,rules:e.oParamsValid.oNTPAddressValid,param:e.$t("serverAddr")}})],1):e._e(),"NTP"===e.oSettingTimeInfo.szTimeMode?t("hm-cell",{class:{"cell-require":e.oParamsValid.oNTPPortNoValid&&e.oParamsValid.oNTPPortNoValid.required},attrs:{title:e.$t("port")}},[t("hm-input",{model:{value:e.oSettingTimeInfo.szNTPPortNo,callback:function(t){e.$set(e.oSettingTimeInfo,"szNTPPortNo",t)},expression:"oSettingTimeInfo.szNTPPortNo"}}),t("hm-validator",{attrs:{model:e.oSettingTimeInfo.szNTPPortNo,rules:e.oParamsValid.oNTPPortNoValid,param:e.$t("ntpPort")}})],1):e._e(),"NTP"===e.oSettingTimeInfo.szTimeMode?t("hm-cell",{class:{"cell-require":e.oParamsValid.oNTPPortNoValid&&e.oParamsValid.oNTPPortNoValid.required},attrs:{title:e.intervalTitle}},[t("hm-input",{model:{value:e.oSettingTimeInfo.szNTPInterval,callback:function(t){e.$set(e.oSettingTimeInfo,"szNTPInterval",t)},expression:"oSettingTimeInfo.szNTPInterval"}}),t("hm-validator",{attrs:{model:e.oSettingTimeInfo.szNTPInterval,rules:e.oParamsValid.oNTPIntervalValid,param:e.$t("interval")}})],1):e._e(),"NTP"===e.oSettingTimeInfo.szTimeMode?t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:!e.oCapbilities.bNVRDevice,expression:"!oCapbilities.bNVRDevice"}]},[t("span",{staticClass:"label-test",on:{click:function(t){return e.testNTP()}}},[e._v(e._s(e.$t("test")))])]):e._e()],1),e.bSupportDST?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("dst")}},[t("hm-cell",{attrs:{title:e.$t("enable")}},[t("hm-switch",{model:{value:e.oSettingTimeInfo.bEnableDST,callback:function(t){e.$set(e.oSettingTimeInfo,"bEnableDST",t)},expression:"oSettingTimeInfo.bEnableDST"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oSettingTimeInfo.bEnableDST,expression:"oSettingTimeInfo.bEnableDST"}],staticClass:"select-box",attrs:{title:e.$t("startTime")}},[t("hm-input",{attrs:{readonly:!0},on:{focus:e.showStart},model:{value:e.oSettingTimeInfo.startTime,callback:function(t){e.$set(e.oSettingTimeInfo,"startTime",t)},expression:"oSettingTimeInfo.startTime"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oSettingTimeInfo.bEnableDST,expression:"oSettingTimeInfo.bEnableDST"}],staticClass:"select-box",attrs:{title:e.$t("endTime")}},[t("hm-input",{attrs:{readonly:!0},on:{focus:e.showEnd},model:{value:e.oSettingTimeInfo.endTime,callback:function(t){e.$set(e.oSettingTimeInfo,"endTime",t)},expression:"oSettingTimeInfo.endTime"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oSettingTimeInfo.bEnableDST,expression:"oSettingTimeInfo.bEnableDST"}],staticClass:"select-box",attrs:{title:e.$t("dstBias")}},[t("base-select",{attrs:{title:e.$t("dstBias"),options:e.aBiasTime},model:{value:e.oSettingTimeInfo.szBiasTime,callback:function(t){e.$set(e.oSettingTimeInfo,"szBiasTime",t)},expression:"oSettingTimeInfo.szBiasTime"}})],1)],1):e._e()],1)],1),t("base-view")],1)])},n=[],o=(a("96cf"),a("1da1")),r=a("1c1a"),s=a("870f"),l=a("c050"),c=a("97af"),u=a("1f20"),d=a("47b5"),p={name:"TimeSetting",components:{BaseView:r["a"],BasePage:c["a"],BaseSelect:d["a"]},data:function(){return{validate:{},oSettingTimeInfo:s["a"]._oSettingTimeInfo,oParamsValid:s["a"].oParamsValid,oCapbilities:s["a"].m_oCapbilities,intervalTitle:this.$t("interval")+"（min）",aMonth:s["a"]._aMonth,aWeekIndex:s["a"]._aWeekIndex,aWeek:s["a"]._aWeek,aTime:s["a"]._aTime,aBiasTime:s["a"]._aBiasTime,aTimeList:[{value:"CST+12:00:00",text:this.$t("timeZone1")},{value:"CST+11:00:00",text:this.$t("timeZone2")},{value:"CST+10:00:00",text:this.$t("timeZone3")},{value:"CST+9:00:00",text:this.$t("timeZone4")},{value:"CST+8:00:00",text:this.$t("timeZone5")},{value:"CST+7:00:00",text:this.$t("timeZone6")},{value:"CST+6:00:00",text:this.$t("timeZone7")},{value:"CST+5:00:00",text:this.$t("timeZone8")},{value:"CST+4:30:00",text:this.$t("timeZone9")},{value:"CST+4:00:00",text:this.$t("timeZone10")},{value:"CST+3:30:00",text:this.$t("timeZone11")},{value:"CST+3:00:00",text:this.$t("timeZone12")},{value:"CST+2:00:00",text:this.$t("timeZone13")},{value:"CST+1:00:00",text:this.$t("timeZone14")},{value:"CST+0:00:00",text:this.$t("timeZone15")},{value:"CST-1:00:00",text:this.$t("timeZone16")},{value:"CST-2:00:00",text:this.$t("timeZone17")},{value:"CST-3:00:00",text:this.$t("timeZone18")},{value:"CST-3:30:00",text:this.$t("timeZone19")},{value:"CST-4:00:00",text:this.$t("timeZone20")},{value:"CST-4:30:00",text:this.$t("timeZone21")},{value:"CST-5:00:00",text:this.$t("timeZone22")},{value:"CST-5:30:00",text:this.$t("timeZone23")},{value:"CST-5:45:00",text:this.$t("timeZone24")},{value:"CST-6:00:00",text:this.$t("timeZone25")},{value:"CST-6:30:00",text:this.$t("timeZone26")},{value:"CST-7:00:00",text:this.$t("timeZone27")},{value:"CST-8:00:00",text:this.$t("timeZone28")},{value:"CST-9:00:00",text:this.$t("timeZone29")},{value:"CST-9:30:00",text:this.$t("timeZone30")},{value:"CST-10:00:00",text:this.$t("timeZone31")},{value:"CST-11:00:00",text:this.$t("timeZone32")},{value:"CST-12:00:00",text:this.$t("timeZone33")},{value:"CST-13:00:00",text:this.$t("timeZone34")}],timingModeList:[{text:this.$t("ntp"),value:"NTP"},{text:this.$t("manualTimeSync"),value:"manual"}],radioNTP:[{label:this.$t("ntp"),value:"NTP"}],radioManual:[{label:this.$t("manualTimeSync"),value:"manual"}],upDateTime:0,bSupportDST:!1}},computed:{bLazyLoading:function(){return s["a"]._oSettingTimeInfo.bLoading}},watch:{"oCapbilities.bSyncComputerTime":{handler:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t?this.upDateTime=setInterval((function(){s["a"].updateTimeZone()}),1e3):clearInterval(this.upDateTime);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0},"oSettingTimeInfo.szTimeMode":{handler:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"manual"===t&&s["a"].updateSelectTime(),a="manual"===t,this.oParamsValid.oNTPAddressValid.required=!a,this.oParamsValid.oNTPPortNoValid.required=!a,this.oParamsValid.oNTPIntervalValid.required=!a;case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0},"oSettingTimeInfo.szTimeZone":{handler:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:null!==s["a"]._dtDeviceTime&&s["a"].updateSelectTime();case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),deep:!0}},created:function(){var e=this;s["a"].init().finally((function(){e.oSettingTimeInfo=s["a"]._oSettingTimeInfo,e.aMonth=s["a"]._aMonth,e.aWeekIndex=s["a"]._aWeekIndex,e.aWeek=s["a"]._aWeek,e.aTime=s["a"]._aTime,e.aBiasTime=s["a"]._aBiasTime,e.bSupportDST=u["a"].m_oDeviceCapa.bSupportDST}))},destroyed:function(){clearInterval(this.upDateTime),this.upDateTime=0},methods:{testNTP:function(){s["a"].testNTP()},showDateTimePicker:function(){this.dateTimePicker||(this.dateTimePicker=this.$createDateTimePicker({title:this.$t("selectTime"),min:new Date(2008,7,8,8,0,0),max:new Date(2099,9,20,20,59,59),value:new Date,columnCount:6,cancelTxt:this.$t("cancel"),confirmTxt:this.$t("ok"),onSelect:this.selectTime})),this.dateTimePicker.show()},selectTime:function(e){s["a"].selectTime(e)},showStart:function(){this.mutiPickerStart||(this.mutiPickerStart=this.$createPicker({title:this.$t("dst"),data:[this.aMonth,this.aWeekIndex,this.aWeek,this.aTime],selectedIndex:[this.oSettingTimeInfo.startMonthIndex,this.oSettingTimeInfo.startWeekIndexI,this.oSettingTimeInfo.startWeekIndex,this.oSettingTimeInfo.startTimeIndex],onSelect:this.selectStart})),this.mutiPickerStart.show()},showEnd:function(){this.mutiPickerEnd||(this.mutiPickerEnd=this.$createPicker({title:this.$t("dst"),data:[this.aMonth,this.aWeekIndex,this.aWeek,this.aTime],selectedIndex:[this.oSettingTimeInfo.endMonthIndex,this.oSettingTimeInfo.endWeekIndexI,this.oSettingTimeInfo.endWeekIndex,this.oSettingTimeInfo.endTimeIndex],onSelect:this.selectEnd})),this.mutiPickerEnd.show()},selectStart:function(e,t,a){this.oSettingTimeInfo.startTime=a[0]+". "+a[1]+". "+a[2]+". "+a[3],this.oSettingTimeInfo.szStartMonth=e[0],this.oSettingTimeInfo.szStartWeekIndex=e[1],this.oSettingTimeInfo.szStartWeek=e[2],this.oSettingTimeInfo.szStartTime=e[3]},selectEnd:function(e,t,a){this.oSettingTimeInfo.endTime=a[0]+". "+a[1]+". "+a[2]+". "+a[3],this.oSettingTimeInfo.szEndMonth=e[0],this.oSettingTimeInfo.szEndWeekIndex=e[1],this.oSettingTimeInfo.szEndWeek=e[2],this.oSettingTimeInfo.szEndTime=e[3]},save:function(){this.validate.validateAll(),l["a"].validateTips(this.validate.getErrorReport())&&s["a"].save()}}},m=p,h=(a("d618"),a("b391"),a("2877")),f=Object(h["a"])(m,i,n,!1,null,"68673641",null);t["default"]=f.exports},"491d":function(e,t,a){"use strict";a("b49a")},"49b4":function(e,t,a){"use strict";a("43f4")},"4abc":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("audio"),"right-type":"text","show-save-button":e.bSupport,"save-text":e.$t("save"),"b-lazy-loading":e.bLazyLoading},on:{"save-handle":e.saveCardInfo}},[t("div",{staticClass:"audio-page-wrapper",attrs:{slot:"content"},slot:"content"},[e.bSupport?t("div",{staticClass:"hm-index-list-item"},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oAudioCapa.bSupportComType,expression:"oAudioCapa.bSupportComType"}],attrs:{title:e.$t("audioEncoded")}},[t("base-select",{attrs:{title:e.$t("audioEncoded"),options:e.oAudioCapa.compressionTypes},model:{value:e.oAudioParams.compressionType,callback:function(t){e.$set(e.oAudioParams,"compressionType",t)},expression:"oAudioParams.compressionType"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oAudioCapa.bSupportSamplingRate,expression:"oAudioCapa.bSupportSamplingRate"}],attrs:{title:e.$t("samplingRate")}},[t("base-select",{attrs:{title:e.$t("samplingRate"),options:e.oAudioCapa.samplingRates},model:{value:e.oAudioParams.samplingRate,callback:function(t){e.$set(e.oAudioParams,"samplingRate",t)},expression:"oAudioParams.samplingRate"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oAudioCapa.bSupportBitRate,expression:"oAudioCapa.bSupportBitRate"}],attrs:{title:e.$t("audioStreamBit")}},[t("base-select",{attrs:{title:e.$t("audioStreamBit"),options:e.oAudioCapa.audioStreamBits},model:{value:e.oAudioParams.audioStreamBit,callback:function(t){e.$set(e.oAudioParams,"audioStreamBit",t)},expression:"oAudioParams.audioStreamBit"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oAudioCapa.bSupportAudioInput,expression:"oAudioCapa.bSupportAudioInput"}],attrs:{title:e.$t("audioInput")}},[t("base-select",{attrs:{title:e.$t("audioInput"),options:e.oAudioCapa.audioInputs},model:{value:e.oAudioParams.audioInput,callback:function(t){e.$set(e.oAudioParams,"audioInput",t)},expression:"oAudioParams.audioInput"}})],1),e.oAudioCapa.bSupportInputVol?t("hm-cell",{attrs:{title:e.$t("inputVolume")}},[t("hm-stepper",{attrs:{min:0,max:100,step:1},model:{value:e.oAudioParams.inputVolume,callback:function(t){e.$set(e.oAudioParams,"inputVolume",t)},expression:"oAudioParams.inputVolume"}})],1):e._e(),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oAudioCapa.bSupportAudioOutput,expression:"oAudioCapa.bSupportAudioOutput"}],attrs:{title:e.$t("audioOutput")}},[t("base-select",{attrs:{title:e.$t("audioOutput"),options:e.oAudioCapa.aAudioOutputType},model:{value:e.oAudioParams.szAudioOutputType,callback:function(t){e.$set(e.oAudioParams,"szAudioOutputType",t)},expression:"oAudioParams.szAudioOutputType"}})],1),e.oAudioCapa.bSupportOutputVol?t("hm-cell",{attrs:{title:e.$t("outputVolume")}},[t("hm-stepper",{attrs:{min:0,max:100,step:1},model:{value:e.oAudioParams.outputVolume,callback:function(t){e.$set(e.oAudioParams,"outputVolume",t)},expression:"oAudioParams.outputVolume"}})],1):e._e(),t("hm-cell",{attrs:{title:e.$t("environmentNoiseFilter")}},[t("hm-switch",{model:{value:e.oAudioParams.environmentNoiseFilter,callback:function(t){e.$set(e.oAudioParams,"environmentNoiseFilter",t)},expression:"oAudioParams.environmentNoiseFilter"}})],1),e.oAudioCapa.bSupportMuteDuringPanTilt?t("hm-cell",{attrs:{title:e.$t("muteDuringPanTilt_name")}},[t("hm-switch",{attrs:{disabled:"networkPickUp"===e.oAudioParams.audioInput},model:{value:e.oAudioParams.bMuteDuringPanTilt,callback:function(t){e.$set(e.oAudioParams,"bMuteDuringPanTilt",t)},expression:"oAudioParams.bMuteDuringPanTilt"}})],1):e._e()],1)],1):t("no-data")],1)])},n=[],o=(a("96cf"),a("1da1")),r=(a("6762"),a("2fdb"),a("28a5"),a("ac6a"),a("bef5")),s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:e.szDetailPageTitle,"enable-show-tips":e.bEnableShowTips,"show-confirm":e.bShowConfirm,"enable-cancel-callback":e.bEnableCancelCallback}},[t("div",{staticClass:"content",attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"no-data"},[t("span",{staticClass:"icon-default_page_date"},[t("span",{staticClass:"path1"}),t("span",{staticClass:"path2"}),t("span",{staticClass:"path3"}),t("span",{staticClass:"path4"}),t("span",{staticClass:"path5"})]),t("p",[e._v(e._s(e.$t(e.title)))])])])]),t("router-view")],1)},l=[],c=a("962a"),u={name:"NoData",components:{BasePageExtend:c["a"]},props:{title:{type:String,default:"noData"}},data:function(){return{bRouter:!0,bEnableCancelCallback:!1,bEnableShowTips:!1,bShowConfirm:!1,szDetailPageTitle:this.$t(this.title)}}},d=u,p=(a("9523"),a("2877")),m=Object(p["a"])(d,s,l,!1,null,"8877a2fe",null),h=m.exports,f=a("1f20"),v=a("9741"),b=a("47b5"),g={name:"Audio",components:{NoData:h,BaseSelect:b["a"]},data:function(){return{bLazyLoading:!1,oAudioParams:{},oAudioCapa:{},bSupport:!1}},watch:{"oAudioParams.compressionType":{handler:function(e,t){var a=this;if(e){this.oAudioCapa.bSupportSamplingRate=!1,this.oAudioCapa.bSupportBitRate=!1,this.oAudioCapa.bSupportENF=!1;var i=this.oDynamicCapa[e].capas;if("undefined"!==typeof i&&0!==i.length){var n=this.oDynamicCapa[e].defaultIndex;if(this.oAudioCapa.samplingRates.length=0,i.forEach((function(e){""!==e.samplingRate&&(a.oAudioCapa.bSupportSamplingRate=!0,a.oAudioCapa.samplingRates.push({value:e.samplingRate,text:e.samplingRate+"kHz"}))})),t&&this.oAudioCapa.bSupportSamplingRate&&t!==e&&(this.oAudioParams.samplingRate=this.oAudioCapa.samplingRates[n].value),""!==i[n].audioBitRate){this.oAudioCapa.bSupportBitRate=!0,this.oAudioCapa.audioStreamBits.length=0;var o=i[n].audioBitRate.split("-")[0].split(","),r=i[n].audioBitRate.split("-")[1];o.forEach((function(e){a.oAudioCapa.audioStreamBits.push({value:e,text:"".concat(e,"kbps")})})),t&&t!==e&&(this.oAudioParams.audioStreamBit=r)}}}},immediate:!0},"oAudioParams.samplingRate":{handler:function(e,t){var a=this;if(e){this.oAudioCapa.bSupportBitRate=!1,this.oAudioCapa.bSupportENF=!1;var i=this.oDynamicCapa[this.oAudioParams.compressionType].capas;if("undefined"!==typeof i&&0!==i.length){var n=0;if(i.forEach((function(e,t){if(e.samplingRate===a.oAudioParams.samplingRate)return n=t,!1})),""!==i[n].audioBitRate){this.oAudioCapa.bSupportBitRate=!0,this.oAudioCapa.audioStreamBits.length=0;var o=i[n].audioBitRate.split("-")[0].split(","),r=i[n].audioBitRate.split("-")[1];o.forEach((function(e){a.oAudioCapa.audioStreamBits.push({value:e,text:"".concat(e,"kbps")})})),t&&(this.oAudioParams.audioStreamBit=r)}this.oAudioCapa.bSupportENF=i[n].supportNoiseReduce}}},immediate:!0},"oAudioParams.audioInput":{handler:function(e){this.oAudioCapa.bSupportMuteDuringPanTilt=f["a"].m_oDeviceCapa.aMuteDuringPanTilt.includes(e)}}},created:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f["a"].getDeviceCapa();case 2:return this.bSupport=f["a"].m_oDeviceCapa.bSupportAudio&&1===v["a"].iDeviceType,e.next=5,r["a"].getVideoCap(1);case 5:return e.next=7,r["a"].getAudioCap(1);case 7:return e.next=9,r["a"].getAudioInfo(1);case 9:return e.next=11,r["a"].getAudioCapa(2);case 11:this.oAudioParams=r["a"].oAudioParams,this.oAudioCapa=r["a"].oAudioCapa,this.oDynamicCapa=r["a"].oDynamicCapa;case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{saveCardInfo:function(){var e=this;this.bLazyLoading=!0,r["a"].setInfo(1).then((function(){e.bLazyLoading=!1}))}}},P=g,S=(a("a469"),Object(p["a"])(P,i,n,!1,null,"1aaa35ab",null));t["default"]=S.exports},"4bf0":function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"modal-fade"}},[e.visible?t("div",{staticClass:"hm__modal"},[t("div",{staticClass:"modal-box"},[t("div",{staticClass:"hm__modal__header"},[t("div",{staticClass:"hm__modal__title"},[e._v(e._s(e.title))]),"left"===e.closeType?t("div",{staticClass:"hm__modal__close",on:{click:e.closeModal}},[e.cancel?t("span",[e._v(e._s(e.cancel))]):t("hm-icon",{attrs:{name:"arrow-left",size:"20"}})],1):e._e(),"right"===e.closeType?t("div",{staticClass:"hm__modal__close_right"},[t("hm-icon",{attrs:{name:"cross",size:"20"},nativeOn:{click:function(t){return e.closeModal.apply(null,arguments)}}})],1):e._e()]),t("div",{staticClass:"modal-content"},[e._t("default")],2)])]):e._e()])},n=[],o="hm-modal",r={name:o,props:{visible:{type:Boolean,default:!1},title:{type:String,default:"Modal"},cancel:{type:String,default:""},closeType:{type:String,default:"left"}},mounted:function(){document.body.appendChild(this.$el)},destroyed:function(){this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)},methods:{closeModal:function(){this.$emit("close")}}},s=r,l=(a("a9b7"),a("2877")),c=Object(l["a"])(s,i,n,!1,null,"426b870e",null);t["a"]=c.exports},"4c59":function(e,t,a){"use strict";a("899e")},"4c92":function(e,t,a){"use strict";a("8c89")},"4ca8":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"log-details"},[t("hm-scroll",[t("div",{staticClass:"hm-index-list-item"},[t("hm-cell-group",{staticClass:"custom-cell-group"},[t("hm-cell",{attrs:{title:e.$t("time")}},[t("hm-input",{attrs:{disabled:!0},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1),t("hm-cell",{attrs:{title:e.$t("majorType")}},[t("hm-input",{attrs:{disabled:!0},model:{value:e.major,callback:function(t){e.major=t},expression:"major"}})],1),t("hm-cell",{attrs:{title:e.$t("minorType")}},[t("hm-input",{attrs:{disabled:!0},model:{value:e.minor,callback:function(t){e.minor=t},expression:"minor"}})],1),t("hm-cell",{attrs:{title:e.$t("deviceChanNo")}},[t("hm-input",{attrs:{disabled:!0},model:{value:e.channelId,callback:function(t){e.channelId=t},expression:"channelId"}})],1),t("hm-cell",{attrs:{title:e.$t("localOrRemoteUser")}},[t("hm-input",{attrs:{disabled:!0},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),t("hm-cell",{attrs:{title:e.$t("remoteHostIP")}},[t("hm-input",{attrs:{disabled:!0},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}})],1)],1)],1)])],1)},n=[],o={name:"MaintainLogDetails",props:{logDetailsData:{type:Array,default:function(){return[]},required:!0}},data:function(){return{logDetails:this.logDetailsData,time:"",major:"",minor:"",channelId:"",username:"",address:""}},mounted:function(){this.initParam()},methods:{initParam:function(){this.logDetails&&(this.time=this.logDetails.time,this.major=this.logDetails.major,this.minor=this.logDetails.minor,this.channelId=this.logDetails.channelId,this.username=this.logDetails.username,this.address=this.logDetails.address)}}},r=o,s=(a("a9cd"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,null,null);t["default"]=l.exports},"4d1b":function(e,t,a){"use strict";(function(e){a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("181b"),s=a("1f20"),l=a("768a"),c=a("d6ce"),u=a("49ca"),d=function(){function t(){Object(n["a"])(this,t),this.oWaitDlg=null,this.bHideTool=!1,this.oImgPlay={inerval:0,bImgPlay:!0}}return Object(o["a"])(t,[{key:"init",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=a,a||(i="normal"),t.next=4,l["a"].getChannelList();case 4:return t.next=6,r["a"].init(1,1,i,e("#main_plugin").width(),e("#main_plugin").height());case 6:return t.next=8,r["a"].setCanFullScreen(0);case 8:return t.next=10,s["a"].getSHttpCapa();case 10:return t.abrupt("return",new Promise((function(e){return e()})));case 11:case"end":return t.stop()}}),t)})));function a(e){return t.apply(this,arguments)}return a}()},{key:"startPlay",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){var i,n,o,s,d,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=parseInt(a,10)+"01",!this.oImgPlay.bImgPlay){t.next=12;break}return n="/ISAPI/ContentMgmt/StreamingProxy/channel/"+i+"/Picture?snapShotImageType=JPEG",e.inArray(a,l["a"].m_aAnalogChId)>-1&&(n="/ISAPI/Streaming/channels/"+i+"/picture"),c["a"].bDebug&&!u["a"].bWebProxy&&(n=location.protocol+"//"+c["a"].szHostName+":"+c["a"].iHttpPort+n),u["a"].bWebProxy,t.next=8,r["a"].imagePlay(n);case 8:o=t.sent,r["a"].changeImageInterval(1e3),t.next=12;break;case 12:if(0===o){for(s=-1,d=0,p=l["a"].m_aChannelList.length;d<p;d++)a===l["a"].m_aChannelList[d].iId&&(s=d);l["a"].m_aWndList[0].bPlay=!0,l["a"].m_aWndList[0].iChannelPlayIndex=s}this.oWaitDlg&&this.oWaitDlg.close();case 14:case"end":return t.stop()}}),t,this)})));function a(e){return t.apply(this,arguments)}return a}()},{key:"resize",value:function(){var t=e("#main_plugin").height();this.bHideTool&&(t+=30),r["a"].resize(e("#main_plugin").width(),t)}},{key:"unloadPlugin",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.oWaitDlg&&this.oWaitDlg.close(),e.next=3,r["a"].removePlugin();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"refresh",value:function(){var e=parseInt(this.oImgPlay.inerval,10);0===e&&(e=999999999),r["a"].changeImageInterval(e)}}]),t}();t["a"]=new d}).call(this,a("1157"))},"4d1e":function(e,t,a){},"4d6e":function(e,t,a){"use strict";(function(e){a("6b54"),a("7514"),a("28a5"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("7de8"),s=a("d09c"),l=a("8d94"),c=a("f193"),u=function(){function t(){Object(n["a"])(this,t),this.m_oCapbilities={aCloudTypes:[],aUploadTypes:[]},this.m_oParams={enabled:!1,szCloudType:"",szAuthCode:"",szStatus:"false",szUploadType:"",bEventUpload:!1,szCapacity:"",szUsedSpace:"",szUserInfo:""},this.m_oLastParams={szCloudType:"",szAuthCode:"",szStatus:"false",szCapacity:"",szUsedSpace:"",szUserInfo:""},this.m_oParamsValid={oAuthCode:{required:!0,lengthRange:[1,64]}},this.channelId=1}return Object(o["a"])(t,[{key:"init",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getCloudCap();case 2:return e.next=4,this.getCloudUploadCap();case 4:return e.next=6,this.getCloudInfo();case 6:return e.next=8,this.getCloudUploadInfo(this.channelId);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getCloudCap",value:function(){var t=this;return new Promise((function(a){var i={urlCGI:"thirdCloudStorageCap",params:{},data:null,loading:!0};c["a"].get(i).then((function(i){var n=i.oResult;t.m_oCapbilities.aCloudTypes.length=0;for(var o=e(n).find("type").eq(0).attr("opt").split(","),r=o.length,s=0;s<r;s++)t.m_oCapbilities.aCloudTypes.push({text:o[s],value:o[s]});a()}),(function(){a()}))}))}},{key:"getCloudUploadCap",value:function(){var t=this;return new Promise((function(a){var i={urlCGI:"thirdCloudUploadCap",params:{channel:1},data:null,loading:!0};c["a"].get(i).then((function(i){var n=i.oResult;t.m_oCapbilities.aUploadTypes.length=0;for(var o=e(n).find("strategyType").eq(0).attr("opt").split(","),r=o.length,s=0;s<r;s++)t.m_oCapbilities.aUploadTypes.push({text:o[s],value:o[s]});a()}),(function(){a()}))}))}},{key:"getCloudInfo",value:function(){var t=this,a={urlCGI:"thirdCloudStorageInfo",params:{},data:null,loading:!0};c["a"].get(a).then((function(a){var i=a.oResult;t.m_oXmlDoc=i,t.m_oParams.enabled=r["a"].nodeValue(e(i),"enable","b"),t.m_oParams.szCloudType=r["a"].nodeValue(e(i),"type"),t.m_oParams.szAuthCode=r["a"].nodeValue(e(i),"authCode"),t.m_oParams.szStatus="Online"===r["a"].nodeValue(e(i),"status")?"true":"false",t.m_oParams.szCapacity=(r["a"].nodeValue(e(i),"tolalCapacity","i")/1024).toFixed(2),t.m_oParams.szUsedSpace=(r["a"].nodeValue(e(i),"usedSpace","i")/1024).toFixed(2),t.m_oParams.szUserInfo=r["a"].nodeValue(e(i),"alias"),t.m_oLastParams.szCloudType=t.m_oParams.szCloudType,t.m_oLastParams.szAuthCode=t.m_oParams.szAuthCode,t.m_oLastParams.szStatus=t.m_oParams.szStatus,t.m_oLastParams.szCapacity=t.m_oParams.szCapacity,t.m_oLastParams.szUsedSpace=t.m_oParams.szUsedSpace,t.m_oLastParams.szUserInfo=t.m_oParams.szUserInfo}))}},{key:"getCloudUploadInfo",value:function(t){var a=this;this.channelId=t;var i=new Promise((function(i){var n={urlCGI:"thirdCloudUploadInfo",params:{channel:t},data:null,loading:!0};c["a"].get(n).then((function(t){var n=t.oResult;a.m_oUploadXmlDoc=n,a.m_oParams.szUploadType=r["a"].nodeValue(e(n),"strategyType"),a.m_oParams.bEventUpload=r["a"].nodeValue(e(n),"allEvent","b"),i()}),(function(){i()}))}));return i}},{key:"save",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a,i,n,o,u,d,p,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=this,i=null,n=null,o="",u="<?xml version='1.0' encoding='UTF-8'?><Cloud>",u+="<type>"+a.m_oParams.szCloudType+"</type>",u+="<enable>"+a.m_oParams.enabled.toString()+"</enable>",u+="<authCode></authCode>",u+="</Cloud>",d=r["a"].parseXmlFromStr(u),e(d).find("authCode").eq(0).text(a.m_oParams.szAuthCode),p={urlCGI:"thirdCloudStorageInfo",params:{},data:d,loading:!0},t.next=14,c["a"].put(p).then((function(e){i=e.xhr}),(function(e){n=e}));case 14:if(null!==n){t.next=27;break}return u="<?xml version='1.0' encoding='UTF-8'?><UploadStrategy>",u+="<strategyType>"+a.m_oParams.szUploadType+"</strategyType>","record"===a.m_oParams.szUploadType?(u+="<Record>",u+="<allEvent>"+a.m_oParams.bEventUpload+"</allEvent>",u+="</Record>"):"picture"===a.m_oParams.szUploadType&&(u+="<Picture>",u+="<allEvent>"+a.m_oParams.bEventUpload+"</allEvent>",u+="</Picture>"),u+="</UploadStrategy>",d=r["a"].parseXmlFromStr(u),m={urlCGI:"thirdCloudUploadInfo",params:{channel:1},data:d,loading:!0},t.next=23,c["a"].put(m).then((function(e){i=e.xhr}),(function(e){n=e}));case 23:null!==n&&(o=l["a"].t("setParamFailed")),null===n?s["a"].saveState(i):s["a"].saveState(n,o),t.next=28;break;case 27:s["a"].saveState(n);case 28:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}()},{key:"getCloudUrl",value:function(){var t={urlCGI:"thirdCloudUrl",params:{mode:this.m_oParams.szCloudType},data:null,loading:!0};c["a"].get(t).then((function(t){var a=t.oResult,i=r["a"].nodeValue(e(a),"url");window.open(i)}))}}]),t}();t["a"]=new u}).call(this,a("1157"))},"4ec1":function(e,t,a){},"4ecd":function(e,t,a){"use strict";(function(e){a("96cf");var i=a("1da1"),n=(a("6b54"),a("a481"),a("6762"),a("2fdb"),a("28a5"),a("b5bd")),o=a("0f3a"),r=a("c050"),s=a("8d94"),l=a("768a"),c=a("1f20"),u=a("7de8"),d=a("d09c");t["a"]={name:"DeviceAddOrEdit",components:{ChannelSelect:o["default"]},props:{options:{type:Array,default:function(){return[]}},digitalChannelList:{type:Array,default:function(){return[]}},type:{type:String,default:function(){return"add"}},editInfo:{type:Object,default:function(){return{}}},aProtocolOptions:{type:Array,default:function(){return[]}},outLoading:{type:Boolean,default:function(){return!1}},oCap:{type:Object,default:function(){return{deviceName:{min:0,max:128,def:""},protocolType:{options:[],def:"HIKVISION"},deviceList:{},aLinkType:[{value:"direct",name:s["a"].t("direct")},{value:"streamTrans",name:s["a"].t("streamTrans")}]}}}},data:function(){return{oCapInner:{bSupportStreamType:c["a"].m_oDeviceCapa.bSupportIpcStreamType,bSupportIPCTiming:!1,bSupportCertificateValidation:c["a"].m_oDeviceCapa.bSupportCertificateValidation,iMaxIpcNum:32,bSupportDefaultAdminPortEnabled:c["a"].m_oDeviceCapa.bSupportDefaultAdminPortEnabled,bSupportChannelsTimeSync:c["a"].m_oDeviceCapa.bSupportChannelsTimeSync},deviceResourceList:[],selectChannelDialogVisible:!1,selectChannelDialogType:"add",bShowOnlineDeviceAdd:!1,validate:{},aStreamTypeOptions:[{value:"auto",text:this.$t("auto")},{value:"tcp",text:"TCP"},{value:"udp",text:"UDP"}],aMethodOptions:[{value:"plugplay",text:this.$t("plugPlayMode")},{value:"manual",text:this.$t("manual")}],oParams:{szIpAddress:"",szDeviceId:"",deviceName:"IPCamera 01",oProtocol:"",szPort:"",isPoe:!1,bIpcTiming:!1,szUserName:"",szDeviceChannelNo:"",oPassword:null,szStreamType:"auto",bCustom:!1,bDefaultAdminPortEnabled:!1,bCertificateValidation:!1,szConnMode:""},bSelectOnlineDevice:{},aCustomProtocolList:[],aAddChanId:[],iCurAddChanNum:0,oParamsValid:{szIpAddress:{required:!0},szPort:{required:!0,range:[1,65535]},szUserName:{required:!0,pattern:/^[a-zA-Z0-9!#$%&'()*+,-./;<=>?@\[\]^_`{|}~\s*]+$/},szDeviceId:{},oPassword:{},szDeviceChannelNo:{range:[1,64]}},protocolInfo:{},checkValueList:[],oOnlineDeviceInfo:{},bSelectAll:!1,bIndeterminate:!1}},computed:{GBProtocol:function(){return"GB28181"===this.oParams.oProtocol}},watch:{"oParams.oProtocol":{handler:function(e){""!==e&&this.initValid(e)}}},mounted:function(){var e=this;n["a"].getMaxChannelAddNum().then((function(t){e.oCapInner.iMaxIpcNum=t})),this.init(this.editInfo)},methods:{init:function(e){var t=this;if("add"===this.type)this.oParams.szIpAddress="",this.oParams.szDeviceId="",this.oParams.deviceName="IPCamera 01",this.oParams.oProtocol="HIKVISION",this.oParams.szUserName="admin",this.oParams.szStreamType="auto",this.oParams.oPassword="",this.oParams.szConnMode="",this.oParams.bDefaultAdminPortEnabled=!1,this.oParams.bCustom=!1,this.oParams.szPort=8e3,this.oParams.bCertificateValidation=!1,this.oParams.bCustom=!1,this.oParams.bIpcTiming=!0,this.changeProtocol();else{var a=parseInt(e["channelNo"].split("D")[1],10)+l["a"].m_iAnalogChNum;this.oParams.szDeviceId="",e["ipAddr"].indexOf("(")>-1?(this.oParams.szIpAddress=e["ipAddr"].split("(")[1].split(")")[0],this.oParams.szDeviceId=e["ipAddr"].split("(")[0],"OTAP"===this.oParams.oProtocol&&(this.oParams.szDeviceId=e["ipAddr"].split("(")[1].split(")")[0])):"GB28181"===this.oParams.oProtocol||"OTAP"===this.oParams.oProtocol?this.oParams.szDeviceId=e["ipAddr"]:this.oParams.szIpAddress=e["ipAddr"],this.oParams.szConnMode=e.connect||"",this.oParams.bHideDefault=!1,this.oParams.oProtocol=e.protocol,this.oParams.szStreamType=e.streamType||"auto",this.oParams.szUserName=e.userName,this.oParams.szDeviceChannelNo=e.deviceChanNo,this.oParams.szPort=e.managementPort,n["a"].getSingleChannelInfo(a).then((function(e){t.oCapInner.bSupportIPCTiming=e.bSupportIPCTiming,t.oParams.bIpcTiming=e.bIpcTiming,t.oParams.bCertificateValidation=e.bCertificateValidation,t.oParams.bDefaultAdminPortEnabled=e.bDefaultAdminPortEnabled})),this.changeProtocol(1)}},initValid:function(e){var t=["OTAP","GB28181"].includes(e)?20:64;this.oParamsValid.szIpAddress.pattern=/^[^\u4e00-\u9fa5/\\*?'"><|©]+$/,"GB28181"===e?(this.oParamsValid.szIpAddress.len=20,delete this.oParamsValid.szIpAddress.lengthRange):(delete this.oParamsValid.szIpAddress.len,this.oParamsValid.szIpAddress.type="string",this.oParamsValid.szIpAddress.min=1,this.oParamsValid.szIpAddress.max=t),this.oParamsValid.szPort.range=[1,65535],this.oParamsValid.szDeviceChannelNo.range=[1,64],this.oParamsValid.szUserName.type="string",this.oParamsValid.szUserName.max=32,this.oParamsValid.szUserName.pattern=/^[a-zA-Z0-9!#$%&'()*+,-./;<=>?@\[\]^_`{|}~\s*]+$/},changeProtocol:function(t,a){var i=this,n=a||this.oParams.oProtocol,o="",r="",s=!1;switch(this.oCapInner.szPasswordName=this.$t("password"),n){case"HIKVISION":o="admin",r="8000";break;case"OTAP":o="admin",r="",this.oParams.szIpAddress="",this.oParams.bIpcTiming=!0;break;case"ACTi":o="Admin",r="80";break;case"ARECONT":case"BRICKCOM":case"GRANDEYE":case"NATURE":case"ONVIF":case"PANASONIC":case"PELCO":case"PROVIDEO":case"PSIA":case"SAMSUNG":case"SANYO":case"SONY":case"XUNMEI":case"ZAVIO":case"HUNT":o="admin",r="80";break;case"GB28181":o="admin",r="5060",this.oCapInner.szPasswordName=this.$t("sipAuthenticationPswd");break;case"AXIS":case"CANON":case"VIVOTEK":o="root",r="80";break;case"BOSCH":o="service",r="1756";break;case"DYNACOLOR":case"GE105E":case"RTSP_URL":o="",r="0";break;case"INFINOVA":o="INFINOVA",r="80";break;default:break}for(var l="",u=0;u<this.aProtocolOptions.length;u++)this.oParams.oProtocol===this.aProtocolOptions[u].value&&(l=this.aProtocolOptions[u].type);"Any Custom Protocol  IP Camera"===l&&(r="554",e.each(c["a"].aProtocolOptions,(function(e,t){t.value===n&&(r=t.port)})),s=!0),this.oParams.bCustom=s,1!==t&&(this.oParams.szPort=r),"add"===this.type&&(this.oParams.szUserName=o),this.$nextTick((function(){try{i.validate.validate("szPort"),i.validate.validate("szUserName")}catch(e){}}))},createXmlDoc:function(e,t){var a,i=this;if(1===e){var n=parseInt(i.editInfo["channelNo"].split("D")[1],10)+l["a"].m_iAnalogChNum;a="<?xml version='1.0' encoding='utf-8'?><InputProxyChannel><id>"+n+"</id>"}else a=0===e?"<?xml version='1.0' encoding='utf-8'?><InputProxyChannel><id>0</id><quickAdd>false</quickAdd>":"<?xml version='1.0' encoding='utf-8'?>";a+=2!==e?"<sourceInputPortDescriptor>":"<sourceDescriptor>",a+=2!==e?"<proxyProtocol>"+i.oParams.oProtocol+"</proxyProtocol>":"<adminProtocol>"+i.oParams.oProtocol+"</adminProtocol>";var o=i.oParams.szIpAddress.trim(),r=u["a"].checkAddressingType(o).toLowerCase();a+="<addressingFormatType>"+("hostname"===r?"hostname":"ipaddress")+"</addressingFormatType>",a+="hostname"===r?"<hostName>"+u["a"].encodeString(o)+"</hostName>":"ipv6address"===r?"<ipv6Address>"+u["a"].encodeString(o)+"</ipv6Address>":"<ipAddress>"+u["a"].encodeString(o)+"</ipAddress>",2!==e?(a+="<managePortNo>"+i.oParams.szPort+"</managePortNo>",a+=void 0!==t?"<srcInputPort>"+t+"</srcInputPort>":"<srcInputPort>"+i.oParams.szDeviceChannelNo+"</srcInputPort>"):a+="<adminPortNo>"+i.oParams.szPort+"</adminPortNo>",a+="<userName>"+u["a"].encodeString(i.oParams.szUserName)+"</userName>","OTAP"!==i.oParams.oProtocol&&i.oParams.oPassword&&(1===e?i.oParams.oPassword!==i.oParams.szPasswordDefault&&(a+="<password>"+u["a"].encodeString(i.oParams.oPassword)+"</password>"):a+="<password>"+u["a"].encodeString(i.oParams.oPassword)+"</password>"),i.oCapInner.bSupportStreamType&&(a+="<streamType>"+i.oParams.szStreamType+"</streamType>"),1===e&&""!==i.editInfo["connect"]&&(a+="<connMode>"+i.oParams.szConnMode+"</connMode>"),"GB28181"!==i.oParams.oProtocol&&"OTAP"!==i.oParams.oProtocol||(a+="<deviceID>"+i.oParams.szDeviceId.replace(/</g,"&lt;")+"</deviceID>"),2!==e?(a+="</sourceInputPortDescriptor>",(1===e&&i.oCapInner.bSupportIPCTiming||0===e&&i.oCapInner.bSupportChannelsTimeSync)&&(a+="<enableTiming>"+i.oParams.bIpcTiming.toString()+"</enableTiming>"),i.oCapInner.bSupportCertificateValidation&&(a+="<certificateValidationEnabled>"+i.oParams.bCertificateValidation.toString()+"</certificateValidationEnabled>"),i.oCapInner.bSupportDefaultAdminPortEnabled&&"HIKVISION"===i.oParams.oProtocol&&(a+="<defaultAdminPortEnabled>"+i.oParams.bDefaultAdminPortEnabled.toString()+"</defaultAdminPortEnabled>"),a+="</InputProxyChannel>"):a+="</sourceDescriptor>";var s=u["a"].parseXmlFromStr(a);return s},addDevice:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,i,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.validate.validateAll();case 2:if(r["a"].validateTips(this.validate.getErrorReport()),t=this.validate.getErrorReport(),!(t.length>0)){e.next=6;break}return e.abrupt("return");case 6:a=this.$refs["myPopup"],"add"===this.type?(i=this.createXmlDoc(2),a.show(),n["a"].getDeviceChannelList(i).then((function(e){if(1===e)a.show(),o.submitIpcReq(0,1,a);else{a.hide(),o.deviceResourceList=[];for(var t=0;t<e;t++)o.deviceResourceList.push({childDevIndex:t+1,index:t+1,added:!0});o.$nextTick((function(){o.selectChannelDialogVisible=!0}))}}),(function(e){var t=e.responseXML,i=u["a"].nodeValue(t,"subStatusCode");"badAuthorization"===i||"badLanguage"===i||"OnlySupportHikAndCustomProtocol"===i?d["a"].saveState(e):(a.show(),o.submitIpcReq(0,1,a))}))):(a.show(),this.submitIpcReq(1,1,a));case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),addChannelSuccess:function(e){if(this.aAddChanId.length=0,this.aAddChanId=e,this.aAddChanId.length>this.oCapInner.iMaxIpcNum)return r["a"].stateAlert(s["a"].t("channelLimit"),"failed"),!1;if(this.aAddChanId.length>0){var t=this.$refs["myPopup"];t.show(),this.submitIpcReq(0,this.aAddChanId[0],t)}this.selectChannelDialogVisible=!1},submitIpcReq:function(e,t,a){var i=this,o=this;if(0===e){var c=o.digitalChannelList;if(o.oParams.bCustom){for(var u=0;u<c.length;u++)if(c[u]["ipAddr"]===o.oParams.szIpAddress&&c[u]["protocol"]===o.oParams.oProtocol)return r["a"].stateAlert(s["a"].t("ipChanExistTips"),"failed"),a.hide(),!1}else for(var p=0;p<c.length;p++){var m=0;if(c[p]["ipAddr"]===o.oParams.szIpAddress&&++m,c[p]["deviceChanNo"]===(t?t.toString():o.oParams.szDeviceChannelNo)&&++m,"HIKVISION"===o.oParams.oProtocol&&"HIKVISION"===c[p]["protocol"]?(c[p]["managementPort"]===o.oParams.szPort||o.oParams.bDefaultAdminPortEnabled)&&++m:c[p]["managementPort"]===o.oParams.szPort&&++m,3===m)return r["a"].stateAlert(s["a"].t("ipChanExistTips"),"failed"),a.hide(),!1}var h=o.createXmlDoc(0,t);n["a"].addIpc(h).then((function(){o.oCapInner.iMaxIpcNum--,o.aAddChanId.length>0?(o.iCurAddChanNum++,o.iCurAddChanNum>=o.aAddChanId.length?(o.iCurAddChanNum=0,r["a"].stateAlert(s["a"].t("addSuccess_msg"),"success"),i.$emit("operateSuccess"),a.hide()):o.submitIpcReq(0,o.aAddChanId[o.iCurAddChanNum],a)):(i.$emit("operateSuccess"),r["a"].stateAlert(s["a"].t("addSuccess_msg"),"success"),a.hide())}),(function(e){d["a"].saveState(e),a.hide()}))}else{var f=o.digitalChannelList;if(o.oParams.bCustom){for(var v=0;v<f.length;v++)if(o.editInfo["channelNo"]!==f[v]["channelNo"]&&f[v]["ipAddr"]===o.oParams.szIpAddress&&f[v]["protocol"]===o.oParams.oProtocol)return r["a"].stateAlert(s["a"].t("ipChanExistTips"),"failed"),a.hide(),!1}else for(var b=0;b<f.length;b++)if(o.editInfo["channelNo"]!==f[b]["channelNo"]){var g=0;if(f[b]["ipAddr"]===o.oParams.szIpAddress&&++g,f[b]["deviceChanNo"]===(t?t.toString():o.oParams.szDeviceChannelNo)&&++g,"HIKVISION"===o.oParams.oProtocol&&"HIKVISION"===f[b]["protocol"]?(f[b]["managementPort"]===o.oParams.szPort||o.oParams.bDefaultAdminPortEnabled)&&++g:f[b]["managementPort"]===o.oParams.szPort&&++g,3===g)return r["a"].stateAlert(s["a"].t("ipChanExistTips"),"failed"),a.hide(),!1}var P=o.createXmlDoc(1),S=parseInt(o.editInfo["channelNo"].split("D")[1],10)+l["a"].m_iAnalogChNum;n["a"].modifyIpc(S,P).then((function(){r["a"].stateAlert(s["a"].t("saveSucceeded"),"success"),a.hide(),i.$emit("operateSuccess")}),(function(e){d["a"].saveState(e),a.hide()}))}}}}}).call(this,a("1157"))},"4ed6":function(e,t,a){"use strict";a("051e")},"4f7f":function(e,t,a){"use strict";var i=a("c26b"),n=a("b39a"),o="Set";e.exports=a("e0b8")(o,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return i.def(n(this,o),e=0===e?0:e,e)}},i)},5050:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("basicInfo"),"right-type":"text","show-save-button":!0,"save-text":e.$t("save"),"b-lazy-loading":e.bLazyLoading},on:{"save-handle":e.save}},[t("div",{staticClass:"basicInfo-page-wrapper",attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"hm-index-list-item"},[t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("deviceName")}},[t("hm-input",{attrs:{maxlength:e.length},model:{value:e.oSettingBasicInfo.szDeviceName,callback:function(t){e.$set(e.oSettingBasicInfo,"szDeviceName",t)},expression:"oSettingBasicInfo.szDeviceName"}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oDeviceNoValid&&e.oParamsValid.oDeviceNoValid.required},attrs:{title:e.$t("deviceNo")}},[t("hm-input",{model:{value:e.oSettingBasicInfo.szDeviceNo,callback:function(t){e.$set(e.oSettingBasicInfo,"szDeviceNo",t)},expression:"oSettingBasicInfo.szDeviceNo"}}),t("hm-validator",{attrs:{model:e.oSettingBasicInfo.szDeviceNo,rules:e.oParamsValid.oDeviceNoValid,param:e.$t("deviceNo")}})],1),t("hm-cell",{staticClass:"item-model",attrs:{title:e.$t("deviceModel")}},[e._v("\n            "+e._s(e.oSettingBasicInfo.szDeviceModel)+"\n          ")]),t("hm-cell",{staticClass:"item-serialNo",attrs:{title:e.$t("serialNo")}},[e._v("\n            "+e._s(e.oSettingBasicInfo.szSerialNo)+"\n          ")]),t("hm-cell",{attrs:{title:e.$t("firmwareVersion")}},[e._v("\n            "+e._s(e.oSettingBasicInfo.szFirmwareVersion)+"\n            "),t("hm-button",{directives:[{name:"show",rawName:"v-show",value:e.oCapbilities.bSupportOnlineUpgrade,expression:"oCapbilities.bSupportOnlineUpgrade"}],on:{click:function(t){return e.getOnlineUpgradeVersion(!0)}}},[e._v(e._s(e.$t("manualUpdate")))])],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapbilities.bHasNewVersion,expression:"oCapbilities.bHasNewVersion"}],attrs:{title:e.$t("newVersion")}},[e._v("\n            "+e._s(e.oSettingBasicInfo.szNewFirmwareVersion)+"\n            "),t("hm-button",{on:{click:function(t){return e.startOnlineUpgrade()}}},[e._v(e._s(e.$t("upgrade")))]),t("label",[e._v(e._s(e.$t("oSettingBasicInfo.szUpgradeStatus")))])],1),t("hm-cell",{attrs:{title:e.$t("encoderVersion")}},[e._v("\n            "+e._s(e.oSettingBasicInfo.szEncoderVersion)+"\n          ")]),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapbilities.bSupportAlgorithmVer,expression:"oCapbilities.bSupportAlgorithmVer"}],attrs:{title:e.$t("laAlgorithmVer")}},[e._v("\n            "+e._s(e.oSettingBasicInfo.szAlgorithmVer)+"\n          ")]),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapbilities.bSupportHumanVer,expression:"oCapbilities.bSupportHumanVer"}],attrs:{title:e.$t("faceProperties")}},[e._v("\n            "+e._s(e.oSettingBasicInfo.szFaceProperties)+"\n          ")]),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapbilities.bSupportDepthMap,expression:"oCapbilities.bSupportDepthMap"}],attrs:{title:e.$t("depthMapVersion")}},[e._v("\n            "+e._s(e.oSettingBasicInfo.szDepthMap)+"\n          ")]),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapbilities.bSupportHMSVersion,expression:"oCapbilities.bSupportHMSVersion"}],attrs:{title:e.$t("humanAttribute")}},[e._v("\n            "+e._s(e.oSettingBasicInfo.szHumanAttribute)+"\n          ")]),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapbilities.bSupportHumanCaptureVersion,expression:"oCapbilities.bSupportHumanCaptureVersion"}],attrs:{title:e.$t("humanCaptureProperties")}},[e._v("\n            "+e._s(e.oSettingBasicInfo.szHumanCaptureVersion)+"\n          ")]),t("hm-cell",{attrs:{title:e.$t("webVersion")}},[e._v("\n            "+e._s(e.oSettingBasicInfo.szWebVersion)+"\n          ")])],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("channelNum")}},[e._v("\n            "+e._s(e.oSettingBasicInfo.iChannelNum)+"\n          ")]),t("hm-cell",{attrs:{title:e.$t("hDDNum")}},[e._v("\n            "+e._s(e.oSettingBasicInfo.iHDDNum)+"\n          ")]),t("hm-cell",{attrs:{title:e.$t("alarmInNum")}},[e._v("\n            "+e._s(e.oSettingBasicInfo.iAlarmInNum)+"\n          ")]),t("hm-cell",{attrs:{title:e.$t("alarmOutNum")}},[e._v("\n            "+e._s(e.oSettingBasicInfo.iAlarmOutNum)+"\n          ")]),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:""!==e.oSettingBasicInfo.szFirmwareVersionInfo,expression:"oSettingBasicInfo.szFirmwareVersionInfo !== ''"}],attrs:{title:e.$t("firmwareVersionInfo")}},[e._v("\n            "+e._s(e.oSettingBasicInfo.szFirmwareVersionInfo)+"\n          ")])],1)],1)],1),t("base-view")],1)])},n=[],o=a("1c1a"),r=a("9b7c"),s=a("c050"),l=a("97af"),c={name:"BasicInfo",components:{BaseView:o["a"],BasePage:l["a"]},data:function(){return{validate:{},oParamsValid:r["a"].m_oParamsValid,oCapbilities:r["a"].m_oCapbilities,oSettingBasicInfo:r["a"]._oSettingBasicInfo,length:32}},computed:{bLazyLoading:function(){return r["a"]._oSettingBasicInfo.bLoading}},created:function(){r["a"].init().finally((function(){}))},methods:{getOnlineUpgradeVersion:function(e){r["a"].getOnlineUpgradeVersion(e)},startOnlineUpgrade:function(){r["a"].startOnlineUpgrade()},save:function(){this.validate.validateAll(),s["a"].validateTips(this.validate.getErrorReport())&&r["a"].save()}}},u=c,d=(a("5dc9"),a("3c8c"),a("2877")),p=Object(d["a"])(u,i,n,!1,null,"c15ceb86",null);t["default"]=p.exports},5201:function(e,t,a){"use strict";a("dba4")},5269:function(e,t,a){"use strict";(function(e){a("a481"),a("7514"),a("28a5"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("f193"),s=a("7de8"),l=a("d09c"),c=a("c050"),u=a("8d94"),d=function(){function t(){Object(n["a"])(this,t),this.oXmlDoc=null,this.m_oScope=null,this.m_oCapbilities={aProtocol:[],aEapolVersion:[]},this.m_oParams={bLazyLoading:!1,bEnable8021x:!1,szProtocol:"EAP-MD5",szEapolVersion:"1",szUserName:"",oPassword:{szPassword:"",szPasswordConfirm:"",szPasswordDefault:"",skipVerify:!1},szIdentity:"",szPrivateKeyPassword:""},this.m_oParamsValid={oUserName:{required:!0,lengthRange:[0,32],multiChar:{},skipVerify:!1},oIdentity:{required:!0,lengthRange:[0,32],multiChar:{},skipVerify:!1},oPrivateKeyPassword:{required:!0,lengthRange:[0,16],skipVerify:!1},oPassword:{required:!0,lengthRange:[0,16]},oPasswordConfirm:{required:!0,lengthRange:[0,16]}}}return Object(o["a"])(t,[{key:"initNetwork8021x",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getNetwork8021xCap();case 2:return e.next=4,this.getNetwork8021x();case 4:this.m_oParams.oPassword.szPassword=this.m_oParams.oPassword.szPasswordConfirm=""===this.m_oParams.szUserName?"":this.m_oParams.oPassword.szPasswordDefault;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"clear",value:function(e){0===e&&this.m_oParams.oPassword.szPassword===this.m_oParams.oPassword.szPasswordDefault?this.m_oParams.oPassword.szPassword="":1===e&&this.m_oParams.oPassword.szPasswordConfirm===this.m_oParams.oPassword.szPasswordDefault&&(this.m_oParams.oPassword.szPasswordConfirm="")}},{key:"getNetwork8021x",value:function(){var t=this,a=new Promise((function(a){var i={urlCGI:"network8021x",params:null,data:null,loading:!0};r["a"].get(i).then((function(i){var n=i.oResult;t.m_oParams.bEnable8021x=s["a"].nodeValue(e(n),"enabled","b"),t.m_oParams.szProtocol=s["a"].nodeValue(e(n),"authenticationProtocolType"),t.m_oParams.szEapolVersion=s["a"].nodeValue(e(n),"EAPOLVersion"),t.m_oParams.szUserName=s["a"].nodeValue(e(n),"userName"),t.m_oParams.szIdentity=s["a"].nodeValue(e(n),"userName"),t.m_oParams.bEnable8021x||(t.m_oParams.oPassword.skipVerify=!0,t.m_oParamsValid.oUserName.skipVerify=!0,t.m_oParamsValid.oIdentity.skipVerify=!0,t.m_oParamsValid.oPrivateKeyPassword.skipVerify=!0),a()}),(function(){a()}))}));return a}},{key:"getNetwork8021xCap",value:function(){var t=this,a=new Promise((function(a){var i={urlCGI:"network8021xCap",params:null,data:null,loading:!0};r["a"].get(i).then((function(i){var n=i.oResult;t.m_oCapbilities.aProtocol.length=0,t.m_oCapbilities.aEapolVersion.length=0;for(var o=e(n).find("authenticationProtocolType").eq(0).attr("opt").split(","),r=0;r<o.length;r++)t.m_oCapbilities.aProtocol.push({value:o[r],text:o[r]});for(var s=e(n).find("EAPOLVersion").eq(0).attr("opt").split(","),l=0;l<s.length;l++)t.m_oCapbilities.aEapolVersion.push({value:s[l],text:s[l]});a()}),(function(){a()}))}));return a}},{key:"saveParams",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.m_oParams.oPassword.szPassword===this.m_oParams.oPassword.szPasswordConfirm){e.next=3;break}return c["a"].tip(u["a"].t("passNotMatch")),e.abrupt("return",!1);case 3:return this.m_oParams.bLazyLoading=!0,t=[],t.push(this.saveNetwork8021x()),e.next=8,s["a"].waitAll(t).then((function(e){for(var t=[],i=0,n=e.length;i<n;++i)e[i]&&t.push(e[i].xhr);a.m_oParams.bLazyLoading=!1,l["a"].successState(t)}),(function(e){this.m_oParams.bLazyLoading=!1,l["a"].saveState(e.xhr)}));case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"saveNetwork8021x",value:function(){var e,t,a="";"EAP-TLS"===this.m_oParams.szProtocol?(e=this.m_oParams.szIdentity,t=this.m_oParams.szPrivateKeyPassword):(e=this.m_oParams.szUserName,t=this.m_oParams.oPassword.szPassword),a="<?xml version='1.0' encoding='UTF-8'?><IEEE802_1x><enabled>"+this.m_oParams.bEnable8021x+"</enabled><authenticationProtocolType>"+this.m_oParams.szProtocol+"</authenticationProtocolType><innerTTLSAuthenticationMethod></innerTTLSAuthenticationMethod><innerEAPProtocolType></innerEAPProtocolType><validateServerEnabled></validateServerEnabled><userName>"+e.replace(/</g,"&lt;")+"</userName>",t!==this.m_oParams.oPassword.szPasswordDefault&&(a+="<password>"+t.replace(/</g,"&lt;")+"</password>"),a+="<anonymousID></anonymousID><autoPACProvisioningEnabled>true</autoPACProvisioningEnabled><Extensions><EAPOLVersion>"+this.m_oParams.szEapolVersion+"</EAPOLVersion></Extensions></IEEE802_1x>";var i=s["a"].parseXmlFromStr(a),n={urlCGI:"network8021x",params:null,data:i,loading:!0};return r["a"].put(n)}}]),t}();t["a"]=new d}).call(this,a("1157"))},"52f3":function(e,t,a){"use strict";a("248c")},"53dc":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("netService"),"right-type":"text"}},[t("div",{staticClass:"displayContent",attrs:{slot:"content"},slot:"content"},[t("hm-scroll",[t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[e.oParamsCap.bSupportWebsocket?t("hm-cell",{attrs:{title:e.$t("enableWebSocket")}},[t("hm-switch",{model:{value:e.oParams.websocket.enabled,callback:function(t){e.$set(e.oParams.websocket,"enabled",t)},expression:"oParams.websocket.enabled"}})],1):e._e(),e.oParamsCap.bSupportWebSocketS?t("hm-cell",{attrs:{title:e.$t("enableWebSockets")}},[t("hm-switch",{model:{value:e.oParams.websockets.enabled,callback:function(t){e.$set(e.oParams.websockets,"enabled",t)},expression:"oParams.websockets.enabled"}})],1):e._e(),e.oParamsCap.bSupportSDKService?t("hm-cell",{attrs:{title:e.$t("enableSDKService")}},[t("hm-switch",{model:{value:e.oParams.DevManage.enabled,callback:function(t){e.$set(e.oParams.DevManage,"enabled",t)},expression:"oParams.DevManage.enabled"}})],1):e._e(),e.oParamsCap.bSupportEnhancedSDKService?t("hm-cell",{attrs:{title:e.$t("enableEnhancedSDKService")}},[t("hm-switch",{model:{value:e.oParams.SDKOverTLS.enabled,callback:function(t){e.$set(e.oParams.SDKOverTLS,"enabled",t)},expression:"oParams.SDKOverTLS.enabled"}})],1):e._e(),e.oParamsCap.bSupportTLS1_0Enable?t("hm-cell",{attrs:{title:e.$t("TLS1_0Enable")}},[t("hm-switch",{model:{value:e.oParams.TLS1_0Enable.enabled,callback:function(t){e.$set(e.oParams.TLS1_0Enable,"enabled",t)},expression:"oParams.TLS1_0Enable.enabled"}})],1):e._e(),e.oParamsCap.bSupportTLS1_1Enable?t("hm-cell",{attrs:{title:e.$t("TLS1_1Enable")}},[t("hm-switch",{model:{value:e.oParams.TLS1_1Enable.enabled,callback:function(t){e.$set(e.oParams.TLS1_1Enable,"enabled",t)},expression:"oParams.TLS1_1Enable.enabled"}})],1):e._e(),e.oParamsCap.bSupportTLS1_2Enable?t("hm-cell",{attrs:{title:e.$t("TLS1_2Enable")}},[t("hm-switch",{model:{value:e.oParams.TLS1_2Enable.enabled,callback:function(t){e.$set(e.oParams.TLS1_2Enable,"enabled",t)},expression:"oParams.TLS1_2Enable.enabled"}})],1):e._e()],1)],1),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{on:{click:e.save}},[e._v("\n          "+e._s(e.$t("save"))+"\n        ")])],1)],1),t("base-view")],1)])},n=[],o=(a("96cf"),a("1da1")),r=a("1c1a"),s=a("597e"),l=a("c050"),c={name:"NetworkService",components:{BaseView:r["a"]},data:function(){return{validate:{},oParamsCap:{},oParams:{},oParamsValid:{}}},created:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s["a"].initNetworkService().finally((function(){t.oParamsCap=s["a"].m_oParamsCap,t.oParams=s["a"].m_oParams,t.oParamsValid=s["a"].m_oParamsValid}));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),methods:{save:function(){this.validate.validateAll(),l["a"].validateTips(this.validate.getErrorReport())&&s["a"].saveParams()}}},u=c,d=(a("1109"),a("2877")),p=Object(d["a"])(u,i,n,!1,null,"5eece4a5",null);t["default"]=p.exports},"53ff":function(e,t,a){},"540a":function(e,t,a){"use strict";var i=a("d4ec"),n=a("bee2"),o=function(){function e(){Object(i["a"])(this,e),this.m_oParams={szEncryptionType:"TKIP",aKey:[""],bEnableWps:!1,szPinCode:"",szConnectMode:"0",szApPinCode:"",szWorkMode:"router"},this.m_oWifiParams={szSSID:"",szSecurityMode:"disable",szWPSSSID:"",bEnableBridging:!1,szArea:"world",szWifiChannel:"0"},this.m_oParamsValid={oSSID:{required:!0,serverAddress:!0,lengthRange:[1,32]},oKey1:{required:!0,lengthRange:[8,63]},oApPinCode:{checkAPPinCode:!0}},this.m_oWifiListTable=null}return Object(n["a"])(e,[{key:"init",value:function(e){this.m_oCapbilities={bSupportWLANAP:e.bSupportWLANAP,bSupportWpsEnable:!1,bSupportWorkMode:!1,bSupportWPS:e.bSupportWPS,aSecurityModeList:[],aEncryptionTypeList:[],bSupportBridge:!1,bSupportWifiChannel:!1,aAreaCountryList:[],aWifiChannelList:[],iMaxChannelId:13}}}]),e}();t["a"]=new o},5472:function(e,t,a){"use strict";(function(e){a("96cf");var i=a("1da1"),n=a("e70c"),o=a("c050"),r=a("1f20"),s=a("9741"),l=a("768a"),c=a("1c1a"),u=a("6458"),d=a("97af"),p=a("47b5");t["a"]={name:"RS485",components:{BaseView:c["a"],ChannelList:u["a"],BasePage:d["a"],BaseSelect:p["a"]},data:function(){return{bLazyLoading:!1,bSupportChannelList:!1,oChannel:{},validate:{},oControlAddressValid:{required:!0,range:[0,255]},aControlProtocol:[],aBaudRate:[],oSetting485Info:{},oDisabled:{},oValidate:{test:{required:!0,range:[0,255]}}}},watch:{"oChannel.id":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t>-1&&(n["a"].oChannel.id=t,n["a"].init(t).catch((function(){o["a"].tip(a.$t("notSupport"))})).finally((function(){a.oDisabled=n["a"]._oDisabled,a.aBaudRate=n["a"]._aBaudRate,a.oSetting485Info=n["a"]._oSetting485Info,a.aControlProtocol=n["a"]._aControlProtocol})));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0},"oSetting485Info.szControlProtocol":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.oControlAddressValid.range[0]="PELCO-P"===t?1:0;case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0}},created:function(){var e=this;r["a"].getDeviceCapa().then((function(){e.bSupportChannelList=!r["a"].m_oDeviceCapa.bOnlySupportAnalogChannel||0===s["a"].iDeviceType})),this.bSupportChannelList?this.oChannel={id:-1}:this.oChannel={id:1}},methods:{save:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.validate.validateAll(),!o["a"].validateTips(this.validate.getErrorReport())){e.next=6;break}return this.bLazyLoading=!0,e.next=5,n["a"].set485Info();case 5:this.bLazyLoading=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),changeControlProtocol:function(){var t=this;if(t.oChannel.id<=l["a"].m_iAnalogChNum){var a=!1,i=["HIKVISION-C","PELCO-C","AHD-C","UTC"];e.inArray(this.oSetting485Info.szControlProtocol,i)>=0&&(a=!0),this.oDisabled.bBaudRate=a,this.oDisabled.bDataBit=a,this.oDisabled.bStopBit=a,this.oDisabled.bParity=a,this.oDisabled.bFlowCtrl=a,this.oDisabled.bControlAddress=a}}}}}).call(this,a("1157"))},"54ae":function(e,t,a){},"55dd":function(e,t,a){"use strict";var i=a("5ca1"),n=a("d8e8"),o=a("4bf8"),r=a("79e5"),s=[].sort,l=[1,2,3];i(i.P+i.F*(r((function(){l.sort(void 0)}))||!r((function(){l.sort(null)}))||!a("2f21")(s)),"Array",{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),n(e))}})},5624:function(e,t,a){"use strict";a("dfbd")},"576e":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("motion"),"right-type":"text","show-save-button":!(e.bShowSchedule||e.bLandscapeMode),"save-text":e.$t("save"),"b-lazy-loading":e.bLazyLoading},on:{"save-handle":e.save}},[t("div",{staticClass:"motionDect-page-wrapper",attrs:{slot:"content"},slot:"content"},[t("channel-list",{attrs:{"o-channel":e.oChannel,"show-type":"tab"}}),e.bLandscapeMode?e._e():t("div",{staticClass:"plugin-small"},[t("plugin-wind",{attrs:{mode:"motiondetect","o-channel":e.oChannel,hide:e.oEventInfo.bPluginHide},on:{"play-success":e.playSuccess,initCb:e.initEvent}})],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",[t("div",{attrs:{slot:"title"},slot:"title"},[t("span",{staticClass:"blue-button",on:{click:function(t){return e.draw()}}},[e._v(e._s(e.$t("drawRules")))])])])],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("parameterConfig")}},[t("hm-cell",{attrs:{title:e.$t("enable")}},[t("hm-switch",{model:{value:e.oEventInfo.bEnableEvent,callback:function(t){e.$set(e.oEventInfo,"bEnableEvent",t)},expression:"oEventInfo.bEnableEvent"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oEventCap.bSupportMisinformation,expression:"oEventCap.bSupportMisinformation"}],attrs:{title:e.$t("misinformation")}},[t("hm-switch",{model:{value:e.oEventInfo.bmisinformation,callback:function(t){e.$set(e.oEventInfo,"bmisinformation",t)},expression:"oEventInfo.bmisinformation"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oEventCap.bSupportMovingDetect,expression:"oEventCap.bSupportMovingDetect"}],attrs:{title:e.$t("movingDetection")}},[t("hm-switch",{attrs:{disabled:!e.oEventInfo.bEnableEvent},model:{value:e.oEventInfo.enableWithMoving,callback:function(t){e.$set(e.oEventInfo,"enableWithMoving",t)},expression:"oEventInfo.enableWithMoving"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oEventCap.bShowHighlight,expression:"oEventCap.bShowHighlight"}],attrs:{title:e.$t("enableDynamicAnalysis")}},[t("hm-switch",{model:{value:e.oEventInfo.bEnableHighlight,callback:function(t){e.$set(e.oEventInfo,"bEnableHighlight",t)},expression:"oEventInfo.bEnableHighlight"}})],1)],1),t("hm-cell-group",{directives:[{name:"show",rawName:"v-show",value:e.oEventCap.bSupportExpert,expression:"oEventCap.bSupportExpert"}],staticClass:"custom-cell-group"},[t("hm-cell",{attrs:{title:e.$t("configurationMode")}},[t("base-select",{attrs:{title:e.$t("configurationMode"),options:e.modeData},on:{change:function(t){return e.changeMode()}},model:{value:e.oEventInfo.szMotionMode,callback:function(t){e.$set(e.oEventInfo,"szMotionMode",t)},expression:"oEventInfo.szMotionMode"}})],1)],1),t("hm-cell-group",{directives:[{name:"show",rawName:"v-show",value:"normal"===e.oEventInfo.szMotionMode&&e.oEventInfo.oNormalTargetType.bSupport,expression:"oEventInfo.szMotionMode === 'normal'&& oEventInfo.oNormalTargetType.bSupport"}],staticClass:"custom-cell-group"},e._l(e.oEventInfo.oNormalTargetType.aTypeCap,(function(a,i){return t("hm-cell",{key:i,attrs:{title:a.name}},[t("hm-switch",{model:{value:e.oEventInfo.oNormalTargetType.oTypeInfo[a.value],callback:function(t){e.$set(e.oEventInfo.oNormalTargetType.oTypeInfo,a.value,t)},expression:"oEventInfo.oNormalTargetType.oTypeInfo[item.value]"}})],1)})),1),"normal"===e.oEventInfo.szMotionMode?t("hm-cell-group",{staticClass:"custom-cell-group"},[t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("sensitivity")+"："+e.oEventInfo.iSensitive}}),"normal"===e.oEventInfo.szMotionMode?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{step:e.oEventCap.oSliderCap.iStep,min:e.oEventCap.oSliderCap.iMin,max:e.oEventCap.oSliderCap.iMax},model:{value:e.oEventInfo.iSensitive,callback:function(t){e.$set(e.oEventInfo,"iSensitive",t)},expression:"oEventInfo.iSensitive"}})],1):e._e()],1):e._e(),"expert"===e.oEventInfo.szMotionMode?t("div",[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:""}},[t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oEventCap.bSwitchDayNight,expression:"oEventCap.bSwitchDayNight"}],attrs:{title:e.$t("switchDayNight")}},[t("base-select",{attrs:{title:e.$t("switchDayNight"),options:e.dayNightSwitchOption},model:{value:e.oEventInfo.szSwitchDayNight,callback:function(t){e.$set(e.oEventInfo,"szSwitchDayNight",t)},expression:"oEventInfo.szSwitchDayNight"}})],1),"schedule"===e.oEventInfo.szSwitchDayNight?t("div",[t("hm-cell",{attrs:{title:e.$t("startTime")}},[t("custom-select",{attrs:{title:e.$t("startTime"),"custom-type":"timePicker",placeholder:e.oEventInfo.szStartTime,disabled:!1},model:{value:e.oEventInfo.szStartTime,callback:function(t){e.$set(e.oEventInfo,"szStartTime",t)},expression:"oEventInfo.szStartTime"}})],1),t("hm-cell",{attrs:{title:e.$t("endTime")}},[t("custom-select",{attrs:{title:e.$t("endTime"),"custom-type":"timePicker",placeholder:e.oEventInfo.szEndTime,disabled:!1},model:{value:e.oEventInfo.szEndTime,callback:function(t){e.$set(e.oEventInfo,"szEndTime",t)},expression:"oEventInfo.szEndTime"}})],1)],1):e._e(),t("hm-cell",{attrs:{title:e.$t("area")}},[t("base-select",{attrs:{title:e.$t("area"),options:e.oEventCap.aExtArea},on:{change:function(t){return e.changeArea()}},model:{value:e.oEventInfo.szAreaNo,callback:function(t){e.$set(e.oEventInfo,"szAreaNo",t)},expression:"oEventInfo.szAreaNo"}})],1),e.oEventCap.bSwitchDayNight&&"off"!==e.oEventInfo.szSwitchDayNight?e._e():t("div",[t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("sensitivity")+"："+e.oEventInfo.iExpertSen}}),t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:1,max:100},model:{value:e.oEventInfo.iExpertSen,callback:function(t){e.$set(e.oEventInfo,"iExpertSen",t)},expression:"oEventInfo.iExpertSen"}})],1),-1!==e.oEventInfo.iExpertPercentAge?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("percentage")+"："+e.oEventInfo.iExpertPercentAge}}):e._e(),-1!==e.oEventInfo.iExpertPercentAge?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:0,max:100},model:{value:e.oEventInfo.iExpertPercentAge,callback:function(t){e.$set(e.oEventInfo,"iExpertPercentAge",t)},expression:"oEventInfo.iExpertPercentAge"}})],1):e._e()],1),e.oEventCap.bSwitchDayNight&&"off"!==e.oEventInfo.szSwitchDayNight?t("div",[t("div",[t("hm-cell",{attrs:{title:e.$t("day")}}),t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("sensitivity")+"："+e.oEventInfo.iDaySen}}),t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:1,max:100},model:{value:e.oEventInfo.iDaySen,callback:function(t){e.$set(e.oEventInfo,"iDaySen",t)},expression:"oEventInfo.iDaySen"}})],1),-1!==e.oEventInfo.iDayPercentAge?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("percentage")+"："+e.oEventInfo.iDayPercentAge}}):e._e(),-1!==e.oEventInfo.iDayPercentAge?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:0,max:100},model:{value:e.oEventInfo.iDayPercentAge,callback:function(t){e.$set(e.oEventInfo,"iDayPercentAge",t)},expression:"oEventInfo.iDayPercentAge"}})],1):e._e()],1),t("div",[t("hm-cell",{attrs:{title:e.$t("night")}}),t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("sensitivity")+"："+e.oEventInfo.iNightSen}}),t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:1,max:100},model:{value:e.oEventInfo.iNightSen,callback:function(t){e.$set(e.oEventInfo,"iNightSen",t)},expression:"oEventInfo.iNightSen"}})],1),-1!==e.oEventInfo.iNightPercentAge?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("percentage")+"："+e.oEventInfo.iNightPercentAge}}):e._e(),-1!==e.oEventInfo.iNightPercentAge?t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{min:0,max:100},model:{value:e.oEventInfo.iNightPercentAge,callback:function(t){e.$set(e.oEventInfo,"iNightPercentAge",t)},expression:"oEventInfo.iNightPercentAge"}})],1):e._e()],1)]):e._e()],1)],1):e._e(),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("armSchedulePlan")}},[t("hm-cell",{attrs:{"is-link":"",title:e.$t("armSchedulePlan")},nativeOn:{click:function(t){return e.showArmSchedule()}}})],1),e.bShowLink?t("base-link",{ref:"link",attrs:{link:e.oEventInfo.oLink}}):e._e(),e.bShowSchedule?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:e.$t("armSchedule"),"show-footer":!0,"enable-cancel-callback":e.bEnableCancelCallback},on:{cancelcallback:e.cancelCallbackArmSchedule,confirm:e.confirmArmSchedule,delete:e.deleteAll}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"time-plan-padding swipe-wrapper-show-footer"},[t("hm-scroll",[t("time-plan",{ref:"timePlan",attrs:{"times-data":e.oEventInfo.oScheduleTimes,holiday:e.oEventCap.bSupportHoliday,"show-types":e.bShowTypes}})],1)],1)])])],1):e._e(),e.bLandscapeMode?t("div",{staticClass:"full-screen-display"},[t("new-base-page-extend-rotate",{attrs:{title:e.$t("drawGridTip"),"show-draw-ployon":e.bShowDraw,"show-clear-ployon":e.bShowClear,"show-clear-one-ployon":e.bShowClearOne,"enable-cancel-callback":e.bEnableCancelCallback},on:{cancelcallback:e.cancelLandscapeMode,confirm:e.confirmLandscapeMode,drawPolygon:e.drawPolygon,clearOnePolygon:e.clearOnePolygon,clearPolygon:e.clearPolygon}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"plugin-small-ex"},[t("plugin-wind",{attrs:{mode:"motiondetect","o-channel":e.oChannel,hide:e.oEventInfo.bPluginHide},on:{"play-success":e.playSuccess,initCb:e.initFullEvent}})],1)])])],1):e._e()],1)])},n=[],o=a("6aae"),r=o["a"],s=(a("fe4e"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"4bffacf4",null);t["default"]=l.exports},5877:function(e,t,a){"use strict";a("081a")},"587b":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"event-arouse"},[t("hm-scroll",[t("div",{staticClass:"hm-index-list-item"},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[t("channel-list",{ref:"channel",attrs:{"o-channel":e.oChannel}})],1),t("hm-cell",{attrs:{title:e.$t("timeArouse")}},[t("hm-switch",{model:{value:e.oParams.bEnableEventArouse,callback:function(t){e.$set(e.oParams,"bEnableEventArouse",t)},expression:"oParams.bEnableEventArouse"}})],1),e.oParamsCap.bSupportSnapMode?t("hm-cell",{attrs:{title:e.$t("trafficCaptureType")}},[t("base-select",{attrs:{title:e.$t("trafficCaptureType"),options:e.oParamsCap.aSnapMode},model:{value:e.oParams.szSnapMode,callback:function(t){e.$set(e.oParams,"szSnapMode",t)},expression:"oParams.szSnapMode"}})],1):e._e()],1),t("hm-cell-group",{directives:[{name:"show",rawName:"v-show",value:e.oParams.aArouseTimes.length&&e.oParamsCap.bSupportCaptureTime,expression:"oParams.aArouseTimes.length && oParamsCap.bSupportCaptureTime"}],staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{"is-link":"",title:e.$t("captureTime")},nativeOn:{click:function(t){return e.showArouseTimes()}}})],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{"is-link":"",title:e.$t("linkMethod")},nativeOn:{click:function(t){return e.showLink()}}})],1)],1),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{attrs:{disabled:!e.oParamsCap.bChannelSupport},on:{click:function(t){return e.save()}}},[e._v("\n        "+e._s(e.$t("save"))+"\n      ")])],1)]),e.bArouseTimes?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:e.$t("captureTime"),"enable-cancel-callback":e.bEnableCancelCallback},on:{cancelcallback:e.cancelCallbackTime,confirm:e.confirmTime}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"swipe-wrapper"},[t("hm-scroll",e._l(e.oParams.aArouseTimes,(function(a,i){return t("hm-cell-group",{key:i},[t("hm-cell",{attrs:{title:e.$t("timePoint")+(i+1)}},[t("hm-switch",{model:{value:a.enabled,callback:function(t){e.$set(a,"enabled",t)},expression:"oTime.enabled"}})],1),t("hm-cell",{attrs:{value:a.time,disabled:!a.enabled},nativeOn:{click:function(t){return e.changeSchedule(i)}}})],1)})),1)],1)])])],1):e._e(),e.bSupportLink?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:e.$t("linkMethod"),"enable-cancel-callback":e.bEnableCancelCallback},on:{cancelcallback:e.cancelCallbackLink,confirm:e.confirmLink}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"swipe-wrapper"},[t("hm-scroll",[t("Link",{ref:"link",attrs:{"link-data":e.oEventlinkInfo.oLink}})],1)],1)])])],1):e._e()],1)},n=[],o=a("c31c"),r=o["a"],s=(a("310c"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"4f2baeb9",null);t["default"]=l.exports},"588d":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("regCrop"),"b-lazy-loading":e.bLazyLoading,"right-type":"text"}},[t("div",{staticClass:"regCrop-page-wrapper",attrs:{slot:"content"},slot:"content"},[t("hm-scroll",[t("div",{staticClass:"hm-index-list-item"},[t("hm-validator-group",{attrs:{result:e.validate}},[t("channel-list",{attrs:{"o-channel":e.oChannel,"show-type":"tab"}}),e.bLandscapeMode?e._e():t("div",{staticClass:"plugin-small"},[t("plugin-wind",{attrs:{mode:"regCrop","o-channel":e.oChannel,hide:e.bPluginHide},on:{"play-success":e.playSuccess}})],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",[t("div",{attrs:{slot:"title"},slot:"title"},[t("span",{staticClass:"blue-button",on:{click:function(t){return e.draw()}}},[e._v(e._s(e.$t("modifyReg")))])])])],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("enRegCrop")}},[t("hm-switch",{model:{value:e.oParams.enabled,callback:function(t){e.$set(e.oParams,"enabled",t)},expression:"oParams.enabled"}})],1)],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("streamType")}},[t("base-select",{attrs:{title:e.$t("streamType"),options:e.aStreamType},model:{value:e.oParams.streamType,callback:function(t){e.$set(e.oParams,"streamType",t)},expression:"oParams.streamType"}})],1),t("hm-cell",{attrs:{title:e.$t("RegCropResolution")}},[t("base-select",{attrs:{title:e.$t("RegCropResolution"),options:e.oParams.regCropResolutions,disabled:!e.oParams.enabled},on:{change:e.addArea},model:{value:e.oParams.regCropResolution,callback:function(t){e.$set(e.oParams,"regCropResolution",t)},expression:"oParams.regCropResolution"}})],1)],1)],1)],1),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{on:{click:e.save}},[e._v(e._s(e.$t("save")))])],1)]),e.bLandscapeMode?t("div",{staticClass:"full-screen-display"},[t("new-base-page-extend-rotate",{attrs:{"show-draw-polygon":!1,"show-clear-polygon":!1,title:e.$t("modifyRegCropPosition"),"enable-cancel-callback":e.bEnableCancelCallback},on:{cancelcallback:e.cancelLandscapeMode,confirm:e.confirmLandscapeMode}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"plugin-small-ex"},[t("plugin-wind",{attrs:{mode:"regCrop","o-channel":e.oChannel,hide:e.bPluginHide},on:{"play-success":e.playSuccess}})],1)])])],1):e._e(),t("base-view")],1)])},n=[],o=a("8382"),r=o["a"],s=(a("5201"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"1f09e1d5",null);t["default"]=l.exports},"594b":function(e,t,a){},"597e":function(e,t,a){"use strict";(function(e){a("6b54"),a("96cf");var i=a("1da1"),n=(a("7514"),a("d4ec")),o=a("bee2"),r=a("7de8"),s=a("c050"),l=a("d09c"),c=a("1f20"),u=a("f193"),d=a("8d94"),p=function(){function t(){Object(n["a"])(this,t),this.oXmlDoc=null,this.m_oParamsCap={bSupportWebsocket:!1,bSupportWebSocketS:!1,bSupportSDKService:!1,bSupportEnhancedSDKService:!1,bSupportTLS1_0Enable:!1,bSupportTLS1_1Enable:!1,bSupportTLS1_2Enable:!1,bSupportNewTLS:!1},this.m_oData={oPort:null},this.m_oParams={websocket:{enabled:!1},websockets:{enabled:!1},DevManage:{enabled:!1},SDKOverTLS:{enabled:!1},TLS1_0Enable:{enabled:!1},TLS1_1Enable:{enabled:!1},TLS1_2Enable:{enabled:!1}}}return Object(o["a"])(t,[{key:"getAdminAccessesCap",value:function(){var t=this,a=new Promise((function(a){var i={urlCGI:"portCap",params:null,data:null,async:!1,loading:!0};u["a"].get(i).then((function(i){var n=i.oResult,o=t.m_oParamsCap;o.bSupportTLS1_0Enable=e(n).find("TLS1_0Enable").length>0,o.bSupportTLS1_1Enable=e(n).find("TLS1_1Enable").length>0,o.bSupportTLS1_2Enable=e(n).find("TLS1_2Enable").length>0,o.bSupportNewTLS=o.bSupportTLS1_0Enable||o.bSupportTLS1_1Enable||o.bSupportTLS1_2Enable,a()}),(function(){a()}))}));return a}},{key:"initNetworkService",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].getDeviceCapa();case 2:return this.m_oParamsCap.bSupportWebsocket=c["a"].m_oDeviceCapa.bSupportWebSocket,this.m_oParamsCap.bSupportWebSocketS=c["a"].m_oDeviceCapa.bSupportWebSocketS,e.next=6,this.getAdminAccessesCap();case 6:return e.next=8,this.getAdminAccesses();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getAdminAccesses",value:function(){var t=this,a=new Promise((function(a){var i={urlCGI:"portInfo",params:null,data:null,async:!1,loading:!0},n=t;u["a"].get(i).then((function(t){var i=t.oResult;n.m_oData.oPort=i;var o="";e(i).find("AdminAccessProtocol").each((function(){o=r["a"].nodeValue(this,"protocol"),"WebSocket"===o&&(n.m_oParams.websocket.enabled=r["a"].nodeValue(this,"enabled","b")),"WebSocketS"===o&&(n.m_oParams.websockets.enabled=r["a"].nodeValue(this,"enabled","b")),"DEV_MANAGE"===o&&(e(this).find("enabled").length&&(n.m_oParamsCap.bSupportSDKService=!0),n.m_oParams.DevManage.enabled=r["a"].nodeValue(this,"enabled","b")),"SDK_OVER_TLS"===o&&(e(this).find("enabled").length&&(n.m_oParamsCap.bSupportEnhancedSDKService=!0),n.m_oParams.SDKOverTLS.enabled=r["a"].nodeValue(this,"enabled","b")),n.m_oParamsCap.bSupportNewTLS?("HTTPS"===o&&e(this).find("TLS1_0Enable").length>0&&(n.m_oParamsCap.bSupportTLS1_0Enable=!0,n.m_oParams.TLS1_0Enable.enabled=r["a"].nodeValue(this,"TLS1_0Enable","b")),"HTTPS"===o&&e(this).find("TLS1_1Enable").length>0&&(n.m_oParamsCap.bSupportTLS1_1Enable=!0,n.m_oParams.TLS1_1Enable.enabled=r["a"].nodeValue(this,"TLS1_1Enable","b")),"HTTPS"===o&&e(this).find("TLS1_2Enable").length>0&&(n.m_oParamsCap.bSupportTLS1_2Enable=!0,n.m_oParams.TLS1_2Enable.enabled=r["a"].nodeValue(this,"TLS1_2Enable","b"))):("TLS1_0Enable"===o&&(e(this).find("enabled").length&&(n.m_oParamsCap.bSupportTLS1_0Enable=!0),n.m_oParams.TLS1_0Enable.enabled=r["a"].nodeValue(this,"enabled","b")),"TLS1_1Enable"===o&&(e(this).find("enabled").length&&(n.m_oParamsCap.bSupportTLS1_1Enable=!0),n.m_oParams.TLS1_1Enable.enabled=r["a"].nodeValue(this,"enabled","b")),"TLS1_2Enable"===o&&(e(this).find("enabled").length&&(n.m_oParamsCap.bSupportTLS1_2Enable=!0),n.m_oParams.TLS1_2Enable.enabled=r["a"].nodeValue(this,"enabled","b")))})),a()}),(function(){a()}))}));return a}},{key:"saveParams",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=[],t.push(this.save()),e.next=4,r["a"].waitAll(t).then((function(e){for(var t=[],a=0,i=e.length;a<i;++a)e[a]&&t.push(e[a].xhr);l["a"].successState(t)}),(function(e){l["a"].saveState(e[0])}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var t=this,a=t.m_oData.oPort,i=t.m_oParams,n="";e(a).find("AdminAccessProtocol").each((function(){n=r["a"].nodeValue(this,"protocol"),"WebSocket"===n&&r["a"].nodeValue(this,"enabled","",i.websocket.enabled.toString()),"WebSocketS"===n&&r["a"].nodeValue(this,"enabled","",i.websockets.enabled.toString()),"DEV_MANAGE"===n&&r["a"].nodeValue(this,"enabled","",i.DevManage.enabled.toString()),"SDK_OVER_TLS"===n&&r["a"].nodeValue(this,"enabled","",i.SDKOverTLS.enabled.toString()),t.m_oParamsCap.bSupportNewTLS?"HTTPS"===n&&(e(this).find("TLS1_0Enable").length>0&&r["a"].nodeValue(this,"TLS1_0Enable","",i.TLS1_0Enable.enabled.toString()),e(this).find("TLS1_1Enable").length>0&&r["a"].nodeValue(this,"TLS1_1Enable","",i.TLS1_1Enable.enabled.toString()),e(this).find("TLS1_2Enable").length>0&&r["a"].nodeValue(this,"TLS1_2Enable","",i.TLS1_2Enable.enabled.toString())):("TLS1_0Enable"===n&&r["a"].nodeValue(this,"enabled","",i.TLS1_0Enable.enabled.toString()),"TLS1_1Enable"===n&&r["a"].nodeValue(this,"enabled","",i.TLS1_1Enable.enabled.toString()),"TLS1_2Enable"===n&&r["a"].nodeValue(this,"enabled","",i.TLS1_2Enable.enabled.toString()))}));var o=s["a"].wait(null,d["a"].t("waitTips"));return new Promise((function(e,a){var i={urlCGI:"portInfo",data:t.m_oData.oPort,loading:!0};u["a"].put(i).then((function(t){o.close(),e(t)}),(function(e){o.close(),a(e)}))}))}}]),t}();t["a"]=new p}).call(this,a("1157"))},"5ac4":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("authentication"),"right-type":"text"}},[t("div",{staticClass:"rs485-page-wrapper",attrs:{slot:"content"},slot:"content"},[t("hm-scroll",[t("div",{staticClass:"hm-index-list-item"},[t("hm-cell-group",{staticClass:"custom-cell-group"},[e.authCap.oSupportAuth.bRtsp?t("hm-cell",{attrs:{title:e.$t("rtspAuth")}},[t("base-select",{attrs:{title:e.$t("rtspAuth"),options:e.authCap.aRTSPCap},on:{change:e.rtspOptionChange},model:{value:e.oAuth.szRtsp,callback:function(t){e.$set(e.oAuth,"szRtsp",t)},expression:"oAuth.szRtsp"}})],1):e._e(),!e.aRTSPCap.bRTDigestAlgorithm||"digest"!==e.oAuth.szWeb&&"digest/basic"!==e.oAuth.szWeb?e._e():t("hm-cell",{attrs:{title:e.$t("RTSPDigestAlgorithm")}},[t("base-select",{attrs:{title:e.$t("RTSPDigestAlgorithm"),options:e.aRTSPCap.aRTDigestAlgorithm},on:{change:e.RTDigestAlgorithmChange},model:{value:e.oAuth.szRTDigestAlgorithm,callback:function(t){e.$set(e.oAuth,"szRTDigestAlgorithm",t)},expression:"oAuth.szRTDigestAlgorithm"}})],1)],1)],1),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{on:{click:e.save}},[e._v(e._s(e.$t("save")))])],1)]),t("base-view")],1)])},n=[],o=(a("96cf"),a("1da1")),r=a("3cc4"),s=a("1c1a"),l=a("c050"),c=a("8d94"),u=a("47b5"),d={name:"Auth",components:{BaseView:s["a"],BaseSelect:u["a"]},data:function(){return{oAuth:{},aRTSPCap:{},authCap:{oSupportAuth:{bRtsp:!1}}}},created:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r["a"].init().then((function(){t.authCap=r["a"].authCap,t.oAuth=r["a"].oAuth,t.aRTSPCap=r["a"].aRTSPCap}));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),methods:{RTDigestAlgorithmChange:function(){var e=this;"MD5"!==this.oAuth.szRTDigestAlgorithm&&l["a"].confirm(c["a"].t("authDigestAlgorithmTip"),(function(){e.oAuth.szRawRTDigestAlgorithm=e.oAuth.szRTDigestAlgorithm}),(function(){e.oAuth.szRTDigestAlgorithm=e.oAuth.szRawRTDigestAlgorithm}))},WEBDigestAlgorithmChange:function(){var e=this;"MD5"!==this.oAuth.szWEBDigestAlgorithm&&l["a"].confirm(c["a"].t("authDigestAlgorithmTip"),(function(){e.oAuth.szRAWWEBDigestAlgorithm=e.oAuth.szWEBDigestAlgorithm}),(function(){e.oAuth.szWEBDigestAlgorithm=e.oAuth.szRAWWEBDigestAlgorithm}))},rtspOptionChange:function(){var e=this;"digest/basic"===this.oAuth.szRtsp&&l["a"].confirm(c["a"].t("enableTLS1_0Tips"),null,(function(){e.oAuth.szRtsp=e.oAuth.szRawRtsp}))},webOptionChange:function(){var e=this;"digest/basic"===this.oAuth.szWeb&&l["a"].confirm(c["a"].t("enableTLS1_0Tips"),null,(function(){e.oAuth.szWeb=e.oAuth.szRawWeb}))},save:function(){r["a"].save()}}},p=d,m=(a("b53f"),a("2877")),h=Object(m["a"])(p,i,n,!1,null,"7a3bada3",null);t["default"]=h.exports},"5ad5":function(e,t,a){"use strict";a.r(t);a("386d");var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("Wi-Fi"),"right-type":"text"}},[t("div",{staticClass:"wifi-wrapper",attrs:{slot:"content"},slot:"content"},[t("hm-scroll",[t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapbilities.bSupportWifiEnable,expression:"oCapbilities.bSupportWifiEnable"}],attrs:{title:e.$t("enable")}},[t("hm-switch",{model:{value:e.oWifiParams.bEnableWifi,callback:function(t){e.$set(e.oWifiParams,"bEnableWifi",t)},expression:"oWifiParams.bEnableWifi"}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.oCapbilities.bSupportMutexWithWirelessServer&&e.oWifiParams.bEnableWifi,expression:"oCapbilities.bSupportMutexWithWirelessServer && oWifiParams.bEnableWifi"}],staticClass:"psk"},[e._v("\n            "+e._s(e.$t("mutexWithWirelessServer"))+"\n          ")])],1),t("div",{staticClass:"wifiLists"},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("wifiList")}},[t("button",{staticClass:"search-button",attrs:{disabled:e.oParams.bSearching},on:{click:function(t){return e.search(1)}}},[e._v(e._s(e.$t("search1")))]),e._l(e.oListInfo,(function(a,i){return t("hm-cell",{key:i,attrs:{"is-link":"",title:"No."+a[0],label:a[1]},nativeOn:{click:function(t){return e.getChannelDetail(i)}}})}))],2)],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:"Wi-Fi"}},[t("hm-cell",{class:{"cell-require":e.oParamsValid.oSSID&&e.oParamsValid.oSSID.required},attrs:{title:"SSID"}},[t("hm-input",{model:{value:e.oWifiParams.szSSID,callback:function(t){e.$set(e.oWifiParams,"szSSID",t)},expression:"oWifiParams.szSSID"}})],1),t("hm-validator",{attrs:{model:e.oWifiParams.szSSID,rules:e.oParamsValid.oSSID,param:"SSID"}}),t("hm-cell",{attrs:{title:e.$t("securityMode")}},[t("base-select",{attrs:{title:e.$t("securityMode"),options:e.aSecurityMode},model:{value:e.oWifiParams.szSecurityMode,callback:function(t){e.$set(e.oWifiParams,"szSecurityMode",t)},expression:"oWifiParams.szSecurityMode"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapbilities.bSupportWifiRegion,expression:"oCapbilities.bSupportWifiRegion"}],attrs:{title:e.$t("areaCountry")}},[t("base-select",{attrs:{title:e.$t("areaCountry"),options:e.oCapbilities.aRegionList},model:{value:e.oParams.szRegion,callback:function(t){e.$set(e.oParams,"szRegion",t)},expression:"oParams.szRegion"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:"WPA-personal"===e.oWifiParams.szSecurityMode||"WPA2-personal"===e.oWifiParams.szSecurityMode,expression:"oWifiParams.szSecurityMode==='WPA-personal' || oWifiParams.szSecurityMode==='WPA2-personal'"}],attrs:{title:e.$t("encryptionType")}},[t("base-select",{attrs:{title:e.$t("encryptionType"),options:e.aEncryptionType},model:{value:e.oParams.szEncryptionType,callback:function(t){e.$set(e.oParams,"szEncryptionType",t)},expression:"oParams.szEncryptionType"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:"WEP"===e.oWifiParams.szSecurityMode,expression:"oWifiParams.szSecurityMode==='WEP'"}],attrs:{title:e.$t("authentication")}},[t("base-select",{attrs:{title:e.$t("authentication"),options:e.aAuthentication},model:{value:e.oParams.szAuthentication,callback:function(t){e.$set(e.oParams,"szAuthentication",t)},expression:"oParams.szAuthentication"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:"WEP"===e.oWifiParams.szSecurityMode,expression:"oWifiParams.szSecurityMode==='WEP'"}],attrs:{title:e.$t("keyLength")}},[t("base-select",{attrs:{title:e.$t("keyLength"),options:e.aKeyLength},model:{value:e.oParams.szKeyLength,callback:function(t){e.$set(e.oParams,"szKeyLength",t)},expression:"oParams.szKeyLength"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:"WEP"===e.oWifiParams.szSecurityMode,expression:"oWifiParams.szSecurityMode==='WEP'"}],attrs:{title:e.$t("keyType")}},[t("base-select",{attrs:{title:e.$t("keyType"),options:e.aKeyType},model:{value:e.oParams.szKeyType,callback:function(t){e.$set(e.oParams,"szKeyType",t)},expression:"oParams.szKeyType"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:"WEP"===e.oWifiParams.szSecurityMode||"WPA-personal"===e.oWifiParams.szSecurityMode||"WPA2-personal"===e.oWifiParams.szSecurityMode,expression:"oWifiParams.szSecurityMode==='WEP' || oWifiParams.szSecurityMode==='WPA-personal' || oWifiParams.szSecurityMode==='WPA2-personal'"}],attrs:{title:e.$t("key")}},[t("base-select",{attrs:{title:e.$t("key"),options:e.aKeyChoose},model:{value:e.oParams.szKeyChoose,callback:function(t){e.$set(e.oParams,"szKeyChoose",t)},expression:"oParams.szKeyChoose"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:"WEP"===e.oWifiParams.szSecurityMode||"WPA-personal"===e.oWifiParams.szSecurityMode||"WPA2-personal"===e.oWifiParams.szSecurityMode,expression:"oWifiParams.szSecurityMode==='WEP' || oWifiParams.szSecurityMode==='WPA-personal' || oWifiParams.szSecurityMode==='WPA2-personal'"}],class:{"cell-require":e.oParamsValid["oKey".concat(1*e.oParams.szKeyChoose)]&&e.oParamsValid["oKey".concat(1*e.oParams.szKeyChoose)].required},attrs:{title:e.$t("key")}},[t("hm-input",{attrs:{type:"password"},model:{value:e.oParams.aKey[1*e.oParams.szKeyChoose-1],callback:function(t){e.$set(e.oParams.aKey,1*e.oParams.szKeyChoose-1,t)},expression:"oParams.aKey[(oParams.szKeyChoose * 1 - 1)]"}}),"WEP"===e.oWifiParams.szSecurityMode||"WPA-personal"===e.oWifiParams.szSecurityMode||"WPA2-personal"===e.oWifiParams.szSecurityMode?t("hm-validator",{attrs:{model:e.oParams.aKey[1*e.oParams.szKeyChoose-1],rules:e.oParamsValid["oKey".concat(1*e.oParams.szKeyChoose)],param:e.$t("key")}}):e._e()],1),t("div",{directives:[{name:"show",rawName:"v-show",value:"WPA-personal"===e.oWifiParams.szSecurityMode||"WPA2-personal"===e.oWifiParams.szSecurityMode,expression:"oWifiParams.szSecurityMode==='WPA-personal' || oWifiParams.szSecurityMode==='WPA2-personal'"}],staticClass:"psk"},[e._v("\n            "+e._s(e.$t("pskPassword"))+"\n          ")]),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:"WPA-enterprise"===e.oWifiParams.szSecurityMode||"WPA2-enterprise"===e.oWifiParams.szSecurityMode,expression:"oWifiParams.szSecurityMode==='WPA-enterprise' || oWifiParams.szSecurityMode==='WPA2-enterprise'"}],attrs:{title:e.$t("authentication")}},[t("base-select",{attrs:{title:e.$t("authentication"),options:e.aEnterpriseType},model:{value:e.oParams.szEnterpriseType,callback:function(t){e.$set(e.oParams,"szEnterpriseType",t)},expression:"oParams.szEnterpriseType"}})],1),"WPA-enterprise"!==e.oWifiParams.szSecurityMode&&"WPA2-enterprise"!==e.oWifiParams.szSecurityMode||"EAP-TLS"===e.oParams.szEnterpriseType?e._e():t("div",[t("hm-cell",{class:{"cell-require":e.oParamsValid.oUserName&&e.oParamsValid.oUserName.required},attrs:{title:e.$t("username")}},[t("hm-input",{model:{value:e.oParams.szUsername,callback:function(t){e.$set(e.oParams,"szUsername",t)},expression:"oParams.szUsername"}})],1),t("hm-validator",{attrs:{model:e.oParams.szUsername,rules:e.oParamsValid.oUserName,param:e.$t("username")}})],1),"WPA-enterprise"!==e.oWifiParams.szSecurityMode&&"WPA2-enterprise"!==e.oWifiParams.szSecurityMode||"EAP-TLS"===e.oParams.szEnterpriseType?e._e():t("div",[t("hm-cell",{class:{"cell-require":e.oParamsValid.oPassword&&e.oParamsValid.oPassword.required},attrs:{title:e.$t("password")}},[t("hm-input",{attrs:{type:"password"},model:{value:e.oParams.szPassword,callback:function(t){e.$set(e.oParams,"szPassword",t)},expression:"oParams.szPassword"}})],1),t("hm-validator",{attrs:{model:e.oParams.szPassword,rules:e.oParamsValid.oPassword,param:e.$t("password")}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:("WPA-enterprise"===e.oWifiParams.szSecurityMode||"WPA2-enterprise"===e.oWifiParams.szSecurityMode)&&"EAP-PEAP"===e.oParams.szEnterpriseType,expression:"(oWifiParams.szSecurityMode==='WPA-enterprise' || oWifiParams.szSecurityMode==='WPA2-enterprise') && oParams.szEnterpriseType==='EAP-PEAP'"}],attrs:{title:e.$t("peapVersion")}},[t("base-select",{attrs:{title:e.$t("peapVersion"),options:e.aPEAPVersion},model:{value:e.oParams.szPEAPVersion,callback:function(t){e.$set(e.oParams,"szPEAPVersion",t)},expression:"oParams.szPEAPVersion"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:("WPA-enterprise"===e.oWifiParams.szSecurityMode||"WPA2-enterprise"===e.oWifiParams.szSecurityMode)&&"EAP-PEAP"===e.oParams.szEnterpriseType,expression:"(oWifiParams.szSecurityMode==='WPA-enterprise' || oWifiParams.szSecurityMode==='WPA2-enterprise') && oParams.szEnterpriseType==='EAP-PEAP'"}],attrs:{title:e.$t("peapLabel")}},[t("base-select",{attrs:{title:e.$t("peapLabel"),options:e.aPEAPLabel},model:{value:e.oParams.szPEAPLabel,callback:function(t){e.$set(e.oParams,"szPEAPLabel",t)},expression:"oParams.szPEAPLabel"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:("WPA-enterprise"===e.oWifiParams.szSecurityMode||"WPA2-enterprise"===e.oWifiParams.szSecurityMode)&&"EAP-PEAP"===e.oParams.szEnterpriseType,expression:"(oWifiParams.szSecurityMode==='WPA-enterprise' || oWifiParams.szSecurityMode==='WPA2-enterprise') && oParams.szEnterpriseType==='EAP-PEAP'"}],attrs:{title:e.$t("innerAuthentication")}},[t("base-select",{attrs:{title:e.$t("innerAuthentication"),options:e.aInnerAuthentication},model:{value:e.oParams.szInnerAuthentication,callback:function(t){e.$set(e.oParams,"szInnerAuthentication",t)},expression:"oParams.szInnerAuthentication"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:("WPA-enterprise"===e.oWifiParams.szSecurityMode||"WPA2-enterprise"===e.oWifiParams.szSecurityMode)&&"EAP-TTLS"===e.oParams.szEnterpriseType,expression:"(oWifiParams.szSecurityMode==='WPA-enterprise' || oWifiParams.szSecurityMode==='WPA2-enterprise') && oParams.szEnterpriseType==='EAP-TTLS'"}],attrs:{title:e.$t("innerAuthentication")}},[t("base-select",{attrs:{title:e.$t("innerAuthentication"),options:e.aInnerAuthenticationMode},model:{value:e.oParams.szInnerAuthenticationMode,callback:function(t){e.$set(e.oParams,"szInnerAuthenticationMode",t)},expression:"oParams.szInnerAuthenticationMode"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:("WPA-enterprise"===e.oWifiParams.szSecurityMode||"WPA2-enterprise"===e.oWifiParams.szSecurityMode)&&"EAP-TLS"!==e.oParams.szEnterpriseType,expression:"(oWifiParams.szSecurityMode==='WPA-enterprise' || oWifiParams.szSecurityMode==='WPA2-enterprise') && oParams.szEnterpriseType!=='EAP-TLS'"}],class:{"cell-require":e.oParamsValid.oAnonymousIdentity&&e.oParamsValid.oAnonymousIdentity.required},attrs:{title:e.$t("anonymousIdentity")}},[t("hm-input",{model:{value:e.oParams.szAnonymousIdentity,callback:function(t){e.$set(e.oParams,"szAnonymousIdentity",t)},expression:"oParams.szAnonymousIdentity"}})],1),t("hm-validator",{attrs:{model:e.oParams.szAnonymousIdentity,rules:e.oParamsValid.oAnonymousIdentity,param:e.$t("anonymousIdentity")}}),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:("WPA-enterprise"===e.oWifiParams.szSecurityMode||"WPA2-enterprise"===e.oWifiParams.szSecurityMode)&&"EAP-TLS"===e.oParams.szEnterpriseType,expression:"(oWifiParams.szSecurityMode==='WPA-enterprise' || oWifiParams.szSecurityMode==='WPA2-enterprise') && oParams.szEnterpriseType==='EAP-TLS'"}],class:{"cell-require":e.oParamsValid.oIdentity&&e.oParamsValid.oIdentity.required},attrs:{title:e.$t("identity")}},[t("hm-input",{model:{value:e.oParams.szIdentity,callback:function(t){e.$set(e.oParams,"szIdentity",t)},expression:"oParams.szIdentity"}})],1),"WPA-enterprise"!==e.oWifiParams.szSecurityMode&&"WPA2-enterprise"!==e.oWifiParams.szSecurityMode||"EAP-TLS"!==e.oParams.szEnterpriseType?e._e():t("hm-validator",{attrs:{model:e.oParams.szIdentity,rules:e.oParamsValid.oIdentity,param:e.$t("identity")}}),"WPA-enterprise"!==e.oWifiParams.szSecurityMode&&"WPA2-enterprise"!==e.oWifiParams.szSecurityMode||"EAP-TLS"!==e.oParams.szEnterpriseType?e._e():t("div",[t("hm-cell",{class:{"cell-require":e.oParamsValid.oPrivateKeyPassword&&e.oParamsValid.oPrivateKeyPassword.required},attrs:{title:e.$t("privateKeyPassword")}},[t("hm-input",{attrs:{type:"password"},model:{value:e.oParams.szPrivateKeyPassword,callback:function(t){e.$set(e.oParams,"szPrivateKeyPassword",t)},expression:"oParams.szPrivateKeyPassword"}})],1),t("hm-validator",{attrs:{model:e.oParams.szPrivateKeyPassword,rules:e.oParamsValid.oPrivateKeyPassword,param:e.$t("privateKeyPassword")}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:"WPA-enterprise"===e.oWifiParams.szSecurityMode||"WPA2-enterprise"===e.oWifiParams.szSecurityMode,expression:"oWifiParams.szSecurityMode==='WPA-enterprise' || oWifiParams.szSecurityMode==='WPA2-enterprise'"}],attrs:{title:e.$t("eapolVersion")}},[t("base-select",{attrs:{title:e.$t("eapolVersion"),options:e.aEAPOLVersion},model:{value:e.oParams.szEAPOLVersion,callback:function(t){e.$set(e.oParams,"szEAPOLVersion",t)},expression:"oParams.szEAPOLVersion"}})],1)],1),e.oCapbilities.bSupportWPS?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:"WPS"}},[t("hm-cell",{attrs:{title:e.$t("enableWPS")}},[t("hm-switch",{model:{value:e.oParams.bEnableWps,callback:function(t){e.$set(e.oParams,"bEnableWps",t)},expression:"oParams.bEnableWps"}})],1),t("hm-cell",{attrs:{title:e.$t("pinCode")}},[t("hm-input",{attrs:{disabled:!e.oParams.bEnableWps,readonly:!0},model:{value:e.oParams.szPinCode,callback:function(t){e.$set(e.oParams,"szPinCode",t)},expression:"oParams.szPinCode"}})],1),t("div",{staticStyle:{background:"#fff",padding:"12px 0"}},[t("hm-button",{staticClass:"def-btn",attrs:{disabled:!e.oParams.bEnableWps},on:{click:e.generatePinCode}},[e._v("\n              "+e._s(e.$t("generate"))+"\n            ")])],1),t("hm-radio-group",{staticClass:"radio-check",attrs:{disabled:!e.oParams.bEnableWps,options:e.aConnectMode,position:"left","b-check":!0},model:{value:e.oParams.szConnectMode,callback:function(t){e.$set(e.oParams,"szConnectMode",t)},expression:"oParams.szConnectMode"}}),t("div",{staticStyle:{background:"#fff",padding:"12px 0"}},[t("hm-button",{staticClass:"def-btn",attrs:{disabled:!e.oParams.bEnableWps},on:{click:e.connect}},[e._v("\n              "+e._s(e.$t("connect"))+"\n            ")])],1),t("hm-cell",{attrs:{title:"SSID"}},[t("hm-input",{attrs:{disabled:!e.oParams.bEnableWps||"0"===e.oParams.szConnectMode},model:{value:e.oWifiParams.szWPSSSID,callback:function(t){e.$set(e.oWifiParams,"szWPSSSID",t)},expression:"oWifiParams.szWPSSSID"}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oApPinCode&&e.oParamsValid.oApPinCode.required},attrs:{title:e.$t("apPinCode")}},[t("hm-input",{attrs:{maxlength:8,disabled:!e.oParams.bEnableWps||"0"===e.oParams.szConnectMode},model:{value:e.oParams.szApPinCode,callback:function(t){e.$set(e.oParams,"szApPinCode",t)},expression:"oParams.szApPinCode"}})],1),t("hm-validator",{attrs:{model:e.oParams.szApPinCode,rules:e.oParamsValid.oApPinCode,disabled:!e.oParams.bEnableWps||"0"===e.oParams.szConnectMode,param:e.$t("apPinCode")}})],1):e._e()],1),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{on:{click:e.save}},[e._v("\n          "+e._s(e.$t("save"))+"\n        ")])],1)],1),e.bShowTableItem?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:"NO."+e.oDetailInfo[0],"enable-cancel-callback":!0},on:{confirm:e.confirm,cancelcallback:e.cancelCallBack}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"item-wrapper"},[t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",{staticClass:"custom-cell-group"},[t("hm-cell",{attrs:{title:"SSID",value:e.oDetailInfo[1]}}),t("hm-cell",{attrs:{title:"Working Mode",value:e.oDetailInfo[2].name}}),t("hm-cell",{attrs:{title:e.$t("securityMode"),value:e.oDetailInfo[3]}}),t("hm-cell",{attrs:{title:e.$t("channel"),value:e.oDetailInfo[4]}}),t("hm-cell",{attrs:{title:e.$t("signalStrength"),value:e.oDetailInfo[5]}}),t("hm-cell",{attrs:{title:e.$t("patrolSpeed")+"(Mbps)",value:e.oDetailInfo[6]}}),t("hm-cell",{attrs:{title:e.$t("connectState"),value:e.oDetailInfo[7]}})],1)],1)],1)])])],1):e._e(),t("base-view")],1)])},n=[],o=a("eb19"),r=o["a"],s=(a("af73"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"502c3cb6",null);t["default"]=l.exports},"5b8d":function(e,t,a){"use strict";(function(e){a("6b54"),a("7514"),a("ac6a"),a("5df3"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("7de8"),s=a("f193"),l=a("9741"),c=a("181b"),u=a("768a"),d=a("d09c"),p=a("8d94"),m=a("9815"),h="tamperDetection",f=function(){function t(){Object(n["a"])(this,t),this.oEventInfo={bEnableEvent:!1,oLink:null,oScheduleTimes:[],iSensitive:0,bDraw:!1,bPluginHide:!1},this.oEventCap={bSupportHoliday:!1,bSupportModify:!1,bChannelSupport:!0,bSupportPTZWithPreview:!1,oSildeTitle:{}},this.oParams={oData:null,iChannelId:0,iDScreenWidth:704,iDScreenHeight:576,oXhr:{oErrorXhr:null,oSuccessXhr:null,oRestartXhr:null}},0===l["a"].iDeviceType?(this.oEventCap.oSliderCap={iMax:3,iMin:1,iStep:1},this.oEventInfo.iSensitive=1):(this.oEventCap.oSliderCap={iMax:90,iMin:30,iStep:30},this.oEventInfo.iSensitive=30)}return Object(o["a"])(t,[{key:"init",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.oParams.iChannelId=t||1,e.next=3,u["a"].initDeviceParams(this.oEventCap,!0,!0,!0);case 3:return e.next=5,this.getDetectCap();case 5:return this.oEventCap.oSildeTitle[1*this.oEventCap.oSliderCap.iStep]=p["a"].t("low"),this.oEventCap.oSildeTitle[2*this.oEventCap.oSliderCap.iStep]=p["a"].t("medium"),this.oEventCap.oSildeTitle[3*this.oEventCap.oSliderCap.iStep]=p["a"].t("high"),e.abrupt("return",Promise.all([this.getDetectInfo(),this.getDetectLink(),this.getSchedule()]));case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"draw",value:function(){c["a"].setDrawStatus(!0);var e=1,t="#ff0000",a=1,i="#646464",n={id:1,type:0,editType:0,closed:!0,tips:"",drawColor:t,fillColor:i,translucent:a,widthHeightRate:0,maxShapeSupport:e,redrawMode:1};c["a"].setDrawStatus(!0),c["a"].setDrawShapeInfo("Rect",n)}},{key:"clear",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].clearRegion();case 2:return e.next=4,this.updateRegionInfo(!1);case 4:c["a"].setDrawStatus(!1);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getDetectCap",value:function(){var t=this,a={urlCGI:"tamperdetectCapa",params:{channel:this.oParams.iChannelId},data:null,loading:!1};s["a"].get(a).then((function(a){e(a).find("tampersensitivityLevel").length&&(t.oEventCap.oSliderCap.iMin=r["a"].checkNumber(parseInt(e(a).find("tampersensitivityLevel").eq(0).attr("min"),10),1),t.oEventCap.oSliderCap.iMax=r["a"].checkNumber(parseInt(e(a).find("tampersensitivityLevel").eq(0).attr("max"),10),3),t.oEventCap.oSliderCap.iStep=r["a"].checkNumber(parseInt(e(a).find("tampersensitivityLevel").eq(0).attr("step"),10),1))}),(function(){0===l["a"].iDeviceType?(t.oEventCap.oSliderCap={iMax:3,iMin:1,iStep:1},t.oEventInfo.iSensitive=1):(t.oEventCap.oSliderCap={iMax:90,iMin:30,iStep:30},t.oEventInfo.iSensitive=30)}))}},{key:"drawRegion",value:function(){this.setRegionInfo(this.oParams.oData)}},{key:"setRegionInfo",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=this.transRegionToPlugin(t),e.next=3,c["a"].clearRegion();case 3:return e.next=5,c["a"].setRectInfo(a);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getDetectInfo",value:function(){var t=this,a=this,n={urlCGI:"eventInfo",params:{channel:this.oParams.iChannelId,param:h},data:null,loading:!1};s["a"].get(n).then(function(){var n=Object(i["a"])(regeneratorRuntime.mark((function i(n){var o,s,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a.oEventCap.bChannelSupport=!0,o=n.oResult,a.oParams.oData=o,a.oEventInfo.bEnableEvent=r["a"].nodeValue(o,"enabled","b"),s=0,s=e(o).find("tampersensitivityLevel").length?r["a"].nodeValue(o,"tampersensitivityLevel","i"):r["a"].nodeValue(o,"sensitivityLevel","i"),s=s||t.oEventCap.oSliderCap.iMin,s>t.oEventCap.oSliderCap.iMax&&(s=t.oEventCap.oSliderCap.iMax),a.oEventInfo.iSensitive=s,l=p["a"].t("sensitivity")+": "+a.oEventCap.oSildeTitle[a.oEventInfo.iSensitive],e("#sensitiveSlider .slider").attr("title",l),e("#sensitiveSlider .sliderbar").attr("title",l),a.oParams.iDScreenHeight=r["a"].nodeValue(o,"normalizedScreenHeight","i")||704,a.oParams.iDScreenWidth=r["a"].nodeValue(o,"normalizedScreenWidth","i")||576,i.next=16,t.setRegionInfo(o);case 16:case"end":return i.stop()}}),i)})));return function(e){return n.apply(this,arguments)}}(),(function(e){a.oEventCap.bChannelSupport=!1,c["a"].clearRegion(),d["a"].saveState(e)}))}},{key:"setDrawStatus",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].setDrawStatus(t);case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getDetectLink",value:function(){var e=this,t=this;return u["a"].getLinkageCap("TamperDetectionTriggerCap").then((function(a){t.oEventInfo.oLink=a,t.oEventInfo.oLink.record.bShow=!1;var i={urlCGI:"linkInfo",params:{param:"tamper-"+e.oParams.iChannelId},data:null,loading:!1};return s["a"].get(i).then((function(e){var a=e.oResult;u["a"].getLinkInfo(t.oEventInfo.oLink,a)}),(function(){}))}))}},{key:"getSchedule",value:function(){var e=this,t={urlCGI:"scheduleInfo",params:{param:"tamperDetections/Tamperdetection_video"+this.oParams.iChannelId},data:null,loading:!1};return s["a"].get(t).then((function(t){u["a"].getSchedule(e.oEventInfo.oScheduleTimes,t.oResult)}),(function(){}))}},{key:"save",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.oParams.oXhr={oErrorXhr:null,oSuccessXhr:null,oRestartXhr:null},e.next=3,this.deleteVideoTamperRegion();case 3:return e.next=5,this.setDetectInfo();case 5:return e.next=7,this.setDetectLink();case 7:return e.next=9,this.setDetectSchedule();case 9:this.oParams.oXhr.oErrorXhr?d["a"].saveState(this.oParams.oXhr.oErrorXhr):d["a"].saveState(this.oParams.oXhr.oSuccessXhr);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"deleteVideoTamperRegion",value:function(){var e={urlCGI:"videoTamperRegion",params:{channel:this.oParams.iChannelId},data:this.oParams.oData,loading:!1};return s["a"].delete(e)}},{key:"setDetectInfo",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,i,n,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,a=t.oParams.oData,e.next=4,c["a"].getRectInfo();case 4:return i=e.sent,i&&(a=t.transRegionToDevice(i)),r["a"].nodeValue(a,"enabled","",t.oEventInfo.bEnableEvent.toString()),r["a"].nodeValue(a,"tampersensitivityLevel","",t.oEventInfo.iSensitive),r["a"].nodeValue(a,"sensitivityLevel","",t.oEventInfo.iSensitive),n={urlCGI:"eventInfo",params:{channel:this.oParams.iChannelId,param:h},data:a,loading:!1},e.abrupt("return",s["a"].put(n).then((function(e){o.oParams.oXhr.oSuccessXhr=e.xhr}),(function(e){o.oParams.oXhr.oErrorXhr=e,d["a"].saveState(e)})));case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setDetectLink",value:function(){var e=this,t=this,a=u["a"].setLinkInfo(t.oEventInfo.oLink,"tamperdetection",this.oParams.iChannelId),i={urlCGI:"linkInfo",params:{param:"tamper-"+t.oParams.iChannelId},data:a,loading:!1};return s["a"].put(i).then((function(t){e.oParams.oXhr.oSuccessXhr=t.xhr}),(function(t){e.oParams.oXhr.oErrorXhr=t,d["a"].saveState(t)}))}},{key:"setDetectSchedule",value:function(){var e=this,t=this,a=u["a"].setSchedule(t.oEventInfo.oScheduleTimes,"tamperdetection",t.oParams.iChannelId),i={urlCGI:"scheduleInfo",params:{param:"tamperDetections/Tamperdetection_video"+t.oParams.iChannelId},data:a,loading:!1};return s["a"].put(i).then((function(t){e.oParams.oXhr.oSuccessXhr=t.xhr}),(function(t){e.oParams.oXhr.oErrorXhr=t,d["a"].saveState(t)}))}},{key:"transRegionToPlugin",value:function(t){var a=this,i=1,n="#ff0000",o=1,r="#646464",s=[],l=[];return e(t).find("RegionCoordinatesList").eq(0).find("RegionCoordinates").each((function(t,i){l.push([parseInt(e(i).find("positionX").text(),10)/a.oParams.iDScreenWidth,1-parseInt(e(i).find("positionY").text(),10)/a.oParams.iDScreenHeight])})),l.length>0&&s.push({id:1,type:0,editType:0,points:l,closed:!0,tips:"",drawColor:n,fillColor:r,translucent:o,widthHeightRate:0,maxShapeSupport:i}),s}},{key:"transRegionToDevice",value:function(t){var a=this,i=this.oParams.oXmlDoc,n="<?xml version='1.0' encoding='UTF-8'?><TamperDetection><enabled>true</enabled><normalizedScreenSize>";if(n+="<normalizedScreenWidth>"+a.oParams.iDScreenWidth+"</normalizedScreenWidth>",n+="<normalizedScreenHeight>"+a.oParams.iDScreenHeight+"</normalizedScreenHeight>",n+="</normalizedScreenSize><tampersensitivityLevel>"+a.oEventInfo.iSensitive+"</tampersensitivityLevel><TamperDetectionRegionList>",t[0]){n+="<TamperDetectionRegion>",n+="<id>1</id><enabled>"+a.oEventInfo.bEnableEvent.toString()+"</enabled>",n+="<sensitivityLevel>"+a.oEventInfo.iSensitive+"</sensitivityLevel><RegionCoordinatesList>";var o=[],s=2,l=-1,c=2,u=-1;e.each(t[0].points,(function(e,t){s>t[0]&&(s=t[0]),c>t[1]&&(c=t[1]),l<t[0]&&(l=t[0]),u<t[1]&&(u=t[1])})),o.push([s,u]),o.push([l,u]),o.push([l,c]),o.push([s,c]),e.each(o,(function(e,t){n+="<RegionCoordinates><positionX>"+Math.floor(t[0]*a.oParams.iDScreenWidth)+"</positionX><positionY>"+Math.floor((1-t[1])*a.oParams.iDScreenHeight)+"</positionY></RegionCoordinates>"})),n+="</RegionCoordinatesList></TamperDetectionRegion>"}return n+="</TamperDetectionRegionList></TamperDetection>",i=r["a"].parseXmlFromStr(n),i}},{key:"needRedrawRegion",value:function(){var t=this,a=!0,i=this.oParams.oData,n=e(i).find("RegionCoordinatesList").eq(0).find("RegionCoordinates"),o=[];return null!==n&&0!==n.length?(n.each((function(a,i){o.push([parseInt(e(i).find("positionX").text(),10)/t.oParams.iDScreenWidth,parseInt(e(i).find("positionY").text(),10)/t.oParams.iDScreenHeight])})),0===o[0][0]&&0===o[0][1]&&0===o[1][0]&&0===o[1][1]&&(a=!1)):a=!1,a}},{key:"updateRegionInfo",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){var i,n,o,s,u,d,p,h,f,v,b,g,P;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=5;break}return t.next=3,c["a"].getRectInfo();case 3:i=t.sent,this.oParams.RectTempInfo=m["a"].plugin2Points(i,!0)[1];case 5:if(n=this.oParams.RectTempInfo,o=this.oParams.oData,0===l["a"].iDeviceType)if(s=e(o).find("TamperDetectionRegion"),s.length||(u="<?xml version='1.0' encoding='utf-8' ?><TamperDetectionRegion><id>1</id><enabled>",u+=this.oEventInfo.bEnableEvent.toString()+"</enabled><sensitivityLevel>"+this.oEventInfo.iSensitive+"</sensitivityLevel><RegionCoordinatesList><RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates><RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates><RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates><RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates></RegionCoordinatesList></TamperDetectionRegion>",s=r["a"].parseXmlFromStr(u),e(o).find("TamperDetectionRegionList").eq(0).append(e(s.cloneNode(!0)).children()),s=e(o).find("TamperDetectionRegion").eq(0)),d=s.find("RegionCoordinates"),n&&n.length>0)for(p=0;p<d.length;p++)d.eq(p).find("positionX").eq(0).text(parseInt(n[p][0]*this.oParams.iDScreenWidth,10)),d.eq(p).find("positionY").eq(0).text(parseInt(n[p][1]*this.oParams.iDScreenHeight,10));else for(h=0;h<d.length;h++)d.eq(h).find("positionX").eq(0).text(0),d.eq(h).find("positionY").eq(0).text(0);else if(f=e(o).find("RegionCoordinatesList"),v=f.find("RegionCoordinates"),v.length||(b="<?xml version='1.0' encoding='utf-8' ?><RegionCoordinatesList><RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates><RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates><RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates><RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates></RegionCoordinatesList>",v=r["a"].parseXmlFromStr(b),e(o).find("RegionCoordinatesList").eq(0).append(e(v.cloneNode(!0)).children().children())),n&&n.length>0)for(g=0;g<v.length;g++)v.eq(g).find("positionX").eq(0).text(parseInt(n[g][0]*this.oParams.iDScreenWidth,10)),v.eq(g).find("positionY").eq(0).text(parseInt(n[g][1]*this.oParams.iDScreenHeight,10));else for(P=0;P<v.length;P++)v.eq(P).find("positionX").eq(0).text(0),v.eq(P).find("positionY").eq(0).text(0);a&&this.drawRegion();case 9:case"end":return t.stop()}}),t,this)})));function a(e){return t.apply(this,arguments)}return a}()}]),t}();t["a"]=new f}).call(this,a("1157"))},"5bc9":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("videoLoss"),"b-lazy-loading":e.bLazyLoading,"right-type":"text"}},[t("div",{staticClass:"videoLoss-page-wrapper",attrs:{slot:"content"},slot:"content"},[t("channel-list",{attrs:{"o-channel":e.oChannel}}),e.oEventCap.bChannelSupport&&(e.oEventCap.bSupportRule||e.oEventCap.bSupportSchedule||e.oEventCap.bSupportLink)?t("div",[t("hm-scroll",[t("div",{staticClass:"hm-index-list-item"},[e.oEventCap.bSupportRule?t("div",[t("hm-cell-group",{staticClass:"custom-cell-group"},[t("hm-cell",{attrs:{title:e.$t("enable")}},[t("hm-switch",{model:{value:e.oEventInfo.bEnableEvent,callback:function(t){e.$set(e.oEventInfo,"bEnableEvent",t)},expression:"oEventInfo.bEnableEvent"}})],1)],1),t("hm-validator-group",{staticClass:"custom-cell-group",attrs:{result:e.validate,title:" "}},[t("hm-cell-group",[e.oEventCap.bSptAlarmDetectTime?t("hm-cell",[t("div",{attrs:{slot:"title"},slot:"title"},[t("div",{staticClass:"require-title-container"},[t("div",{staticClass:"require-star"},[e._v("\n                        *\n                      ")]),t("div",{staticClass:"require-title"},[e._v("\n                        "+e._s(e.$t("alarmDetecteTimes")+"("+e.$t("seconds")+")")+"\n                      ")])])]),t("hm-input",{model:{value:e.oEventInfo.iAlarmDetecteTimes,callback:function(t){e.$set(e.oEventInfo,"iAlarmDetecteTimes",t)},expression:"oEventInfo.iAlarmDetecteTimes"}}),t("hm-validator",{attrs:{model:e.oEventInfo.iAlarmDetecteTimes,rules:e.oInputDataValid,param:e.$t("alarmDetecteTimes")+"("+e.$t("seconds")+")"}})],1):e._e()],1)],1)],1):e._e(),e.oEventCap.bSupportSchedule?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("armSchedulePlan")}},[t("hm-cell",{attrs:{title:e.$t("armSchedulePlan"),"is-link":""},nativeOn:{click:function(t){return e.showSchedule()}}})],1):e._e(),e.bShowLink&&e.oEventCap.bSupportLink?t("base-link",{ref:"link",attrs:{link:e.oEventInfo.oLink}}):e._e(),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{on:{click:e.save}},[e._v(e._s(e.$t("save")))])],1)],1)]),e.bShowSchedule?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:e.$t("SceneRuleSchedule"),"show-footer":!0,"enable-cancel-callback":e.bEnableCancelCallback},on:{cancelcallback:e.cancelCallbackArmSchedule,confirm:e.confirmArmSchedule,delete:e.deleteAll}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"time-plan-padding swipe-wrapper-show-footer"},[t("hm-scroll",[t("time-plan",{ref:"timePlan",attrs:{"times-data":e.aTimes,holiday:e.oEventCap.bSupportHoliday}})],1)],1)])])],1):e._e()],1):e._e()],1)])},n=[],o=a("cffc1"),r=o["a"],s=(a("b63b"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"57cfb742",null);t["default"]=l.exports},"5cd4":function(e,t,a){"use strict";a("4392")},"5dbf":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("privacyMask"),"right-type":"text","show-save-button":!e.bLandscapeMode,"save-button-disabled":!e.oPrivacyMaskInfo.bChannelSupport,"save-text":e.$t("save"),"b-lazy-loading":e.oPrivacyMaskInfo.bLazyLoading},on:{"save-handle":e.save}},[t("div",{staticClass:"Mask",attrs:{slot:"content"},slot:"content"},[t("div",[t("channel-list",{attrs:{"o-channel":e.oChannel,"show-type":"tab"}}),e.bShowAreaSet?t("div",{staticClass:"plugin-small"},[t("plugin-wind",{attrs:{mode:"motiondetect","o-channel":e.oChannel,hide:e.bPluginHide},on:{"play-success":e.playSuccess}})],1):e._e(),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",[t("div",{attrs:{slot:"title"},slot:"title"},[t("span",{staticClass:"blue-button",on:{click:function(t){return e.draw()}}},[e._v(e._s(e.$t("drawRules")))])])])],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("enable")}},[t("hm-switch",{nativeOn:{click:function(t){return e.change.apply(null,arguments)}},model:{value:e.oPrivacyMaskInfo.bEnablePrivacyMask,callback:function(t){e.$set(e.oPrivacyMaskInfo,"bEnablePrivacyMask",t)},expression:"oPrivacyMaskInfo.bEnablePrivacyMask"}})],1)],1)],1),e.bLandscapeMode?t("div",{staticClass:"full-screen-display"},[t("new-base-page-extend-rotate",{attrs:{title:e.$t("modifyMaskPosition"),"enable-cancel-callback":e.bEnableCancelCallback},on:{drawPolygon:e.drawPolygon,cancelcallback:e.cancelLandscapeMode,confirm:e.confirmLandscapeMode,clearPolygon:e.clear}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"plugin-small-ex"},[t("plugin-wind",{attrs:{mode:"motiondetect","o-channel":e.oChannel,hide:e.bPluginHide},on:{"play-success":e.playSuccess}})],1)])])],1):e._e()])])},n=[],o=a("8a49"),r=o["a"],s=(a("b29a"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"1512cb51",null);t["default"]=l.exports},"5dc9":function(e,t,a){"use strict";a("91b5")},"5e6c":function(e,t,a){},"5f0d":function(e,t,a){"use strict";a("970b")},"5fe8":function(e,t,a){"use strict";a("8f7d")},6089:function(e,t,a){"use strict";a.r(t);a("6762"),a("2fdb");var i=function(){var e=this,t=e._self._c;return t("div",[e.showIndex?t("base-page",{attrs:{title:e.$t("channelManage"),"right-type":"text"}},[t("div",{staticClass:"device-container",attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"top-container"},[t("img",{staticClass:"top-bg",attrs:{src:a("7f67"),alt:""}}),t("div",{staticClass:"top-select-container"},[t("div",{staticClass:"top-left-title"},[t("hm-select",{attrs:{options:e.aSelect,title:e.$t("selectDevice_name")},on:{"picker-show":function(t){return e.handleSelect(!0)},"picker-hide":function(t){return e.handleSelect(!1)}},model:{value:e.szSelect,callback:function(t){e.szSelect=t},expression:"szSelect"}}),t("div",{class:e.bSelectOpen?"icon-down":"icon-up"})],1),t("hm-icon",{attrs:{name:"add-o",color:"#fff",size:"24"},nativeOn:{click:function(t){return e.addDevice.apply(null,arguments)}}})],1)]),t("div",{staticClass:"online-device-container",class:e.bOpenList?"auto-height":""},[t("div",{staticClass:"online-device-container-bg"},[t("div",{staticClass:"online-top-container"},[t("div",{staticClass:"online-top-left"},[t("img",{staticClass:"online-device-icon",attrs:{src:a("f17a"),alt:""}}),t("span",[e._v(e._s(e.$t("onlineDeviceNum_name")))]),t("div",{staticClass:"online-device-num"},[e._v(e._s(e.iOnlineDeviceNum))])]),t("div",{staticClass:"right-icon-container"},[t("img",{staticClass:"white-bg refresh-icon",attrs:{src:a("eaa4"),alt:""},on:{click:e.refreshOnlineDevice}}),t("hm-button",{staticClass:"add-button show-add-button-visible",attrs:{"border-radius":"24px"},on:{click:e.oneClickAdd}},[e._v(e._s(e.$t("oneClickAdd_button")))]),t("hm-icon",{staticClass:"hide-add-button-visible",attrs:{name:"add-o",color:"#fa3239"},nativeOn:{click:function(t){return e.oneClickAdd.apply(null,arguments)}}})],1)]),e.loadingOnlineDevice?t("div",{staticClass:"loading-container"},[t("hm-loading",{attrs:{size:28}})],1):e._e(),e.aShowOnlineList.length?t("div",{staticClass:"online-list"},[e._l(e.aShowOnlineList,(function(i,n){return t("div",{key:i.deviceIpAdd+n,staticClass:"online-list-item"},[t("img",{attrs:{src:a("f915"),alt:""}}),t("div",{staticClass:"item-right-info",on:{click:function(t){return e.openOnlineDeviceInfo(i)}}},[t("div",{staticClass:"item-info"},[t("div",[e._v(e._s(i.deviceIpAdd))]),t("div",{staticClass:"small-font"},[e._v(e._s(i.serialNumber))])]),t("hm-button",{staticClass:"quick-button",attrs:{"border-radius":"24px"},nativeOn:{click:function(t){return t.stopPropagation(),e.quickAdd(i)}}},[e._v(e._s(e.$t("add_name")))])],1)])})),e.iOnlineDeviceNum>2?t("div",{staticClass:"open-list",on:{click:e.showOnlineList}},[t("div",[e._v("\n                "+e._s(e.$t("openList_button"))+"\n              ")]),e.bOpenList?t("hm-icon",{attrs:{name:"arrow-up"}}):t("hm-icon",{attrs:{name:"arrow-down"}})],1):e._e()],2):e.loadingOnlineDevice?e._e():t("div",{staticClass:"none-height"})]),t("div",{staticClass:"device-show-container"},[t("div",{staticClass:"online-top-container"},[t("div",{staticClass:"online-top-left"},[t("img",{staticClass:"online-device-icon",attrs:{src:a("1e68"),alt:""}}),t("span",[e._v(e._s(e.$t("alreadyAddChannel_name")+"（".concat(e.iDeviceNum,"）")))])]),t("div",{staticClass:"right-icon-container"},[t("img",{staticClass:"white-bg refresh-icon",attrs:{src:a("eaa4"),alt:""},on:{click:e.refreshDevice}}),t("hm-icon",{attrs:{name:"ellipsis",size:"24"},nativeOn:{click:function(t){return e.moreAct.apply(null,arguments)}}})],1)]),e.loadingDevice?t("div",{staticClass:"loading-container"},[t("hm-loading",{attrs:{size:28}})],1):e._e(),t("div",{staticClass:"online-list"},e._l(e.aShowDeviceList,(function(i){return t("div",{key:i.deviceIpAdd,staticClass:"online-list-item added-list-height"},[t("img",{attrs:{src:a("f915"),alt:""}}),t("div",{staticClass:"item-right-info",on:{click:function(t){return e.openDeviceInfo(i)}}},[t("div",{staticClass:"item-info"},[t("div",[e._v(e._s("["+i.channelNo+"] "+i.cameraName))]),t("div",{staticClass:"small-font font-size-14"},[e._v(e._s(i.ipAddr))]),t("div",{staticClass:"small-font"},[i.state==e.$t("onLine")?t("img",{staticClass:"status-icon",attrs:{src:a("6958"),alt:""}}):t("img",{staticClass:"status-icon offline-icon",attrs:{src:a("b2d6"),alt:""}}),i.state==e.$t("onLine")?t("span",{attrs:{title:i.state}},[e._v(" "+e._s(i.state))]):t("span",{attrs:{title:i.state||e.$t("offLine")}},[e._v(e._s(i.state||e.$t("offLine")))])])]),t("hm-icon",{staticClass:"arrow-color",attrs:{name:"arrow"}})],1)])})),0)])])])]):e._e(),e.bShowOnlineDeviceInfo?t("base-page",{attrs:{title:e.oOnlineDeviceInfo.deviceIpAdd,"right-type":"text","b-back":!1},on:{"left-handle":e.showDevice}},[t("div",{staticClass:"online-device-info-container",attrs:{slot:"content"},slot:"content"},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("ipAddr")}},[e._v("\n          "+e._s(e.oOnlineDeviceInfo.deviceIpAdd)+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("deviceModel")}},[e._v("\n          "+e._s(e.oOnlineDeviceInfo.deviceModel)+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("state_name")}},[t("span",{staticClass:"table-status"},[e.oOnlineDeviceInfo.state==e.$t("onLine")?t("span",{staticClass:"status-text",class:e.oOnlineDeviceInfo.state==e.$t("onLine")?"status-online":"",attrs:{title:e.oOnlineDeviceInfo.state}},[e._v(" "+e._s(e.oOnlineDeviceInfo.state))]):t("span",{staticClass:"status-text",class:e.oOnlineDeviceInfo.state==e.$t("onLine")?"status-online":"",attrs:{title:e.oOnlineDeviceInfo.state}},[e._v(e._s(e.oOnlineDeviceInfo.state))])])]),t("hm-cell",{attrs:{title:e.$t("protocolType_name")}},[t("span",{staticClass:"base-ellipsis",attrs:{title:["HIKVISION","AXIS"].includes(e.oOnlineDeviceInfo.proxyProtocol)?e.$t(e.oOnlineDeviceInfo.proxyProtocol+"_name"):e.oOnlineDeviceInfo.proxyProtocol}},[e._v(" "+e._s(["HIKVISION","AXIS"].includes(e.oOnlineDeviceInfo.proxyProtocol)?e.$t(e.oOnlineDeviceInfo.proxyProtocol+"_name"):e.oOnlineDeviceInfo.proxyProtocol)+" ")])]),t("hm-cell",{attrs:{title:e.$t("managementPort_name")}},[e._v("\n          "+e._s(e.oOnlineDeviceInfo.managePortNo)+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("serialNum_name")}},[e._v("\n          "+e._s(e.oOnlineDeviceInfo.serialNumber)+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("firmware")}},[e._v("\n          "+e._s(e.oOnlineDeviceInfo.firmwareVersion)+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("macAddress")}},[e._v("\n          "+e._s(e.oOnlineDeviceInfo.macAddress)+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("IPv6")}},[e._v("\n          "+e._s(e.oOnlineDeviceInfo.ipv6Address)+"\n        ")])],1),t("hm-button",{staticClass:"info-add",attrs:{"border-radius":"24px"},on:{click:function(t){return e.quickAdd(e.oOnlineDeviceInfo)}}},[e._v(e._s(e.$t("add_name")))])],1)]):e._e(),e.bShowAddDevice?t("base-page",{attrs:{title:e.$t("addDevice"),"right-type":"text","b-back":!1},on:{"left-handle":e.showDevice}},[t("div",{staticClass:"device-add-or-edit-container",attrs:{slot:"content"},slot:"content"},[t("device-add-or-edit",{ref:"addDevice",attrs:{options:e.aOnlineList,"out-loading":e.loadingOnlineDevice,"o-cap":e.oAddOrEditCap,"a-protocol-options":e.aProtocolOptions,"digital-channel-list":e.aShowDeviceList,type:"add"},on:{updateProtocol:e.updateProtocol,confirmAddOnline:e.oneClickAddOnline,updateOnlineDevice:e.updateOnlineDevice,refreshOnlineDevice:e.refreshOnlineDevice,operateSuccess:e.operateSuccess}})],1)]):e._e(),e.bShowEditDevice?t("base-page",{attrs:{title:e.$t("editDevice_name"),"right-type":"icon","right-icon-name":"delete","b-back":!1},on:{"left-handle":e.showDevice,"right-handle":e.deleteDevice}},[t("div",{staticClass:"device-add-or-edit-container",attrs:{slot:"content"},slot:"content"},[t("device-add-or-edit",{attrs:{options:e.aOnlineList,type:"edit","edit-info":e.oDeviceInfo,"o-cap":e.oAddOrEditCap,"a-protocol-options":e.aProtocolOptions,"digital-channel-list":e.aShowDeviceList},on:{confirmAddOnline:e.oneClickAddOnline,updateOnlineDevice:e.updateOnlineDevice,operateSuccess:e.operateSuccess,refreshOnlineDevice:e.refreshOnlineDevice}})],1)]):e._e(),e.bShowDeviceInfo?t("base-page",{attrs:{title:e.oDeviceInfo.cameraName,"right-type":e.oDeviceInfo.isPoe?"":"icon","right-icon-name":"setting-o","b-back":!1},on:{"left-handle":e.showDevice,"right-handle":e.editDevice}},[t("div",{staticClass:"online-device-info-container",attrs:{slot:"content"},slot:"content"},[t("hm-cell-group",{staticClass:"custom-cell-group-card"},[t("hm-cell",{attrs:{title:e.$t("channelNo")}},[e._v("\n          "+e._s(e.oDeviceInfo.channelNo)+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("cameraName")}},[e._v("\n          "+e._s(e.oDeviceInfo.cameraName)+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("ipAddr")}},[t("span",{staticClass:"base-ellipsis",attrs:{title:e.oDeviceInfo.ipAddr}},[e._v(" "+e._s(e.oDeviceInfo.ipAddr)+" ")])]),t("hm-cell",{attrs:{title:e.$t("deviceChanNo")}},[t("span",{staticClass:"base-ellipsis",attrs:{title:e.oDeviceInfo.deviceChanNo}},[e._v(" "+e._s(e.oDeviceInfo.deviceChanNo)+" ")])]),t("hm-cell",{attrs:{title:e.$t("networkstate_name")}},[t("span",{staticClass:"table-status"},[e.oDeviceInfo.state==e.$t("onLine")?t("span",{staticClass:"status-text",class:{"status-online":e.oDeviceInfo.state==e.$t("onLine")},attrs:{title:e.oDeviceInfo.state}},[e._v(" "+e._s(e.oDeviceInfo.state))]):t("span",{staticClass:"status-text",class:{"status-online":e.oDeviceInfo.state==e.$t("onLine")},attrs:{title:e.oDeviceInfo.state||e.$t("offLine")}},[e._v(e._s(e.oDeviceInfo.state||e.$t("offLine")))])])]),e.oCap.bSupportCheckRisk?t("hm-cell",{attrs:{title:e.$t("securityStat")}},[e._v("\n          "+e._s(e.oDeviceInfo.securityStat||"--")+"\n        ")]):e._e(),t("hm-cell",{attrs:{title:e.$t("ProtocolConf")}},[t("span",{staticClass:"base-ellipsis",attrs:{title:["HIK","AXIS"].includes(e.oDeviceInfo.protocol)?e.$t(e.oDeviceInfo.protocol+"_name"):e.oDeviceInfo.protocol}},[e._v(" "+e._s(["HIK","AXIS"].includes(e.oDeviceInfo.protocol)?e.$t(e.oDeviceInfo.protocol+"_name"):e.oDeviceInfo.protocol)+" ")])]),t("hm-cell",{attrs:{title:e.$t("portManage_name")}},[e._v("\n          "+e._s(e.oDeviceInfo.managementPort||"--")+"\n        ")])],1)],1)]):e._e(),e.bShowOnlineDeviceAdd?t("base-page",{attrs:{"close-type":"right","half-height":!0,title:e.$t("onlineDeviceNum_name"),"b-back":!1,"right-type":"slot"},on:{"left-handle":e.showDevice}},[t("div",{attrs:{slot:"right-slot"},slot:"right-slot"},[t("div",{staticClass:"slot-right-container",on:{click:e.refreshOnlineDevice}},[t("img",{staticClass:"white-bg",attrs:{src:a("eaa4"),alt:""}})])]),t("div",{staticClass:"device-container",attrs:{slot:"content"},slot:"content"},[t("online-list-add",{attrs:{options:e.aOnlineList,"out-loading":e.loadingOnlineDevice},on:{confirmAddOnline:e.oneClickAddOnline}})],1)]):e._e(),e.bShowDeleteDevice?t("base-page",{attrs:{"close-type":"right",title:e.$t("bulkDelete_name"),"b-back":!1,"right-type":"text"},on:{"left-handle":e.showDevice}},[t("div",{staticClass:"device-container",attrs:{slot:"content"},slot:"content"},[t("online-list-add",{attrs:{type:"deleteDevice",options:e.aShowDeviceList},on:{confirmDelete:e.confirmDelete}})],1)]):e._e(),t("hm-popup",{ref:"myPopup",attrs:{type:"my-popup"}},[t("hm-loading",{attrs:{size:28}})],1)],1)},n=[],o=(a("96cf"),a("1da1")),r=(a("ac6a"),a("5df3"),a("28a5"),a("b5bd")),s=a("c050"),l=a("768a"),c=a("29ef"),u=a("2c45"),d=a("d09c"),p={name:"Device",components:{OnlineListAdd:c["default"],DeviceAddOrEdit:u["default"]},data:function(){return{szSelect:"video",loadingOnlineDevice:!1,loadingDevice:!1,bSelectOpen:!1,aProtocolOptions:[],bShowDeleteDevice:!1,bShowAddDevice:!1,bShowChannelSelect:!1,bShowEditDevice:!1,bShowOnlineDeviceInfo:!1,bShowOnlineDeviceAdd:!1,bShowDeviceInfo:!1,bOpenList:!1,oParamsValid:{szPwd:{required:!0,pattern:/^(?![A-Z]*$)(?![a-z]*$)(?!\d*$)(?![^a-zA-Z0-9]*$)\S+$/,lengthRange:[8,16]},szPwdConfirm:{required:!0}},defaultPassword:"",aOnlineList:r["a"].aQuickAddList,aShowOnlineList:[],aShowDeviceList:[],iDeviceNum:0,oOnlineDeviceInfo:{deviceIpAdd:""},oDeviceInfo:{},oAddOrEditCap:{szIpAddressName:this.$t("ipAddr"),deviceName:{min:0,max:128,def:""},protocolType:{options:[],def:"HIK"},deviceList:{},aLinkType:[{value:"direct",name:this.$t("direct")},{value:"streamTrans",name:this.$t("streamTrans")}]},oCap:r["a"].oCap,iOnlineDeviceNum:0,aSelect:[{value:"video",text:this.$t("digitalChannel")}]}},computed:{showIndex:function(){return!this.bShowDeleteDevice&&!this.bShowAddDevice&&!this.bShowEditDevice&&!this.bShowOnlineDeviceInfo&&!this.bShowDeviceInfo&&!this.bShowOnlineDeviceAdd}},created:function(){var e=this;this.loadingOnlineDevice=!0,this.loadingDevice=!0,r["a"].getCustomList(!0).finally((function(){e.refreshAll(),r["a"].getEquipmentCap(),r["a"].getIPCProtocolList().then((function(t){e.aProtocolOptions=t}))}))},methods:{updateProtocol:function(e){this.aProtocolOptions=e},confirmDelete:function(e){var t=this,a=this.$refs["myPopup"];a.show();for(var i=[],n=0;n<e.length;n++)if(""===e[n]["connect"]){var o=parseInt(e[n]["channelNo"].split("D")[1],10)+l["a"].m_iAnalogChNum,s=r["a"].deleteChannel(o);i.push(s)}Promise.all(i).then((function(e){for(var a=[],i=0;i<e.length;++i)a.push(e[i].xhr);d["a"].saveState(a,"",1),t.bShowDeleteDevice=!1,t.refreshDevice()}),(function(e){d["a"].saveState(e.xhr,"",1),t.refreshDevice()})).finally((function(){a.hide()}))},updateOnlineDevice:function(e){this.aOnlineList=e},operateSuccess:function(){this.bShowAddDevice=!1,this.bShowEditDevice=!1,this.refreshAll()},oneClickAddOnline:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a,i,n,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a=[],this.errXhr="",this.successNums=0,i=function(e,t){e&&(o.errXhr=e),o.successNums=t},n=0;n<t.length;n++)a.push(r["a"].quickAddOneVideo(t[n],!0,this.refreshAll,i,this.successNums));return e.next=7,Promise.allSettled(a).finally((function(){o.errXhr?(d["a"].saveState(o.errXhr),o.successNums>0&&o.refreshAll(),o.bShowOnlineDeviceAdd=!1):(o.$createToast({txt:o.$t("addSuccess_msg"),type:"success",zIndex:1e4}).show(),o.refreshAll(),o.bShowOnlineDeviceAdd=!1)}));case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),refreshAll:function(){this.refreshOnlineDevice(),this.refreshDevice()},refreshOnlineDevice:function(){var e=this;this.loadingOnlineDevice=!0,r["a"].aQuickAddList.length=0,this.aShowOnlineList.length=0,r["a"].getOnlineList().finally((function(){e.aOnlineList=r["a"].aQuickAddList,e.iOnlineDeviceNum=e.aOnlineList.length,e.aShowOnlineList=e.aOnlineList.slice(0,2),setTimeout((function(){e.loadingOnlineDevice=!1}),0)}))},refreshDevice:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loadingDevice=!0,this.aShowDeviceList.length=0,this.iDeviceNum=0,e.next=5,l["a"].getChannelList(!0);case 5:r["a"].getDeviceList().finally((function(){t.aShowDeviceList=r["a"].showDeviceList,t.iDeviceNum=r["a"].showDeviceList.length,setTimeout((function(){t.loadingDevice=!1}),0)}));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),showDevice:function(){this.bShowDeleteDevice=!1,this.bShowOnlineDeviceInfo=!1,this.bShowDeviceInfo=!1,this.bShowOnlineDeviceAdd=!1,this.bShowAddDevice=!1,this.bShowEditDevice=!1},openOnlineDeviceInfo:function(e){this.bShowOnlineDeviceInfo=!0,this.oOnlineDeviceInfo=e},openDeviceInfo:function(e){this.bShowDeviceInfo=!0,this.oDeviceInfo=e},showOnlineList:function(){this.bOpenList=!this.bOpenList;var e=r["a"].aQuickAddList;this.aShowOnlineList=this.bOpenList?r["a"].aQuickAddList:e.slice(0,2)},handleSelect:function(e){this.bSelectOpen=e},editDevice:function(){this.bShowEditDevice=!0,this.bShowDeviceInfo=!1},oneClickAdd:function(){this.bShowOnlineDeviceAdd=!0},quickAdd:function(e){var t=this,a=function(){t.refreshAll(),t.bShowOnlineDeviceInfo=!1},i=this.$refs["myPopup"];i.show(),r["a"].quickAddOneVideo(e,!1,a).finally((function(){i.hide()}))},moreAct:function(){var e=this,t=[{content:this.$t("bulkDelete_name")}];this.actionSheet=this.$createActionSheet({data:t,onSelect:function(t,a){0===a&&(e.bShowDeleteDevice=!0)}}),this.actionSheet.show()},addDevice:function(){this.bShowAddDevice=!0},deleteDevice:function(){var e=this;s["a"].confirm(this.$t("deleteDeviceTips2_msg"),(function(){var t=e.$refs["myPopup"];t.show();var a=parseInt(e.oDeviceInfo["channelNo"].split("D")[1],10)+l["a"].m_iAnalogChNum;r["a"].deleteChannel(a).then((function(){s["a"].stateAlert(e.$t("deleteSuccess_msg"),"success"),e.bShowEditDevice=!1,e.refreshDevice()})).finally((function(){t.hide()}))}),(function(){}))}}},m=p,h=(a("313e"),a("9064"),a("2877")),f=Object(h["a"])(m,i,n,!1,null,"3b625cd8",null);t["default"]=f.exports},"60dc":function(e,t,a){"use strict";a("ce74")},"61fd":function(e,t,a){},"62a8":function(e,t,a){"use strict";(function(e){a("7514"),a("96cf");var i=a("1da1"),n=a("1f20"),o=a("7de8"),r=a("9741"),s=a("f193"),l=a("c98f");t["a"]={name:"Security",data:function(){return{bNotSupport:!1,title:this.$t("security"),bEnableCancelCallback:!0,bEnableShowTips:!1,bShowConfirm:!1,bSptTLS:!1,tabLabels:[],oSecurityCap:{},isInit:!1,aMenu:[{menu:[]}]}},created:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,this.getAdvancedSIPInfo();case 3:return e.next=5,this.getAdminAccesses();case 5:t.initCap().finally((function(){t.tabLabels=[];var e=l["a"].oSecurityCap.oSecurityAdvanced;t.oSecurityCap={bSupportIPFilter:n["a"].m_oDeviceCapa.bSupportIPFilter&&1===r["a"].iDeviceType,bSupportAuth:n["a"].m_oDeviceCapa.oSupportAuth.bRtsp||n["a"].m_oDeviceCapa.oSupportAuth.bWeb,bSupportAdvanced:e&&(e.oSecurityEnhanced.bSupport||e.oTimeOutExit.bSupport||e.oDigestStatus.bSupport)&&-1===t.$store.state.globeStore.hideRouter.indexOf("systemSecurity_advance"),bSupportService:n["a"].m_oDeviceCapa.bSupportTelnet||n["a"].m_oDeviceCapa.bSupportEncryption||n["a"].m_oDeviceCapa.bLoginLock},t.oSecurityCap.bSupportIPFilter&&a.aMenu[0].menu.push({path:"",name:"securityIPFilter",label:a.$t("ipAddrFilter"),value:"",cap:!0}),(t.oSecurityCap.bSupportService||t.oSecurityCap.bSupportAdvanced)&&a.aMenu[0].menu.push({path:"",name:"service",label:a.$t("loginManagement"),value:"",cap:!0}),a.bSptTLS&&a.aMenu[0].menu.push({path:"",name:"tls",label:a.$t("TLS"),value:"",cap:!0}),a.bNotSupport=!a.aMenu[0].menu.length,a.isInit=!0}));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{changeHandler:function(e){this.selectedLabel=e,this.routerJump(e)},goConfigPage:function(){this.$router.push({name:"Config"})},initCap:function(){return o["a"].waitAll([n["a"].getDeviceCapa(),n["a"].getSystemCap(),n["a"].getSecurityService(),n["a"].getAuthSupport()]).finally((function(){}))},getAdvancedSIPInfo:function(){return new Promise((function(e){var t={urlCGI:"SIP",params:{},data:null,loading:!0};s["a"].get(t).then((function(){e()})).catch((function(){e()}))}))},goMenu:function(e){var t={};e.name?t.name=e.name:t.path=e.path,this.$router.push(t)},getAdminAccesses:function(){var t=this,a=this,i=new Promise((function(i){var n={urlCGI:"portInfo",params:{},data:null,loading:!0};s["a"].get(n).then((function(t){var n=t.oResult;console.log(n),e(n).find("AdminAccessProtocol").each((function(t,i){"https"===o["a"].nodeValue(e(i),"protocol").toLowerCase()&&(e(i).find("TLS1_1Enable").length>0||e(i).find("TLS1_2Enable").length>0||e(i).find("TLS1_3Enable").length>0)&&(a.bSptTLS=!0)})),console.log(a.bSptTLS),i()}),(function(){t.bSptTLS=!1,i()}))}));return i}}}}).call(this,a("1157"))},"62f4":function(e,t,a){},"634e":function(e,t,a){"use strict";(function(e){a("6b54"),a("28a5"),a("ac6a"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("8d94"),s=a("d09c"),l=a("f193"),c=a("7de8"),u=a("1f20"),d={high:r["a"].t("twinkleHigh"),medium:r["a"].t("twinkleMedium"),low:r["a"].t("twinkleLow"),normallyOn:r["a"].t("twinkleNormallyOn")},p=function(){function t(){Object(n["a"])(this,t),this.oChannel={id:0},this.m_oParams={durationTime:15,frequency:"high",brightness:50,TimeRangeList:[]},this.m_oParamsValid={required:!0,range:[0,65535]},this.m_aTimes=[],this.m_oCap={aAlarmOutput:[],bSupportByChannel:!1,bSupportDurationTime:!1,bSupportFrequency:!1,bSupportBrightness:!1,bSupportWhiteLight:!1,oDurationTime:{bSupport:!1,iDef:15,iMin:0,iMax:100},oFrequency:{bSupport:!1,aList:[],szDef:"medium"},oBrightness:{bSupport:!1,iMin:1,iMax:100,iDef:50},bSupportSchedule:!1,bHoliday:!1,bSupportHolidayTmp:!1,iMaxSize:8}}return Object(o["a"])(t,[{key:"init",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.getByChannels(),e.next=3,u["a"].isEnableHoliday();case 3:this.m_oCap.bSupportHolidayTmp=u["a"].m_oDeviceCapa.bEnableHoliday;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getAllInfo",value:function(){var e=this;this.getCap().then((function(){e.getParam()}))}},{key:"getByChannels",value:function(){var e=this;this.m_oCap.aAlarmOutput.splice(0),this.oChannel.id="";var t=new Promise(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a,i){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={urlCGI:"whiteLightAlarmOutByChannels",data:null,loading:!0},t.next=3,l["a"].get(n).then((function(t){try{if(t.oResult&&t.oResult.WhiteLightAlarmList){var n=t.oResult.WhiteLightAlarmList;n.forEach((function(t){e.m_oCap.aAlarmOutput.push({value:1*t.channelID}),e.m_oCap.bSupportByChannel=e.m_oCap.aAlarmOutput.length>0,e.oChannel.id=e.m_oCap.aAlarmOutput.length>0?e.m_oCap.aAlarmOutput[0].value:""}))}a()}catch(o){i()}}),(function(e,t){s["a"].getState(t),i()}));case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}());return t}},{key:"getCap",value:function(){var t=this,a=this.m_oCap.bSupportByChannel?"whiteLightAlarmOutCapByChannel":"whiteLightAlarmOutCap",n=new Promise(function(){var n=Object(i["a"])(regeneratorRuntime.mark((function i(n,o){var r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return r={urlCGI:a,params:{channel:t.oChannel.id},data:null,loading:!0},i.next=3,l["a"].get(r).then((function(a){try{t.m_aTimes.length=0;var i=t.m_oCap,r=t.m_oParamsValid,s=a.oResult.WhiteLightAlarmCap;if(i.bHoliday=i.bSupportByChannel?s.HolidayBlockCap:i.bSupportHolidayTmp,s.durationTime&&(i.oDurationTime.bSupport=!0,e.extend(r,{required:!0,range:[s.durationTime["@min"],s.durationTime["@max"]]}),i.oDurationTime.iMin=s.durationTime["@min"],i.oDurationTime.iMax=s.durationTime["@max"],i.oDurationTime.iDef=s.durationTime["@def"]),s.frequency&&(i.oFrequency.bSupport=!0,i.oFrequency.aList.length=0,e.each(s.frequency["@opt"].split(","),(function(){i.oFrequency.aList.push({text:d[this.toString()]||this.toString(),value:this})})),i.oFrequency.iDef=s.frequency["@def"]),s.brightness&&(i.oBrightness.bSupport=!0,i.oBrightness.iMin=s.brightness["@min"],i.oBrightness.iMax=s.brightness["@max"],i.oBrightness.iDef=s.brightness["@def"]),s.TimeRangeCap){i.bSupportSchedule=!0,i.iMaxSize=s.TimeRangeCap.id["@maxSize"];for(var l=0;l<7;l++)t.m_aTimes[l]=[]}n()}catch(c){o()}}),(function(e,t){s["a"].getState(t),o()}));case 3:case"end":return i.stop()}}),i)})));return function(e,t){return n.apply(this,arguments)}}());return n}},{key:"getParam",value:function(){var t=this,a=this.m_oCap.bSupportByChannel?"whiteLightAlarmOutByChannel":"whiteLightAlarmOut",n=new Promise(function(){var n=Object(i["a"])(regeneratorRuntime.mark((function i(n,o){var r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return r={urlCGI:a,params:{channel:t.oChannel.id},data:null,loading:!0},i.next=3,l["a"].get(r).then((function(a){try{var i=t.m_oCap,o=t.m_oParams;if(e.extend(!0,t.m_oParams,a.oResult.WhiteLightAlarm),i.oDurationTime.bSupport&&!o.durationTime&&(o.durationTime=i.oDurationTime.iDef),i.oFrequency.bSupport&&!o.frequency&&(o.frequency=i.oFrequency.iDef),i.oBrightness.bSupport&&!o.brightness&&(o.brightness=i.oBrightness.iDef),i.bSupportSchedule)for(var r=c["a"].objectValue(a.oResult,"WhiteLightAlarm TimeRangeList","p"),s=0;s<r.length;s++)for(var l=r[s],u=l.week-1,d=l.TimeRange,p=0;p<d.length;p++)t.m_aTimes[u].push({sTime:d[p].beginTime,eTime:d[p].endTime,type:"CMR"})}catch(m){}n()}),(function(e,t){s["a"].getState(t),o()}));case 3:case"end":return i.stop()}}),i)})));return function(e,t){return n.apply(this,arguments)}}());return n}},{key:"setParam",value:function(){var t=e.extend(!0,{},this.m_oParams);if(t.durationTime&&(t.durationTime=parseInt(t.durationTime,10)),t.brightness&&(t.brightness=parseInt(t.brightness,10)),this.m_oCap.bSupportSchedule){for(var a=[],i=0;i<=6;i++){for(var n={week:i+1,TimeRange:[]},o=0;o<this.m_aTimes[i].length;o++)n.TimeRange.push({id:o+1,beginTime:this.m_aTimes[i][o].sTime,endTime:this.m_aTimes[i][o].eTime});a.push(n)}t.TimeRangeList=a}var r=this.m_oCap.bSupportByChannel?"whiteLightAlarmOutByChannel":"whiteLightAlarmOut",c={urlCGI:r,params:{channel:this.oChannel.id},data:{WhiteLightAlarm:t},loading:!0};return new Promise((function(e){l["a"].put(c).then((function(t){e(),s["a"].saveState(t.xhr)}),(function(t){e(),s["a"].saveState(t)}))}))}}]),t}();t["a"]=new p}).call(this,a("1157"))},6458:function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:!(e.aChannel.length<2&&!e.bNVR)||e.aFilter.length>0,expression:"!(aChannel.length<2 && !bNVR) || aFilter.length > 0"}],staticClass:"channellist"},["cell"===e.showType?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("camera")}},[t("base-select",{attrs:{options:e.aChannel,title:e.$t("camera")},on:{change:e.handleChange},model:{value:e.selectedValue,callback:function(t){e.selectedValue=t},expression:"selectedValue"}})],1)],1):e._e(),"tab"===e.showType?t("div",[t("hm-scroll-nav-bar",{ref:"navbar",attrs:{current:e.selectedLabelSlotsOnly,labels:e.aChannelNameList},on:{change:e.clickHandler}})],1):e._e()],1)},n=[],o=(a("ac6a"),a("4656")),r=a("9741"),s=a("47b5"),l={components:{BaseSelect:s["a"]},props:{oChannel:{type:Object,default:function(){return{}},required:!0},showType:{type:String,default:"cell"},aFilter:{type:Array,default:function(){return[]}},bOnline:{type:Boolean,default:!0}},data:function(){return{selectedLabelSlotsOnly:"",selectedValue:"",bNVR:0===r["a"].iDeviceType,aChannel:[],aChannelNameList:[],defaultIndex:0}},created:function(){var e=this,t=this;this.$nextTick((function(){o["a"].getChannelList(e.bOnline,e.aFilter).then((function(){var a=o["a"].m_aChannelList;e.aChannel=a,a.forEach((function(t){e.aChannelNameList.push(t.label)}));var i=!0;!e.oChannel||e.oChannel.length<1?(e.oChannel={id:1},e.oChannel.id=a[0].iId,e.oChannel.name=a[0].label,e.oChannel.type=a[0].szType):(a.forEach((function(n,o){t.oChannel.id===n.iId&&(e.defaultIndex=o,t.oChannel.name=a[o].label,t.oChannel.type=a[o].szType,i=!1)})),i&&(e.oChannel.id=a[0].iId,e.oChannel.name=a[0].label,e.oChannel.type=a[0].szType)),setTimeout((function(){e.selectedLabelSlotsOnly=e.oChannel.name}),100),e.selectedValue=e.oChannel.id}))}))},methods:{clickHandler:function(e){var t=this.aChannel.filter((function(t){return t.label===e}));t.length>0&&(this.$set(this.oChannel,"name",e),this.$set(this.oChannel,"id",t[0].value),this.$refs.navbar.refresh(),this.$forceUpdate())},handleChange:function(e){var t=this.aChannel.filter((function(t){return t.value===e}));t.length>0&&(this.$set(this.oChannel,"name",t[0].label),this.$set(this.oChannel,"id",t[0].value),this.$forceUpdate())},selectChannel:function(){var e=this,t=this;t.aChannel.length<2||(this.selectChannelPicker||(this.selectChannelPicker=this.$createPicker({title:this.$t("channels"),data:[this.filterChannel(this.aChannel)],selectedIndex:[t.defaultIndex],alias:{value:"iId",text:"label"},onSelect:function(a,i,n){e.$set(t.oChannel,"name",n[0]),e.$set(t.oChannel,"id",a[0]),e.$forceUpdate()},onCancel:function(){}})),this.selectChannelPicker.show())},filterChannel:function(e){var t=[];return e.forEach((function(e){t.push({iId:e.iId,label:e.label})})),t},getChannel:function(){return this.filterChannel(this.aChannel)}}},c=l,u=a("2877"),d=Object(u["a"])(c,i,n,!1,null,"4b1ab372",null);t["a"]=d.exports},6599:function(e,t,a){"use strict";(function(e){a("6b54"),a("7514"),a("ac6a"),a("5df3"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("d09c"),s=a("7de8"),l=a("768a"),c=a("f193"),u="AudioDetection/channels",d=function(){function t(){Object(n["a"])(this,t),this.oEventInfo={bLoading:!1,oLink:null,oScheduleTimes:[],bEnableAudioDetect:!1,bEnableSoundSteepRise:!1,iSoundSteepRiseSensitivity:0,iSoundSteepRiseIntensity:0,bEnableSoundSteepDrop:!1,iSoundSteepDropIntensity:0,aRealTimeSoundIntensity:[]},this.oEventCap={bSupportHoliday:!1,bSupportModify:!1,bChannelSupport:!0,bSupportSoundSteepDrop:!1,iSensitivityMin:0,iSensitivityMax:100,iIntensityMin:0,iIntensityMax:100,bSupportRealTime:!1},this.oParams={oData:null,iChannelId:0,oXhr:{oErrorXhr:null,oSuccessXhr:null,oRestartXhr:null}}}return Object(o["a"])(t,[{key:"init",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=this,a.oParams.iChannelId=t||1,e.next=4,l["a"].getAlarmOutput();case 4:return e.next=6,l["a"].getChannelList();case 6:return e.next=8,l["a"].initDeviceParams(this.oEventCap,!0,!0,!0);case 8:return e.next=10,a.getDetectCap();case 10:return e.abrupt("return",Promise.all([a.getDetectInfo(),a.getDetectLink(),a.getSchedule()]));case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getDetectCap",value:function(){var e=this,t={urlCGI:"smartDetectionCapa",params:{param:u,channel:this.oParams.iChannelId},data:null,loading:!0};return c["a"].get(t).then((function(t){var a=t.oResult;e.oEventCap.iSensitivityMin=s["a"].nodeAttr(a,"sensitivityLevel","min","i"),e.oEventCap.iSensitivityMax=s["a"].nodeAttr(a,"sensitivityLevel","max","i"),e.oEventCap.iIntensityMin=s["a"].nodeAttr(a,"mutationThreshold","min","i"),e.oEventCap.iIntensityMax=s["a"].nodeAttr(a,"mutationThreshold","max","i"),e.oEventCap.bChannelSupport=!0}),(function(){e.oEventCap.bChannelSupport=!1}))}},{key:"getDetectInfo",value:function(){var t=this,a={urlCGI:"smartDetection",params:{channel:this.oParams.iChannelId,param:u},data:null,loading:!0};return c["a"].get(a).then((function(a){var i=a.oResult,n=e(i).find("audioInputException").eq(0),o=e(i).find("soundIntensityMutation").eq(0);t.oEventInfo.bEnableAudioDetect=s["a"].nodeValue(n,"enabled","b"),t.oEventInfo.bEnableSoundSteepRise=s["a"].nodeValue(o,"enabled","b"),t.oEventInfo.iSoundSteepRiseSensitivity=s["a"].nodeValue(o,"sensitivityLevel","i"),t.oEventInfo.iSoundSteepRiseIntensity=s["a"].nodeValue(o,"mutationThreshold","i"),e(i).find("SteepFall").length>0?(t.oEventCap.bSupportSoundSteepDrop=!0,t.oEventInfo.bEnableSoundSteepDrop=s["a"].nodeValue(e(i).find("SteepFall").eq(0),"enabled","b"),t.oEventInfo.iSoundSteepDropIntensity=s["a"].nodeValue(e(i).find("SteepFall").eq(0),"sensitivityLevel","i")):t.oEventCap.bSupportSoundSteepDrop=!1}))}},{key:"getDetectLink",value:function(){var e=this,t=this;return new Promise((function(a){var i={urlCGI:"linkInfo",params:{param:"audioexception-"+e.oParams.iChannelId},data:null,loading:!0};return l["a"].getLinkageCap("AudioExceptionCap").then((function(e){return t.oEventInfo.oLink=e||{normal:{email:!0,center:!0},alarm:{bShow:!0,aAnalogAlarmId:l["a"].m_aAnalogAlarmOutputId,aDigitalAlarmId:l["a"].m_aDigitalAlarmOutputId,iAnalogChannelNum:l["a"].m_iAnalogChNum,oInfo:{}},record:{bShow:!0,aAnalogChannelId:l["a"].m_aAnalogChId,aDigitalChannelId:l["a"].m_aDigitalChId,iAnalogChannelNum:l["a"].m_iAnalogChNum,oInfo:{}}},c["a"].get(i).then((function(e){var i=e.oResult;l["a"].getLinkInfo(t.oEventInfo.oLink,i),a()}))})),c["a"].get(i).then((function(e){var i=e.oResult;l["a"].getLinkInfo(t.oEventInfo.oLink,i),a()}))}))}},{key:"getSchedule",value:function(){var e=this,t={urlCGI:"scheduleInfo",params:{param:"audioDetections/audioexception_"+this.oParams.iChannelId},data:null,loading:!0};c["a"].get(t).then((function(t){var a=t.oResult;l["a"].getSchedule(e.oEventInfo.oScheduleTimes,a)}))}},{key:"save",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,this.oParams.oXhr={oErrorXhr:null,oSuccessXhr:null,oRestartXhr:null},this.oEventInfo.bLoading=!0,e.next=5,t.setDetectInfo();case 5:return e.next=7,t.setDetectLink();case 7:return e.next=9,t.setDetectSchedule();case 9:this.oEventInfo.bLoading=!1,t.oParams.oXhr.oErrorXhr?r["a"].saveState(t.oParams.oXhr.oErrorXhr):r["a"].saveState(t.oParams.oXhr.oSuccessXhr);case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setDetectInfo",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,i,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="<?xml version='1.0' encoding='UTF-8'?><AudioDetection><id>"+this.oParams.iChannelId+"</id><audioInputException><enabled>"+this.oEventInfo.bEnableAudioDetect.toString()+"</enabled></audioInputException><soundIntensityMutation><enabled>"+this.oEventInfo.bEnableSoundSteepRise.toString()+"</enabled><sensitivityLevel>"+this.oEventInfo.iSoundSteepRiseSensitivity.toString()+"</sensitivityLevel><mutationThreshold>"+this.oEventInfo.iSoundSteepRiseIntensity+"</mutationThreshold></soundIntensityMutation>",this.oEventCap.bSupportSoundSteepDrop&&(t+="<SteepFall><enabled>"+this.oEventInfo.bEnableSoundSteepDrop.toString()+"</enabled><sensitivityLevel>"+this.oEventInfo.iSoundSteepDropIntensity.toString()+"</sensitivityLevel></SteepFall>"),t+="</AudioDetection>",a=s["a"].parseXmlFromStr(t),i={urlCGI:"smartDetection",params:{channel:this.oParams.iChannelId,param:u},data:a,loading:!0},e.abrupt("return",c["a"].put(i).then((function(e){var t=e.xhr;n.oParams.oXhr.oSuccessXhr=t}),(function(e){n.oParams.oXhr.oErrorXhr=e,r["a"].saveState(e)})));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setDetectLink",value:function(){var e=this,t=this,a=l["a"].setLinkInfo(t.oEventInfo.oLink,"audioexception",t.oParams.iChannelId),i={urlCGI:"linkInfo",params:{param:"audioexception-"+t.oParams.iChannelId},data:a,loading:!0};return c["a"].put(i).then((function(t){var a=t.xhr;e.oParams.oXhr.oSuccessXhr=a}),(function(t){e.oParams.oXhr.oErrorXhr=t,r["a"].saveState(t)}))}},{key:"setDetectSchedule",value:function(){var e=this,t=this,a=l["a"].setSchedule(t.oEventInfo.oScheduleTimes,"audioDetections",t.oParams.iChannelId),i={urlCGI:"scheduleInfo",params:{param:"audioDetections/audioexception_"+t.oParams.iChannelId},data:a,loading:!0};return c["a"].put(i).then((function(t){var a=t.xhr;e.oParams.oXhr.oSuccessXhr=a}),(function(t){e.oParams.oXhr.oErrorXhr=t,r["a"].saveState(t)}))}}]),t}();t["a"]=new d}).call(this,a("1157"))},"65ca":function(e,t,a){},6618:function(e,t,a){"use strict";a("fdad")},6641:function(e,t,a){},"666d":function(e,t,a){"use strict";(function(e){a("a481"),a("ac6a"),a("7514"),a("28a5"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("f193"),s=a("7de8"),l=a("234f"),c=a("c050"),u=a("d09c"),d=a("8d94"),p=function(){function t(){Object(n["a"])(this,t),this.oXmlDoc=null,this.verifyResult={},this.m_aTimes=[],this.m_oParams=l["a"].m_oParams,this.m_oCapbilities=l["a"].m_oCapbilities,this.m_oParamsValid=l["a"].m_oParamsValid,this.m_oCopyTo=[],this.oDay=l["a"].oDay,this.oDayReverse=l["a"].oDayReverse,this.oChannel={id:1}}return Object(o["a"])(t,[{key:"init",value:function(e){var t=this;return new Promise(function(){var a=Object(i["a"])(regeneratorRuntime.mark((function a(i){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.getCab(e);case 2:return a.next=4,t.getInfo(e);case 4:i();case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}},{key:"getCab",value:function(t){var a=this;return new Promise((function(i,n){var o={urlCGI:"displayParamSwitchCap",params:{channel:t},data:null,loading:!0};r["a"].get(o).then((function(t){var n=t.oResult,o=s["a"].nodeAttr(n,"mode","opt").split(",");a.m_oCapbilities.oPreset.bSupport=-1!==e.inArray("linkPreset",o),a.m_oCapbilities.oSchedule.bSupport=-1!==e.inArray("timingSwitch",o),a.m_oCapbilities.oDisabled.bSupport=-1!==e.inArray("disable",o),a.m_oCapbilities.oMonth.bSupport=!1,-1!==e.inArray("month",o)&&(a.m_oCapbilities.oMonth.bSupport=!0,a.m_oCapbilities.oSchedule.bSupport=!1,a.m_oCapbilities.oPreset.bSupport=!1),a.m_oCapbilities.szBeginTime=s["a"].nodeValue(n,"beginTime"),a.m_oCapbilities.szEndTime=s["a"].nodeValue(n,"endTime"),a.m_oCapbilities.szDefScene=s["a"].nodeValue(n,"linkScene"),a.m_oCapbilities.aScenes=s["a"].nodeAttr(n,"linkScene","opt").split(",")||[],a.m_oCapbilities.oPreset.bSupport&&(a.m_oCapbilities.oPreset.bSupportLinkEnabled=e(n).find("linkEnabled").length,a.m_oCapbilities.oPreset.iPresetNum=s["a"].nodeAttr(n,"LinkPresetList","size","i"),a.m_oCapbilities.oPreset.iTimeNum=s["a"].nodeAttr(n,"LinkPresetList PeriodList","size","i")),a.m_oCapbilities.oSchedule.bSupport&&(a.m_oCapbilities.oSchedule.iTimeNum=s["a"].nodeAttr(n,"TimingSwitch PeriodList","size","i")),a.m_oCapbilities.oMonth.bSupport&&(a.m_oCapbilities.oMonth.iMonthNum=s["a"].nodeAttr(n,"Month PeriodList","size","i"),a.m_oCapbilities.oMonth.iTimeNum=s["a"].nodeAttr(n,"Month PeriodList TimeRangeList","size","i")),a.initData(),i()}),(function(e){n(e)}))}))}},{key:"initData",value:function(){this.m_oParams.oPreset.aPresets.length=0;for(var e=1,t=this.m_oCapbilities.oPreset.iPresetNum;e<=t;++e){var a=i(this.m_oCapbilities.oPreset.iTimeNum,{bEnabled:!1,szBeginTime:this.m_oCapbilities.szBeginTime,szEndTime:this.m_oCapbilities.szEndTime,szScene:this.m_oCapbilities.szDefScene});this.m_oParams.oPreset.aPresets.push({id:e,bEnabled:!1,aTimes:a})}function i(e,t){for(var a=[],i=1;i<=e;++i)a.push({bEnabled:t.bEnabled,szBeginTime:t.szBeginTime,szEndTime:t.szEndTime,szScene:t.szScene});return a}this.m_oParams.oPreset.iLinkPreset=1,this.changePreset(),this.m_oParams.oSchedule.aTimes=i(this.m_oCapbilities.oSchedule.iTimeNum,{bEnabled:!1,szBeginTime:this.m_oCapbilities.szBeginTime,szEndTime:this.m_oCapbilities.szEndTime,szScene:this.m_oCapbilities.szDefScene})}},{key:"getInfo",value:function(t){var a=this;return new Promise((function(i,n){var o={urlCGI:"displayParamSwitchInfo",params:{channel:t},data:null,loading:!0};r["a"].get(o).then((function(t){var n,o,r,l=t.oResult,c=s["a"].nodeValue(l,"mode");a.m_oParams.oPreset.bEnabled=!1,a.m_oParams.oSchedule.bEnabled=!1,a.m_oParams.oMonth.bEnabled=!1,e(l).find("LinkPreset").each((function(t){n=a.m_oParams.oPreset.aPresets[t],n.bEnabled=s["a"].nodeValue(a,"linkEnabled","b"),o=n.aTimes,e(this).find("Period").each((function(e){r=o[e],r.bEnabled=s["a"].nodeValue(this,"enabled","b"),r.szBeginTime=s["a"].nodeValue(this,"beginTime"),r.szEndTime=s["a"].nodeValue(this,"endTime"),r.szScene=s["a"].nodeValue(this,"linkScene")}))}));var u,d=a.m_oParams.oSchedule.aTimes;e(l).find("TimingSwitch Period").each((function(e){u=d[e],u.bEnabled=s["a"].nodeValue(this,"enabled","b"),u.szBeginTime=s["a"].nodeValue(this,"beginTime"),u.szEndTime=s["a"].nodeValue(this,"endTime"),u.szScene=s["a"].nodeValue(this,"linkScene")}));var p,m,h=a.m_oParams.oMonth.aTimes;e(l).find("Month Period").each((function(t){p=h[t]=[],e(this).find("TimeRange").each((function(e){m=p[e]={},m.sTime=s["a"].nodeValue(this,"beginTime"),m.eTime=s["a"].nodeValue(this,"endTime"),m.type=s["a"].nodeValue(this,"linkScene")}))})),"linkPreset"===c?a.m_oParams.oPreset.bEnabled=!0:"timingSwitch"===c?a.m_oParams.oSchedule.bEnabled=!0:"month"===c&&(a.m_oParams.oMonth.bEnabled=!0),i()}),(function(e){n(e)}))}))}},{key:"save",value:function(t){var a=this;if(this.checkValid()){var i="<?xml version='1.0' encoding='UTF-8'?>";return i+="<DisplayParamSwitch>",this.m_oParams.oPreset.bEnabled?(i+="<mode>linkPreset</mode>",i+="<LinkPresetList>",e.each(this.m_oParams.oPreset.aPresets,(function(e,t){i+="<LinkPreset>",i+="<id>"+t.id+"</id>",i+="<presetID>"+t.id+"</presetID>",a.m_oCapbilities.oPreset.bSupportLinkEnabled&&(i+="<linkEnabled>"+t.bEnabled+"</linkEnabled>"),i+="<PeriodList>",t.aTimes.forEach((function(e,t){i+="<Period>",i+="<id>"+(t+1)+"</id>",i+="<enabled>"+e.bEnabled+"</enabled>",i+="<TimeRange>",i+="<beginTime>"+e.szBeginTime+"</beginTime>",i+="<endTime>"+e.szEndTime+"</endTime>",i+="</TimeRange>",i+="<linkScene>"+e.szScene+"</linkScene>",i+="</Period>"})),i+="</PeriodList>",i+="</LinkPreset>"})),i+="</LinkPresetList>"):a.m_oParams.oSchedule.bEnabled?(i+="<mode>timingSwitch</mode>",i+="<TimingSwitch>",i+="<PeriodList>",e.each(a.m_oParams.oSchedule.aTimes,(function(e,t){i+="<Period>",i+="<id>"+(e+1)+"</id>",i+="<enabled>"+t.bEnabled+"</enabled>",i+="<TimeRange>",i+="<beginTime>"+t.szBeginTime+"</beginTime>",i+="<endTime>"+t.szEndTime+"</endTime>",i+="</TimeRange>",i+="<linkScene>"+t.szScene+"</linkScene>",i+="</Period>"})),i+="</PeriodList>",i+="</TimingSwitch>"):a.m_oCapbilities.oMonth.bSupport?(a.m_oParams.oMonth.bEnabled?i+="<mode>month</mode>":i+="<mode>disable</mode>",i+="<Month>",i+="<PeriodList size='"+a.m_oCapbilities.oMonth.iMonthNum+"'>",e.each(a.m_oParams.oMonth.aTimes,(function(t,a){i+="<Period>",i+="<id>"+(t+1)+"</id>",a.length?(i+="<TimeRangeList>",e.each(a,(function(e,t){i+="<TimeRange>",i+="<beginTime>"+t.sTime+"</beginTime>",i+="<endTime>"+t.eTime+"</endTime>",i+="<linkScene>"+t.type+"</linkScene>",i+="</TimeRange>"})),i+="</TimeRangeList>"):i+="<TimeRangeList/>",i+="</Period>"})),i+="</PeriodList>",i+="</Month>"):i+="<mode>disable</mode>",i+="</DisplayParamSwitch>",new Promise((function(e,a){var n={urlCGI:"displayParamSwitchInfo",params:{channel:t},data:i,loading:!0};r["a"].put(n).then((function(t){u["a"].saveState(t.xhr),e()}),(function(e){u["a"].saveState(e),a(e)}))}))}}},{key:"changePreset",value:function(){this.m_oParams.oPreset.oPresetInfo?this.checkValid()?this.m_oParams.oPreset.oPresetInfo=this.m_oParams.oPreset.aPresets[this.m_oParams.oPreset.iLinkPreset-1]:this.m_oParams.oPreset.iLinkPreset=this.m_oParams.oPreset.oPresetInfo.id:this.m_oParams.oPreset.oPresetInfo=this.m_oParams.oPreset.aPresets[this.m_oParams.oPreset.iLinkPreset-1]}},{key:"checkValid",value:function(){function t(t){var a=t.split(":"),i=0;return e.each(a,(function(e){a[e]=parseInt(a[e],10)})),i+=3600*a[0]+60*a[1]+a[2],i}function a(e,a){var i=t(e),n=t(a);return 0===i&&0===n||(!(n-i>=0&&n-i<10)||(c["a"].tip(d["a"].t("scheduleTimeRange")),!1))}function i(a,i){a=t(a[1])<t(a[0])?[[a[0],"24:00:00"],["00:00:00",a[1]]]:[a],i=t(i[1])<t(i[0])?[[i[0],"24:00:00"],["00:00:00",i[1]]]:[i];var n=!1;return e.each(a,(function(t){if(e.each(i,(function(e){if(n=o(a[t],i[e]),n)return!1})),n)return!1})),n;function o(e,a){var i=t(e[0]),n=t(e[1]),o=t(a[0]),r=t(a[1]);return 0!==n-i&&0!==r-o&&!(i>=r||n<=o)}}function n(t){var a=!1;return e.each(t,(function(n){if(e.each(t,(function(e){if(e>n&&(a=i(t[n],t[e]),a)){var o=(n<e?n:e)+1,r=(n<e?e:n)+1,s=d["a"].t("timeSegmentOverlapped");return s=s.replace("%s",o).replace("%s",r),c["a"].tip(s),!1}})),a)return!1})),a}var o=[];if(this.m_oParams.oPreset.bEnabled){if(!this.m_oParams.oPreset.oPresetInfo)return!0;o=this.m_oParams.oPreset.oPresetInfo.aTimes}else this.m_oParams.oSchedule.bEnabled&&(o=this.m_oParams.oSchedule.aTimes);var r=!0;if(e.each(o,(function(e,t){if(r=a(t.szBeginTime,t.szEndTime),!r)return!1})),!r)return!1;var s=[];return e.each(o,(function(){s.push([this.szBeginTime,this.szEndTime])})),!n(s)}}]),t}();t["a"]=new p}).call(this,a("1157"))},6670:function(e,t,a){"use strict";(function(e){a("6b54"),a("a481"),a("7514");var i=a("d4ec"),n=a("bee2"),o=a("7de8"),r=a("d09c"),s=a("f193"),l=function(){function t(){Object(i["a"])(this,t),this.oXmlDoc=null,this.verifyResult={},this.szDefaultPsd="",this.m_oCapbilities={bSupportTrapCommunity:!1,bSupportSnmpV1:!1,bSupportSnmpV3:!1},this.m_oParams={oSnmpXml:null,bEnableSnmpv1:!1,bEnableSnmpv2:!1,bEnableSnmpv3:!1,szRCommunity:"",szWCommunity:"",szTrapIP:"",szTrapPort:"",szTrapCommunity:"",szReadUserName:"",szReadSecurityLevel:"1_1",szReadAuthAlg:"MD5",szReadAuthPsd:this.szDefaultPsd,szReadPrivacyAlg:"DES",szReadPrivacyPsd:this.szDefaultPsd,szWriteUserName:"",szWriteSecurityLevel:"1_1",szWriteAuthAlg:"MD5",szWriteAuthPsd:this.szDefaultPsd,szWritePrivacyAlg:"DES",szWritePrivacyPsd:this.szDefaultPsd,szSnmpPort:""},this.m_oParamsValid={oRCommunity:{required:!0,specialChar:!0,multiChar:!0,skipVerify:!1},oWCommunity:{required:!0,specialChar:!0,multiChar:!0,skipVerify:!1},oTrapAddr:{required:!0,ip:!0,skipVerify:!1},oTrapPort:{required:!0,range:[1,65535],skipVerify:!1},oSnmpPort:{required:!0,range:[1,65535],skipVerify:!1},oTrapCommunity:{required:!0,normalChar:!0,skipVerify:!1},oUserName:{required:!0,normalChar:!0,skipVerify:!1},oReadAuthPassword:{required:!0,skipVerify:!1},oReadAlgPassword:{required:!0,skipVerify:!1},oWriteAthPassword:{required:!0,skipVerify:!1},oWriteAlgPassword:{required:!0,skipVerify:!1}},this.oDisabled={bRCommunity:!1,bWCommunity:!1,bTrapIP:!1,bTrapPort:!1,bTrapCommunity:!1,bReadUserName:!1,bReadSecurityLevel:!1,bReadAuthAlg:!1,bReadAuthPsd:!1,bReadPrivacyAlg:!1,bReadPrivacyPsd:!1,bWriteSecurityLevel:!1,bWriteAuthAlg:!1,bWriteAuthPsd:!1,bWritePrivacyAlg:!1,bWritePrivacyAlgPsd:!1}}return Object(n["a"])(t,[{key:"keydown",value:function(e){0===e&&this.m_oParams.szReadAuthPsd===this.szDefaultPsd&&(this.m_oParams.szReadAuthPsd=""),1===e&&this.m_oParams.szReadPrivacyPsd===this.szDefaultPsd&&(this.m_oParams.szReadPrivacyPsd=""),2===e&&this.m_oParams.szWriteAuthPsd===this.szDefaultPsd&&(this.m_oParams.szWriteAuthPsd=""),3===e&&this.m_oParams.szWritePrivacyPsd===this.szDefaultPsd&&(this.m_oParams.szWritePrivacyPsd="")}},{key:"disabled",value:function(){var e=this.oDisabled,t=this.m_oParams,a=!(t.bEnableSnmpv1||t.bEnableSnmpv2),i=!t.bEnableSnmpv3;e.bRCommunity=a,e.bWCommunity=a,e.bTrapIP=a,e.bTrapPort=a,e.bTrapCommunity=a,e.bReadUserName=i,e.bReadSecurityLevel=i,e.bReadAuthAlg=i||"0_0"===t.szReadSecurityLevel,e.bReadAuthPsd=i||"0_0"===t.szReadSecurityLevel,e.bReadPrivacyAlg=i||"1_1"!==t.szReadSecurityLevel,e.bReadPrivacyPsd=i||"1_1"!==t.szReadSecurityLevel,e.bWriteUserName=i,e.bWriteSecurityLevel=i,e.bWriteAuthAlg=i||"0_0"===t.szWriteSecurityLevel,e.bWriteAuthPsd=i||"0_0"===t.szWriteSecurityLevel,e.bWritePrivacyAlg=i||"1_1"!==t.szWriteSecurityLevel,e.bWritePrivacyAlgPsd=i||"1_1"!==t.szWriteSecurityLevel}},{key:"getSnmpInfo",value:function(){var t=this,a=new Promise((function(a){var i={urlCGI:"snmp",params:{},data:null,loading:!0};s["a"].get(i).then((function(i){var n=i.oResult,r=t;r.m_oParams.oSnmpXml=n;var s=e(n).find("SNMPv2c").eq(0);if(r.m_oCapbilities.bSupportSnmpV1=e(n).find("SNMPv1c").length>0,r.m_oParams.bEnableSnmpv1=o["a"].nodeValue(e(n).find("SNMPv1c").eq(0),"enabled","b"),r.m_oParams.bEnableSnmpv2=o["a"].nodeValue(s,"enabled","b"),r.m_oParams.szRCommunity=o["a"].nodeValue(s,"readCommunity"),r.m_oParams.szWCommunity=o["a"].nodeValue(s,"writeCommunity"),"hostname"===o["a"].nodeValue(s,"addressingFormatType")?r.m_oParams.szTrapIP=o["a"].nodeValue(s,"hostName"):s.find("ipAddress").length>0?r.m_oParams.szTrapIP=o["a"].nodeValue(s,"ipAddress"):r.m_oParams.szTrapIP=o["a"].nodeValue(s,"ipv6Address"),r.m_oParams.szTrapPort=o["a"].nodeValue(s,"portNo"),s.find("communityString").length>0&&(r.m_oCapbilities.bSupportTrapCommunity=!0,r.m_oParams.szTrapCommunity=o["a"].nodeValue(s,"communityString")),r.m_oCapbilities.bSupportSnmpV3=e(n).find("SNMPAdvanced").length>0,r.m_oCapbilities.bSupportSnmpV3){var l=e(n).find("SNMPAdvanced").eq(0);r.m_oParams.bEnableSnmpv3=o["a"].nodeValue(l,"enabled","b");var c=l.find("SNMPUser").eq(0);r.m_oParams.szReadUserName=o["a"].nodeValue(c,"userName");var u=o["a"].nodeValue(c,"snmpAuthenticationMethod"),d=o["a"].nodeValue(c,"snmpPrivacyMethod");"none"!==u&&"none"!==d?(r.m_oParams.szReadSecurityLevel="1_1",r.m_oParams.szReadAuthAlg=u,r.m_oParams.szReadPrivacyAlg=d):"none"!==u?(r.m_oParams.szReadSecurityLevel="1_0",r.m_oParams.szReadAuthAlg=u,r.m_oParams.szReadPrivacyAlg="DES"):(r.m_oParams.szReadSecurityLevel="0_0",r.m_oParams.szReadAuthAlg="MD5",r.m_oParams.szReadPrivacyAlg="DES");var p=l.find("SNMPUser").eq(1);r.m_oParams.szWriteUserName=o["a"].nodeValue(p,"userName");var m=o["a"].nodeValue(p,"snmpAuthenticationMethod"),h=o["a"].nodeValue(p,"snmpPrivacyMethod");"none"!==m&&"none"!==h?(r.m_oParams.szWriteSecurityLevel="1_1",r.m_oParams.szWriteAuthAlg=m,r.m_oParams.szWritePrivacyAlg=h):"none"!==m?(r.m_oParams.szWriteSecurityLevel="1_0",r.m_oParams.szWriteAuthAlg=m,r.m_oParams.szWritePrivacyAlg="DES"):(r.m_oParams.szWriteSecurityLevel="0_0",r.m_oParams.szWriteAuthAlg="MD5",r.m_oParams.szWritePrivacyAlg="DES")}r.m_oParams.szSnmpPort=o["a"].nodeValue(n,"listenPort"),r.changeInputValid(),a()}),(function(){a()}))}));return a}},{key:"createV1AndV2XmlStr",value:function(e){var t="<notificationEnabled>true</notificationEnabled><SNMPTrapReceiverList><SNMPTrapReceiver><id>1</id><ReceiverAddress>",a=o["a"].checkAddressingType(this.m_oParams.szTrapIP);return t+="ipAddress"===a?"<addressingFormatType>ipaddress</addressingFormatType><ipAddress>"+this.m_oParams.szTrapIP+"</ipAddress>":"ipv6Address"===a?"<addressingFormatType>ipaddress</addressingFormatType><ipv6Address>"+this.m_oParams.szTrapIP+"</ipv6Address>":"<addressingFormatType>hostname</addressingFormatType><hostName>"+this.m_oParams.szTrapIP.replace(/</g,"&lt;")+"</hostName>",t+="<portNo>"+this.m_oParams.szTrapPort+"</portNo></ReceiverAddress><notificationType>trap</notificationType>",this.m_oCapbilities.bSupportTrapCommunity&&(t+="<communityString>"+this.m_oParams.szTrapCommunity.replace(/</g,"&lt;")+"</communityString>"),t+="</SNMPTrapReceiver></SNMPTrapReceiverList><enabled>"+(0===e?this.m_oParams.bEnableSnmpv1.toString():this.m_oParams.bEnableSnmpv2.toString())+"</enabled>",t+="<writeCommunity>"+this.m_oParams.szWCommunity.replace(/</g,"&lt;")+"</writeCommunity><readCommunity>"+this.m_oParams.szRCommunity.replace(/</g,"&lt;")+"</readCommunity>",t}},{key:"changeInputValid",value:function(){var e=this.m_oParams,t=this.m_oParamsValid,a=!(e.bEnableSnmpv1||e.bEnableSnmpv2);t.oRCommunity.skipVerify=a,t.oWCommunity.skipVerify=a,t.oTrapAddr.skipVerify=a,t.oTrapCommunity.skipVerify=a,t.oTrapPort.skipVerify=a;var i=!e.bEnableSnmpv3;t.oUserName.skipVerify=i,t.oReadAuthPassword.skipVerify=!0,t.oReadAlgPassword.skipVerify=!0,t.oWriteAthPassword.skipVerify=!0,t.oWriteAlgPassword.skipVerify=!0,i||("1_0"===e.szReadSecurityLevel&&(t.oReadAuthPassword.skipVerify=!1),"1_1"===e.szReadSecurityLevel&&(t.oReadAuthPassword.skipVerify=!1,t.oReadAlgPassword.skipVerify=!1),"1_0"===e.szWriteSecurityLevel&&(t.oWriteAthPassword.skipVerify=!1),"1_1"===e.szWriteSecurityLevel&&(t.oWriteAthPassword.skipVerify=!1,t.oWriteAlgPassword.skipVerify=!1))}},{key:"save",value:function(){var t=this,a="",i=this.m_oParams,n="<?xml version='1.0' encoding='UTF-8'?><SNMP>";t.m_oCapbilities.bSupportSnmpV1&&(n+="<SNMPv1c>"+t.createV1AndV2XmlStr(0)+"</SNMPv1c>"),n+="<SNMPv2c>"+t.createV1AndV2XmlStr(1)+"</SNMPv2c>",t.m_oCapbilities.bSupportSnmpV3&&(n+="<SNMPAdvanced><localEngineID></localEngineID><SNMPUserList><SNMPUser><id>1</id><userName>"+t.m_oParams.szReadUserName.replace(/</g,"&lt;")+"</userName><remoteEngineID></remoteEngineID>","1_1"===t.m_oParams.szReadSecurityLevel?(n+="<snmpAuthenticationMethod>"+t.m_oParams.szReadAuthAlg+"</snmpAuthenticationMethod>",t.m_oParams.szReadAuthPsd!==a&&(n+="<snmpAuthenticationPassword>"+t.m_oParams.szReadAuthPsd+"</snmpAuthenticationPassword>"),n+="<snmpPrivacyMethod>"+t.m_oParams.szReadPrivacyAlg+"</snmpPrivacyMethod>",t.m_oParams.szReadPrivacyPsd!==a&&(n+="<snmpPrivacyPassword>"+t.m_oParams.szReadPrivacyPsd+"</snmpPrivacyPassword>")):"1_0"===t.m_oParams.szReadSecurityLevel?(n+="<snmpAuthenticationMethod>"+t.m_oParams.szReadAuthAlg+"</snmpAuthenticationMethod>",t.m_oParams.szReadAuthPsd!==a&&(n+="<snmpAuthenticationPassword>"+t.m_oParams.szReadAuthPsd+"</snmpAuthenticationPassword>"),n+="<snmpPrivacyMethod>none</snmpPrivacyMethod>"):(n+="<snmpAuthenticationMethod>none</snmpAuthenticationMethod>",n+="<snmpPrivacyMethod>none</snmpPrivacyMethod>"),n+="</SNMPUser>",n+="<SNMPUser><id>2</id><userName>"+t.m_oParams.szWriteUserName.replace(/</g,"&lt;")+"</userName><remoteEngineID></remoteEngineID>","1_1"===t.m_oParams.szWriteSecurityLevel?(n+="<snmpAuthenticationMethod>"+t.m_oParams.szWriteAuthAlg+"</snmpAuthenticationMethod>",t.m_oParams.szWriteAuthPsd!==a&&(n+="<snmpAuthenticationPassword>"+t.m_oParams.szWriteAuthPsd+"</snmpAuthenticationPassword>"),n+="<snmpPrivacyMethod>"+t.m_oParams.szWritePrivacyAlg+"</snmpPrivacyMethod>",t.m_oParams.szWritePrivacyPsd!==a&&(n+="<snmpPrivacyPassword>"+t.m_oParams.szWritePrivacyPsd+"</snmpPrivacyPassword>")):"1_0"===t.m_oParams.szWriteSecurityLevel?(n+="<snmpAuthenticationMethod>"+t.m_oParams.szWriteAuthAlg+"</snmpAuthenticationMethod>",t.m_oParams.szWriteAuthPsd!==a&&(n+="<snmpAuthenticationPassword>"+t.m_oParams.szWriteAuthPsd+"</snmpAuthenticationPassword>"),n+="<snmpPrivacyMethod>none</snmpPrivacyMethod>"):(n+="<snmpAuthenticationMethod>none</snmpAuthenticationMethod>",n+="<snmpPrivacyMethod>none</snmpPrivacyMethod>"),n+="</SNMPUser></SNMPUserList>",n+="<enabled>"+t.m_oParams.bEnableSnmpv3.toString()+"</enabled></SNMPAdvanced>"),n+="<listenPort>"+t.m_oParams.szSnmpPort+"</listenPort>",n+="</SNMP>";var l=o["a"].parseXmlFromStr(n);if(!i.bEnableSnmpv1&&!i.bEnableSnmpv2){if(t.m_oCapbilities.bSupportSnmpV1){var c=l.createElement("SNMPv1c"),u=e(i.oSnmpXml).find("SNMPv1c").get(0);e(c).append(e(u.cloneNode(!0)).children()),l.documentElement.replaceChild(c,e(l).find("SNMPv1c").get(0))}var d=l.createElement("SNMPv2c"),p=e(i.oSnmpXml).find("SNMPv2c").get(0);e(d).append(e(p.cloneNode(!0)).children()),l.documentElement.replaceChild(d,e(l).find("SNMPv2c").get(0)),e(l).find("SNMPv1c enabled, SNMPv2c enabled").text("false")}if(!i.bEnableSnmpv3&&t.m_oCapbilities.bSupportSnmpV3){var m=l.createElement("SNMPAdvanced"),h=e(i.oSnmpXml).find("SNMPAdvanced").get(0);e(m).append(e(h.cloneNode(!0)).children()),l.documentElement.replaceChild(m,e(l).find("SNMPAdvanced").get(0)),e(l).find("SNMPAdvanced enabled").text("false")}var f={urlCGI:"snmp",params:{},data:l,loading:!0};return new Promise((function(e){s["a"].put(f).then((function(t){e(),r["a"].saveState(t.xhr)}),(function(t){e(),r["a"].saveState(t)}))}))}}]),t}();t["a"]=new l}).call(this,a("1157"))},"673c":function(e,t,a){"use strict";a("bc96")},6745:function(e,t,a){"use strict";(function(e){a("6b54"),a("ac6a"),a("5df3"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("d09c"),s=a("7de8"),l=a("768a"),c=a("f193"),u="DefocusDetection",d=function(){function t(){Object(n["a"])(this,t),this.oEventInfo={bLoading:!1,oLink:null,bEnableVirtualFocus:!1,iSensitivity:1},this.oEventCap={bSupportRule:!1,bSupportLink:!1},this.oParams={oData:null,iChannelId:0,oXhr:{oErrorXhr:null,oSuccessXhr:null,oRestartXhr:null}}}return Object(o["a"])(t,[{key:"init",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.oParams.iChannelId=t||1,e.abrupt("return",Promise.all([this.getDetectInfo(),this.getDetectLink()]));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getDetectInfo",value:function(){var t=this;return new Promise((function(a){var i={urlCGI:"smartDetection",params:{channel:t.oParams.iChannelId,param:u},data:null,loading:!0};c["a"].get(i).then((function(i){t.oEventCap.bSupportRule=!0;var n=i.oResult;t.oEventInfo.bEnableVirtualFocus=s["a"].nodeValue(e(n),"enabled","b"),t.oEventInfo.iSensitivity=s["a"].nodeValue(e(n),"sensitivityLevel","i"),a()}),(function(){t.oEventCap.bSupportRule=!1}))}))}},{key:"getDetectLink",value:function(){var e=this,t=this;return l["a"].getLinkageCap("AudioExceptionCap").then((function(a){return t.oEventInfo.oLink=a,t.oEventInfo.oLink.record.bShow=!1,new Promise((function(a){var i={urlCGI:"linkInfo",data:null,params:{param:"defocus-"+e.oParams.iChannelId},loading:!0};c["a"].get(i).then((function(i){e.oEventCap.bSupportLink=!0;var n=i.oResult;l["a"].getLinkInfo(t.oEventInfo.oLink,n),a()}),(function(){e.oEventCap.bSupportLink=!1}))}))}))}},{key:"save",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.oParams.oXhr={oErrorXhr:null,oSuccessXhr:null,oRestartXhr:null},this.oEventInfo.bLoading=!0,!this.oEventCap.bSupportRule){e.next=5;break}return e.next=5,this.setDetectInfo();case 5:if(!this.oEventCap.bSupportLink){e.next=8;break}return e.next=8,this.setDetectLink();case 8:this.oEventInfo.bLoading=!1,this.oParams.oXhr.oErrorXhr?r["a"].saveState(this.oParams.oXhr.oErrorXhr):r["a"].saveState(this.oParams.oXhr.oSuccessXhr);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setDetectInfo",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,i,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,a="<?xml version='1.0' encoding='UTF-8'?><DefocusDetection><id>"+this.oParams.iChannelId+"</id><enabled>"+this.oEventInfo.bEnableVirtualFocus.toString()+"</enabled><sensitivityLevel>"+this.oEventInfo.iSensitivity+"</sensitivityLevel></DefocusDetection>",i=s["a"].parseXmlFromStr(a),e.abrupt("return",new Promise((function(e){var a={urlCGI:"smartDetection",params:{channel:n.oParams.iChannelId,param:u},data:i,loading:!0};c["a"].put(a).then((function(a){var i=a.xhr;t.oParams.oXhr.oSuccessXhr=i,e()}),(function(a){t.oParams.oXhr.oErrorXhr=a.xhr,e()}))})));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setDetectLink",value:function(){var e=this,t=l["a"].setLinkInfo(e.oEventInfo.oLink,"defocus",e.oParams.iChannelId);return new Promise((function(a){var i={urlCGI:"linkInfo",params:{param:"defocus-"+e.oParams.iChannelId},data:t,loading:!0};c["a"].put(i).then((function(t){var i=t.xhr;e.oParams.oXhr.oSuccessXhr=i,a()}),(function(t){e.oParams.oXhr.oErrorXhr=t.xhr,a()}))}))}}]),t}();t["a"]=new d}).call(this,a("1157"))},6794:function(e,t,a){"use strict";a("de2a")},"68b8":function(e,t,a){"use strict";a("ff3f")},6958:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAATBJREFUOI3FUjFLw2AQffmMOAT9MmQoQexq26VDxiBVEQTdMnbwP7h1i12Syf/g1qFuDlKRL2AoFAIWCtUtQUQoCIriIFbPJQnSpCIW8W133Hvce3fAf0PKdHxNZ+O3PRAsAOW4O4SE4w95/gjm/d1UAVksbb9D2l9ZWN4yFqsoKasAgKuXawTPfdy83p7NgQ7H60+n2V18TZcE75R6BrVGbZpEa9SmUs8gSfAOfE3P8JnHG8VuJZf8VaTYrRDzeCMrIHhgDeq5RDt0aONyh4iIrEGdmOBBygMACKUAoJx49h79VPggctGM3LSOZ5JwIWfDADb7u6ipJtZUE83IRU01cV49yRvNt2CHDjHBiQmerp5g0sLUEMXDBdmh8/MQf3vGmR9p5lf+HkIpxCf+O3wCEQkU1hNDIQQAAAAASUVORK5CYII="},"6aae":function(e,t,a){"use strict";(function(e){a("b54a"),a("96cf");var i=a("1da1"),n=a("962a"),o=a("3616"),r=a("2b88"),s=a("181b"),l=a("23d7"),c=a("b77f"),u=a("6458"),d=a("de41"),p=a("fda5"),m=a("47b5"),h=a("c050"),f=a("8d94"),v=a("d09c");t["a"]={name:"EventMotion",components:{BasePageExtend:n["a"],NewBasePageExtendRotate:o["a"],PluginWind:r["a"],TimePlan:l["a"],BaseLink:c["a"],ChannelList:u["a"],CustomSelect:p["a"],BaseSelect:m["a"]},data:function(){return{bLazyLoading:!1,sztitle:"ssssss",bShowDraw:!1,bShowClear:!1,bShowClearOne:!1,bEnableCancelCallback:!0,bShowSchedule:!1,bShowArmSchedule:!1,bShowLink:!1,bShowTypes:!1,bLandscapeMode:!1,bNeedManualDraw:!1,oChannel:{},aFilterIds:d["a"].aFilterIds,oEventCap:d["a"].oEventCap,oEventInfo:d["a"].oEventInfo,oTempEventInfo:{},bInitFinished:!1,modeData:[{value:"normal",text:this.$t("normalMode")},{value:"expert",text:this.$t("ExpertMode")}],dayNightSwitchOption:[{value:"off",text:this.$t("off")},{value:"auto",text:this.$t("autoSwitch")},{value:"schedule",text:this.$t("scheduledSwitch")}]}},watch:{"oChannel.id":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t>-1&&(d["a"].clearNotDig(),d["a"].init(t).finally((function(){a.oEventCap=d["a"].oEventCap,a.oEventInfo=d["a"].oEventInfo,a.aFilterIds=d["a"].aFilterIds,a.bInitFinished=!0,a.initLink()})));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0}},created:function(){this.oChannel={id:1};var e=this.$route.query.id?1*this.$route.query.id:this.$store.state.globeStore.channelId?this.$store.state.globeStore.channelId:1;this.$set(this.oChannel,"id",e)},methods:{save:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(d["a"].oEventInfo.szStartTime>d["a"].oEventInfo.szEndTime)){e.next=4;break}h["a"].tip(f["a"].t("sTimeLaterETime")),e.next=14;break;case 4:return d["a"].oParams.oXhr={oErrorXhr:null,oSuccessXhr:null,oRestartXhr:null},this.bLazyLoading=!0,e.next=8,d["a"].setDetectInfo();case 8:return e.next=10,d["a"].setDetectLink();case 10:return e.next=12,d["a"].setDetectSchedule();case 12:this.bLazyLoading=!1,d["a"].oParams.oXhr.oErrorXhr?v["a"].saveState(d["a"].oParams.oXhr.oErrorXhr):v["a"].saveState(d["a"].oParams.oXhr.oSuccessXhr);case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),confirmArmSchedule:function(){this.oEventInfo.oScheduleTimes=this.$refs.timePlan.timesData,this.bShowSchedule=!1},deleteAll:function(){for(var e=0,t=this.oEventInfo.oScheduleTimes.length;e<t;e++)this.oEventInfo.oScheduleTimes[e]=[];this.$refs.timePlan.timesData=this.oEventInfo.oScheduleTimes,this.$refs.timePlan.$forceUpdate()},confirmLandscapeMode:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d["a"].vaildRegion();case 2:return t=e.sent,e.next=5,d["a"].checkOutPlugin();case 5:if(a=e.sent,t&&!a){e.next=8;break}return e.abrupt("return");case 8:return this.bLandscapeMode=!1,e.next=11,d["a"].updateRegionInfo(!1);case 11:this.bNeedManualDraw=!0;case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),drawPolygon:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("normal"!==this.oEventInfo.szMotionMode||!this.oEventInfo.bSupportMulRegion){e.next=7;break}return e.next=3,d["a"].setDrawStatus(!1);case 3:return e.next=5,d["a"].addDrawPolygon();case 5:e.next=9;break;case 7:return e.next=9,d["a"].setDrawStatus(!0);case 9:return e.next=11,d["a"].drawRegion();case 11:if(t=d["a"].needRedrawRegion(),t){e.next=15;break}return e.next=15,d["a"].draw();case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),clearPolygon:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:d["a"].clearAll();case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),clearOnePolygon:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:d["a"].clearOne();case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),cancelLandscapeMode:function(){this.bLandscapeMode=!1},cancelCallbackArmSchedule:function(){e.extend(!0,this.oEventInfo,this.oTempEventInfo),this.bShowSchedule=!1},showArmSchedule:function(){e.extend(!0,this.oTempEventInfo,this.oEventInfo),this.bShowSchedule=!0},initLink:function(){var t=this;this.bShowLink=!1,e.extend(!0,this.oTempEventInfo,this.oEventInfo),this.bShowLink=!0,this.$nextTick((function(){t.$refs.link.linkData=t.oEventInfo.oLink,t.$refs.link.$forceUpdate()}))},changeMode:function(){d["a"].changeMode()},changeArea:function(){d["a"].changeArea()},draw:function(){var t=this;this.bLandscapeMode=!0,this.$nextTick((function(){var a=t.$route.query.screenWidth?t.$route.query.screenWidth:t.$store.state.globeStore.screenWidth?t.$store.state.globeStore.screenWidth:window.screen.height;e("#main_plugin").height(window.screen.width-88),e("#main_plugin").width(a)}))},clear:function(){d["a"].clearAll()},playSuccess:function(){var e=this;this.$nextTick(Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.bLandscapeMode){t.next=15;break}if(e.bShowDraw=!0,e.bShowClear=!0,"normal"!==e.oEventInfo.szMotionMode||!e.oEventInfo.bSupportMulRegion){t.next=9;break}return e.bShowClearOne=!0,t.next=7,d["a"].setDrawStatus(!1);case 7:t.next=11;break;case 9:return t.next=11,d["a"].setDrawStatus(!0);case 11:return t.next=13,d["a"].drawRegion();case 13:t.next=24;break;case 15:if(!e.bNeedManualDraw){t.next=21;break}return t.next=18,d["a"].updateRegionInfo(!0);case 18:e.bNeedManualDraw=!1,t.next=24;break;case 21:return d["a"].drawRegion(2),t.next=24,d["a"].setDrawStatus(!1);case 24:case"end":return t.stop()}}),t)}))))},initEvent:function(){s["a"].setWindowControlCallback({onMouseEvent:function(e){console.log(e),s["a"].selectShape("Polygon",-1)},onDrawEvent:function(e){console.log(e),s["a"].selectShape("Polygon",-1)}})},initFullEvent:function(){s["a"].setWindowControlCallback({onDrawEvent:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("stretch"!==t.event){e.next=5;break}return e.next=3,d["a"].checkOutPlugin(!0);case 3:a=e.sent,a&&s["a"].selectShape("Polygon",-1);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()})}}}}).call(this,a("1157"))},"6b39":function(e,t,a){"use strict";a("3b35")},"6b9a":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"gb28181-content"},[t("base-page",{directives:[{name:"show",rawName:"v-show",value:e.bShowBasePage,expression:"bShowBasePage"}],attrs:{title:e.$t("GB28181"),"right-type":"text","show-save-button":!0,"save-text":e.$t("save"),"b-lazy-loading":e.bShowBasePage&&e.bLazyLoading},on:{"save-handle":e.save}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("hm-validator-group",{attrs:{result:e.mainValidate}},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("enable")}},[t("hm-switch",{model:{value:e.oParams.bEnabled,callback:function(t){e.$set(e.oParams,"bEnabled",t)},expression:"oParams.bEnabled"}})],1),e.oCap.aStreamTransMode.length>0?t("hm-cell",{attrs:{title:e.$t("streamTransMode")}},[t("base-select",{attrs:{title:e.$t("streamTransMode"),options:e.oCap.aStreamTransMode},model:{value:e.oParams.szStreamTransMode,callback:function(t){e.$set(e.oParams,"szStreamTransMode",t)},expression:"oParams.szStreamTransMode"}})],1):e._e(),e.oCap.bSupport28182White?t("hm-cell",{attrs:{title:e.$t("allowedList"),"is-link":""},nativeOn:{click:function(t){return e.showAllowList.apply(null,arguments)}}}):e._e(),e.oCap.bSupportVoiceBroadcast?t("hm-cell",{attrs:{title:e.$t("enableTCPBroadcast")}},[t("hm-switch",{model:{value:e.oParams.bEnableVoiceBroadcast,callback:function(t){e.$set(e.oParams,"bEnableVoiceBroadcast",t)},expression:"oParams.bEnableVoiceBroadcast"}})],1):e._e(),e.oCap.bSupportGBEncrypt?t("hm-cell",{attrs:{title:e.$t("enabledGBEncrypt")}},[t("hm-switch",{model:{value:e.oParams.bEnableGBEncrypt,callback:function(t){e.$set(e.oParams,"bEnableGBEncrypt",t)},expression:"oParams.bEnableGBEncrypt"}})],1):e._e(),e.oCap.bSupportUnidirectionEnabled&&e.oParams.bEnableGBEncrypt?t("hm-cell",{attrs:{title:e.$t("enabledUnidirection")}},[t("hm-switch",{model:{value:e.oParams.bEnableUnidirection,callback:function(t){e.$set(e.oParams,"bEnableUnidirection",t)},expression:"oParams.bEnableUnidirection"}})],1):e._e(),e.oCap.bExchangeCerfificate?t("hm-cell",{attrs:{title:e.$t("exchangeCerfificate")}},[t("hm-switch",{model:{value:e.oParams.bEnableExchangeCerfificate,callback:function(t){e.$set(e.oParams,"bEnableExchangeCerfificate",t)},expression:"oParams.bEnableExchangeCerfificate"}})],1):e._e(),e.oCap.aProtocolVersion.length>0?t("hm-cell",{attrs:{title:e.$t("protocolVersion")}},[t("base-select",{attrs:{title:e.$t("protocolVersion"),options:e.oCap.aProtocolVersion},model:{value:e.oParams.szProtocolVersion,callback:function(t){e.$set(e.oParams,"szProtocolVersion",t)},expression:"oParams.szProtocolVersion"}})],1):e._e()],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{staticClass:"cell-require",attrs:{title:e.$t("sipServerID")}},[t("hm-input",{model:{value:e.oParams.szSipServerID,callback:function(t){e.$set(e.oParams,"szSipServerID",t)},expression:"oParams.szSipServerID"}}),t("hm-validator",{attrs:{model:e.oParams.szSipServerID,rules:e.oParamsValid.szSipServerID}})],1),t("hm-cell",{staticClass:"cell-require",attrs:{title:e.$t("sipSeverDomain")}},[t("hm-input",{model:{value:e.oParams.szSipSeverDomain,callback:function(t){e.$set(e.oParams,"szSipSeverDomain",t)},expression:"oParams.szSipSeverDomain"}}),t("hm-validator",{attrs:{model:e.oParams.szSipSeverDomain,rules:e.oParamsValid.szSipSeverDomain}})],1),t("hm-cell",{staticClass:"cell-require",attrs:{title:e.$t("sipServerAddr")}},[t("hm-input",{model:{value:e.oParams.szSipServerAddr,callback:function(t){e.$set(e.oParams,"szSipServerAddr",t)},expression:"oParams.szSipServerAddr"}}),t("hm-validator",{attrs:{model:e.oParams.szSipServerAddr,rules:e.oParamsValid.szSipServerAddr}})],1),t("hm-cell",{staticClass:"cell-require",attrs:{title:e.$t("sipServerPort")}},[t("hm-input",{model:{value:e.oParams.szSipServerPort,callback:function(t){e.$set(e.oParams,"szSipServerPort",t)},expression:"oParams.szSipServerPort"}}),t("hm-validator",{attrs:{model:e.oParams.szSipServerPort,rules:e.oParamsValid.szSipServerPort}})],1),t("hm-cell",{staticClass:"cell-require",attrs:{title:e.$t("localSIPPort")}},[t("hm-input",{model:{value:e.oParams.szLocalSIPPort,callback:function(t){e.$set(e.oParams,"szLocalSIPPort",t)},expression:"oParams.szLocalSIPPort"}}),t("hm-validator",{attrs:{model:e.oParams.szLocalSIPPort,rules:e.oParamsValid.szLocalSIPPort}})],1)],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[e.bNVR?e._e():t("hm-cell",{attrs:{title:e.$t("sipUserName")}},[t("hm-input",{model:{value:e.oParams.szSipUserName,callback:function(t){e.$set(e.oParams,"szSipUserName",t)},expression:"oParams.szSipUserName"}})],1),e.oParams.bEnableGBEncrypt?e._e():t("hm-cell",{staticClass:"cell-require",attrs:{title:e.$t("sipAuthenticationID")}},[t("hm-input",{model:{value:e.oParams.szSipAuthenticationID,callback:function(t){e.$set(e.oParams,"szSipAuthenticationID",t)},expression:"oParams.szSipAuthenticationID"}}),t("hm-validator",{attrs:{model:e.oParams.szSipAuthenticationID,rules:e.oParamsValid.szSipAuthenticationID}})],1),e.oParams.bEnableGBEncrypt?e._e():t("hm-cell",{staticClass:"cell-require",attrs:{title:e.$t("sipAuthenticationPswd")}},[t("hm-input",{attrs:{type:"password"},model:{value:e.oParams.szPassword,callback:function(t){e.$set(e.oParams,"szPassword",t)},expression:"oParams.szPassword"}}),t("hm-validator",{attrs:{model:e.oParams.szPassword,rules:e.oParamsValid.szPassword}})],1),t("hm-cell",{staticClass:"cell-require",attrs:{title:e.$t("sipExpiration")}},[t("hm-input",{model:{value:e.oParams.szSipExpiration,callback:function(t){e.$set(e.oParams,"szSipExpiration",t)},expression:"oParams.szSipExpiration"}}),t("hm-validator",{attrs:{model:e.oParams.szSipExpiration,rules:e.oParamsValid.szSipExpiration}})],1),!e.bNVR&&e.oCap.bSupportRegInterval&&"GB/T28181-2011"!==e.oParams.szProtocolVersion?t("hm-cell",{attrs:{title:e.$t("regInterval")}},[t("hm-input",{model:{value:e.oParams.iRegInterval,callback:function(t){e.$set(e.oParams,"iRegInterval",t)},expression:"oParams.iRegInterval"}}),t("hm-validator",{attrs:{model:e.oParams.iRegInterval,rules:e.oParamsValid.iRegInterval}})],1):e._e(),t("hm-cell",{attrs:{title:e.$t("regStatus")}},[t("div",{staticClass:"register-content"},[e.oParams.szRegStatus?t("span",{staticClass:"online-status base-word"},[e._v(e._s(e.$t("onLine")))]):t("span",{staticClass:"offline-status base-word"},[e._v(e._s(e.$t("offLine")))]),t("hm-icon",{attrs:{name:"replay"},nativeOn:{click:function(t){return e.getCfg28181.apply(null,arguments)}}})],1)])],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{staticClass:"cell-require",attrs:{title:e.$t("heartbeatPeriod")}},[t("hm-input",{model:{value:e.oParams.szHeartbeatPeriod,callback:function(t){e.$set(e.oParams,"szHeartbeatPeriod",t)},expression:"oParams.szHeartbeatPeriod"}}),t("hm-validator",{attrs:{model:e.oParams.szHeartbeatPeriod,rules:e.oParamsValid.szHeartbeatPeriod}})],1),t("hm-cell",{staticClass:"cell-require",attrs:{title:e.$t("mxHeartBeatTimeout")}},[t("hm-input",{model:{value:e.oParams.szHeartbeatCount,callback:function(t){e.$set(e.oParams,"szHeartbeatCount",t)},expression:"oParams.szHeartbeatCount"}}),t("hm-validator",{attrs:{model:e.oParams.szHeartbeatCount,rules:e.oParamsValid.szHeartbeatCount}})],1),e.bNVR||!e.oCap.aSupportStreamIndex[1]&&!e.oCap.aSupportStreamIndex[2]?e._e():t("hm-cell",{attrs:{title:e.$t("28181Stream")}},[t("base-select",{attrs:{title:e.$t("28181Stream"),options:e.oCap.aStreamType},model:{value:e.oParams.szStreamType,callback:function(t){e.$set(e.oParams,"szStreamType",t)},expression:"oParams.szStreamType"}})],1)],1),e.oCap.bSupportSpeed||e.oCap.bSupportStreamAdditionalInfo?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("speedType")}},[t("base-select",{attrs:{title:e.$t("speedType"),options:e.oCap.aRateType},model:{value:e.oParams.szSpeedType,callback:function(t){e.$set(e.oParams,"szSpeedType",t)},expression:"oParams.szSpeedType"}})],1),"rate"===e.oParams.szSpeedType?t("hm-cell",{attrs:{title:e.$t("rate")}},[t("base-select",{attrs:{title:e.$t("rate"),options:e.oCap.aRate},model:{value:e.oParams.szRate,callback:function(t){e.$set(e.oParams,"szRate",t)},expression:"oParams.szRate"}})],1):e._e(),"bandwidth"===e.oParams.szSpeedType?t("hm-cell",{staticClass:"cell-require",attrs:{title:e.$t("speedRate")}},[t("hm-input",{model:{value:e.oParams.szSpeed,callback:function(t){e.$set(e.oParams,"szSpeed",t)},expression:"oParams.szSpeed"}}),t("hm-validator",{attrs:{model:e.oParams.szSpeed,rules:e.oParamsValid.szSpeed}})],1):e._e(),t("hm-cell",{attrs:{title:e.$t("enStreamAdditionalInfo")}},[t("hm-switch",{model:{value:e.oParams.bEnableStreamAdditionalInfo,callback:function(t){e.$set(e.oParams,"bEnableStreamAdditionalInfo",t)},expression:"oParams.bEnableStreamAdditionalInfo"}})],1)],1):e._e(),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("alarmInputId"),"is-link":""},nativeOn:{click:function(t){return e.showAlarmList.apply(null,arguments)}}}),t("hm-cell",{attrs:{title:e.$t("cameraId"),"is-link":""},nativeOn:{click:function(t){return e.showChannelList.apply(null,arguments)}}}),e.bNVR?e._e():t("hm-cell",{attrs:{title:e.$t("audioOutputChannelId"),"is-link":""},nativeOn:{click:function(t){return e.bShowAudioList.apply(null,arguments)}}})],1)],1)],1)]),t("base-page",{directives:[{name:"show",rawName:"v-show",value:e.bShowAllowedPage,expression:"bShowAllowedPage"}],attrs:{title:e.$t("allowedList"),"right-type":"text","show-save-button":!0,"save-text":e.$t("save"),"b-back":!1,"b-lazy-loading":e.bShowAllowedPage&&e.bLazyLoading},on:{"left-handle":e.backMainPage,"save-handle":e.saveAllowList}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("hm-validator-group",{attrs:{result:e.allowedValidate}},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},e._l(e.aWhiteList,(function(a,i){return t("hm-cell",{key:i,attrs:{title:a.name}},[t("hm-input",{model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"item.value"}}),t("hm-validator",{attrs:{model:e.aWhiteList[i].value,rules:e.oParamsValid.allowIp,param:e.$t("serverAdd"),messages:e.messages}})],1)})),1)],1)],1)]),t("base-page",{directives:[{name:"show",rawName:"v-show",value:e.bShowAlarmPage,expression:"bShowAlarmPage"}],attrs:{title:e.$t("alarmInputId"),"right-type":"text","show-save-button":!0,"save-text":e.$t("save"),"b-back":!1,"b-lazy-loading":e.bShowAlarmPage&&e.bLazyLoading},on:{"left-handle":function(t){return e.backMainPageFormTable("alarmValidate")},"save-handle":e.saveAlarmData}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("hm-validator-group",{attrs:{result:e.alarmValidate}},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},e._l(e.aAlarmIDItems,(function(a,i){return t("hm-cell",{key:i,attrs:{title:a.name}},[t("hm-input",{model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"item.value"}}),t("hm-validator",{attrs:{model:e.aAlarmIDItems[i].value,rules:e.oParamsValid.alarmValidate,messages:e.alarmMessage}})],1)})),1)],1)],1)]),t("base-page",{directives:[{name:"show",rawName:"v-show",value:e.bShowChannelPage,expression:"bShowChannelPage"}],attrs:{title:e.$t("cameraId"),"right-type":"text","show-save-button":!0,"save-text":e.$t("save"),"b-back":!1,"b-lazy-loading":e.bShowChannelPage&&e.bLazyLoading},on:{"left-handle":function(t){return e.backMainPageFormTable("channelValidate")},"save-handle":e.saveChannelData}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("hm-validator-group",{attrs:{result:e.channelValidate}},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},e._l(e.aVideoInputItems,(function(a,i){return t("hm-cell",{key:i,attrs:{title:a.name}},[t("hm-input",{model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"item.value"}}),t("hm-validator",{attrs:{model:e.aVideoInputItems[i].value,rules:e.oParamsValid.channelValidate,messages:e.channelMessage}})],1)})),1)],1)],1)]),t("base-page",{directives:[{name:"show",rawName:"v-show",value:e.bShowAudioPage,expression:"bShowAudioPage"}],attrs:{title:e.$t("audioOutputChannelId"),"right-type":"text","show-save-button":!0,"save-text":e.$t("save"),"b-back":!1},on:{"left-handle":function(t){return e.backMainPageFormTable("audioValidate")},"save-handle":e.saveAudiolData}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("hm-validator-group",{attrs:{result:e.audioValidate}},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},e._l(e.aAudioOutputIDItems,(function(a,i){return t("hm-cell",{key:i,attrs:{title:a.name}},[t("hm-input",{model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"item.value"}}),t("hm-validator",{attrs:{model:e.aAudioOutputIDItems[i].value,rules:e.oParamsValid.audioValidate,messages:e.audioMessage}})],1)})),1)],1)],1)])],1)},n=[],o=a("e145"),r=o["a"],s=(a("9153"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"0d3cb14b",null);t["default"]=l.exports},"6cf9f":function(e,t,a){"use strict";a("0d24")},"6d3c":function(e){e.exports=JSON.parse('{"Languages":[{"name":"中文","value":"zh_CN"},{"name":"English","value":"en_US","isDefault":true},{"name":"繁體中文","value":"zh_TW"},{"name":"Български","value":"bg"},{"name":"Magyar","value":"hu"},{"name":"Ελληνικά","value":"el"},{"name":"Deutsch","value":"de"},{"name":"Italiano","value":"it"},{"name":"Čeština","value":"cs"},{"name":"Slovenčina","value":"sk"},{"name":"Français","value":"fr"},{"name":"Polski","value":"pl"},{"name":"Nederlands","value":"nl"},{"name":"Português","value":"pt"},{"name":"Español","value":"es"},{"name":"Русский","value":"ru"},{"name":"日本語","value":"ja"},{"name":"Türkçe","value":"tr"},{"name":"한국어","value":"ko"},{"name":"ภาษาไทย","value":"th"},{"name":"Eesti","value":"et"},{"name":"Tiếng Việt","value":"vi"},{"name":"Română","value":"ro"},{"name":"Dansk","value":"da"},{"name":"Svenska","value":"sv"},{"name":"Norsk","value":"no"},{"name":"Suomi","value":"fi"},{"name":"Hrvatski","value":"hr"},{"name":"Slovenščina","value":"sl"},{"name":"Srpski","value":"sr"},{"name":"Latviešu","value":"lv"},{"name":"Lietuvių","value":"lt"},{"name":"Português(Brasil)","value":"pt-br"},{"name":"Українська","value":"uk"}]}')},"6ee6":function(e,t,a){"use strict";(function(e){a("c5f6"),a("7514"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("7de8"),s=a("d09c"),l=a("9741"),c=a("1f20"),u=a("f193"),d=function(){function t(){Object(n["a"])(this,t),this.oXmlDoc=null;var e=this;this._oPORTInfo={szHttpPort:"",szRtspPort:"",szHttpsPort:"",szServicePort:"",iWebSocketPort:7681,iWebSocketsPort:7682,szServiceOverTLSPort:"",szWebSocketPort:"",szWebSocketSPort:""},this.m_oCap={bSptHttps:!1,bSptWebSocket:!1,bSptWebSocketS:!1,bSptSdkOverTLSPort:!1,bSupportWebSocket:!1,aHttpPortRange:[1,65535],aRtspPortRange:[1024,65535],aHttpsPortRange:[1,65535],aServicePortRange:[2e3,65535]},this.m_oParamsValid={oHttpPort:{required:!0,range:[e.m_oCap.aHttpPortRange[0],e.m_oCap.aHttpPortRange[1]]},oHttpsPort:{required:!0,range:[e.m_oCap.aHttpsPortRange[0],e.m_oCap.aHttpsPortRange[1]]},oSdkPort:{required:!0,range:[e.m_oCap.aServicePortRange[0],e.m_oCap.aServicePortRange[1]]},oSdkOverTLSPort:{required:!0,range:[2e3,65535]},oWebSocketPort:{required:!0,range:[2,65534]},oWebSocketSPort:{required:!0,range:[2,65534]}},0===l["a"].iDeviceType?this.m_oParamsValid.oRtspPort={required:!0,rtsp:!0}:1===l["a"].iDeviceType&&(this.m_oParamsValid.oRtspPort={required:!0,range:[1,65535]})}return Object(o["a"])(t,[{key:"initPort",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].getDeviceCapa();case 2:return this.m_oCap.bSptHttps=c["a"].m_oDeviceCapa.bSupportHttps,this.m_oCap.bSupportWebSocket=c["a"].m_oDeviceCapa.bSupportWebSocket,this.m_oCap.bSptWebSocket=c["a"].m_oDeviceCapa.bSupportWebSocket&&0!==l["a"].iDeviceType,this.m_oCap.bSptWebSocketS=c["a"].m_oDeviceCapa.bSupportWebSocketS,e.next=8,this.getPortCap();case 8:return e.next=10,this.getPortInfo();case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getPortCap",value:function(){var t=this,a=new Promise((function(a){var i={urlCGI:"portCap",params:{},data:null,loading:!0};u["a"].get(i).then((function(i){var n=i.oResult;t.oXmlDoc=n;var o="";e(n).find("AdminAccessProtocol").each((function(a,i){if(o=r["a"].nodeValue(e(i),"protocol").toLowerCase(),"http"===o)t.m_oParamsValid.oHttpPort.range[0]=r["a"].nodeAttr(e(i),"portNo","min","i"),t.m_oParamsValid.oHttpPort.range[1]=r["a"].nodeAttr(e(i),"portNo","max","i");else if("rtsp"===o){t.m_oCap.aRtspPortRange.length=0;var n=r["a"].nodeAttr(e(i),"portNo","min","i"),s=r["a"].nodeAttr(e(i),"portNo","max","i");t.m_oCap.aRtspPortRange.push(n),t.m_oCap.aRtspPortRange.push(s);var l=r["a"].nodeAttr(e(i),"portNo","def"),c=Number(l);l.length&&(c<n||c>s)&&t.m_oCap.aRtspPortRange.unshift(c)}else"https"===o?(t.m_oParamsValid.oHttpsPort.range[0]=r["a"].nodeAttr(e(i),"portNo","min","i"),t.m_oParamsValid.oHttpsPort.range[1]=r["a"].nodeAttr(e(i),"portNo","max","i")):"dev_manage"===o&&(t.m_oParamsValid.oSdkPort.range[0]=r["a"].nodeAttr(e(i),"portNo","min","i"),t.m_oParamsValid.oSdkPort.range[1]=r["a"].nodeAttr(e(i),"portNo","max","i"))})),0===l["a"].iDeviceType&&t.updateValidRange(),a()}),(function(){a()}))}));return a}},{key:"updateValidRange",value:function(){var e=this;2===e.m_oCap.aRtspPortRange.length?e.m_oParamsValid.oRtspPort={required:!0,range:[e.m_oCap.aRtspPortRange[0],e.m_oCap.aRtspPortRange[1]]}:e.m_oParamsValid.oRtspPort={required:!0,rtsp:!0}}},{key:"getPortInfo",value:function(){var t=this,a=new Promise((function(a){var i={urlCGI:"portInfo",params:{},data:null,loading:!0};u["a"].get(i).then((function(i){var n=i.oResult;t.oXmlDoc=n;var o="";e(n).find("AdminAccessProtocol").each((function(a,i){o=r["a"].nodeValue(e(i),"protocol").toLowerCase(),"http"===o?t._oPORTInfo.szHttpPort=r["a"].nodeValue(e(i),"portNo"):"rtsp"===o?t._oPORTInfo.szRtspPort=r["a"].nodeValue(e(i),"portNo"):"https"===o?t._oPORTInfo.szHttpsPort=r["a"].nodeValue(e(i),"portNo"):"dev_manage"===o?t._oPORTInfo.szServicePort=r["a"].nodeValue(e(i),"portNo"):"websocket"===o?t._oPORTInfo.szWebSocketPort=r["a"].nodeValue(e(i),"portNo"):"websockets"===o?t._oPORTInfo.szWebSocketSPort=r["a"].nodeValue(e(i),"portNo"):"sdk_over_tls"===o&&(t.m_oCap.bSptSdkOverTLSPort=!0,t._oPORTInfo.szServiceOverTLSPort=r["a"].nodeValue(e(i),"portNo"))})),a()}),(function(){self.m_oCapbilities.aDDNSList=[],a()}))}));return a}},{key:"save",value:function(){var t=this,a=this.oXmlDoc,i="";e(a).find("AdminAccessProtocol").each((function(a,n){i=r["a"].nodeValue(e(n),"protocol").toLowerCase(),"http"===i?e(n).find("portNo").eq(0).text(t._oPORTInfo.szHttpPort):"rtsp"===i?e(n).find("portNo").eq(0).text(t._oPORTInfo.szRtspPort):"https"===i&&t.m_oCap.bSptHttps?e(n).find("portNo").eq(0).text(t._oPORTInfo.szHttpsPort):"dev_manage"===i?e(n).find("portNo").eq(0).text(t._oPORTInfo.szServicePort):"websocket"===r["a"].nodeValue(e(n),"protocol").toLowerCase()?e(n).find("portNo").eq(0).text(t._oPORTInfo.szWebSocketPort):"websockets"===r["a"].nodeValue(e(n),"protocol").toLowerCase()?e(n).find("portNo").eq(0).text(t._oPORTInfo.szWebSocketSPort):"sdk_over_tls"===r["a"].nodeValue(e(n),"protocol").toLowerCase()&&e(n).find("portNo").eq(0).text(t._oPORTInfo.szServiceOverTLSPort)}));var n={urlCGI:"portInfo",params:{},data:a,loading:!0};return new Promise((function(e,t){u["a"].put(n).then((function(){e()}),(function(e){t(),s["a"].saveState(e)}))}))}}]),t}();t["a"]=new d}).call(this,a("1157"))},"6f35":function(e,t,a){"use strict";a("3109")},7037:function(e,t,a){"use strict";a("ef9d")},"70bc":function(e,t,a){"use strict";a("8de7")},"70cd":function(e,t,a){"use strict";(function(e){a("b54a"),a("c5f6"),a("96cf");var i=a("1da1"),n=a("7de8"),o=a("f193"),r=a("6458"),s=a("6599"),l=a("c050"),c=a("1c1a"),u=a("962a"),d=a("23d7"),p=a("1f20"),m=a("b5b5"),h=a("b77f");t["a"]={name:"SmartAudioDetection",components:{BaseView:c["a"],ChannelList:r["a"],BasePageExtend:u["a"],TimePlan:d["a"],Wave:m["default"],BaseLink:h["a"]},data:function(){return{validate:{},oParams:s["a"].oParams,oEventInfo:s["a"].oEventInfo,oEventCap:s["a"].oEventCap,oInputDataValid:s["a"].oInputDataValid,oTempEventInfo:{},bSupportChannelCap:!1,bEnableCancelCallback:!0,bShowAbnormal:!1,bShowSchedule:!1,bShowLink:!1,bShowTypes:!1,oChannel:{id:1}}},computed:{bLazyLoading:function(){return s["a"].oEventInfo.bLoading}},watch:{$route:function(){var e=this;e.$route.query.channelID!==e.oChannel.id&&(e.oChannel.id=e.$route.query.channelID,s["a"].init(e.oChannel.id).finally((function(){e.getAudioInfo(e.oChannel.id)})))}},created:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p["a"].getDeviceCapa().then(Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=a.$route.query&&a.$route.query.channelID,a.oChannel={id:Number(t)||1},a.bSupportChannelCap=p["a"].m_oDeviceCapa.bSupportChannelEventCap;case 3:case"end":return e.stop()}}),e)}))));case 2:t=this,s["a"].init(t.oChannel.id).finally((function(){t.getAudioInfo(t.oChannel.id),a.initLink()}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{initLink:function(){var t=this;this.bShowLink=!1,e.extend(!0,this.oTempEventInfo,this.oEventInfo),this.bShowLink=!0,this.$nextTick((function(){t.$refs.link.linkData=t.oEventInfo.oLink,t.$refs.link.$forceUpdate()}))},getAudioInfo:function(e){var t=this;t.oEventCap=s["a"].oEventCap,t.oEventInfo=s["a"].oEventInfo;var a=setInterval(Object(i["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.getRealTimeSound(e);case 2:t.oEventCap.bSupportRealTime||(clearInterval(a),t.oEventInfo.aRealTimeSoundIntensity.length=0);case 3:case"end":return i.stop()}}),i)}))),1e3);this.$once("hook:beforeDestroy",(function(){clearInterval(a),t.oEventInfo.aRealTimeSoundIntensity.length=0}))},getRealTimeSound:function(e){var t=this;return new Promise((function(a){var i={urlCGI:"audioDetectionStatus",params:{channel:e},data:null,loading:!1};o["a"].get(i).then((function(e){for(var i=[],o=0;o<80;o++)i[o]=t.oEventInfo.aRealTimeSoundIntensity[o];for(var r=0;r<79;r++)r<79&&(t.oEventInfo.aRealTimeSoundIntensity[r+1]=i[r]);var s=e.oResult;t.oEventInfo.aRealTimeSoundIntensity[0]=n["a"].nodeValue(s,"audioStrength","i"),t.oEventCap.bSupportRealTime||(t.oEventCap.bSupportRealTime=!0),a()}),(function(){t.oEventCap.bSupportRealTime=!1,a()}))}))},selAllEvent:function(){s["a"].selAllEvent()},showAbnormal:function(){e.extend(!0,this.oTempEventInfo,this.oEventInfo),this.bShowAbnormal=!0},showArmSchedule:function(){e.extend(!0,this.oTempEventInfo,this.oEventInfo),this.bShowSchedule=!0},showLink:function(){var t=this;e.extend(!0,this.oTempEventInfo,this.oEventInfo),this.bShowLink=!0,this.$nextTick((function(){t.$refs.link.linkData=t.oEventInfo.oLink,t.$refs.link.$forceUpdate()}))},confirmAlarm:function(){this.bShowAbnormal=!1},confirmArmSchedule:function(){this.oEventInfo.oScheduleTimes=this.$refs.timePlan.timesData,this.bShowSchedule=!1},confirmLink:function(){this.bShowLink=!1},cancelCallbackAlarm:function(){e.extend(!0,this.oEventInfo,this.oTempEventInfo),this.bShowAbnormal=!1},cancelCallbackArmSchedule:function(){e.extend(!0,this.oEventInfo,this.oTempEventInfo),this.bShowSchedule=!1},cancelCallbackLink:function(){e.extend(!0,this.oEventInfo,this.oTempEventInfo),this.bShowLink=!1},deleteAll:function(){for(var e=0,t=this.oEventInfo.oScheduleTimes.length;e<t;e++)this.oEventInfo.oScheduleTimes[e]=[];this.$refs.timePlan.timesData=this.oEventInfo.oScheduleTimes,this.$refs.timePlan.$forceUpdate()},save:function(){this.validate.validateAll(),l["a"].validateTips(this.validate.getErrorReport())&&s["a"].save()}}}}).call(this,a("1157"))},7124:function(e,t,a){"use strict";a("d63a")},"71ee":function(e,t,a){"use strict";(function(e){a("6b54"),a("28a5"),a("96cf");var i=a("1da1"),n=a("453c"),o=a("962a"),r=a("23d7"),s=a("6458"),l=a("c050"),c=a("47b5"),u=a("768a"),d=a("7de8"),p=a("1f20");t["a"]={name:"EventWhiteLightAlarmOut",components:{BasePageExtend:o["a"],TimePlan:r["a"],ChannelList:s["a"],BaseSelect:c["a"]},data:function(){return{bLazyLoading:!1,validate:{},oInputDataValid:n["a"].m_oParamsValid,bSupportByChannel:!1,oChannel:{id:1},oParams:n["a"].m_oParams,aTimes:n["a"].m_aTimes,aTimesTemp:[],oCap:n["a"].m_oCap,bShowSchedule:!1,bEnableCancelCallback:!0,channelList:[]}},watch:{"oChannel.id":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t>0&&t!==a)){e.next=7;break}return n["a"].oChannel.id=t,e.next=4,n["a"].init(t,this.bSupportByChannel);case 4:this.oParams=n["a"].m_oParams,this.aTimes=n["a"].m_aTimes,this.oCap=n["a"].m_oCap;case 7:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),immediate:!0,deep:!0}},created:function(){this.getAFilterIds()},methods:{getAFilterIds:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,p["a"].getDeviceLinkageCap("supportWhiteLightActionChannels");case 2:return this.bSupportByChannel=t.sent,t.abrupt("return",new Promise((function(t){if(a.bSupportByChannel){var i=d["a"].nodeAttr(p["a"].m_oLinkageCap,"supportWhiteLightActionChannels","opt").split(",");if(1===i.length&&"1"===i[0])return a.bSupportByChannel=!1,void a.onChannelChange(1);a.channelInfo.aFilterIds=[];for(var n=0;n<u["a"].m_aOnlineAnalogChId.length;n++)-1===e.inArray(u["a"].m_aOnlineAnalogChId[n].toString(),i)&&a.channelInfo.aFilterIds.push(1*u["a"].m_aOnlineAnalogChId[n]);t()}})));case 4:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),onChannelChange:function(e){this.oChannel.id=e,u["a"].m_iChannelId=e},showArmSchedule:function(){this.aTimesTemp=n["a"].m_aTimes,this.bShowSchedule=!0},save:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.validate.validateAll(),!l["a"].validateTips(this.validate.getErrorReport())){e.next=6;break}return this.bLazyLoading=!0,e.next=5,n["a"].setParam(this.bSupportByChannel);case 5:this.bLazyLoading=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),cancelcallback:function(){this.aTimes=this.aTimesTemp,this.bShowSchedule=!1},confirm:function(){n["a"].m_aTimes=this.$refs.timePlan.timesData,this.bShowSchedule=!1},deleteAll:function(){for(var e=0,t=n["a"].m_aTimes.length;e<t;e++)n["a"].m_aTimes[e]=[];this.$refs.timePlan.timesData=n["a"].m_aTimes,this.$refs.timePlan.$forceUpdate()}}}}).call(this,a("1157"))},"725d":function(e,t,a){"use strict";a("0360")},"72cb":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("defocusDetection"),"right-type":"text","b-lazy-loading":e.bLazyLoading}},[t("div",{staticClass:"defocus-page-wrapper",attrs:{slot:"content"},slot:"content"},[e.bSupportChannelCap||e.oEventCap.bIPCDevice?e._e():t("channel-list",{attrs:{"o-channel":e.oChannel}}),e.oEventCap.bSupportRule||e.oEventCap.bSupportLink?t("div",[e.oEventCap.bSupportRule?t("div",[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("enable")}},[t("hm-switch",{model:{value:e.oEventInfo.bEnableVirtualFocus,callback:function(t){e.$set(e.oEventInfo,"bEnableVirtualFocus",t)},expression:"oEventInfo.bEnableVirtualFocus"}})],1),t("base-slider-content",{attrs:{title:e.$t("sensitivity")+":"+e.oEventInfo.iSensitivity},scopedSlots:e._u([{key:"content",fn:function(){return[t("mt-range",{attrs:{min:1,max:100,step:1,"bar-height":5},model:{value:e.oEventInfo.iSensitivity,callback:function(t){e.$set(e.oEventInfo,"iSensitivity",t)},expression:"oEventInfo.iSensitivity"}})]},proxy:!0}],null,!1,3714041796)})],1)],1):e._e(),e.bShowLink&&e.oEventCap.bSupportLink?t("base-link",{ref:"link",attrs:{link:e.oEventInfo.oLink}}):e._e(),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{on:{click:e.save}},[e._v(e._s(e.$t("save")))])],1)],1):e._e(),e.oEventCap.bSupportRule||e.oEventCap.bSupportLink||!e.bShowNotSupport?e._e():t("div",{staticClass:"no-support-tip"},[e._v("\n      "+e._s(e.$t("ImportNoSupport"))+"\n    ")]),t("base-view")],1)])},n=[],o=a("882a"),r=o["a"],s=(a("b08b"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"5bd361b2",null);t["default"]=l.exports},7373:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wan-page-wrapper"},[t("hm-scroll",[t("div",[t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",{attrs:{title:"WAN"}},[t("hm-cell",{attrs:{title:e.$t("internetType")}}),t("hm-cell",{attrs:{title:e.$t("state")}},[t("base-select",{attrs:{title:e.$t("state"),options:e.aConnectStatus},model:{value:e.oParams.szConnectStatus,callback:function(t){e.$set(e.oParams,"szConnectStatus",t)},expression:"oParams.szConnectStatus"}})],1),t("hm-cell",{attrs:{title:e.$t("macAddress")}},[t("hm-input",{attrs:{disabled:!0},model:{value:e.oParams.szMACAddr,callback:function(t){e.$set(e.oParams,"szMACAddr",t)},expression:"oParams.szMACAddr"}})],1),"PPPoE"===e.oParams.szInternetType?t("div",[t("hm-cell",{class:{"cell-require":e.oParamsValid.oUserName&&e.oParamsValid.oUserName.required},attrs:{title:e.$t("username")}},[t("hm-input",{model:{value:e.oParams.szUserName,callback:function(t){e.$set(e.oParams,"szUserName",t)},expression:"oParams.szUserName"}}),t("hm-validator",{attrs:{model:e.oParams.szUserName,rules:e.oParamsValid.oUserName,param:e.$t("username")}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oPassword&&e.oParamsValid.oPassword.required},attrs:{title:e.$t("password")}},[t("hm-input",{attrs:{type:"password",maxlength:e.length64},model:{value:e.oDDNSInfo.oPassword.szPassword,callback:function(t){e.$set(e.oDDNSInfo.oPassword,"szPassword",t)},expression:"oDDNSInfo.oPassword.szPassword"}}),t("hm-validator",{attrs:{model:e.oDDNSInfo.oPassword.szPassword,rules:e.oParamsValid.oPassword,param:e.$t("password"),disabled:e.bSkipValid}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oPasswordConfirm&&e.oParamsValid.oPasswordConfirm.required},attrs:{title:e.$t("confirmPassword")}},[t("hm-input",{attrs:{type:"password",maxlength:e.length64},model:{value:e.oDDNSInfo.oPassword.szPasswordConfirm,callback:function(t){e.$set(e.oDDNSInfo.oPassword,"szPasswordConfirm",t)},expression:"oDDNSInfo.oPassword.szPasswordConfirm"}}),t("hm-validator",{attrs:{model:e.oDDNSInfo.oPassword.szPasswordConfirm,rules:e.oParamsValid.oPasswordConfirm,param:e.$t("confirmPassword"),disabled:e.bSkipValid}})],1)],1):e._e(),"PPPoE"!==e.oParams.szInternetType?t("div",["v4"===e.oParams.szIPVersion?t("div",[t("hm-cell",{class:{"cell-require":e.oParamsValid.oIPAddrV4&&e.oParamsValid.oIPAddrV4.required},attrs:{title:e.$t("deviceIpAdd")}},[t("hm-input",{attrs:{disabled:"DHCP"===e.oParams.szInternetType},model:{value:e.oParams.szIPAddrV4,callback:function(t){e.$set(e.oParams,"szIPAddrV4",t)},expression:"oParams.szIPAddrV4"}}),t("hm-validator",{attrs:{model:e.oParams.szIPAddrV4,rules:e.oParamsValid.oIPAddrV4,param:e.$t("deviceIpAdd")}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oSubNetMaskV4&&e.oParamsValid.oSubNetMaskV4.required},attrs:{title:e.$t("subNetMask")}},[t("hm-input",{attrs:{disabled:"DHCP"===e.oParams.szInternetType},model:{value:e.oParams.szSubNetMaskV4,callback:function(t){e.$set(e.oParams,"szSubNetMaskV4",t)},expression:"oParams.szSubNetMaskV4"}}),t("hm-validator",{attrs:{model:e.oParams.szSubNetMaskV4,rules:e.oParamsValid.oSubNetMaskV4,param:e.$t("subNetMask")}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oGateWayV4&&e.oParamsValid.oGateWayV4.required},attrs:{title:e.$t("defaultGateWay")}},[t("hm-input",{attrs:{disabled:"DHCP"===e.oParams.szInternetType},model:{value:e.oParams.szGateWayV4,callback:function(t){e.$set(e.oParams,"szGateWayV4",t)},expression:"oParams.szGateWayV4"}}),t("hm-validator",{attrs:{model:e.oParams.szGateWayV4,rules:e.oParamsValid.oGateWayV4,param:e.$t("defaultGateWay")}})],1)],1):e._e(),"v6"===e.oParams.szIPVersion?t("div",[t("hm-cell",{class:{"cell-require":e.oParamsValid.oIPAddrV6&&e.oParamsValid.oIPAddrV6.required},attrs:{title:e.$t("deviceIpV6Add")}},[t("hm-input",{attrs:{disabled:"DHCP"===e.oParams.szInternetType},model:{value:e.oParams.szIPAddrV6,callback:function(t){e.$set(e.oParams,"szIPAddrV6",t)},expression:"oParams.szIPAddrV6"}}),t("hm-validator",{attrs:{model:e.oParams.szIPAddrV6,rules:e.oParamsValid.oIPAddrV6,param:e.$t("deviceIpV6Add")}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oGateWayV6&&e.oParamsValid.oGateWayV6.required},attrs:{title:e.$t("defaultV6GateWay")}},[t("hm-input",{attrs:{disabled:"DHCP"===e.oParams.szInternetType},model:{value:e.oParams.szGateWayV6,callback:function(t){e.$set(e.oParams,"szGateWayV6",t)},expression:"oParams.szGateWayV6"}}),t("hm-validator",{attrs:{model:e.oParams.szGateWayV6,rules:e.oParamsValid.oGateWayV6,param:e.$t("defaultV6GateWay")}})],1)],1):e._e()]):e._e()],1),t("hm-cell-group",{attrs:{title:e.$t("dnsServerConfig")}},[t("hm-cell",{class:{"cell-require":e.oParamsValid.oPrimaryDNS&&e.oParamsValid.oPrimaryDNS.required},attrs:{title:e.$t("primaryDNS")}},[t("hm-input",{attrs:{disabled:"DHCP"===e.oParams.szInternetType},model:{value:e.oParams.szPrimaryDNS,callback:function(t){e.$set(e.oParams,"szPrimaryDNS",t)},expression:"oParams.szPrimaryDNS"}}),t("hm-validator",{attrs:{model:e.oParams.szPrimaryDNS,rules:e.oParamsValid.oPrimaryDNS,param:e.$t("primaryDNS")}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oAlternateDNS&&e.oParamsValid.oAlternateDNS.required},attrs:{title:e.$t("alternateDNS")}},[t("hm-input",{attrs:{disabled:"DHCP"===e.oParams.szInternetType},model:{value:e.oParams.szAlternateDNS,callback:function(t){e.$set(e.oParams,"szAlternateDNS",t)},expression:"oParams.szAlternateDNS"}}),t("hm-validator",{attrs:{model:e.oParams.szAlternateDNS,rules:e.oParamsValid.oAlternateDNS,param:e.$t("alternateDNS")}})],1)],1)],1)],1),t("div",{staticClass:"hm-btn-group"})]),t("base-view")],1)},n=[],o=a("1c1a"),r=a("9601"),s=a("c050"),l=a("47b5"),c={name:"WAN",components:{BaseView:o["a"],BaseSelect:l["a"]},data:function(){return{validate:{},oParams:r["a"].m_oParams,oParamsValid:r["a"].m_oParamsValid,oCap:r["a"].m_oCap,aConnectStatus:[{value:"connect",text:this.$t("connectSuccess")},{value:"noConnect",text:this.$t("connectFail")}],length64:64}},created:function(){r["a"].initWan().then((function(){}))},methods:{save:function(){this.validate.validateAll(),s["a"].validateTips(this.validate.getErrorReport())&&r["a"].save()}}},u=c,d=(a("9689"),a("2877")),p=Object(d["a"])(u,i,n,!1,null,"f23adef2",null);t["default"]=p.exports},7424:function(e,t,a){"use strict";(function(e){a("96cf");var i=a("1da1");a("c5f6");t["a"]={props:{iSoundSteepRiseIntensity:{type:Number,default:Number},aRealTimeSoundIntensity:{type:Array,default:Array},iIntensityMin:{type:Number,default:Number}},data:function(){return{aSoundList:[]}},watch:{iSoundSteepRiseIntensity:{handler:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e("#baseLine").css("top",100-this.iSoundSteepRiseIntensity+"px");case 1:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),deep:!0}},created:function(){this.aSoundList.length=80},mounted:function(){var t=this;this.$nextTick((function(){e("#baseLine").css("top",100-this.iSoundSteepRiseIntensity+"px"),setInterval((function(){t.$forceUpdate()}),1e3)}))},methods:{}}}).call(this,a("1157"))},7483:function(e,t,a){},"748d":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("video"),"right-type":"text","show-save-button":!0,"save-text":e.$t("save"),"b-lazy-loading":e.oVideoParams.bLazyLoading,"save-button-disabled":!e.oVideoCapa.bChannelSupport||!e.oVideoCapa.bChannelSupport28181},on:{"save-handle":e.save}},[t("div",{staticClass:"video-page-wrapper",attrs:{slot:"content"},slot:"content"},[t("div",[t("hm-validator-group",{attrs:{result:e.validate}},[t("div",{staticClass:"video-wrapper"},[t("channel-list",{attrs:{"o-channel":e.oChannel}}),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[e.oVideoCapa.bSupportInputResolution&&0===e.oCommon.iDeviceType?t("hm-cell",{attrs:{title:e.$t("inputResolution")}},[t("hm-input",{staticClass:"input-resolution",attrs:{disabled:!0},model:{value:e.oVideoParams.inputResolution,callback:function(t){e.$set(e.oVideoParams,"inputResolution",t)},expression:"oVideoParams.inputResolution"}})],1):e._e(),t("hm-cell",{attrs:{title:e.$t("streamType")}},[t("base-select",{attrs:{title:e.$t("streamType"),options:e.aStreamType,disabled:e.oSpeedUpParams.bSupportSpeedUp&&e.oSpeedUpParams.bOriSmartSpeedUp},on:{change:function(t){return e.changeStreamType()}},model:{value:e.oVideoParams.streamType,callback:function(t){e.$set(e.oVideoParams,"streamType",t)},expression:"oVideoParams.streamType"}})],1),t("hm-cell",{attrs:{title:e.$t("videoType")}},[t("base-select",{attrs:{title:e.$t("videoType"),disabled:!e.oVideoCapa.bSupportSetvideoType||e.oSpeedUpParams.bSupportSpeedUp&&e.oSpeedUpParams.bOriSmartSpeedUp,options:e.aVideoType},model:{value:e.oVideoParams.videoType,callback:function(t){e.$set(e.oVideoParams,"videoType",t)},expression:"oVideoParams.videoType"}})],1)],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("resolution")}},[t("base-select",{attrs:{title:e.$t("resolution"),options:e.oVideoCapa.resolutions,disabled:e.oVideoCapa.resolutions.length<=1||e.oSpeedUpParams.bSupportSpeedUp&&e.oSpeedUpParams.bOriSmartSpeedUp},model:{value:e.oVideoParams.resolution,callback:function(t){e.$set(e.oVideoParams,"resolution",t)},expression:"oVideoParams.resolution"}})],1),t("hm-cell",{attrs:{title:e.$t("bitrateType")}},[t("base-select",{attrs:{title:e.$t("bitrateType"),options:e.aBitrateType,disabled:!e.oVideoCapa.bSupportBitrateType||e.oDisabledCapa.bBitrateType||e.oSpeedUpParams.bSupportSpeedUp&&e.oSpeedUpParams.bOriSmartSpeedUp},on:{change:function(t){return e.changeBitrateType()}},model:{value:e.oVideoParams.bitrateType,callback:function(t){e.$set(e.oVideoParams,"bitrateType",t)},expression:"oVideoParams.bitrateType"}})],1),t("hm-cell",{attrs:{title:e.$t("videoQuality")}},[t("base-select",{attrs:{title:e.$t("videoQuality"),options:e.oVideoCapa.videoQualitys,disabled:"cbr"===e.oVideoParams.bitrateType||e.oVideoCapa.videoQualitys.length<=1||e.oDisabledCapa.bVideoQuality||e.oSpeedUpParams.bSupportSpeedUp&&e.oSpeedUpParams.bOriSmartSpeedUp},on:{change:function(t){return e.changeBitRate()}},model:{value:e.oVideoParams.videoQuality,callback:function(t){e.$set(e.oVideoParams,"videoQuality",t)},expression:"oVideoParams.videoQuality"}})],1),t("hm-cell",{attrs:{title:e.$t("frameRate")+"(fps)"}},[t("base-select",{attrs:{title:e.$t("frameRate")+"(fps)",options:e.oVideoCapa.frameRates,disabled:e.oSpeedUpParams.bSupportSpeedUp&&e.oSpeedUpParams.bOriSmartSpeedUp},model:{value:e.oVideoParams.frameRate,callback:function(t){e.$set(e.oVideoParams,"frameRate",t)},expression:"oVideoParams.frameRate"}})],1),e.oShowCapa.bMaxBitrate&&0===e.oCommon.iDeviceType?t("hm-cell",{class:{"cell-require":!0},attrs:{title:e.$t("maxBitrate")+"(Kbps)"}},[!e.oVideoCapa.bSupportBitrateSelect&&e.oShowCapa.bMaxBitrate?t("hm-input",{attrs:{disabled:"true"===e.oVideoParams.smartCode||e.oVideoCapa.minRate===e.oVideoCapa.maxRate||e.oSpeedUpParams.bSupportSpeedUp&&e.oSpeedUpParams.bOriSmartSpeedUp},on:{focus:e.compatAndroid},model:{value:e.oVideoParams.maxBitrate,callback:function(t){e.$set(e.oVideoParams,"maxBitrate",t)},expression:"oVideoParams.maxBitrate"}}):e._e(),!e.oVideoCapa.bSupportBitrateSelect&&e.oShowCapa.bMaxBitrate?t("hm-validator",{attrs:{model:e.oVideoParams.maxBitrate,rules:{range:e.aBitrateValid,required:!0},param:e.$t("maxBitrate")}}):e._e(),e.oVideoCapa.bSupportBitrateSelect&&e.oShowCapa.bMaxBitrate?t("base-select",{attrs:{title:e.$t("maxBitrate")+"(Kbps)",options:e.oVideoCapa.maxBitrates,disabled:"true"===e.oVideoParams.smartCode||e.oSpeedUpParams.bSupportSpeedUp&&e.oSpeedUpParams.bOriSmartSpeedUp},model:{value:e.oVideoParams.maxBitrate,callback:function(t){e.$set(e.oVideoParams,"maxBitrate",t)},expression:"oVideoParams.maxBitrate"}}):e._e()],1):e._e(),1===e.oCommon.iDeviceType?t("hm-cell",{staticClass:"ipc-max-bit",class:{"cell-require":!0},attrs:{title:e.$t("maxBitrate")+"(Kbps)"}},[t("hm-input",{staticClass:"maxBitrate",attrs:{maxlength:5,disabled:e.oDisabledCapa.bMaxBitrate||e.oSpeedUpParams.bSupportSpeedUp&&e.oSpeedUpParams.bOriSmartSpeedUp},on:{input:e.changeVbrAverage,focus:e.compatAndroid},model:{value:e.oVideoParams.maxBitrate,callback:function(t){e.$set(e.oVideoParams,"maxBitrate",t)},expression:"oVideoParams.maxBitrate"}}),t("hm-validator",{attrs:{model:e.oVideoParams.maxBitrate,rules:{range:e.aBitrateValid,required:!0},param:e.$t("maxBitrate")}})],1):e._e(),e.oShowCapa.bAverageVideoBitrate?t("hm-cell",{class:{"cell-require":!0},attrs:{title:e.$t("vbrAverage")+"(Kbps)"}},[t("hm-input",{attrs:{disabled:e.oSpeedUpParams.bSupportSpeedUp&&e.oSpeedUpParams.bOriSmartSpeedUp},on:{click:e.compatAndroid},model:{value:e.oVideoParams.iAverageBitrate,callback:function(t){e.$set(e.oVideoParams,"iAverageBitrate",t)},expression:"oVideoParams.iAverageBitrate"}}),t("hm-validator",{attrs:{model:e.oVideoParams.iAverageBitrate,rules:{range:e.aAverageBitrateValid,required:!0},param:e.$t("vbrAverage")}})],1):e._e()],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("videoEncoding")}},[t("base-select",{attrs:{title:e.$t("videoEncoding"),options:e.oVideoCapa.videoEncodings,disabled:e.oVideoCapa.videoEncodings.length<=1||e.oSpeedUpParams.bSupportSpeedUp&&e.oSpeedUpParams.bOriSmartSpeedUp},on:{change:e.changeVideoEncoding},model:{value:e.oVideoParams.videoEncoding,callback:function(t){e.$set(e.oVideoParams,"videoEncoding",t)},expression:"oVideoParams.videoEncoding"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oShowCapa.bSmartCode264,expression:"oShowCapa.bSmartCode264"}],attrs:{title:e.$t("smartCodec")}},[t("base-select",{attrs:{title:e.$t("smartCodec"),options:e.aSmartCode,disabled:e.oVideoCapa.bDisabledSmartCode||e.oSpeedUpParams.bSupportSpeedUp&&e.oSpeedUpParams.bOriSmartSpeedUp},on:{change:e.changeSmartCodec},model:{value:e.oVideoParams.smartCode,callback:function(t){e.$set(e.oVideoParams,"smartCode",t)},expression:"oVideoParams.smartCode"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oShowCapa.bSmartCode265,expression:"oShowCapa.bSmartCode265"}],attrs:{title:e.$t("smartCodec265")}},[t("base-select",{attrs:{title:e.$t("smartCodec265"),options:e.aSmartCode,disabled:e.oVideoCapa.bDisabledSmart265||e.oSpeedUpParams.bSupportSpeedUp&&e.oSpeedUpParams.bOriSmartSpeedUp},on:{change:e.changeSmartCodec},model:{value:e.oVideoParams.smartCode,callback:function(t){e.$set(e.oVideoParams,"smartCode",t)},expression:"oVideoParams.smartCode"}})],1),e.oVideoCapa.bSupportProfile?t("hm-cell",{attrs:{title:e.$t("profile")}},[t("base-select",{attrs:{title:e.$t("profile"),options:e.oVideoCapa.profiles,disabled:e.oDisabledCapa.bProfile||e.oSpeedUpParams.bSupportSpeedUp&&e.oSpeedUpParams.bOriSmartSpeedUp},model:{value:e.oVideoParams.profile,callback:function(t){e.$set(e.oVideoParams,"profile",t)},expression:"oVideoParams.profile"}})],1):e._e()],1),e.oVideoCapa.bSupportIFrame?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{class:{"cell-require":!0},attrs:{title:e.$t("iFrameInterval")}},[t("hm-input",{attrs:{type:"text",maxlength:3,disabled:e.oVideoCapa.minIntervalFrameI===e.oVideoCapa.maxIntervalFrameI||e.oDisabledCapa.bFrameInterval||e.oSpeedUpParams.bSupportSpeedUp&&e.oSpeedUpParams.bOriSmartSpeedUp},model:{value:e.oVideoParams.iFrameInterval,callback:function(t){e.$set(e.oVideoParams,"iFrameInterval",t)},expression:"oVideoParams.iFrameInterval"}}),t("hm-validator",{attrs:{model:e.oVideoParams.iFrameInterval,rules:{range:e.aIFrameValid,required:!0},param:e.$t("iFrameInterval")}})],1)],1):e._e(),t("hm-cell-group",{directives:[{name:"show",rawName:"v-show",value:e.oVideoCapa.bSupportSVC,expression:"oVideoCapa.bSupportSVC"}],staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:"SVC"}},[t("base-select",{attrs:{title:"SVC",options:e.aSVCType,disabled:e.oDisabledCapa.bSVC||e.oSpeedUpParams.bSupportSpeedUp&&e.oSpeedUpParams.bOriSmartSpeedUp},model:{value:e.oVideoParams.svc,callback:function(t){e.$set(e.oVideoParams,"svc",t)},expression:"oVideoParams.svc"}})],1)],1),e.oVideoCapa.bSupportSmoothing?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("smoothing")+"["+e.$t("clearness")+"<->"+e.$t("smooth")+"]："+e.oVideoParams.smoothing}}),t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{"bar-height":5,min:e.oVideoCapa.minSmooth,max:e.oVideoCapa.maxSmooth},on:{change:e.dragging},model:{value:e.oVideoParams.smoothing,callback:function(t){e.$set(e.oVideoParams,"smoothing",t)},expression:"oVideoParams.smoothing"}})],1)],1):e._e(),t("hm-cell-group",{directives:[{name:"show",rawName:"v-show",value:e.oVideoCapa.bSupportAudio,expression:"oVideoCapa.bSupportAudio"}],staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("audioEncoding")}},[t("base-select",{attrs:{title:e.$t("audioEncoding"),options:e.oVideoCapa.compressionTypes,disabled:e.oVideoCapa.compressionTypes.length<=1||e.oSpeedUpParams.bSupportSpeedUp&&e.oSpeedUpParams.bOriSmartSpeedUp},model:{value:e.oVideoParams.compressionType,callback:function(t){e.$set(e.oVideoParams,"compressionType",t)},expression:"oVideoParams.compressionType"}})],1)],1)],1)])],1)])])},n=[],o=(a("ee1d"),a("c5f6"),a("96cf"),a("1da1")),r=(a("ac6a"),a("8615"),a("cc03b")),s=a("c050"),l=a("6458"),c=a("9741"),u=a("7de8"),d=a("47b5"),p={name:"Video",components:{ChannelList:l["a"],BaseSelect:d["a"]},data:function(){return{bLazyLoading:!1,selectPicker:null,oCommon:c["a"],validate:{},matchList:[],oVideoParams:r["a"].oVideoParams,oVideoCapa:r["a"].oVideoCapa,oShowCapa:r["a"].oShowCapa,oDisabledCapa:r["a"].oDisabledCapa,oEncodingCapa:r["a"].oEncodingCapa,oSpeedUpParams:r["a"].oSpeedUpParams,aCopy:r["a"].aCopy,oParamsValid:r["a"].m_oParamsValid,oChannel:r["a"].oChannel,szSmoothing:0,aStreamType:[{value:"01",text:this.$t("mainStreamNormal")},{value:"02",text:this.$t("subStream")},{value:"03",text:this.$t("mainStreamEvent")},{value:"04",text:this.$t("transcodedStream")}],aVideoType:[{value:"0",text:this.$t("videoStream")},{value:"1",text:this.$t("videoAudio")}],aSVCType:[{value:"true",text:this.$t("on")},{value:"false",text:this.$t("off")}],aSmartCode:[{value:"true",text:this.$t("on")},{value:"false",text:this.$t("off")}],aBitrateType:[{value:"vbr",text:this.$t("variable")},{value:"cbr",text:this.$t("constant")}]}},computed:{aBitrateValid:function(){return Object.values(this.oParamsValid.oBitrateValid.range.value)},aIFrameValid:function(){return Object.values(this.oParamsValid.oIFrameValid.range.value)},aAverageBitrateValid:function(){return Object.values(this.oParamsValid.oAverageBitrateValid.range.value)}},watch:{"oChannel.id":{handler:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t>0&&t!==a)){e.next=17;break}return this.oVideoParams.streamType="01",e.next=4,r["a"].getEventCapa(t);case 4:return e.next=6,r["a"].getStreamChannels(t);case 6:return e.next=8,r["a"].getSpeedUp(t);case 8:return e.next=10,r["a"].getInfo();case 10:return e.next=12,r["a"].getStreamChannels();case 12:return r["a"].autoAdaptive(),e.next=15,r["a"].getWD1Info(t);case 15:r["a"].initCopyParams(t),this.getVideoValue();case 17:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),immediate:!0},oVideoCapa:{handler:function(e){var t=[{value:"01",text:this.$t("mainStreamNormal")}];1===c["a"].iDeviceType&&e.aSupportStream[1]&&t.push({value:"02",text:this.$t("subStream")}),0===c["a"].iDeviceType&&t.push({value:"02",text:this.$t("subStream")}),1===c["a"].iDeviceType&&e.aSupportStream[2]&&t.push({value:"03",text:this.$t("thirdStream")}),0===c["a"].iDeviceType&&e.bSupportEvent&&t.push({value:"03",text:this.$t("mainStreamEvent")}),e.bSupportTransCode&&t.push({value:"04",text:this.$t("transcodedStream")}),1===c["a"].iDeviceType&&e.aSupportStream[3]&&t.push({value:"04",text:this.$t("fourthStream")}),1===c["a"].iDeviceType&&e.aSupportStream[4]&&t.push({value:"05",text:this.$t("fifthStream")}),1===c["a"].iDeviceType&&e.bSupportEvent&&t.push({value:"05",text:this.$t("mainStreamEvent")}),this.aStreamType=t},immediate:!0,deep:!0}},created:function(){this.getVideoValue(),this.oChannel=r["a"].oChannel,this.oChannel.id=1,this.szSmoothing=this.oVideoParams.smoothing},methods:{compatAndroid:function(){var e=navigator.userAgent,t=e.indexOf("Android")>-1||e.indexOf("Linux")>-1;t&&window.addEventListener("resize",(function(){"INPUT"!==document.activeElement.tagName&&"TEXTAREA"!==document.activeElement.tagName||setTimeout((function(){document.activeElement.scrollIntoViewIfNeeded(),document.activeElement.scrollIntoView()}),100)}))},changeStreamType:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r["a"].getInfo();case 2:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),changeMaxBit:function(){var e=this,t=["256","512","1024","2048","3072","4096","6144","8192","12288","16384","32768","65536"],a=[];t.forEach((function(t){var i=parseInt(t,10);i>=e.oVideoCapa.minRate&&i<=e.oVideoCapa.maxRate&&a.push({value:t,text:t})})),this.selectPicker||(this.selectPicker=this.$createPicker({title:this.$t("maxBitrate"),data:[a],selectedIndex:[0],onSelect:function(t){e.oVideoParams.maxBitrate=t[0],e.changeVbrAverage(),e.selectPicker.remove(),e.selectPicker=null},onCancel:function(){e.selectPicker.remove(),e.selectPicker=null}})),this.selectPicker.show()},changeVbrAverage:function(){if(this.oShowCapa.bAverageVideoBitrate){var e=Number(this.oVideoParams.maxBitrate);Number.isNaN(e)||(r["a"].getAverageVideoBitrateDef(),this.oVideoParams=r["a"].oVideoParams)}},getVideoValue:function(){this.oVideoParams=r["a"].oVideoParams,this.oVideoCapa=r["a"].oVideoCapa,this.changeSelectStreamType(),this.changeSelectSVCType(),this.oShowCapa=r["a"].oShowCapa,this.oDisabledCapa=r["a"].oDisabledCapa,this.oEncodingCapa=r["a"].oEncodingCapa,this.oSpeedUpParams=r["a"].oSpeedUpParams,this.aCopy=r["a"].aCopy,this.oParamsValid=r["a"].m_oParamsValid,this.oVideoParams.smoothing=Number(this.oVideoParams.smoothing),this.szSmoothing=this.oVideoParams.smoothing},changeSelectSVCType:function(){var e=[{value:"true",text:this.$t("on")}];this.oVideoCapa.bSupportSVCMode&&e.push({value:"auto",text:this.$t("automatic")}),e.push({value:"false",text:this.$t("off")}),this.aSVCType=e},changeSelectStreamType:function(){var e=[{value:"01",text:this.$t("mainStreamNormal")}];1===c["a"].iDeviceType&&this.oVideoCapa.aSupportStream[1]&&e.push({value:"02",text:this.$t("subStream")}),0===c["a"].iDeviceType&&e.push({value:"02",text:this.$t("subStream")}),1===c["a"].iDeviceType&&this.oVideoCapa.aSupportStream[2]&&e.push({value:"03",text:this.$t("thirdStream")}),0===c["a"].iDeviceType&&this.oVideoCapa.bSupportEvent&&e.push({value:"03",text:this.$t("mainStreamEvent")}),this.oVideoCapa.bSupportTransCode&&e.push({value:"04",text:this.$t("transcodedStream")}),1===c["a"].iDeviceType&&this.oVideoCapa.aSupportStream[3]&&e.push({value:"04",text:this.$t("fourthStream")}),1===c["a"].iDeviceType&&this.oVideoCapa.aSupportStream[4]&&e.push({value:"05",text:this.$t("fifthStream")}),1===c["a"].iDeviceType&&this.oVideoCapa.bSupportEvent&&e.push({value:"05",text:this.$t("mainStreamEvent")}),this.aStreamType=e},changeVideoEncoding:function(){r["a"].autoAdaptive(),this.oShowCapa=r["a"].oShowCapa,this.oDisabledCapa=r["a"].oDisabledCapa,this.oEncodingCapa=r["a"].oEncodingCapa},changeSmartCodec:function(e){var t=this;if(1===c["a"].iDeviceType){var a=this.oVideoCapa.szPromptType,i="",n=this.oVideoCapa.bSupportSmartCodeWithoutReStart;""===a?!n&&(i="rebootDeviceTip"):"true"===e?(a=a.substr(6),i="smart264OpenPrompt"+a):!n&&(i="smart264ClosePrompt"),""!==i&&(i=this.$t(i),"H.265"===this.oVideoParams.videoEncoding&&(i=u["a"].replaceAll(i,"Smart264","Smart265"),i=u["a"].replaceAll(i,"H.264","H.265")),s["a"].confirm(i,(function(){r["a"].saveParams()}),(function(){"true"===t.oVideoParams.smartCode?t.oVideoParams.smartCode="false":t.oVideoParams.smartCode="true"})))}0===c["a"].iDeviceType&&(r["a"].autoAdaptive(),this.oShowCapa=r["a"].oShowCapa,this.oDisabledCapa=r["a"].oDisabledCapa,this.oEncodingCapa=r["a"].oEncodingCapa),this.oShowCapa=r["a"].oShowCapa,this.oDisabledCapa=r["a"].oDisabledCapa,this.oEncodingCapa=r["a"].oEncodingCapa},changeBitRate:function(){r["a"].changeBitRate()},changeBitrateType:function(){r["a"].autoAdaptive(),this.oShowCapa=r["a"].oShowCapa,this.oDisabledCapa=r["a"].oDisabledCapa,this.oEncodingCapa=r["a"].oEncodingCapa},save:function(){s["a"].validateTips(this.validate.getErrorReport())&&r["a"].saveParams()},dragging:function(e){this.szSmoothing=e},smoothingChange:function(e){var t=this,a=Number(e);a>=100&&this.$nextTick((function(){t.szSmoothing=100})),e||(this.szSmoothing=0),this.oVideoParams.smoothing=Number(this.szSmoothing)}}},m=p,h=(a("725d"),a("d5f9"),a("2877")),f=Object(h["a"])(m,i,n,!1,null,"41628422",null);t["default"]=f.exports},"764c":function(e,t,a){"use strict";a("6b54"),a("ac6a"),a("5df3"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("7de8"),s=a("f193"),l=a("768a"),c=a("d09c"),u=a("1f20"),d="SceneChangeDetection",p=function(){function e(){Object(n["a"])(this,e),this.oEventInfo={bLoading:!1,oLink:null,oScheduleTimes:[],bEnableSceneChange:!1,iSensitivity:1},this.oEventCap={bSupportHoliday:!1,bSupportModify:!1,bChannelSupport:!1,bSupportRule:!1,bSupportSchedule:!1,bSupportLink:!1},this.oParams={oData:null,iChannelId:0,oXhr:{oErrorXhr:null,oSuccessXhr:null,oRestartXhr:null}}}return Object(o["a"])(e,[{key:"init",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.oParams.iChannelId=t||1,e.next=3,u["a"].isEnableHoliday();case 3:return e.next=5,l["a"].initDeviceParams(this.oEventCap,!0,!0,!0);case 5:return e.abrupt("return",Promise.all([this.getDetectInfo(),this.getDetectLink(),this.getSchedule()]));case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getDetectInfo",value:function(){var e=this,t={urlCGI:"smartDetection",params:{channel:this.oParams.iChannelId,param:d},data:null,loading:!0};return s["a"].get(t).then((function(t){e.oEventCap.bSupportRule=!0;var a=t.oResult;e.oEventInfo.bEnableSceneChange=r["a"].nodeValue(a,"enabled","b"),e.oEventInfo.iSensitivity=r["a"].nodeValue(a,"sensitivityLevel","i")}),(function(){e.oEventCap.bSupportRule=!1}))}},{key:"getDetectLink",value:function(){var e=this;return l["a"].getLinkageCap("SceneChangeDetectionTriggerCap").then((function(t){e.oEventInfo.oLink=t;var a={urlCGI:"linkInfo",params:{param:"scenechangedetection-"+e.oParams.iChannelId},data:null,loading:!0};return s["a"].get(a).then((function(t){e.oEventCap.bSupportLink=!0;var a=t.oResult;l["a"].getLinkInfo(e.oEventInfo.oLink,a)}),(function(){e.oEventCap.bSupportLink=!1}))}))}},{key:"getSchedule",value:function(){var e=this,t={urlCGI:"scheduleInfo",params:{param:"sceneChangeDetections/scenechangedetection_video"+this.oParams.iChannelId},data:null,loading:!0};return s["a"].get(t).then((function(t){e.oEventCap.bSupportSchedule=!0;var a=t.oResult;l["a"].getSchedule(e.oEventInfo.oScheduleTimes,a),console.log(e.oEventInfo.oScheduleTimes,"this.oEventInfo.oScheduleTimes")}),(function(){e.oEventCap.bSupportSchedule=!1}))}},{key:"save",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.oParams.oXhr={oErrorXhr:null,oSuccessXhr:null,oRestartXhr:null},this.oEventInfo.bLoading=!0,!this.oEventCap.bSupportRule){e.next=5;break}return e.next=5,this.setDetectInfo();case 5:if(!this.oEventCap.bSupportLink){e.next=8;break}return e.next=8,this.setDetectLink();case 8:if(!this.oEventCap.bSupportSchedule){e.next=11;break}return e.next=11,this.setDetectSchedule();case 11:this.oEventInfo.bLoading=!1,this.oParams.oXhr.oErrorXhr?c["a"].saveState(this.oParams.oXhr.oErrorXhr):c["a"].saveState(this.oParams.oXhr.oSuccessXhr);case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setDetectInfo",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,i,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="<?xml version='1.0' encoding='UTF-8'?><SceneChangeDetection><id>"+this.oParams.iChannelId+"</id><enabled>"+this.oEventInfo.bEnableSceneChange.toString()+"</enabled><sensitivityLevel>"+this.oEventInfo.iSensitivity+"</sensitivityLevel></SceneChangeDetection>",a=r["a"].parseXmlFromStr(t),i={urlCGI:"smartDetection",params:{channel:this.oParams.iChannelId,param:d},data:a,loading:!0},e.abrupt("return",s["a"].put(i).then((function(e){n.oParams.oXhr.oSuccessXhr=e.xhr}),(function(e){n.oParams.oXhr.oErrorXhr=e,c["a"].saveState(e)})));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setDetectLink",value:function(){var e=this,t=l["a"].setLinkInfo(this.oEventInfo.oLink,"scenechangedetection",this.oParams.iChannelId),a={urlCGI:"linkInfo",params:{param:"scenechangedetection-"+this.oParams.iChannelId},data:t,loading:!0};return s["a"].put(a).then((function(t){e.oParams.oXhr.oSuccessXhr=t.xhr}),(function(t){e.oParams.oXhr.oErrorXhr=t,c["a"].saveState(t)}))}},{key:"setDetectSchedule",value:function(){var e=this,t=l["a"].setSchedule(this.oEventInfo.oScheduleTimes,"scenechangedetection",this.oParams.iChannelId),a={urlCGI:"scheduleInfo",params:{param:"sceneChangeDetections/scenechangedetection_video"+this.oParams.iChannelId},data:t,loading:!0};return s["a"].put(a).then((function(t){e.oParams.oXhr.oSuccessXhr=t.xhr}),(function(t){e.oParams.oXhr.oErrorXhr=t,c["a"].saveState(t)}))}}]),e}();t["a"]=new p},"76a6":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:"RTSP","right-type":"text","show-save-button":!0,"b-lazy-loading":e.bLazyLoading,"save-text":e.$t("save")},on:{"save-handle":e.save}},[t("div",{staticClass:"multicast-page-wrapper",attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"hm-index-list-item"},[t("hm-validator-group",{attrs:{result:e.validate}},[t("channel-list",{attrs:{"o-channel":e.oChannel}}),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{class:{"cell-require":e.oParamsValidPort.oRtspPort&&e.oParamsValidPort.oRtspPort.required},attrs:{title:e.$t("port")}},[t("hm-input",{model:{value:e.oPORTInfo.szRtspPort,callback:function(t){e.$set(e.oPORTInfo,"szRtspPort",t)},expression:"oPORTInfo.szRtspPort"}}),t("hm-validator",{attrs:{model:e.oPORTInfo.szRtspPort,rules:e.oParamsValidPort.oRtspPort,param:e.$t("port")}})],1)],1),e.oCapa.bSupportVideoDestPortNo||e.oCapa.bSupportiAudioDestPortNo?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("multicastConfig")}},[t("hm-cell",{attrs:{title:e.$t("streamType")}},[t("base-select",{attrs:{title:e.$t("streamType"),options:e.oCap.aStreamList},model:{value:e.oParams.szStreamType,callback:function(t){e.$set(e.oParams,"szStreamType",t)},expression:"oParams.szStreamType"}})],1),e.oCapa.bSupportVideoDestPortNo?t("hm-cell",{class:{"cell-require":e.oParamsValid.oVideoDestPortNo&&e.oParamsValid.oVideoDestPortNo.required},attrs:{title:e.$t("videoDestPortNo")}},[t("hm-input",{model:{value:e.oParams.iVideoDestPortNo,callback:function(t){e.$set(e.oParams,"iVideoDestPortNo",t)},expression:"oParams.iVideoDestPortNo"}}),t("hm-validator",{attrs:{model:e.oParams.iVideoDestPortNo,rules:e.oParamsValid.oVideoDestPortNo,param:e.$t("videoDestPortNo")}})],1):e._e(),e.oCapa.bSupportiAudioDestPortNo?t("hm-cell",{class:{"cell-require":e.oParamsValid.oAudioDestPortNo&&e.oParamsValid.oAudioDestPortNo.required},attrs:{title:e.$t("audioDestPortNo")}},[t("hm-input",{model:{value:e.oParams.iAudioDestPortNo,callback:function(t){e.$set(e.oParams,"iAudioDestPortNo",t)},expression:"oParams.iAudioDestPortNo"}}),t("hm-validator",{attrs:{model:e.oParams.iAudioDestPortNo,rules:e.oParamsValid.oAudioDestPortNo,param:e.$t("audioDestPortNo")}})],1):e._e()],1):e._e(),t("hm-cell-group",{directives:[{name:"show",rawName:"v-show",value:e.authCap.oSupportAuth.bRtsp||e.aRTSPCap.bRTDigestAlgorithm&&("digest"===e.oAuth.szWeb||"digest/basic"===e.oAuth.szWeb),expression:"authCap.oSupportAuth.bRtsp || aRTSPCap.bRTDigestAlgorithm && ('digest' === oAuth.szWeb || 'digest/basic' === oAuth.szWeb)"}],staticClass:"custom-cell-group",attrs:{title:e.$t("rtspAuth")}},[e.authCap.oSupportAuth.bRtsp?t("hm-cell",{attrs:{title:e.$t("authentication")}},[t("base-select",{attrs:{title:e.$t("authentication"),options:e.authCap.aRTSPCap},on:{change:e.rtspOptionChange},model:{value:e.oAuth.szRtsp,callback:function(t){e.$set(e.oAuth,"szRtsp",t)},expression:"oAuth.szRtsp"}})],1):e._e(),!e.aRTSPCap.bRTDigestAlgorithm||"digest"!==e.oAuth.szWeb&&"digest/basic"!==e.oAuth.szWeb?e._e():t("hm-cell",{attrs:{title:e.$t("digestAlgorithm")}},[t("base-select",{attrs:{title:e.$t("digestAlgorithm"),options:e.aRTSPCap.aRTDigestAlgorithm},on:{change:e.RTDigestAlgorithmChange},model:{value:e.oAuth.szRTDigestAlgorithm,callback:function(t){e.$set(e.oAuth,"szRTDigestAlgorithm",t)},expression:"oAuth.szRTDigestAlgorithm"}})],1)],1)],1)],1),t("base-view")],1)])},n=[],o=(a("96cf"),a("1da1")),r=a("e6be"),s=a("6ee6"),l=a("1c1a"),c=a("6458"),u=a("42a1"),d=a("c050"),p=a("8d94"),m=a("47b5"),h={name:"RTSP",components:{BaseView:l["a"],ChannelList:c["a"],BaseSelect:m["a"]},data:function(){return{bLazyLoading:!1,validate:{},oParams:u["a"].m_oParams,oPORTInfo:s["a"]._oPORTInfo,oParamsValidPort:s["a"].m_oParamsValid,oParamsValid:u["a"].m_oParamsValid,oCap:u["a"].m_oCap,oCapa:u["a"].m_oCapa,oChannel:{id:1},oAuth:{},aRTSPCap:{},authCap:{oSupportAuth:{bRtsp:!1}}}},watch:{"oChannel.id":{handler:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t>0&&0!==t&&t!==a&&u["a"].initMulticast(t).finally((function(){}));case 1:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),deep:!0},"oParams.szStreamType":{handler:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t!==a&&u["a"].changeStream().then((function(){}));case 1:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),deep:!0}},created:function(){var e=this;this.oChannel={id:1},s["a"].initPort(),u["a"].initMulticast(this.oChannel.id),r["a"].init().then((function(){e.authCap=r["a"].authCap,e.oAuth=r["a"].oAuth,e.aRTSPCap=r["a"].aRTSPCap}))},methods:{RTDigestAlgorithmChange:function(){var e=this;"MD5"!==this.oAuth.szRTDigestAlgorithm&&d["a"].confirm(p["a"].t("authDigestAlgorithmTip"),(function(){e.oAuth.szRawRTDigestAlgorithm=e.oAuth.szRTDigestAlgorithm}),(function(){e.oAuth.szRTDigestAlgorithm=e.oAuth.szRawRTDigestAlgorithm}))},rtspOptionChange:function(){var e=this;"digest/basic"===this.oAuth.szRtsp&&d["a"].confirm(p["a"].t("enableTLS1_0Tips"),null,(function(){e.oAuth.szRtsp=e.oAuth.szRawRtsp}))},save:function(){var e=this;this.validate.validateAll(),d["a"].validateTips(this.validate.getErrorReport())&&(this.bLazyLoading=!0,s["a"].save().then((function(){u["a"].save(),e.bLazyLoading=!1})))}}},f=h,v=(a("10fa"),a("2877")),b=Object(v["a"])(f,i,n,!1,null,"4f99e3b0",null);t["default"]=b.exports},"76ce":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("RS-485"),"right-type":"text","show-save-button":!0,"save-text":e.$t("save"),"save-button-disabled":!e.oSetting485Info.bChannelSupport,"b-lazy-loading":e.bLazyLoading},on:{"save-handle":e.save}},[t("div",{staticClass:"rs485-page-wrapper",attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"hm-index-list-item"},[e.bSupportChannelList?t("channel-list",{attrs:{"o-channel":e.oChannel}}):e._e(),t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("baudRate")}},[t("base-select",{attrs:{title:e.$t("baudRate"),options:e.aBaudRate,disabled:e.oDisabled.bBaudRate},model:{value:e.oSetting485Info.szBaudRate,callback:function(t){e.$set(e.oSetting485Info,"szBaudRate",t)},expression:"oSetting485Info.szBaudRate"}})],1),t("hm-cell",{attrs:{title:e.$t("dataBit")}},[t("base-select",{attrs:{title:e.$t("dataBit"),options:e.oSetting485Info.aDataBit,disabled:e.oDisabled.bDataBit},model:{value:e.oSetting485Info.szDataBit,callback:function(t){e.$set(e.oSetting485Info,"szDataBit",t)},expression:"oSetting485Info.szDataBit"}})],1),t("hm-cell",{attrs:{title:e.$t("stopBit")}},[t("base-select",{attrs:{title:e.$t("stopBit"),options:e.oSetting485Info.aStopBit,disabled:e.oDisabled.bStopBit},model:{value:e.oSetting485Info.szStopBit,callback:function(t){e.$set(e.oSetting485Info,"szStopBit",t)},expression:"oSetting485Info.szStopBit"}})],1),t("hm-cell",{attrs:{title:e.$t("parity")}},[t("base-select",{attrs:{title:e.$t("parity"),options:e.oSetting485Info.aParityType,disabled:e.oDisabled.bParity},model:{value:e.oSetting485Info.szParity,callback:function(t){e.$set(e.oSetting485Info,"szParity",t)},expression:"oSetting485Info.szParity"}})],1),t("hm-cell",{attrs:{title:e.$t("flowCtrl")}},[t("base-select",{attrs:{title:e.$t("flowCtrl"),options:e.oSetting485Info.aFlowCtrl,disabled:e.oDisabled.bFlowCtrl},model:{value:e.oSetting485Info.szFlowCtrl,callback:function(t){e.$set(e.oSetting485Info,"szFlowCtrl",t)},expression:"oSetting485Info.szFlowCtrl"}})],1),t("hm-cell",{attrs:{title:e.$t("ptzProtocol")}},[t("base-select",{attrs:{title:e.$t("ptzProtocol"),options:e.aControlProtocol,disabled:e.oDisabled.bControlProtocol,change:e.changeControlProtocol()},model:{value:e.oSetting485Info.szControlProtocol,callback:function(t){e.$set(e.oSetting485Info,"szControlProtocol",t)},expression:"oSetting485Info.szControlProtocol"}})],1),t("hm-cell",{class:{"cell-require":e.oValidate.test&&e.oValidate.test.required},attrs:{title:e.$t("ptzAddress")}},[t("hm-input",{attrs:{placeholder:e.$t("pleaseEnter"),disabled:e.oDisabled.bControlAddress},model:{value:e.oSetting485Info.szControlAddress,callback:function(t){e.$set(e.oSetting485Info,"szControlAddress",t)},expression:"oSetting485Info.szControlAddress"}}),t("hm-validator",{attrs:{model:e.oSetting485Info.szControlAddress,rules:e.oValidate.test,param:e.$t("ptzAddress")}})],1)],1)],1)],1),t("base-view")],1)])},n=[],o=a("5472"),r=o["a"],s=(a("f0ca"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"31eaa452",null);t["default"]=l.exports},7776:function(e,t,a){"use strict";(function(e){var i=a("2909"),n=(a("456d"),a("6b54"),a("ac6a"),a("7514"),a("96cf"),a("1da1")),o=(a("0d6d"),a("3a1b")),r=a("768a"),s=a("7de8"),l=a("f193"),c=a("d09c"),u=a("4bf0"),d=a("9741"),p=a("1f20"),m=a("c050"),h=a("47b5"),f=a("e658");t["a"]={components:{BaseModal:u["a"],userPermission:o["default"],BaseSelect:h["a"],CommonTable:f["a"]},data:function(){var e=null;return e=0===d["a"].iDeviceType?{bRemoteSetParam:!0,bRemoteLog:!0,bRemoteUpgrade:!0,bRemoteTalk:!0,bRemoteReboot:!0,bRemoteAlarm:!0,bRemoteCtrl:!0,bRemoteRS:!0,bRemoteIPCCfg:!0,bRemotePreview:!0,bRemoteManualRecord:!0,bRemotePTZControl:!0,bRemotePlayback:!0}:{bRemoteSetParam:!1,bRemoteLog:!1,bRemoteUpgrade:!1,bRemoteTalk:!1,bRemoteReboot:!1,bRemoteAlarm:!1,bRemoteCtrl:!1,bRemoteRS:!1,bRemoteIPCCfg:!1,bRemotePreview:!1,bRemoteManualRecord:!1,bRemotePTZControl:!1,bRemotePlayback:!1},{userList:[],showAddUser:!1,valid:{},userLevelList:[{text:this.$t("administrator"),value:"Administrator"},{text:this.$t("operator"),value:"Operator"},{text:this.$t("user"),value:"Viewer"}],userLevelNameMap:{Administrator:this.$t("administrator"),Operator:this.$t("operator"),Viewer:this.$t("user")},userLevel:"",showModal:!1,oLevelPermissionCap:{admin:{},viewer:{},operator:{}},oPermissionCap:{bLocal:!0,bRemoteIPCCfg:!1,bLocalIPCCfg:!0,bShowANPRBlackWhite:!1,bShowApplicationWarehouse:!1},bSupportLocalPreview:!1,oLevelPermissionCapList:e,oUserInfo:{id:0,szUsername:"",szUserType:"operator",oldPassword:"",newPassword:"",confirmPass:"",oLocalPermission:{bLocalUpgrade:!1,bLocalReboot:!1,bLocalSetParam:!1,bLocalLog:!1,bLocalIPCCfg:!1,oLocalPreview:{bChecked:!0,oChannel:[],bSupport:!1},oLocalPlayback:{bChecked:!0,oChannel:[],oDualChannel:[]},oLocalManualRecord:{bChecked:!0,oChannel:[]},oLocalPTZControl:{bChecked:!0,oChannel:[]},oLocalBackup:{bChecked:!0,oChannel:[],oDualChannel:[]}},oRemotePermission:{bRemoteSetParam:!1,bRemoteLog:!1,bRemoteUpgrade:!1,bRemoteTalk:!1,bRemoteReboot:!1,bRemoteAlarm:!1,bRemoteCtrl:!1,bRemoteRS:!1,bRemoteIPCCfg:!1,bRemoteANPRBlackWhite:!1,bRemoteApplicationWarehouse:!1,oRemotePreview:{bChecked:!0,oChannel:[]},oRemoteManualRecord:{bChecked:!0,oChannel:[]},oRemotePTZControl:{bChecked:!0,oChannel:[]},oRemotePlayback:{bChecked:!0,oChannel:[],oDualChannel:[]}},Permission:"Local",szSelPermission:"",bShowChannel:!1,bAdmin:!1,bUserType:!1,bUserAbility:!1,oAllChannel:{},oAllDualChannel:{},bSelAllPermission:!1,isAllPermissionIndeterminate:!1,bSelAllChannel:!1,isAllChannelIndeterminate:!1,bSelAllDualChannel:!1,isAllDualChannelIndeterminate:!1,bShowDualChannel:!0,bEnableDoubleVerification:!1,bDisableChannel:!1},oPwd:{bExtendCheck:!1,bChangeOwnPwd:!0,bShowOldPwd:!0},oLevelToType:{Administrator:"admin",Operator:"operator",Viewer:"viewer"},oAllChannel:{},oAllDualChannel:{},showUpdateUser:!1,selectUserInfo:{},permissionMap:Object.freeze({bLocalIPCCfg:this.$t("localCameraManage"),bLocalLog:this.$t("localLog"),bLocalReboot:this.$t("localReboot"),bLocalSetParam:this.$t("localParamSet"),bLocalUpgrade:this.$t("localUpgrade"),oLocalBackup:this.$t("localBackup"),oLocalManualRecord:this.$t("localManualOperation"),oLocalPTZControl:this.$t("localPTZCtrl"),oLocalPlayback:this.$t("localPlayback"),oLocalPreview:this.$t("localPreview"),bRemoteANPRBlackWhite:this.$t("remoteANPRBlackWhite"),bRemoteAlarm:this.$t("remoteAlarm"),bRemoteCtrl:this.$t("remoteOutputCtrl"),bRemoteIPCCfg:this.$t("remoteCameraManage"),bRemoteLog:this.$t("remoteLog"),bRemoteRS:this.$t("remoteRS"),bRemoteReboot:this.$t("remoteReboot"),bRemoteSetParam:this.$t("remoteParamSet"),bRemoteTalk:this.$t("remoteTalk"),bRemoteUpgrade:this.$t("remoteUpgrade"),oRemoteManualRecord:this.$t("remoteManualRecord"),oRemotePTZControl:this.$t("remotePTZCtrl"),oRemotePlayback:this.$t("remotePlaybackOrDownload"),oRemotePreview:this.$t("remotePreview")}),permissionStringList:[],userOperationTitle:"",userOperationButton:"",opretionType:"",oXmlDoc:null,defaultPassword:"",dialog:null,bSecurityEnabled:p["a"].m_oDeviceCapa.bIsSecurityEnable,isScoll:!1,validate:{},oParamsValid:{oUserName:{required:!0,lengthRange:[0,32],pattern:/^[a-zA-Z0-9!#$%&'()*+,-./;<=>?@\[\]^_`{|}~\s*]+$/},oOldPassword:{required:!0,lengthRange:[0,16]},oNewPassword:{required:!0,lengthRange:[8,16]},oConfirmPass:{required:!0}},maxUserNum:32,btnsTips:[{action:"delete",text:this.$t("delete"),color:"#ff3a32"}],tableData:[]}},watch:{userList:function(){var e=this,t=this.userList.map((function(e){return{userName:e.userName,userLevel:e.userLevel,userLevelName:e.userLevelName,title:e.userName,label:e.userLevelName,id:e.id,"is-link":!0,center:!0,disabled:"Administrator"===e.userLevel}}));this.tableData=t,setTimeout((function(){e.$refs.table.refresh()}))}},created:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r["a"].bGetChannelList){e.next=3;break}return e.next=3,r["a"].getChannelList();case 3:this.initChannel(this.oAllChannel,!1),this.initChannel(this.oAllDualChannel,!1),this.getPermissionCapa(),this.getUserInfo(),this.changeUserType("Operator");case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{goback:function(){this.showAddUser=!1},getUserInfo:function(){var t=this;return this.userList.length=0,new Promise((function(a){var i={urlCGI:"user",params:null,data:null,loading:!0};l["a"].get(i).then((function(i){var n=i.oResult;t.oXmlDoc=n,e.each(e(n).find("User"),(function(e,a){t.userList.push({userName:s["a"].nodeValue(a,"userName"),userLevel:s["a"].nodeValue(a,"userLevel"),userLevelName:t.userLevelNameMap[s["a"].nodeValue(a,"userLevel")],id:s["a"].nodeValue(a,"id")}),"Administrator"===s["a"].nodeValue(a,"userLevel")&&(t.oUserInfo.bAdmin=!0)})),a()}),(function(e){c["a"].saveState(e),a()}))}))},addUser:function(){this.userList.length>=this.maxUserNum?m["a"].tip(this.$t("userLimit")):this.oUserInfo.bAdmin&&(this.userLevelList=[{text:this.$t("operator"),value:"Operator"},{text:this.$t("user"),value:"Viewer"}],this.opretionType="ADD",this.userOperationTitle=this.$t("addUser"),this.userOperationButton=this.$t("confirm"),this.oUserInfo.oLocalPermission.oLocalPreview.bSupport=this.bSupportLocalPreview,this.oUserInfo.bShowChannel=!1,this.oUserInfo.bShowDualChannel=!1,this.oUserInfo.szUsername="",this.oUserInfo.szUserType="Operator",this.oUserInfo.newPassword="",this.oUserInfo.confirmPass="",this.oUserInfo.oldPassword="",this.oUserInfo.bUserType=!1,this.oUserInfo.bDisableChannel=!1,this.oUserInfo.bSelAllPermission=!1,this.changeUserType(this.oUserInfo.szUserType),this.showAddUser=!0)},changeUserType:function(e){this.oUserInfo.oLocalPermission.bLocalUpgrade=!1,this.oUserInfo.oLocalPermission.bLocalReboot=!1,this.oUserInfo.oLocalPermission.bLocalSetParam=!1,this.oUserInfo.oLocalPermission.bLocalLog=!1,this.oUserInfo.oLocalPermission.bLocalIPCCfg=!1,this.oUserInfo.oLocalPermission.oLocalPreview.bChecked=!0,this.oUserInfo.oLocalPermission.oLocalPlayback.bChecked=!1,this.oUserInfo.oLocalPermission.oLocalManualRecord.bChecked=!1,this.oUserInfo.oLocalPermission.oLocalPTZControl.bChecked=!1,this.oUserInfo.oLocalPermission.oLocalBackup.bChecked=!1,this.oUserInfo.oRemotePermission.bRemoteSetParam=!1,this.oUserInfo.oRemotePermission.bRemoteLog=!1,this.oUserInfo.oRemotePermission.bRemoteUpgrade=!1,this.oUserInfo.oRemotePermission.bRemoteTalk=!1,this.oUserInfo.oRemotePermission.bRemoteReboot=!1,this.oUserInfo.oRemotePermission.bRemoteAlarm=!1,this.oUserInfo.oRemotePermission.bRemoteCtrl=!1,this.oUserInfo.oRemotePermission.bRemoteRS=!1,this.oUserInfo.oRemotePermission.bRemoteIPCCfg=!1,this.oUserInfo.oRemotePermission.oRemotePreview.bChecked=!0,this.oUserInfo.oRemotePermission.oRemoteManualRecord.bChecked=!1,this.oUserInfo.oRemotePermission.oRemotePTZControl.bChecked=!1,this.oUserInfo.oRemotePermission.oRemotePlayback.bChecked=!1,this.oUserInfo.oRemotePermission.bRemoteANPRBlackWhite=!1,this.initChannel(this.oUserInfo.oLocalPermission.oLocalPreview.oChannel,!0),this.initChannel(this.oUserInfo.oLocalPermission.oLocalPlayback.oChannel,!1),this.initChannel(this.oUserInfo.oLocalPermission.oLocalManualRecord.oChannel,!1),this.initChannel(this.oUserInfo.oLocalPermission.oLocalPTZControl.oChannel,!1),this.initChannel(this.oUserInfo.oLocalPermission.oLocalBackup.oChannel,!1),this.initChannel(this.oUserInfo.oRemotePermission.oRemotePreview.oChannel,!0),this.initChannel(this.oUserInfo.oRemotePermission.oRemoteManualRecord.oChannel,!1),this.initChannel(this.oUserInfo.oRemotePermission.oRemotePTZControl.oChannel,!1),this.initChannel(this.oUserInfo.oRemotePermission.oRemotePlayback.oChannel,!1),this.initChannel(this.oUserInfo.oLocalPermission.oLocalPlayback.oDualChannel,!1),this.initChannel(this.oUserInfo.oLocalPermission.oLocalBackup.oDualChannel,!1),"Operator"===e?(this.oUserInfo.bUserType=!1,this.oUserInfo.bUserAbility=!1,this.oUserInfo.oRemotePermission.bRemoteTalk=!0,this.oUserInfo.oLocalPermission.bLocalLog=!0,this.oUserInfo.oLocalPermission.oLocalPlayback.bChecked=!0,this.oUserInfo.oLocalPermission.oLocalManualRecord.bChecked=!0,this.oUserInfo.oLocalPermission.oLocalPTZControl.bChecked=!0,this.oUserInfo.oLocalPermission.oLocalBackup.bChecked=!0,this.oUserInfo.oRemotePermission.bRemoteLog=!0,this.oUserInfo.oRemotePermission.oRemotePreview.bChecked=!0,this.oUserInfo.oRemotePermission.oRemoteManualRecord.bChecked=!0,this.oUserInfo.oRemotePermission.oRemotePTZControl.bChecked=!0,this.oUserInfo.oRemotePermission.oRemotePlayback.bChecked=!0,this.initChannel(this.oUserInfo.oLocalPermission.oLocalPlayback.oChannel,!0),this.initChannel(this.oUserInfo.oRemotePermission.oRemotePlayback.oChannel,!0),this.initChannel(this.oUserInfo.oLocalPermission.oLocalManualRecord.oChannel,!0),this.initChannel(this.oUserInfo.oLocalPermission.oLocalPTZControl.oChannel,!0),this.initChannel(this.oUserInfo.oLocalPermission.oLocalBackup.oChannel,!0),this.initChannel(this.oUserInfo.oRemotePermission.oRemotePreview.oChannel,!0),this.initChannel(this.oUserInfo.oRemotePermission.oRemoteManualRecord.oChannel,!0),this.initChannel(this.oUserInfo.oRemotePermission.oRemotePTZControl.oChannel,!0)):this.oUserInfo.bUserAbility=!0},initChannel:function(t,a){e.isArray(t)?(t.splice(0,t.length),e.each(r["a"].m_aAnalogChId,(function(e,i){t.push({channelID:i,channelType:"A",checked:a})})),e.each(r["a"].m_aDigitalChId,(function(e,i){t.push({channelID:i,channelType:"D",checked:a})}))):(e.each(r["a"].m_aAnalogChId,(function(e,i){t[i]=a})),e.each(r["a"].m_aDigitalChId,(function(e,i){t[i]=a})))},cancelCallbackUpdate:function(){this.showUpdateUser=!1},settingPermission:function(){this.showModal=!0},close:function(){this.showModal=!1},getPermissionCapa:function(){var t=this;e.each(t.oLevelPermissionCap,(function(e){t.getLevelPermissionCapa(e)}))},getLevelPermissionCapa:function(t){var a=this,i=this,n=t||this.oUserInfo.szUserType,o=e.extend({},i.oLevelPermissionCapList);if("viewer"===n?e.extend(o,{bRemoteLog:!0,bRemotePlayback:!0}):"operator"===n?e.extend(o,{bRemoteLog:!0,bRemoteTalk:!0,bRemotePreview:!0,bRemoteManualRecord:!0,bRemotePTZControl:!0,bRemotePlayback:!0}):"admin"===n&&e.each(o,(function(e){o[e]=!0})),e.extend(i.oLevelPermissionCap[n],o),"admin"===n){var r={urlCGI:"userPermission",params:{user:1}};l["a"].get(r).then((function(t){var n=t.oResult;0===e(n).find("localPermission").length&&(a.oPermissionCap.bLocal=!1),e(n).find("localPermission").length>0&&(a.oPermissionCap.bRemoteIPCCfg=!0,i.bSupportLocalPreview=i.oUserInfo.oLocalPermission.oLocalPreview.bSupport=e(n).find("localPermission preview").length>0)}))}else{var c={urlCGI:"userPermissionCap",params:{userType:n+"Cap"}};l["a"].get(c).then((function(t){var i=t.oResult,o=a.oLevelPermissionCap[n]={},r=e(i).find("UserPermissionCap remotePermissionCap").eq(0);s["a"].nodeValue(r,"preview","b")&&(o.bRemotePreview=!0),s["a"].nodeValue(r,"ptzControl","b")&&(o.bRemotePTZControl=!0),s["a"].nodeValue(r,"record","b")&&(o.bRemoteManualRecord=!0),s["a"].nodeValue(r,"playBack","b")&&(o.bRemotePlayback=!0),s["a"].nodeValue(r,"parameterConfig","b")&&(o.bRemoteSetParam=!0),s["a"].nodeValue(r,"restartOrShutdown","b")&&(o.bRemoteReboot=!0),s["a"].nodeValue(r,"upgrade","b")&&(o.bRemoteUpgrade=!0),s["a"].nodeValue(r,"logOrStateCheck","b")&&(o.bRemoteLog=!0),s["a"].nodeValue(r,"voiceTalk","b")&&(o.bRemoteTalk=!0),s["a"].nodeValue(r,"transParentChannel","b")&&(o.bRemoteRS=!0),s["a"].nodeValue(r,"contorlLocalOut","b")&&(o.bRemoteCtrl=!0),s["a"].nodeValue(r,"alarmOutOrUpload","b")&&(o.bRemoteAlarm=!0),s["a"].nodeValue(r,"LPListAudit","b")&&(o.bRemoteANPRBlackWhite=s["a"].nodeAttr(r,"LPListAudit","def","b")),s["a"].nodeValue(r,"applicationWarehouse","b")&&(a.oPermissionCap.bShowApplicationWarehouse=s["a"].nodeAttr(r,"applicationWarehouse","def","b"))}))}},confirm:function(){this.showModal=!1},userOpeartion:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.validate.validateAll();case 2:if(m["a"].validateTips(this.validate.getErrorReport()),this.oUserInfo.newPassword===this.oUserInfo.confirmPass||!this.validate.valid){e.next=6;break}return this.$createDialog({content:this.$t("passNotMatch")}).show(),e.abrupt("return");case 6:if(!(this.oUserInfo.newPassword!==this.defaultPassword&&s["a"].getPasswordStrength(this.oUserInfo.szUsername,this.oUserInfo.newPassword)<1&&this.validate.valid)){e.next=9;break}return this.$createDialog({content:this.$t("riskPassword")}).show(),e.abrupt("return");case 9:this.validate.valid&&("ADD"===this.opretionType?this.addNewUser():this.updateUser());case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),updateUser:function(){var t=this,a=this,i="<?xml version='1.0' encoding='UTF-8'?>";i+="<User><id>"+this.oUserInfo.id+"</id><userName>"+s["a"].encodeString(a.oUserInfo.szUsername)+"</userName>",a.oPwd.bShowOldPwd&&(i+="<loginPassword>"+s["a"].encodeString(a.oUserInfo.oldPassword)+"</loginPassword>"),a.oUserInfo.newPassword!==a.defaultPassword&&(i+="<password>"+s["a"].encodeString(a.oUserInfo.newPassword)+"</password>"),i+="<bondIpList><bondIp><id>1</id><ipAddress>0.0.0.0</ipAddress><ipv6Address>::</ipv6Address></bondIp></bondIpList><macAddress></macAddress>",i+="<userLevel>"+a.oUserInfo.szUserType+"</userLevel>",i+="<attribute><inherent>"+e(a.oXmlDoc).find("User").eq(this.oUserInfo.id-1).find("inherent").eq(0).text()+"</inherent></attribute>",i+="</User>";var n=s["a"].parseXmlFromStr(i);return l["a"].put({urlCGI:"userModify",params:{user:this.oUserInfo.id},loading:!0,data:n}).then((function(e){"1"===t.oUserInfo.id&&c["a"].saveState(e.xhr),t.userList.forEach((function(e){e.id===t.oUserInfo.id&&(e.userName=t.oUserInfo.szUsername,e.userLevel=t.oUserInfo.szUserType,e.userLevelName=t.userLevelNameMap[e.userLevel])})),"1"!==t.selectUserInfo.id?t.setUserPermission(t.selectUserInfo.id,"update"):t.showAddUser=!1}),(function(e){c["a"].saveState(e)}))},remove:function(e){var t=this;this.dialog&&(this.dialog.$data.promptValue="");var a="";function i(i,n){"confirm"===i?a?(t.delUser(e,a),t.showAddUser=!1,n()):this.$createDialog({content:t.$t("adminPwdNull")}).show():n()}this.dialog=this.$createDialog({type:"prompt",title:this.$t("adminPwd"),prompt:{placeholder:""},beforeClose:i,onConfirm:function(e,t){a=t}}),this.dialog.show();var n=document.getElementsByClassName("hm-input-field");n[0].setAttribute("type","password")},delUser:function(e,t){var a=this,i={urlCGI:"userDelete",params:{user:e,loginPassword:t},loading:!0};l["a"].delete(i).then((function(){a.getUserInfo()}),(function(e){c["a"].saveState(e)}))},addNewUser:function(){var t=this,a="<?xml version='1.0' encoding='UTF-8'?>";a+="<User><id>0</id><userName>"+s["a"].encodeString(this.oUserInfo.szUsername)+"</userName>",this.oPwd.bShowOldPwd&&(a+="<loginPassword>"+s["a"].encodeString(this.oUserInfo.oldPassword)+"</loginPassword>"),a+="<password>"+s["a"].encodeString(this.oUserInfo.newPassword)+"</password>",a+="<bondIpList><bondIp><id>1</id><ipAddress>0.0.0.0</ipAddress><ipv6Address>::</ipv6Address></bondIp></bondIpList><macAddress></macAddress>",a+="<userLevel>"+this.oUserInfo.szUserType+"</userLevel>",a+="<attribute><inherent>false</inherent></attribute>",a+="</User>";var i=s["a"].parseXmlFromStr(a);return new Promise((function(a,n){l["a"].post({urlCGI:"user",data:i,loading:!0}).then((function(i){var n=i.oResult,o=s["a"].nodeValue(e(n),"id");t.getUserInfo(),t.setUserPermission(o,"add"),t.showAddUser=!1,a(o)}),(function(e){c["a"].saveState(e),n()}))}))},setUserPermission:function(e,t){var a=this,i="",n=null;if(i="<?xml version='1.0' encoding='utf-8'?>",i+="<UserPermission><id>"+e+"</id><userID>"+e+"</userID>",i+="<userType>"+this.oLevelToType[this.oUserInfo.szUserType]+"</userType>",this.oPermissionCap.bLocal){for(var o in i+="<localPermission>",i+="<upgrade>"+this.oUserInfo.oLocalPermission.bLocalUpgrade.toString()+"</upgrade>",i+="<parameterConfig>"+this.oUserInfo.oLocalPermission.bLocalSetParam.toString()+"</parameterConfig>",i+="<restartOrShutdown>"+this.oUserInfo.oLocalPermission.bLocalReboot.toString()+"</restartOrShutdown>",i+="<logOrStateCheck>"+this.oUserInfo.oLocalPermission.bLocalLog.toString()+"</logOrStateCheck>",i+="<manageChannel>"+this.oUserInfo.oLocalPermission.bLocalIPCCfg.toString()+"</manageChannel>",i+="<preview>"+this.oUserInfo.oLocalPermission.oLocalPreview.bChecked.toString()+"</preview>",i+="<playBack>"+this.oUserInfo.oLocalPermission.oLocalPlayback.bChecked.toString()+"</playBack>",i+="<record>"+this.oUserInfo.oLocalPermission.oLocalManualRecord.bChecked.toString()+"</record>",i+="<ptzControl>"+this.oUserInfo.oLocalPermission.oLocalPTZControl.bChecked.toString()+"</ptzControl>",i+="<backup>"+this.oUserInfo.oLocalPermission.oLocalBackup.bChecked.toString()+"</backup>",i+="<videoChannelPermissionList>",this.oAllChannel)i+="<videoChannelPermission>",i+="<id>"+o+"</id>",i+="<preview>"+this.getChannelPermissionChecked(this.oUserInfo.oLocalPermission.oLocalPreview.oChannel,o)+"</preview>",i+="<playBack>"+this.getChannelPermissionChecked(this.oUserInfo.oLocalPermission.oLocalPlayback.oChannel,o)+"</playBack>",i+="<record>"+this.getChannelPermissionChecked(this.oUserInfo.oLocalPermission.oLocalManualRecord.oChannel,o)+"</record>",i+="<backup>"+this.getChannelPermissionChecked(this.oUserInfo.oLocalPermission.oLocalBackup.oChannel,o)+"</backup>",i+="<playBackDoubleVerification>"+this.getChannelPermissionChecked(this.oUserInfo.oLocalPermission.oLocalPlayback.oDualChannel,o)+"</playBackDoubleVerification>",i+="<backupDoubleVerification>"+this.getChannelPermissionChecked(this.oUserInfo.oLocalPermission.oLocalBackup.oDualChannel,o)+"</backupDoubleVerification>",i+="</videoChannelPermission>";for(var r in i+="</videoChannelPermissionList>",i+="<ptzChannelPermissionList>",this.oAllChannel)i+="<ptzChannelPermission>",i+="<id>"+r+"</id>",i+="<ptzControl>"+this.getChannelPermissionChecked(this.oUserInfo.oLocalPermission.oLocalPTZControl.oChannel,r)+"</ptzControl>",i+="</ptzChannelPermission>";i+="</ptzChannelPermissionList>",i+="</localPermission>"}for(var u in i+="<remotePermission>",i+="<parameterConfig>"+this.oUserInfo.oRemotePermission.bRemoteSetParam.toString()+"</parameterConfig>",i+="<logOrStateCheck>"+this.oUserInfo.oRemotePermission.bRemoteLog.toString()+"</logOrStateCheck>",i+="<upgrade>"+this.oUserInfo.oRemotePermission.bRemoteUpgrade.toString()+"</upgrade>",i+="<voiceTalk>"+this.oUserInfo.oRemotePermission.bRemoteTalk.toString()+"</voiceTalk>",i+="<restartOrShutdown>"+this.oUserInfo.oRemotePermission.bRemoteReboot.toString()+"</restartOrShutdown>",i+="<alarmOutOrUpload>"+this.oUserInfo.oRemotePermission.bRemoteAlarm.toString()+"</alarmOutOrUpload>",i+="<contorlLocalOut>"+this.oUserInfo.oRemotePermission.bRemoteCtrl.toString()+"</contorlLocalOut>",i+="<transParentChannel>"+this.oUserInfo.oRemotePermission.bRemoteRS.toString()+"</transParentChannel>",this.oPermissionCap.bRemoteIPCCfg&&(i+="<manageChannel>"+this.oUserInfo.oRemotePermission.bRemoteIPCCfg.toString()+"</manageChannel>"),i+="<preview>"+this.oUserInfo.oRemotePermission.oRemotePreview.bChecked.toString()+"</preview>",i+="<record>"+this.oUserInfo.oRemotePermission.oRemoteManualRecord.bChecked.toString()+"</record>",i+="<ptzControl>"+this.oUserInfo.oRemotePermission.oRemotePTZControl.bChecked.toString()+"</ptzControl>",i+="<playBack>"+this.oUserInfo.oRemotePermission.oRemotePlayback.bChecked.toString()+"</playBack>",i+="<videoChannelPermissionList>",this.oAllChannel)i+="<videoChannelPermission>",i+="<id>"+u+"</id>",i+="<preview>"+this.getChannelPermissionChecked(this.oUserInfo.oRemotePermission.oRemotePreview.oChannel,u)+"</preview>",i+="<record>"+this.getChannelPermissionChecked(this.oUserInfo.oRemotePermission.oRemoteManualRecord.oChannel,u)+"</record>",i+="<playBack>"+this.getChannelPermissionChecked(this.oUserInfo.oRemotePermission.oRemotePlayback.oChannel,u)+"</playBack>",i+="<playBackDoubleVerification>"+this.getChannelPermissionChecked(this.oUserInfo.oRemotePermission.oRemotePlayback.oDualChannel,u)+"</playBackDoubleVerification>",i+="</videoChannelPermission>";for(var d in i+="</videoChannelPermissionList>",i+="<ptzChannelPermissionList>",this.oAllChannel)i+="<ptzChannelPermission>",i+="<id>"+d+"</id>",i+="<ptzControl>"+this.getChannelPermissionChecked(this.oUserInfo.oRemotePermission.oRemotePTZControl.oChannel,d)+"</ptzControl>",i+="</ptzChannelPermission>";i+="</ptzChannelPermissionList>",this.oPermissionCap.bShowANPRBlackWhite&&(i+="<LPListAudit>"+this.oUserInfo.oRemotePermission.bRemoteANPRBlackWhite.toString()+"</LPListAudit>"),this.oPermissionCap.bShowApplicationWarehouse&&(i+="<applicationWarehouse>"+this.oUserInfo.oRemotePermission.bRemoteApplicationWarehouse.toString()+"</applicationWarehouse>"),i+="</remotePermission></UserPermission>",n=s["a"].parseXmlFromStr(i),l["a"].put({urlCGI:"userPermission",params:{user:e},data:n}).then((function(e){c["a"].saveState(e.xhr),"update"===t&&(a.createUserPermissionList(),a.showAddUser=!1)}),(function(e){c["a"].saveState(e)}))},getChannelPermissionChecked:function(e,t){for(var a="",i=0;i<e.length;i++)if(parseInt(e[i].channelID,10)===parseInt(t,10)){a=e[i].checked;break}return""===a&&(a="false"),a.toString()},getUserDetailPermission:function(e){var t={urlCGI:"userPermission",params:{user:e}};return new Promise((function(e,a){l["a"].get(t).then((function(t){var a=t.oResult;e(a)}),(function(e){c["a"].saveState(e),a()}))}))},getChannelPermission:function(t,a,i){e.each(t,(function(e,t){parseInt(t.channelID,10)===parseInt(a,10)&&(t.checked=i)}))},selectUser:function(t){var a=this;this.selectUserInfo=t,"Administrator"===t.userLevel?this.userLevelList=[{text:this.$t("administrator"),value:"Administrator"},{text:this.$t("operator"),value:"Operator"},{text:this.$t("user"),value:"Viewer"}]:this.userLevelList=[{text:this.$t("operator"),value:"Operator"},{text:this.$t("user"),value:"Viewer"}],this.getUserDetailPermission(t.id).then((function(t){var i=a,n=null,o=null,r=0;n=e(t).find("localPermission").eq(0),i.oUserInfo.oLocalPermission.bLocalUpgrade=s["a"].nodeValue(n,"upgrade","b"),i.oUserInfo.oLocalPermission.bLocalReboot=s["a"].nodeValue(n,"restartOrShutdown","b"),i.oUserInfo.oLocalPermission.bLocalSetParam=s["a"].nodeValue(n,"parameterConfig","b"),i.oUserInfo.oLocalPermission.bLocalLog=s["a"].nodeValue(n,"logOrStateCheck","b"),i.oUserInfo.oLocalPermission.bLocalIPCCfg=s["a"].nodeValue(n,"manageChannel","b"),i.oUserInfo.oLocalPermission.oLocalPreview.bSupport=e(n).find("preview").length>0,i.oUserInfo.oLocalPermission.oLocalPreview.bChecked=s["a"].nodeValue(n,"preview","b"),i.oUserInfo.oLocalPermission.oLocalPlayback.bChecked=s["a"].nodeValue(n,"playBack","b"),i.oUserInfo.oLocalPermission.oLocalManualRecord.bChecked=s["a"].nodeValue(n,"record","b"),i.oUserInfo.oLocalPermission.oLocalPTZControl.bChecked=s["a"].nodeValue(n,"ptzControl","b"),i.oUserInfo.oLocalPermission.oLocalBackup.bChecked=s["a"].nodeValue(n,"backup","b"),n.find("videoChannelPermission").each((function(e,t){r=s["a"].nodeValue(t,"id","i"),i.getChannelPermission(i.oUserInfo.oLocalPermission.oLocalPreview.oChannel,r,s["a"].nodeValue(t,"preview","b")),i.getChannelPermission(i.oUserInfo.oLocalPermission.oLocalPlayback.oChannel,r,s["a"].nodeValue(t,"playBack","b")),i.getChannelPermission(i.oUserInfo.oLocalPermission.oLocalManualRecord.oChannel,r,s["a"].nodeValue(t,"record","b")),i.getChannelPermission(i.oUserInfo.oLocalPermission.oLocalBackup.oChannel,r,s["a"].nodeValue(t,"backup","b")),i.getChannelPermission(i.oUserInfo.oLocalPermission.oLocalPlayback.oDualChannel,r,s["a"].nodeValue(t,"playBackDoubleVerification","b")),i.getChannelPermission(i.oUserInfo.oLocalPermission.oLocalBackup.oDualChannel,r,s["a"].nodeValue(t,"backupDoubleVerification","b"))})),n.find("ptzChannelPermission").each((function(e,t){r=s["a"].nodeValue(t,"id","i"),i.getChannelPermission(i.oUserInfo.oLocalPermission.oLocalPTZControl.oChannel,r,s["a"].nodeValue(t,"ptzControl","b"))})),o=e(t).find("remotePermission").eq(0),i.oUserInfo.oRemotePermission.bRemoteSetParam=s["a"].nodeValue(o,"parameterConfig","b"),i.oUserInfo.oRemotePermission.bRemoteLog=s["a"].nodeValue(o,"logOrStateCheck","b"),i.oUserInfo.oRemotePermission.bRemoteUpgrade=s["a"].nodeValue(o,"upgrade","b"),i.oUserInfo.oRemotePermission.bRemoteTalk=s["a"].nodeValue(o,"voiceTalk","b"),i.oUserInfo.oRemotePermission.bRemoteReboot=s["a"].nodeValue(o,"restartOrShutdown","b"),i.oUserInfo.oRemotePermission.bRemoteAlarm=s["a"].nodeValue(o,"alarmOutOrUpload","b"),i.oUserInfo.oRemotePermission.bRemoteCtrl=s["a"].nodeValue(o,"contorlLocalOut","b"),i.oUserInfo.oRemotePermission.bRemoteRS=s["a"].nodeValue(o,"transParentChannel","b"),o.find("manageChannel").length>0?i.oUserInfo.oRemotePermission.bRemoteIPCCfg=s["a"].nodeValue(o,"manageChannel","b"):i.oUserInfo.oRemotePermission.bRemoteIPCCfg=!1,i.oPermissionCap.bShowANPRBlackWhite&&(i.oUserInfo.oRemotePermission.bRemoteANPRBlackWhite=s["a"].nodeValue(o,"LPListAudit","b")),a.oPermissionCap.bShowApplicationWarehouse&&(i.oUserInfo.oRemotePermission.bRemoteApplicationWarehouse=s["a"].nodeValue(o,"applicationWarehouse","b")),i.oUserInfo.oRemotePermission.oRemotePreview.bChecked=s["a"].nodeValue(o,"preview","b"),i.oUserInfo.oRemotePermission.oRemoteManualRecord.bChecked=s["a"].nodeValue(o,"record","b"),i.oUserInfo.oRemotePermission.oRemotePTZControl.bChecked=s["a"].nodeValue(o,"ptzControl","b"),i.oUserInfo.oRemotePermission.oRemotePlayback.bChecked=s["a"].nodeValue(o,"playBack","b"),o.find("videoChannelPermission").each((function(e,t){r=s["a"].nodeValue(t,"id","i"),i.getChannelPermission(i.oUserInfo.oRemotePermission.oRemotePreview.oChannel,r,s["a"].nodeValue(t,"preview","b")),i.getChannelPermission(i.oUserInfo.oRemotePermission.oRemoteManualRecord.oChannel,r,s["a"].nodeValue(t,"record","b")),i.getChannelPermission(i.oUserInfo.oRemotePermission.oRemotePlayback.oChannel,r,s["a"].nodeValue(t,"playBack","b")),i.getChannelPermission(i.oUserInfo.oRemotePermission.oRemotePlayback.oDualChannel,r,s["a"].nodeValue(t,"playBackDoubleVerification","b"))})),o.find("ptzChannelPermission").each((function(e,t){r=s["a"].nodeValue(t,"id","i"),i.getChannelPermission(i.oUserInfo.oRemotePermission.oRemotePTZControl.oChannel,r,s["a"].nodeValue(t,"ptzControl","b"))})),a.createUserPermissionList(),a.beforeChangeUserInfo()}))},permissionListHelper:function(e){var t=this,a=[];return Object.keys(e).forEach((function(i){"boolean"===typeof e[i]?e[i]&&a.push(t.permissionMap[i]):e[i].bChecked&&a.push(t.permissionMap[i])})),a},createUserPermissionList:function(){var e=[],t=[];this.oPermissionCap.bLocal&&(e=this.permissionListHelper(this.oUserInfo.oLocalPermission)),t=this.permissionListHelper(this.oUserInfo.oRemotePermission),this.permissionStringList=[].concat(Object(i["a"])(e),Object(i["a"])(t))},changeUserInfo:function(e){this.oUserInfo.szUsername=e.userName,this.oUserInfo.szUserType=e.userLevel,this.oUserInfo.id=e.id,this.oUserInfo.bUserType=!1,this.oUserInfo.confirmPass=this.defaultPassword,this.oUserInfo.newPassword=this.defaultPassword,this.oUserInfo.oldPassword="",this.userOperationTitle=this.$t("edit"),this.userOperationButton=this.$t("save"),this.opretionType="UPDATE","Administrator"===this.oUserInfo.szUserType?this.oUserInfo.bUserType=!0:"Administrator"===this.selectUserInfo.userLevel||this.oUserInfo.bAdmin||(this.oUserInfo.bUserType=!0),this.showAddUser=!0},beforeChangeUserInfo:function(){this.changeUserInfo(this.selectUserInfo)},beforeScroll:function(){this.isScoll=!0},finishScroll:function(){this.isScoll=!1},onSwipeBtnClick:function(e,t){"delete"===e.action?this.remove(this.userList[t].id):this.$refs.swipeItem[t].shrink()},handleRightClick:function(){"UPDATE"===this.opretionType&&this.remove(this.oUserInfo.id)}}}}).call(this,a("1157"))},"78eb":function(e,t,a){},"78f8":function(e,t,a){"use strict";(function(e){a("a481"),a("28a5"),a("7514"),a("6b54"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("f193"),s=a("8d94"),l=a("7de8"),c=a("9741"),u=a("d09c"),d=function(){function t(){Object(n["a"])(this,t),this.oXmlDoc=null,this.verifyResult={},this.oPnpXmlDoc=null,this.oExtensionXmlDoc=null,this.m_aTimes=[],this.searchOptions=[],this.m_oParams={iMaxLocalHddNum:0,szSearchIp:"",szNfsType:"NFS"},this.aTypeList=[{name:"NAS",value:"NFS"},{name:"IP SAN",value:"iSCSI"}],this.m_oParamsValid={oServerIp:{empty:{value:!1},ip:{},unicast:{},skipVerify:!1,disbaleskipVerify:!0}},this.aSupportMountType=[],this.aNasParam=[],this.aItems=[],this.oTable=null}return Object(o["a"])(t,[{key:"init",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.initParams(),e.next=3,this.getHddCap();case 3:return e.abrupt("return",this.getNfsInfo());case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initParams",value:function(){for(var e=0;e<8;e++)this.aItems[e]=[],this.aItems[e][0]=(e+1).toString(),this.aItems[e][1]="",this.aItems[e][2]="",this.aItems[e][3]="NFS",this.aItems[e][4]=""}},{key:"getHddCap",value:function(){var t=this;return new Promise((function(a,i){var n={urlCGI:"hddCapa",data:null,loading:!0};r["a"].get(n).then((function(i){var n=i.oResult;t.m_oParams.iMaxLocalHddNum=parseInt(e(n).find("hddList").attr("size"),10),a()}),(function(e){i(e)}))}))}},{key:"getNfsInfo",value:function(){var t=this;return this.initParams(),new Promise((function(a,i){var n={urlCGI:"nasInfo",data:null,loading:!0};r["a"].get(n).then((function(i){var n=i.oResult,o=e(n).find("supportMountType").attr("opt"),r=0;if(o&&""!==o){t.aSupportMountType.length=0,o=o.split(","),r=o.length,t.aNasParam.length=0;for(var u=0;u<8;++u)t.aNasParam[u]={mountType:"NFS",userName:"",password:""};for(var d=0;d<r;d++)""!==o[d]&&t.aSupportMountType.push({text:s["a"].t(o[d]),value:o[d]});t.aTypeList=[{text:"NAS",value:"NFS"}]}else t.aTypeList=[{text:"NAS",value:"NFS"},{text:"IP SAN",value:"iSCSI"}];for(var p=0;p<8;p++){var m=[];m[0]=l["a"].nodeValue(e(n).find("nas").eq(p),"id","i")-t.m_oParams.iMaxLocalHddNum,"hostname"===l["a"].nodeValue(e(n).find("nas").eq(p),"addressingFormatType")?m[1]=l["a"].nodeValue(e(n).find("nas").eq(p),"hostName"):e(n).find("nas").eq(p).find("ipAddress").length>0?m[1]=l["a"].nodeValue(e(n).find("nas").eq(p),"ipAddress"):m[1]=l["a"].nodeValue(e(n).find("nas").eq(p),"ipv6Address"),m[2]=l["a"].nodeValue(e(n).find("nas").eq(p),"path"),m[3]=l["a"].nodeValue(e(n).find("nas").eq(p),"nasType");var h=m[0]-1;h>=0&&(t.aItems[h][0]=m[0],t.aItems[h][1]=m[1],t.aItems[h][2]=m[2],t.aItems[h][3]=m[3]);var f=l["a"].nodeValue(e(n).find("nas").eq(p),"userName");o=l["a"].nodeValue(e(n).find("nas").eq(p),"mountType"),t.aNasParam[h]={mountType:""===o?"NFS":o,userName:f,password:""===f?"":c["a"].m_szDefaultPwd}}a()}),(function(e){i(e)}))}))}},{key:"search",value:function(t,a){var n=this,o="<?xml version='1.0' encoding='UTF-8'?>";return o+="<nasServerDescriptor><nasType>"+t+"</nasType><nasServerIP>"+a+"</nasServerIP>",o+="<nasServerPort></nasServerPort></nasServerDescriptor>",o=l["a"].parseXmlFromStr(o),this.searchOptions=[],new Promise(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i={urlCGI:"nasSeach",processData:!1,data:o,loading:!0},t.next=3,r["a"].post(i).then((function(t){var i=t.oResult;e(i).find("nasDirectory").each((function(t){var a=e(i).find("nasDirectory").eq(t);n.searchOptions.push({label:l["a"].nodeValue(a,"directory"),value:l["a"].nodeValue(a,"directory")})})),a()}),(function(e){n.searchOptions=[],a(e)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"save",value:function(){for(var e=this,t="<?xml version='1.0' encoding='UTF-8'?><nasList>",a=0;a<8;a++){var n=this.aItems;t+="<nas><id>"+(parseInt(n[a][0],10)+this.m_oParams.iMaxLocalHddNum)+"</id>",t+="<addressingFormatType>ipaddress</addressingFormatType>",""!==n[a][1]&&""!==n[a][2]?(t+="<ipAddress>"+n[a][1]+"</ipAddress><portNo>0</portNo>",t+="<nasType>"+n[a][3]+"</nasType>",t+="<path>"+n[a][2].replace(/</g,"&lt;"),t+=0===c["a"].iDeviceType?"</path><property>RW</property></nas>":"</path>",e.aSupportMountType.length&&1===c["a"].iDeviceType&&(t+="<mountType>"+e.aNasParam[a].mountType+"</mountType>","SMB/CIFS"===e.aNasParam[a].mountType&&(t+="<userName>"+e.aNasParam[a].userName.replace(/</g,"&lt;")+"</userName>",t+="<password>"+e.aNasParam[a].password.replace(/</g,"&lt;")+"</password>"))):(t+="<ipAddress>0.0.0.0</ipAddress><portNo>0</portNo>",t+="<nasType>NFS</nasType>",t+="<path></path><property>RW</property></nas>"),1===c["a"].iDeviceType&&(t+="<property>RW</property></nas>")}t+="</nasList>";var o=l["a"].parseXmlFromStr(t);return new Promise(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={urlCGI:"nasInfo",processData:!1,loading:!0,data:o},e.next=3,r["a"].put(a).then((function(e){u["a"].saveState(e.xhr),t(e)}),(function(e){u["a"].saveState(e),t(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),t}();t["a"]=new d}).call(this,a("1157"))},7960:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("QoS"),"right-type":"text","show-save-button":!0,"save-text":e.$t("save"),"b-lazy-loading":e.bLazyLoading},on:{"save-handle":e.save}},[t("div",{staticClass:"displayContent",attrs:{slot:"content"},slot:"content"},[t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{class:{"cell-require":e.oParamsValid.oVideoDSCP&&e.oParamsValid.oVideoDSCP.required},attrs:{title:e.$t("videoDSCP")}},[t("hm-input",{model:{value:e.oParams.szVideoDSCP,callback:function(t){e.$set(e.oParams,"szVideoDSCP",t)},expression:"oParams.szVideoDSCP"}}),t("hm-validator",{attrs:{model:e.oParams.szVideoDSCP,rules:e.oParamsValid.oVideoDSCP,param:e.$t("videoDSCP")}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oEADSCP&&e.oParamsValid.oEADSCP.required},attrs:{title:e.$t("eaDSCP")}},[t("hm-input",{model:{value:e.oParams.szEADSCP,callback:function(t){e.$set(e.oParams,"szEADSCP",t)},expression:"oParams.szEADSCP"}}),t("hm-validator",{attrs:{model:e.oParams.szEADSCP,rules:e.oParamsValid.oEADSCP,param:e.$t("eaDSCP")}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oManageDSCP&&e.oParamsValid.oManageDSCP.required},attrs:{title:e.$t("manageDSCP")}},[t("hm-input",{model:{value:e.oParams.szManageDSCP,callback:function(t){e.$set(e.oParams,"szManageDSCP",t)},expression:"oParams.szManageDSCP"}}),t("hm-validator",{attrs:{model:e.oParams.szManageDSCP,rules:e.oParamsValid.oManageDSCP,param:e.$t("manageDSCP")}})],1)],1)],1),t("base-view")],1)])},n=[],o=(a("96cf"),a("1da1")),r=a("1c1a"),s=a("b4ad"),l=a("c050"),c={name:"Qos",components:{BaseView:r["a"]},data:function(){return{bLazyLoading:!1,validate:{},oParams:{},oParamsValid:{oVideoDSCP:{required:!0,range:[0,63]},oEADSCP:{required:!0,range:[0,63]},oManageDSCP:{required:!0,range:[0,63]}}}},created:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s["a"].getQosInfo().finally((function(){t.oParams=s["a"].m_oParams}));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),methods:{save:function(){var e=this;l["a"].validateTips(this.validate.getErrorReport())&&(this.bLazyLoading=!0,s["a"].save().then((function(){e.bLazyLoading=!1})))}}},u=c,d=(a("972b"),a("2877")),p=Object(d["a"])(u,i,n,!1,null,"3a1c9584",null);t["default"]=p.exports},"79d4":function(e,t,a){"use strict";var i=a("d4ec"),n=a("bee2"),o=a("8d94"),r=function(){function e(){Object(i["a"])(this,e)}return Object(n["a"])(e,[{key:"init",value:function(){this.m_oCapbilities={aStepNames:[o["a"].t("smartTest"),o["a"].t("badBlockTest")],aAllOptions:[],aHddOptions:[],oTestStatusOption:{ok:o["a"].t("hddTestOk"),aborted:o["a"].t("hddTestAborted"),interrupted:o["a"].t("hddTestInterrupted"),failed:o["a"].t("hddTestFailed"),unkown:o["a"].t("hddTestUnkown"),electronic_element_error:o["a"].t("hddTestElectronicError"),servo_error:o["a"].t("hddTestServoError"),read_failed:o["a"].t("hddTestReadFailed"),progress:o["a"].t("hddTestProgress"),not_tested:o["a"].t("hddTestNotTested"),not_recognized:o["a"].t("hddTestNotRecognized")},oTestSelfEvaluaingOpt:{ok:o["a"].t("selfEvaluaingPass"),error:o["a"].t("selfEvaluaingError")},oTestAllEvaluaingOpt:{functional:o["a"].t("allEvaluaingFunctional"),badsectors:o["a"].t("allEvaluaingBadsectors"),fault:o["a"].t("allEvaluaingFault")},oHddTestStatus:{none:o["a"].t("hddTestNotTested"),running:o["a"].t("hddTestings"),pause:o["a"].t("hddTestPaused"),complete:o["a"].t("hddTestComplete"),exceed:o["a"].t("hddTestExceed"),abort:o["a"].t("hddTestAbort")},oAttributeName:{0:"Unknown attribute",1:"Raw Read Error Rate",2:"Throughput Performance",3:"Spin Up Time",4:"Start/Stop Count",5:"Reallocated Sector Count",6:"Read Channel Margin",7:"Seek Error Rate",8:"Seek Time Performance",9:"Power-on Hours Count",10:"Spin Up Retry Count",11:"Calibration Retry Count",12:"Drive Power Cycle Count",13:"Soft Read Error Rate",167:"SSD Protect Mode",168:"SATA PHY Error Count",169:"Die Bad Block Number",170:"Available Reservd Space",171:"Program Fail Count",172:"Erase Fail Count",173:"Average Erase Cnt",174:"Unexpect Power Loss Count",175:"Power Loss Protection Failure",177:"Read Retry Count",180:"Spare Block Count Left",183:"SATA Downshift Count",184:"End-to-End error",185:"Head Stability",186:"Induced Op-Vibration Detection",187:"Reported Uncorrectable Errors",188:"Command Timeout",189:"High Fly Writes",190:"Temperature Difference from 100",191:"G-Sense Error Rate",192:"Power Off Retract Count",193:"Load/Unload Cycle Count",194:"Power temperature",195:"ECC on the Fly count",196:"Reallocation Event Count",197:"Current Pending Sector Count",198:"Off-line Scan Uncorrect. Sector Count",199:"Ultra ATA CRC Error Rate",200:"Write Error Count",201:"Soft Read Error Rate",202:"TA Increase Count",203:"Run Out Cancel",204:"Shock Count Write Opern",205:"Shock Rate Write Opern",206:"Flying Height Measurement",207:"Spin High Current",208:"Spin Buzz",209:"Offline Seek Performance",211:"Vibration During Write",212:"Shock During Write",220:"Disk Shift",221:"G-Sense Error Rate",222:"Loaded Hours",223:"Load Retry Count",224:"Load Friction",225:"Load Cycle Count",226:"Load-in Time",227:"Torq-amp Count",228:"Power Off Retract Count",230:"Head Amplitude",231:"Temperature Celsius",232:"Available Reservd Space",233:"Counts sectors write to the Nand",234:"Counts sectors read from the Nand",240:"Head Flying Hours",241:"Counts sectors written by the host",242:"Counts sectors read by the host",244:"Assert Degree",249:"NAND Writes 1GiB",250:"Read Error Retry Rate",254:"Capacitance value"}},this.m_oParams={szHddSmartChoose:"1",szHddTestChoose:"0.0%",szSmartTestType:"short",szTestStatus:"ok",szTemperature:"39",szUseDays:"485",szSelfEvaluaingStatus:"ok",szAllEvaluaingStatus:"functional",szHddTestType:"metadata",aBlockStatus:[],iSmartTestPersent:0,szBlockTestStatus:"none",szHddCapability:"",iBlockNums:1,szBlockSize:"",szErrorNums:"0",szHddTestPersent:"0%",iLastTestBlock:0,bEnableUseHdd:!1,szPauseResumetxt:o["a"].t("pause"),szDiskIdChooseWithType:"",tableData:{tableItem:[]}},this.header=[{display:"ID"},{display:"Attribute Name",type:"object",object:this.m_oCapbilities.oAttributeName,disabled:!0},{display:"status"},{display:"Flags"},{display:"threshold"},{display:"Value"},{display:"Worst"},{display:"Raw Value"}]}}]),e}();t["a"]=new r},"7a1f":function(e,t,a){},"7a36":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("multicastConfig"),"right-type":"text","show-save-button":!0,"save-text":e.$t("save"),"b-lazy-loading":e.bLazyLoading},on:{"save-handle":e.save}},[t("div",{staticClass:"multicast-page-wrapper",attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"hm-index-list-item"},[t("hm-validator-group",{attrs:{result:e.validate}},[e._e(),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{class:{"cell-require":e.oParamsValid.oIPAddress&&e.oParamsValid.oIPAddress.required},attrs:{title:e.$t("ipAddr")}},[t("hm-input",{model:{value:e.oParams.szIPAddress,callback:function(t){e.$set(e.oParams,"szIPAddress",t)},expression:"oParams.szIPAddress"}}),t("hm-validator",{attrs:{model:e.oParams.szIPAddress,rules:e.oParamsValid.oIPAddress,param:e.$t("ipAddr")}})],1),e.oCap.bSupportFECDestPort?t("hm-cell",{class:{"cell-require":e.oParamsValid.oFECDestPortNo&&e.oParamsValid.oFECDestPortNo.required},attrs:{title:e.$t("FECPortNo")}},[t("hm-input",{model:{value:e.oParams.iFECDestPortNo,callback:function(t){e.$set(e.oParams,"iFECDestPortNo",t)},expression:"oParams.iFECDestPortNo"}}),t("hm-validator",{attrs:{model:e.oParams.iFECDestPortNo,rules:e.oParamsValid.oFECDestPortNo,param:e.$t("FECPortNo")}})],1):e._e(),e.oCap.bSupportFECRatio?t("hm-cell",{class:{"cell-require":e.oParamsValid.oFECRatio&&e.oParamsValid.oFECRatio.required},attrs:{title:e.$t("FECRatio")+"(%)"}},[t("hm-input",{model:{value:e.oParams.iFECRatio,callback:function(t){e.$set(e.oParams,"iFECRatio",t)},expression:"oParams.iFECRatio"}}),t("hm-validator",{attrs:{model:e.oParams.iFECRatio,rules:e.oParamsValid.oFECRatio,param:e.$t("FECRatio")}})],1):e._e(),e.oCap.bSupportActiveMulticast?t("hm-cell",{attrs:{title:e.$t("enableActiveMulticast")}},[t("hm-switch",{model:{value:e.oParams.bEnableActiveMulticast,callback:function(t){e.$set(e.oParams,"bEnableActiveMulticast",t)},expression:"oParams.bEnableActiveMulticast"}})],1):e._e(),e.oCap.aPackagingFormat.length?t("hm-cell",{attrs:{title:e.$t("packagingFormat")}},[t("base-select",{attrs:{title:e.$t("packagingFormat"),options:e.oCap.aPackagingFormat},model:{value:e.oParams.szPackagingFormat,callback:function(t){e.$set(e.oParams,"szPackagingFormat",t)},expression:"oParams.szPackagingFormat"}})],1):e._e()],1)],1)],1),t("base-view")],1)])},n=[],o=(a("96cf"),a("1da1")),r=a("1c1a"),s=a("6458"),l=a("25b6"),c=a("c050"),u=a("47b5"),d={name:"Multicast",components:{BaseView:r["a"],ChannelList:s["a"],BaseSelect:u["a"]},data:function(){return{bLazyLoading:!1,validate:{},oParams:l["a"].m_oParams,oParamsValid:l["a"].m_oParamsValid,oCap:l["a"].m_oCap,oCapa:l["a"].m_oCapa,oChannel:{id:1}}},watch:{"oChannel.id":{handler:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t>0&&0!==t&&t!==a&&l["a"].initMulticast(t).finally((function(){}));case 1:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),deep:!0},"oParams.szStreamType":{handler:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t!==a&&l["a"].changeStream().then((function(){}));case 1:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),deep:!0}},created:function(){this.oChannel={id:1},l["a"].initMulticast(this.oChannel.id).finally((function(){}))},methods:{save:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.validate.validateAll(),!c["a"].validateTips(this.validate.getErrorReport())){e.next=6;break}return this.bLazyLoading=!0,e.next=5,l["a"].save();case 5:this.bLazyLoading=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},p=d,m=(a("0265"),a("2877")),h=Object(m["a"])(p,i,n,!1,null,"49e08de4",null);t["default"]=h.exports},"7a8b":function(e,t,a){"use strict";(function(e){a("6b54"),a("7514"),a("6762"),a("2fdb"),a("c5f6"),a("96cf");var i=a("1da1"),n=a("6458"),o=a("1f20"),r=a("9741"),s=a("7de8"),l=a("768a"),c=a("f193");t["a"]={name:"SmartEvent",components:{ChannelList:n["a"]},data:function(){return{selectedLabel:"",bEnableCancelCallback:!0,bEnableShowTips:!1,bShowConfirm:!1,tabLabels:[],oChannel:{id:1},oEventCap:{},oEventInfo:{},bSupportChannelCap:!1,iChannelId:-1,aMenu:[{menu:[]}]}},watch:{"oChannel.id":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t>-1)){e.next=4;break}return this.iChannelId=t,e.next=4,this.initEvent(t);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0}},created:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=this,t.next=3,o["a"].getDeviceCapa().then(Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=n.$route.query&&n.$route.query.id,n.oChannel={id:Number(t)||1},a.bSupportChannelCap=o["a"].m_oDeviceCapa.bSupportChannelEventCap,a.iChannelId=a.oChannel.id;case 4:case"end":return e.stop()}}),e)}))));case 3:e.extend(!0,a.oEventCap,{bSupportAudioDection:o["a"].m_oDeviceCapa.bSupportAudioDection,bSupportDefousDection:o["a"].m_oDeviceCapa.bSupportDefousDection,bSupportSceneChangeDetection:o["a"].m_oDeviceCapa.bSupportSceneChangeDetection,bSupportFaceDect:o["a"].m_oDeviceCapa.bSupportFaceDect,bSupportLineDection:o["a"].m_oDeviceCapa.bSupportLineDection,bSupportFieldDection:o["a"].m_oDeviceCapa.bSupportFieldDection,bSupportRegionEntrance:o["a"].m_oDeviceCapa.bSupportRegionEntrance,bSupportRegionExit:o["a"].m_oDeviceCapa.bSupportRegionExit,bSupportLoiter:o["a"].m_oDeviceCapa.bSupportLoiter,bSupportGroup:o["a"].m_oDeviceCapa.bSupportGroup,bSupportRapidMove:o["a"].m_oDeviceCapa.bSupportRapidMove,bSupportPark:o["a"].m_oDeviceCapa.bSupportPark,bSupportUnattendedBaggage:o["a"].m_oDeviceCapa.bSupportUnattendedBaggage,bSupportAttendedBaggage:o["a"].m_oDeviceCapa.bSupportAttendedBaggage,bSupportFireDetection:o["a"].m_oEventChannelCapa.bSupportFireDetection,bSupportShipsDetection:o["a"].m_oEventChannelCapa.bSupportShipsDetection,bSupportThermometryDetection:o["a"].m_oEventChannelCapa.bSupportThermometryDetection,bSupportTemperatureDetection:o["a"].m_oEventChannelCapa.bSupportTemperatureDetection});case 4:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),methods:{goMenu:function(e){var t={query:{channelID:this.oChannel.id}};e.name?t.name=e.name:t.path=e.path,this.$router.push(t)},changeHandler:function(e){this.selectedLabel=e,this.routerJump(e)},goConfigPage:function(){this.$router.push({name:"Config"})},routerJump:function(e){switch(e){case this.$t("lineCrossDetect"):this.$router.push({name:"SmartLineDetection",query:{channelID:this.oChannel.id}});break;case this.$t("intrusionDetect"):this.$router.push({name:"SmartFieldDetection",query:{channelID:this.oChannel.id}});break;case this.$t("regionEntranceDetect"):this.$router.push({name:"SmartEntranceDetection",query:{channelID:this.oChannel.id}});break;case this.$t("regionExitDetect"):this.$router.push({name:"SmartExitDetection",query:{channelID:this.oChannel.id}});break;case this.$t("ImportNoSupport"):this.$router.push({name:"NoSupport"});break;case this.$t("sceneChangeDetection"):this.$router.push({name:"SmartSceneChange",query:{channelID:this.oChannel.id}});break;case this.$t("audioDetection"):this.$router.push({name:"SmartAudioDetection",query:{channelID:this.oChannel.id}});break;case this.$t("faceDetection"):this.$router.push({name:"SmartFaceDetect",query:{channelID:this.oChannel.id}});break;case this.$t("objectRemovalDetect"):this.$router.push({name:"SmartPackDetection",query:{channelID:this.oChannel.id}});break;case this.$t("unattendedBaggageDetect"):this.$router.push({name:"SmartLegacyDetection",query:{channelID:this.oChannel.id}});break;case this.$t("defocusDetection"):this.$router.push({name:"SmartDefocusDetection",query:{channelID:this.oChannel.id}});break;case this.$t("peopleGatherDetect"):this.$router.push({name:"SmartGroupDetection",query:{channelID:this.oChannel.id}});break;case this.$t("fastMoveDetect"):this.$router.push({name:"SmartFastMoveDetection",query:{channelID:this.oChannel.id}});break;case this.$t("loiterDetect"):this.$router.push({name:"SmartLoiterDetection",query:{channelID:this.oChannel.id}});break;case this.$t("parkDetect"):this.$router.push({name:"SmartParkDetection",query:{channelID:this.oChannel.id}});break;default:this.$router.push({name:"NoSupport"});break}},initEvent:function(e){var t=this,a=this;this.aMenu[0].menu=[],a.getEventCap(e).then((function(){a.tabLabels=[],a.oEventCap.bSupportChFieldDection&&(a.tabLabels.push(t.$t("intrusionDetect")),t.aMenu[0].menu.push({path:"",name:"smartFieldDetection",label:t.$t("intrusionDetect"),value:"",cap:!0})),a.oEventCap.bSupportChLineDection&&(t.aMenu[0].menu.push({path:"",name:"smartLineDetection",label:t.$t("lineCrossDetect"),value:"",cap:!0}),a.tabLabels.push(t.$t("lineCrossDetect"))),a.oEventCap.bSupportChRegionEntrance&&(a.tabLabels.push(t.$t("regionEntranceDetect")),t.aMenu[0].menu.push({path:"",name:"smartEntranceDetection",label:t.$t("regionEntranceDetect"),value:"",cap:!0})),a.oEventCap.bSupportChRegionExit&&(a.tabLabels.push(t.$t("regionExitDetect")),t.aMenu[0].menu.push({path:"",name:"smartExitDetection",label:t.$t("regionExitDetect"),value:"",cap:!0})),a.oEventCap.bSupportChSceneChangeDetection&&(a.tabLabels.push(t.$t("sceneChangeDetection")),t.aMenu[0].menu.push({path:"",name:"smartSceneChange",label:t.$t("sceneChangeDetection"),value:"",cap:!0})),a.oEventCap.bSupportFaceDect&&(a.tabLabels.push(t.$t("faceDetection")),t.aMenu[0].menu.push({path:"",name:"smartFaceDetect",label:t.$t("faceDetection"),value:"",cap:!0})),a.oEventCap.bSupportChAudioDection&&(a.tabLabels.push(t.$t("audioDetection")),t.aMenu[0].menu.push({path:"",name:"smartAudioDetection",label:t.$t("audioDetection"),value:"",cap:!0})),a.oEventCap.bSupportChDefousDection&&(a.tabLabels.push(t.$t("defocusDetection")),t.aMenu[0].menu.push({path:"",name:"smartDefocusDetection",label:t.$t("defocusDetection"),value:"",cap:!0})),a.oEventCap.bSupportChUnattendedBaggage&&(a.tabLabels.push(t.$t("unattendedBaggageDetect")),t.aMenu[0].menu.push({path:"",name:"smartLegacyDetection",label:t.$t("unattendedBaggageDetect"),value:"",cap:!0})),a.oEventCap.bSupportChAttendedBaggage&&(a.tabLabels.push(t.$t("objectRemovalDetect")),t.aMenu[0].menu.push({path:"",name:"smartPackDetection",label:t.$t("objectRemovalDetect"),value:"",cap:!0})),a.oEventCap.bSupportChLoiter&&(a.tabLabels.push(t.$t("loiterDetect")),t.aMenu[0].menu.push({path:"",name:"smartLoiterDetection",label:t.$t("loiterDetect"),value:"",cap:!0})),a.oEventCap.bSupportChGroup&&(a.tabLabels.push(t.$t("peopleGatherDetect")),t.aMenu[0].menu.push({path:"",name:"smartGroupDetection",label:t.$t("peopleGatherDetect"),value:"",cap:!0})),a.oEventCap.bSupportChRapidMove&&(a.tabLabels.push(t.$t("fastMoveDetect")),t.aMenu[0].menu.push({path:"",name:"smartFastMoveDetection",label:t.$t("fastMoveDetect"),value:"",cap:!0})),a.oEventCap.bSupportChPark&&(a.tabLabels.push(t.$t("parkDetect")),t.aMenu[0].menu.push({path:"",name:"smartParkDetection",label:t.$t("parkDetect"),value:"",cap:!0})),a.tabLabels.length<1&&(a.tabLabels.push(t.$t("ImportNoSupport")),a.selectedLabel=t.$t("ImportNoSupport")),""!==a.selectedLabel&&a.tabLabels.includes(a.selectedLabel)||(a.selectedLabel=a.tabLabels[0]),console.log(t.aMenu[0].menu,"-----------------")}))},getEventCap:function(e){var t=this;return t.iChannelId=e||1,new Promise(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(1!==r["a"].iDeviceType){e.next=6;break}return e.next=3,t.getSmartCap(t.iChannelId);case 3:a(),e.next=9;break;case 6:return e.next=8,t.getEventChannelCap(t.iChannelId);case 8:a();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},getSmartCap:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=this,a=parseInt(a,10),t.t0=e,t.t1=i.oEventCap,t.t2=o["a"].m_oDeviceCapa.bSupportAudioDection,t.t3=o["a"].m_oDeviceCapa.bSupportDefousDection,t.t4=o["a"].m_oDeviceCapa.bSupportSceneChangeDetection,t.t5=o["a"].m_oDeviceCapa.bSupportFaceDect,t.t6=o["a"].m_oDeviceCapa.bSupportLineDection,t.t7=o["a"].m_oDeviceCapa.bSupportFieldDection,t.t8=o["a"].m_oDeviceCapa.bSupportRegionEntrance,t.t9=o["a"].m_oDeviceCapa.bSupportRegionExit,t.t10=o["a"].m_oDeviceCapa.bSupportLoiter,t.t11=o["a"].m_oDeviceCapa.bSupportGroup,t.t12=o["a"].m_oDeviceCapa.bSupportRapidMove,t.t13=o["a"].m_oDeviceCapa.bSupportPark,t.t14=o["a"].m_oDeviceCapa.bSupportUnattendedBaggage,t.t15=o["a"].m_oDeviceCapa.bSupportAttendedBaggage,t.t16=o["a"].m_oDeviceCapa.bSupportPeopleDetection,t.t17=o["a"].m_oDeviceCapa.bSupportVandalProofAlarm,t.t18=o["a"].m_oDeviceCapa.bSupportVandalProofAlarmEvent,t.t19=o["a"].m_oDeviceCapa.bSupportFireDect,!t.t19){t.next=31;break}return t.t20=e,t.t21=a,t.next=27,l["a"].getAuxSupportChannel("FireDetection");case 27:t.t22=t.sent,t.t23=t.t20.inArray.call(t.t20,t.t21,t.t22),t.t24=-1,t.t19=t.t23!==t.t24;case 31:if(t.t25=t.t19,t.t26=o["a"].m_oDeviceCapa.bSupportShipDetection,!t.t26){t.next=41;break}return t.t27=e,t.t28=a,t.next=38,l["a"].getAuxSupportChannel("ShipsDetection");case 38:t.t29=t.sent,t.t30=t.t27.inArray.call(t.t27,t.t28,t.t29),t.t26=0===t.t30;case 41:if(t.t31=t.t26,t.t32=o["a"].m_oDeviceCapa.bSupportSmokeShieldMask,!t.t32){t.next=51;break}return t.t33=e,t.t34=a,t.next=48,l["a"].getAuxSupportChannel("SmokeDetection");case 48:t.t35=t.sent,t.t36=t.t33.inArray.call(t.t33,t.t34,t.t35),t.t32=0===t.t36;case 51:if(t.t37=t.t32,t.t38=o["a"].m_oDeviceCapa.bSupportFireShieldMask,!t.t38){t.next=61;break}return t.t39=e,t.t40=a,t.next=58,l["a"].getAuxSupportChannel("FireDetection");case 58:t.t41=t.sent,t.t42=t.t39.inArray.call(t.t39,t.t40,t.t41),t.t38=0===t.t42;case 61:if(t.t43=t.t38,t.t44={bSupportChAudioDection:t.t2,bSupportChDefousDection:t.t3,bSupportChSceneChangeDetection:t.t4,bSupportFaceDect:t.t5,bSupportChLineDection:t.t6,bSupportChFieldDection:t.t7,bSupportChRegionEntrance:t.t8,bSupportChRegionExit:t.t9,bSupportChLoiter:t.t10,bSupportChGroup:t.t11,bSupportChRapidMove:t.t12,bSupportChPark:t.t13,bSupportChUnattendedBaggage:t.t14,bSupportChAttendedBaggage:t.t15,bSupportPeopleDetection:t.t16,bSupportVandalProofAlarm:t.t17,bSupportVandalProofAlarmEvent:t.t18,bSupportFireDect:t.t25,bSupportShipDetection:t.t31,bSupportSmokeShieldMask:t.t37,bSupportFireShieldMask:t.t43},t.t0.extend.call(t.t0,!0,t.t1,t.t44),!i.oEventCap.bSupportChSceneChangeDetection){t.next=67;break}return t.next=67,i.getSceneCap(a).then((function(e){i.oEventCap.bSupportChSceneChangeDetection=e}));case 67:case"end":return t.stop()}}),t,this)})));function a(e){return t.apply(this,arguments)}return a}(),getSceneCap:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){var i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){var n={urlCGI:"smartDetection",params:{channel:a,param:"SceneChangeDetection"},data:null,loading:!0};return c["a"].get(n).then((function(a){var n=a.oResult;"true"===e(n).find("isSupportPersonQueueDetection").text()&&(i.oEventCap.bSupportPersonQueueDetection=!0),t(!0)}),(function(){t(!1)}))})));case 1:case"end":return t.stop()}}),t)})));function a(e){return t.apply(this,arguments)}return a}(),getEventChannelCap:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){var i,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=this,t.next=3,s["a"].waitAll([i.getAnalysisUnitSwitch(a),i.getPersonQueueDetectionCap(a),i.getDistanceCap(a),o["a"].isSupportVandalProofAlarm(),o["a"].isSupportVandalProofAlarmEvent()]);case 3:if(!i.bSupportChannelCap){t.next=8;break}return t.next=6,o["a"].getEventChannelCap(a).then((function(){e.extend(!0,i.oEventCap,{bSupportChAudioDection:o["a"].m_oEventChannelCapa.bSupportChAudioDection,bSupportChDefousDection:o["a"].m_oEventChannelCapa.bSupportChDefousDection&&o["a"].m_oDeviceCapa.bSupportDefousDection,bSupportChSceneChangeDetection:o["a"].m_oEventChannelCapa.bSupportChSceneChangeDetection&&o["a"].m_oDeviceCapa.bSupportSceneChangeDetection,bSupportFaceDect:o["a"].m_oEventChannelCapa.bSupportChFaceDect&&o["a"].m_oDeviceCapa.bSupportFaceDect,bSupportChLineDection:o["a"].m_oEventChannelCapa.bSupportChLineDection&&o["a"].m_oDeviceCapa.bSupportLineDection,bSupportChFieldDection:o["a"].m_oEventChannelCapa.bSupportChFieldDection&&o["a"].m_oDeviceCapa.bSupportFieldDection,bSupportChRegionEntrance:o["a"].m_oEventChannelCapa.bSupportChRegionEntrance,bSupportChRegionExit:o["a"].m_oEventChannelCapa.bSupportChRegionExit&&o["a"].m_oDeviceCapa.bSupportRegionExit,bSupportChLoiter:o["a"].m_oEventChannelCapa.bSupportChLoiter,bSupportChGroup:o["a"].m_oEventChannelCapa.bSupportChGroup&&o["a"].m_oDeviceCapa.bSupportGroup,bSupportChRapidMove:o["a"].m_oEventChannelCapa.bSupportChRapidMove,bSupportChPark:o["a"].m_oEventChannelCapa.bSupportChPark&&o["a"].m_oDeviceCapa.bSupportPark,bSupportChUnattendedBaggage:o["a"].m_oEventChannelCapa.bSupportChUnattendedBaggage&&o["a"].m_oDeviceCapa.bSupportUnattendedBaggage,bSupportChAttendedBaggage:o["a"].m_oEventChannelCapa.bSupportChAttendedBaggage&&o["a"].m_oDeviceCapa.bSupportAttendedBaggage,bSupportFireDetection:o["a"].m_oEventChannelCapa.bSupportFireDetection,bSupportShipsDetection:o["a"].m_oEventChannelCapa.bSupportShipsDetection,bSupportThermometryDetection:o["a"].m_oEventChannelCapa.bSupportThermometryDetection,bSupportTemperatureDetection:o["a"].m_oEventChannelCapa.bSupportTemperatureDetection,bSupportPassThough:o["a"].m_oEventChannelCapa.bSupportPassThough})}),(function(){}));case 6:t.next=10;break;case 8:return t.next=10,o["a"].getSmartCapa().then((function(){e.extend(!0,n.oEventCap,{bSupportChAudioDection:o["a"].m_oDeviceCapa.bSupportAudioDection,bSupportChDefousDection:o["a"].m_oDeviceCapa.bSupportDefousDection,bSupportChSceneChangeDetection:o["a"].m_oDeviceCapa.bSupportSceneChangeDetection,bSupportFaceDect:o["a"].m_oDeviceCapa.bSupportFaceDect,bSupportChLineDection:o["a"].m_oDeviceCapa.bSupportLineDection,bSupportChFieldDection:o["a"].m_oDeviceCapa.bSupportFieldDection,bSupportChRegionEntrance:o["a"].m_oDeviceCapa.bSupportRegionEntrance,bSupportChRegionExit:o["a"].m_oDeviceCapa.bSupportRegionExit,bSupportChLoiter:o["a"].m_oDeviceCapa.bSupportLoiter,bSupportChGroup:o["a"].m_oDeviceCapa.bSupportGroup,bSupportChRapidMove:o["a"].m_oDeviceCapa.bSupportRapidMove,bSupportChPark:o["a"].m_oDeviceCapa.bSupportPark,bSupportChUnattendedBaggage:o["a"].m_oDeviceCapa.bSupportUnattendedBaggage,bSupportChAttendedBaggage:o["a"].m_oDeviceCapa.bSupportAttendedBaggage,bSupportFireDetection:o["a"].m_oEventChannelCapa.bSupportFireDetection,bSupportShipsDetection:o["a"].m_oEventChannelCapa.bSupportShipsDetection,bSupportThermometryDetection:o["a"].m_oEventChannelCapa.bSupportThermometryDetection,bSupportTemperatureDetection:o["a"].m_oEventChannelCapa.bSupportTemperatureDetection})}),(function(){}));case 10:case"end":return t.stop()}}),t,this)})));function a(e){return t.apply(this,arguments)}return a}(),getAnalysisUnitSwitch:function(t){var a=this;return new Promise((function(i){var n={urlCGI:"analysisUnitSwitch",params:{channel:t},data:null,loading:!0};c["a"].get(n).then((function(t){var n=t.oResult;a.oEventInfo.bSupportLocalDetection=!0,a.oEventInfo.bLocalDetectionTemp=a.oEventInfo.bEnableLocalDetection="local"===e(n).find("switch").eq(0).text(),i()}),(function(){a.oEventInfo.bSupportLocalDetection=!1,i()}))}))},getPersonQueueDetectionCap:function(t){var a=this;return this.oEventCap.bSupportPersonQueueDetection=!1,new Promise((function(i){var n={urlCGI:"VCAIntelliCap",params:{channel:t},data:null,loading:!0};return c["a"].get(n).then((function(t){var n=t.oResult;"true"===e(n).find("isSupportPersonQueueDetection").text()&&(a.oEventCap.bSupportPersonQueueDetection=!0),i()}),(function(){i()}))}))},getDistanceCap:function(t){var a=this,i=this;return this.oEventInfo.bSupportDistanceCfg=!1,new Promise((function(n){var o={urlCGI:"distanceCap",params:{channel:t},data:null,loading:!0};return c["a"].get(o).then((function(t){var o=t.oResult;i.oEventInfo.bSupportDistanceCfg=!0,o&&o.DetectionDistance&&(i.oEventInfo.aDistanceOptions=[],e.each(o.DetectionDistance.distance["@opt"],(function(e,t){i.oEventInfo.aDistanceOptions.push({name:i.$t("distance"+t),value:t.toString()})}))),a.getDistanceCfg(),n()}),(function(){a.oEventInfo.bSupportDistanceCfg=!0,n()}))}))},getDistanceCfg:function(){var e=this;return new Promise((function(t){var a={urlCGI:"distanceCfg",params:{channel:e.iChannelId},data:null,loading:!0};return c["a"].get(a).then((function(a){var i=a.oResult;i&&i.DetectionDistance&&(e.oEventInfo.szDistanceCfg=i.DetectionDistance.distance),t()}),(function(){t()}))}))}}}}).call(this,a("1157"))},"7acc":function(e,t,a){"use strict";(function(e){a("6b54"),a("28a5"),a("7514"),a("ac6a"),a("5df3"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("d09c"),s=a("7de8"),l=a("768a"),c=a("f193"),u="FaceDetect",d=function(){function t(){Object(n["a"])(this,t),this.oEventInfo={bLoading:!1,oLink:null,oScheduleTimes:[],bEnableEvent:!1,bEnableAnaDynamicAnalysis:!1,iSensitivity:1},this.oEventCap={bSupportHoliday:!1,bSupportModify:!1,bChannelSupport:!0,disableFaceDetect:!1,disableDynAnalysis:!1,iSensitivityMin:0,iSensitivityMax:100},this.oParams={oData:null,iChannelId:0,oXhr:{oErrorXhr:null,oSuccessXhr:null,oRestartXhr:null}}}return Object(o["a"])(t,[{key:"init",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=this,a.oParams.iChannelId=t||1,e.next=4,l["a"].getAlarmOutput();case 4:return e.next=6,l["a"].getChannelList();case 6:return e.next=8,l["a"].initDeviceParams(this.oEventCap,!1,!0,!0);case 8:return e.next=10,a.getDetectCap();case 10:return e.abrupt("return",Promise.all([a.getDetectInfo(),a.getDetectLink(),a.getSchedule()]));case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getDetectCap",value:function(){var t=this,a={urlCGI:"smartDetectionCapa",params:{param:u,channel:this.oParams.iChannelId},data:null,loading:!0};return c["a"].get(a).then((function(a){var i=a.oResult;if(void 0!==e(i).find("enabled").eq(0).attr("opt")){var n=e(i).find("enabled").eq(0).attr("opt").split(",");n.length>1?t.oEventCap.disableFaceDetect=!1:t.oEventCap.disableFaceDetect=!0}void 0!==e(i).find("highlightsenabled").eq(0).attr("opt")&&(n=e(i).find("highlightsenabled").eq(0).attr("opt").split(","),n.length>1?t.oEventCap.disableDynAnalysis=!1:t.oEventCap.disableDynAnalysis=!0),t.oEventCap.iSensitivityMin=s["a"].nodeAttr(i,"sensitivityLevel","min","i"),t.oEventCap.iSensitivityMax=s["a"].nodeAttr(i,"sensitivityLevel","max","i"),t.oEventCap.bChannelSupport=!0}),(function(){t.oEventCap.bChannelSupport=!1}))}},{key:"getDetectInfo",value:function(){var e=this,t={urlCGI:"smartDetection",params:{channel:this.oParams.iChannelId,param:u},data:null,loading:!0};return c["a"].get(t).then((function(t){var a=t.oResult;e.oEventInfo.bEnableEvent=s["a"].nodeValue(a,"enabled","b"),e.oEventInfo.iSensitivity=s["a"].nodeValue(a,"sensitivityLevel","i"),e.oEventCap.bEnableAnaDynamicAnalysis=s["a"].nodeValue(a,"highlightsenabled","b")}))}},{key:"getDetectLink",value:function(){var e=this,t=this;return l["a"].getLinkageCap("FaceDetectionTriggerCap").then((function(a){t.oEventInfo.oLink=a;var i={urlCGI:"linkInfo",params:{param:"facedetection-"+e.oParams.iChannelId},data:null,loading:!0};return c["a"].get(i).then((function(e){var a=e.oResult;l["a"].getLinkInfo(t.oEventInfo.oLink,a)}))}))}},{key:"getSchedule",value:function(){var e=this,t={urlCGI:"scheduleInfo",params:{param:"faceDetections/facedetection_video"+this.oParams.iChannelId},data:null,loading:!0};c["a"].get(t).then((function(t){var a=t.oResult;l["a"].getSchedule(e.oEventInfo.oScheduleTimes,a)}))}},{key:"save",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,this.oParams.oXhr={oErrorXhr:null,oSuccessXhr:null,oRestartXhr:null},this.oEventInfo.bLoading=!0,e.next=5,t.setDetectInfo();case 5:return e.next=7,t.setDetectLink();case 7:return e.next=9,t.setDetectSchedule();case 9:this.oEventInfo.bLoading=!1,t.oParams.oXhr.oErrorXhr?r["a"].saveState(t.oParams.oXhr.oErrorXhr):r["a"].saveState(t.oParams.oXhr.oSuccessXhr);case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setDetectInfo",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,i,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="<?xml version='1.0' encoding='UTF-8'?><FaceDetect><id>"+this.oParams.iChannelId+"</id><enabled>"+this.oEventInfo.bEnableEvent.toString()+"</enabled><sensitivityLevel>"+this.oEventInfo.iSensitivity+"</sensitivityLevel><highlightsenabled>"+this.oEventInfo.bEnableAnaDynamicAnalysis.toString()+"</highlightsenabled></FaceDetect>",a=s["a"].parseXmlFromStr(t),i={urlCGI:"smartDetection",params:{channel:this.oParams.iChannelId,param:u},data:a,loading:!0},e.abrupt("return",c["a"].put(i).then((function(e){var t=e.xhr;n.oParams.oXhr.oSuccessXhr=t}),(function(e){n.oParams.oXhr.oErrorXhr=e,r["a"].saveState(e)})));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setDetectLink",value:function(){var e=this,t=this,a=l["a"].setLinkInfo(t.oEventInfo.oLink,"facedetection",t.oParams.iChannelId),i={urlCGI:"linkInfo",params:{param:"facedetection-"+t.oParams.iChannelId},data:a,loading:!0};return c["a"].put(i).then((function(t){var a=t.xhr;e.oParams.oXhr.oSuccessXhr=a}),(function(t){e.oParams.oXhr.oErrorXhr=t,r["a"].saveState(t)}))}},{key:"setDetectSchedule",value:function(){var e=this,t=this,a=l["a"].setSchedule(t.oEventInfo.oScheduleTimes,"facedetection",t.oParams.iChannelId),i={urlCGI:"scheduleInfo",params:{param:"faceDetections/facedetection_video"+t.oParams.iChannelId},data:a,loading:!0};return c["a"].put(i).then((function(t){var a=t.xhr;e.oParams.oXhr.oSuccessXhr=a}),(function(t){e.oParams.oXhr.oErrorXhr=t,r["a"].saveState(t)}))}}]),t}();t["a"]=new d}).call(this,a("1157"))},"7bc2":function(e,t,a){"use strict";(function(e){a("6b54"),a("7514"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("7de8"),s=a("d09c"),l=a("1f20"),c=a("f193"),u=a("8d94"),d=function(){function t(){Object(n["a"])(this,t),this.oXmlDoc=null,this.m_oParamsCap={bSupportTransCode:l["a"].m_oDeviceCapa.bSupportTransCode,bSupport:!0},this.m_oParams={bLazyLoading:!1,bEnableRtmp:!1,szStreamType:"01",szRtmpUrl:""},this.streamTypes=[],this.oChannel={id:0},this.m_oParamsValid={oUrlValid:{required:!0,maxLength:{value:64}}}}return Object(o["a"])(t,[{key:"initRtmp",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["a"].getDeviceCapa();case 2:return this.m_oParamsCap.bSupportTransCode=l["a"].m_oDeviceCapa.bSupportTransCode,this.streamTypes.length=0,this.streamTypes=[{text:u["a"].t("mainStream"),value:"01"},{text:u["a"].t("subStream"),value:"02"}],this.m_oParamsCap.bSupportTransCode&&this.streamTypes.push({text:u["a"].t("transcodedStream"),value:"04"}),e.next=8,this.getRtmpInfo();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getRtmpInfo",value:function(){var e=this,t=new Promise((function(t){var a={urlCGI:"rtmpInfo",params:{channel:e.oChannel.id,videoStream:e.m_oParams.szStreamType},data:null,async:!1,loading:!0};c["a"].get(a).then((function(a){var i=a.oResult;e.m_oParamsCap.bSupport=!0,e.oXmlDoc=i,e.m_oParams.bEnableRtmp=r["a"].nodeValue(i,"enabled","b"),e.m_oParams.szRtmpUrl=r["a"].nodeValue(i,"url"),t()}),(function(){e.m_oParamsCap.bSupport=!1,t()}))}));return t}},{key:"saveParams",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=[],t.push(this.save()),this.m_oParams.bLazyLoading=!0,e.next=5,r["a"].waitAll(t).then((function(e){for(var t=[],i=0,n=e.length;i<n;++i)e[i]&&t.push(e[i].xhr);a.m_oParams.bLazyLoading=!1,s["a"].successState(t)}),(function(e){this.m_oParams.bLazyLoading=!1,s["a"].saveState(e.xhr)}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var t=this,a=this.oXmlDoc;return e(a).find("enabled").eq(0).text(this.m_oParams.bEnableRtmp.toString()),e(a).find("url").eq(0).text(this.m_oParams.szRtmpUrl),new Promise((function(e,i){var n={urlCGI:"portInfo",params:{channel:t.oChannel.id,videoStream:t.m_oParams.szStreamType},data:a,loading:!0};c["a"].put(n).then((function(t){e(t)}),(function(e){i(e)}))}))}}]),t}();t["a"]=new d}).call(this,a("1157"))},"7c5b":function(e,t,a){"use strict";(function(e){a("ac4d"),a("8a81"),a("5df3"),a("1c4c"),a("96cf");var i=a("1da1"),n=(a("7514"),a("6b54"),a("d4ec")),o=a("bee2"),r=a("181b"),s=a("7de8"),l=a("8d94"),c=a("c050"),u=a("d09c"),d=a("9d7f"),p=a("9741"),m=a("f193");function h(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=f(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return r=e.done,e},e:function(e){s=!0,o=e},f:function(){try{r||null==a.return||a.return()}finally{if(s)throw o}}}}function f(e,t){if(e){if("string"===typeof e)return v(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}var b=function(){function t(){Object(n["a"])(this,t);var e=this;e.oPrivacyMaskInfo={bLazyLoading:!1,iChannelId:0,bChannelSupport:!0,oXmlDoc:null,bEnablePrivacyMask:!1,szRegionXml:""},e.oPrivacyMaskCap={iMaxRegionNum:4},e.oDrawBtn={bDraw:!1,bClear:!1},e.oParams={oData:null,iChannelId:0,iDScreenWidth:704,iDScreenHeight:576,oXhr:{oErrorXhr:null,oSuccessXhr:null,oRestartXhr:null},RectTempInfo:null},e.tempInfo=null}return Object(o["a"])(t,[{key:"changeChannel",value:function(){var e=this;r["a"].clearRegion().then((function(){d["a"].setRegionInfo(e.oPrivacyMaskInfo.szRegionXml)}))}},{key:"transRegionToPlugin",value:function(t){var a=this,i=s["a"].nodeValue(t,"normalizedScreenWidth","i"),n=s["a"].nodeValue(t,"normalizedScreenHeight","i");i<=0&&(i=704),n<=0&&(n=576);var o="<?xml version='1.0' encoding='UTF-8'?><DetectionRegionInfo><videoFormat>PAL</videoFormat><RegionType>roi</RegionType>";o+="<ROI><HorizontalResolution>"+i.toString()+"</HorizontalResolution>",o+="<VerticalResolution>"+n.toString()+"</VerticalResolution></ROI>",o+="<DisplayMode>shelter</DisplayMode><MaxRegionNum>"+a.oPrivacyMaskCap.iMaxRegionNum+"</MaxRegionNum><DetectionRegionList>";for(var r=0,l=e(t).find("RegionCoordinatesList").length;r<l;r++){o+="<DetectionRegion><RegionCoordinatesList>";for(var c=0,u=e(t).find("RegionCoordinatesList").eq(r).find("positionX").length;c<u;c++)o+="<RegionCoordinates><positionX>"+e(t).find("RegionCoordinatesList").eq(r).find("positionX").eq(c).text()+"</positionX>",o+="<positionY>"+e(t).find("RegionCoordinatesList").eq(r).find("positionY").eq(c).text()+"</positionY></RegionCoordinates>";o+="</RegionCoordinatesList></DetectionRegion>"}return o+="</DetectionRegionList></DetectionRegionInfo>",o}},{key:"transRegionToDevice",value:function(t){var a=this,i=a.oPrivacyMaskInfo.oXmlDoc,n=s["a"].parseXmlFromStr(t),o="<?xml version='1.0' encoding='UTF-8'?><PrivacyMask><enabled>true</enabled><normalizedScreenSize>";o+="<normalizedScreenWidth>"+e(i).find("normalizedScreenWidth").eq(0).text()+"</normalizedScreenWidth>",o+="<normalizedScreenHeight>"+e(i).find("normalizedScreenHeight").eq(0).text()+"</normalizedScreenHeight>",o+="</normalizedScreenSize><PrivacyMaskRegionList>";for(var r=0,l=e(n).find("RegionCoordinatesList").length;r<l;r++){o+="<PrivacyMaskRegion>",o+="<id>"+(r+1)+"</id><enabled>"+a.oPrivacyMaskInfo.bEnablePrivacyMask.toString()+"</enabled><RegionCoordinatesList>";for(var c=0,u=e(n).find("RegionCoordinatesList").eq(r).find("positionX").length;c<u;c++)o+="<RegionCoordinates><positionX>"+e(n).find("RegionCoordinatesList").eq(r).find("positionX").eq(c).text()+"</positionX>",o+="<positionY>"+e(n).find("RegionCoordinatesList").eq(r).find("positionY").eq(c).text()+"</positionY></RegionCoordinates>";o+="</RegionCoordinatesList></PrivacyMaskRegion>"}o+="</PrivacyMaskRegionList></PrivacyMask>";var d=s["a"].parseXmlFromStr(o);return d}},{key:"deleteCoverInfo",value:function(){var e=this,t={urlCGI:"deletePrivacyMaskRegion",params:{region:e.oPrivacyMaskInfo.iChannelId},data:e.oPrivacyMaskInfo.oXmlDoc,loading:!0};0===p["a"].iDeviceType&&(t.urlCGI="tamperRegion",delete t.params.region,t.params.channel=e.oPrivacyMaskInfo.iChannelId),m["a"].delete(t)}},{key:"get",value:function(){var t=this;return new Promise((function(a){var i={urlCGI:"tamperInfo",params:{channel:t.oPrivacyMaskInfo.iChannelId},data:null,loading:!0};m["a"].get(i).then((function(i){var n=i.oResult;t.oParams.oData=n;var o=s["a"].nodeAttr(n,"PrivacyMaskRegionList","size","i");o&&(t.oPrivacyMaskCap.iMaxRegionNum=o),t.oPrivacyMaskInfo.bChannelSupport=!0,t.oPrivacyMaskInfo.oXmlDoc=null,t.oPrivacyMaskInfo.bEnablePrivacyMask=!1,t.oPrivacyMaskInfo.szRegionXml="",t.oPrivacyMaskInfo.oXmlDoc=n,t.oPrivacyMaskInfo.bEnablePrivacyMask=s["a"].nodeValue(n,"enabled","b"),t.oPrivacyMaskInfo.szRegionXml=t.transRegionToPlugin(n),e("button:visible").hide().show(),a()}),(function(e){t.oPrivacyMaskInfo.bChannelSupport=!1,t.oPrivacyMaskInfo.szRegionXml="",r["a"].clearRegion(),u["a"].getState(e),a()}))}))}},{key:"draw",value:function(){this.oPrivacyMaskInfo.szRegionXml="",this.changeChannel(),r["a"].setDrawStatus(!0)}},{key:"canDraw",value:function(){setTimeout((function(){r["a"].setDrawStatus(!1)}),500)}},{key:"clearMask",value:function(){setTimeout((function(){r["a"].clearRegion()}),500)}},{key:"clear",value:function(){var e=this;c["a"].confirm(l["a"].t("clearDrawArea"),(function(){r["a"].clearRegion(),e.data=null,r["a"].setDrawStatus(!1)}))}},{key:"save",value:function(){var e=this;e.saveAsync()}},{key:"getInfo",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=this,t.next=3,r["a"].getRectInfo().then((function(t){var i=d["a"].getRegionInfo(null,t),n=a.transRegionToDevice(i);e(n).find("enabled").eq(0).text(a.oPrivacyMaskInfo.bEnablePrivacyMask.toString()),e(n).find("videoFormat").length>0&&e(n).find("videoFormat").eq(0).remove()}));case 3:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}()},{key:"saveAsync",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=this,t.next=3,r["a"].getRectInfo().then(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(i){var n,o,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a.deleteCoverInfo(),n=d["a"].getRegionInfo(null,i),o=a.transRegionToDevice(n),console.log("🚀 ~ file: mask.js:214 ~ PrivacyMask ~ await_oPlugin.getRectInfo ~ szAreaXmlInfo:",n),console.log("🚀 ~ file: mask.js:214 ~ PrivacyMask ~ await_oPlugin.getRectInfo ~ oXmlDoc:",o),e(o).find("enabled").eq(0).text(a.oPrivacyMaskInfo.bEnablePrivacyMask.toString()),e(o).find("videoFormat").length>0&&e(o).find("videoFormat").eq(0).remove(),a.oPrivacyMaskInfo.bLazyLoading=!0,r={urlCGI:"tamperInfo",params:{channel:a.oPrivacyMaskInfo.iChannelId},data:o,loading:!0},m["a"].put(r).then((function(e){a.oPrivacyMaskInfo.bLazyLoading=!1,u["a"].saveState(e.xhr)}),(function(e){a.oPrivacyMaskInfo.bLazyLoading=!1,u["a"].saveState(e)}));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}()},{key:"unload",value:function(){return r["a"].removePlugin()}},{key:"updateRegionInfo",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=this,t.next=3,r["a"].getRectInfo().then((function(t){for(var i=0;i<t.length;i++){var n,o=h(t[i].points);try{for(o.s();!(n=o.n()).done;)for(var r=n.value,s=0;s<r.length;s++)r[s]<0&&(r[s]=0),r[s]>1&&(r[s]=1)}catch(u){o.e(u)}finally{o.f()}}a.deleteCoverInfo();var l=d["a"].getRegionInfo(null,t),c=a.transRegionToDevice(l);e(c).find("enabled").eq(0).text(a.oPrivacyMaskInfo.bEnablePrivacyMask.toString()),e(c).find("videoFormat").length>0&&e(c).find("videoFormat").eq(0).remove(),a.oPrivacyMaskInfo.szRegionXml=a.transRegionToPlugin(c),a.changeChannel()}));case 3:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}()}]),t}();t["a"]=new b}).call(this,a("1157"))},"7c5d":function(e,t,a){"use strict";var i=a("d4ec"),n=a("bee2"),o=function(){function e(){Object(i["a"])(this,e),this.m_oParams={szEncryptionType:"TKIP",szAuthentication:"open",szKeyLength:"64",szKeyType:"HEX",szKeyChoose:"1",aKey:["","","",""],szEnterpriseType:"EAP-TLS",szUsername:"",szPassword:"",szPEAPVersion:"0",szPEAPLabel:"old",szInnerAuthentication:"EAP-GTC",szInnerAuthenticationMode:"PAP",szAnonymousIdentity:"",szIdentity:"",szPrivateKeyPassword:"",szEAPOLVersion:"1",szCACerPath:"",szUserCerPath:"",szPrivateKeyCerPath:"",szPinCode:"",szConnectMode:"0",szApPinCode:"",bEnableWps:!1,szRegion:"default",szRegionCache:"default"},this.m_oWifiParams={bEnableWifi:!0,szSSID:"",szWPSSSID:"",szNetworkMode:"infrastructure",szSecurityMode:"disable"},this.m_oParamsValid={oSSID:{required:!0,lengthRange:[1,32],bSkipValid:!1},oKey1:{required:!1,bSkipValid:!0,lengthRange:[8,63]},oKey2:{required:!1,bSkipValid:!0,lengthRange:[8,63]},oKey3:{required:!1,bSkipValid:!0,lengthRange:[8,63]},oKey4:{required:!1,bSkipValid:!0,lengthRange:[8,63]},oUserName:{required:!0,lengthRange:[1,32],multiChar:!0,bSkipValid:!0},oPassword:{required:!0,lengthRange:[1,32],bSkipValid:!0},oAnonymousIdentity:{lengthRange:[1,32],multiChar:!0,bSkipValid:!0},oIdentity:{required:!0,lengthRange:[1,32],multiChar:!0,bSkipValid:!0},oPrivateKeyPassword:{required:!0,lengthRange:[1,32],bSkipValid:!0},oApPinCode:{required:!0,lengthRange:[1,32],bSkipValid:!0,checkAPPinCode:!0},oApPinSSID:{required:!0,lengthRange:[1,32],bSkipValid:!0,oSpecChar:!0}},this.m_oWifiListTable=null}return Object(n["a"])(e,[{key:"init",value:function(e){this.m_oCapbilities={bSupportNullSsid:!1,bSupportWPS:e.bSupportWPS,bSupportWifiEnable:e.bSupportWifiEnable,bSupportMutexWithWirelessServer:e.bSupportWifiEnable&&e.bSupportWLANAP,oNetworkMode:{bInfrastructure:!0,bAdhoc:!0},aSupport64bitKey:[],aSupportStatus:["serialNumber","SSID","workingMode","securityMode","channel","signalStrength","speed","connectionStatus"],aRegionList:[],bSetRegionNeedReboot:!1,bSupportWifiRegion:e.bSupportWifiRegion}}}]),e}();t["a"]=new o},"7daf":function(e,t,a){},"7db7":function(e,t,a){},"7dfc":function(e,t,a){"use strict";a("05da")},"7e84":function(e,t,a){"use strict";function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}a.d(t,"a",(function(){return i}))},"7f67":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXcAAACnCAYAAADqiRxlAAAABHNCSVQICAgIfAhkiAAAGbtJREFUeJztnc2rNElWh09mZVbdunXfO93a6MggqLObnf/BgJux6YUbF+4GWsStC3HhQv8BEbczPTowSxGHmZaBFmEWoqAIgptWHBQFRaahe/p+1EdWVrnIiqrIrMjIOPGRGZn1e6DeWzczMirfe+M+dfLEyajkvd88HgmAEZEmREl6vT1pO6BlR2t7RYPOto2GXe23O9MOwS2TZ0SPb3hjVXyr+BMBIHIUI91YvqbtA4r9gHAKBESMP8gdjI6EY3KbN4KAYiciOh5MOwW3TrEn2u87GrWMV8gdjB5OOoZ7ecs5AZtDAXBCE4hA7mBUNKP2kGI3krWF2JGWARyKtsi94woTcgejZXCxW7QlIjogLQMYFIVio8Ggg9zBKOFWxnjp28NrseYLAFBhGIhA7mBUJDSuksfaIQmiduAX3fiD3MG4YEa+MYmdCHIHfGo5d8Z4hdzBNIi4MgapGOBKsSd2IAK5g/ETcWUMAL4xHX+QOxg3kVfGIGoHPuGkDiF3MF4c0irsLhI/YkeNOwjOadxB7mBUnIVpWxlj0xYlj2Bgij1/bEPuYDLEVhkDQO9IV5iQOxgfES4Gdj4EYgdD0Rh7kDsYPbGUPAIwGIrxCrmDURNTySOidjAILeMVcgejBSWP4ObRBCKQO7gJUBkDxoxuiGHhMDApMIEKbp6Oey8gdzA6xip2vA8AbxjcVAe5g2kR6WJgEDtwIc+lbwwHE+QORsVRd/t+pIuBJdKTFH9xwAXGeMVQA9Mg0sqY5OoJAJYwAxHIHYyfgRcD03TfeEI0w18csECkZTjjFUMNTIpYSh4RsQPfcIcS5A5GxVXOPdLKGPYLANBCnttdYULuYLxEKnZt7TH+4kBgxHjFUAPjJNLFwEzSMRA84DDPzNvKgQiGGRgfkS4Ghjw7GJLmWIXcwaho5txR8gimTu0GphawcBiYBMdD9XWslTE54zIbgLmB3FVjD3IH44NTnx5ZZUxCqHUH5hhF7S1jD8MMjA4RuXcS2ZoxtU/JwV8eMKArateNVwwxMDoOuvVlBH2K3eA4pOKBb7rGK+QOpkckJY+tTRLk3YEZq6V6u0kgMugQS5slbZq3GtWluFEEByaHdmXIE9FWxvTwxgOmQVtKxnTsBJd7mtYlnqTXUu/iSEQ0k79p7D9tOxyJDof6NjBNDseWcTTAYmBG7RvfpLNqYrU0nT8AN0frZKrh2PMu9+wk4Uzq2VW0zT+QWnfHyx/nLKlXIojIviwh+5sgspLHrmZ5TlRuzV8f3BaqlAxnvDrLXUhcSF1F7YSOyuCbRZfsBSKyS0/nCNlPB1UeW7ld10fgkkeb4wAgUqdkuIGIldxNhK571ZrrPUi21l/zB9Ahe4h+nJSldHUYccmj7uA0RWoGqGmmZGyuMI3lLv6Q8oxqwnSOwhsn7TWFQw3ZN/pOE4h+9IygMkYHUjNAhZySsbrCJAO551k9f169mvTUo+iJAsu+I4WTZpfXK0tU48TM4Vj9rpLIJlDVB7fvxt2qoMnq/vKcPbalJ0q5ixrcK6lrezs9DSh73ykc3eRsdhI9JB83MYm9rTKmqy1SM0BFcv6H0V56UtN3LqVerH0WUPa+o3oiTb7+JHpIPl7Kkncbf4xiJ0JqBtQ5p2Qcx2tGJEk9p7OBNfOSPCaQwkkSoiyB5MdMr5UxzLYzTKyCEyIl4yMQyfKsMTPbYnUvsh95CocSoiyt7paF5IdH3LTWFb3HUBnT1Qmid0BURe2+rjCzziUlW6pNYpd9yBROklaPsqweIF56XQyMmY6RN85wx+rNs7r3e4XJWwkgaTxadlkjdaJ5Kbuuk/rDuT+q6vzzjL+cAvCHTxkOJXaBydrdYLo83He3kekappmqkXGQ21MKhyhsvt4lqk/T6nFAqmYQDhq5x1TyaLJxNqseuBq8PVa2YteMPWW20jpiNojqrYNcOapPPPQnd+0hqk/TKvKa2dy1C5xQvaHGWhnThdFHqoHJwYnaTcdr1pZTbzveNapv7vJdhePUp+jPIV8vlmRA9DUcMVfG6HYkdKqcQfR+U3Cidk4gUo/cDcJh6yi85UDfUX0zX+8DbmSfzaooHh+l1g+yCK0mUG3F7vFNRN68XFj0C0bJ6t48audeYbbrx9C6t5bCITITfZqclm5AmiY4h8NlKQIOTlG4pzx722akZ26DUGJPqLo354w2+2CQn0EK5zqFI3Lwe1xmB2VfEs05d6tePTFoa3iMq9iJKrmXB6Rnpgx3EtUUMabS5kbjKBcpHHX3ihTObIZILCa4UZD6YMZuptgFGDPTZZ6HidrlJtpYx0r0I5Z9yBROmla/UOThw3A46MsiBTaXt+pvOtoyX0d1HIKC6WIatbtcYaacQR5S9ixaDoxd9hB8WLpSX72L3ba9tHM+R3nt1Fjdm71pu15hpueDmRbzLXvfUX1zlzUBUjgQfBhMIncrsdu2tUnHKMbw/R0EPxVMq2N8BCLqO+cdZe+j8dRTOPMclTQhaBO8k6wtIyf2eWh2LpCeGT2meXYnsUukYqdWVANH9Ran0HlgDLLPUCrpHVVqhvPHwhV769+L+ebWnfKm2axK0YDxwqqOsRW7tEH5WUvNA47GO81OACWXF7LssnQtcEdMrIq01xTELljk1fbtTn9eID7YeXYDusar0Qdka8XnKPvO5gaNfcveuj9N37qFz+Y50a6A4H3DvbxVH8zY7ToZY9CNEAQEPx5C5NlNAhH2tB4rhWN4kkjhoOTNJ/vSMW9pI3bb9oqx1gUqaMbDUGInEqWQDuZiyd5Hf8zG1v89zYHOom90Ip4ip+qHw4GoPJJ93tKmrYd0jNF5nBrdLyH42AlVGaM++Jr0SlQeZa/dGVr2PvozONBnVD9LiRYQvBf2e7N2plEQrxODrhzELp6uIPho6bPksY3u5Qf6iuotZO/24tanoD0RV9mnaTXJCtwwuWOVK/bWMWy+2eh1upAPXyBFEx29iN2gLW/5AY9RfafsffRn0dhnVG/bX55B8D4oNNF7TGLnRO3NttmsiuBRUhsHnCV8OdhcYRorpNnXsXWjOfLhoj5ZtQqeHJnMNG9HrNORG0dYhZNn5qkFoKZZFtlKX2K3bd8idpn7JdHrGquPDkmotdltAxHr+LBT9i3m2hV6kSsprjfJwheVJk3xG5zOdUNN475lv5ij5M2VYn89j8HJW3LE3olDnt2k7f2yGi8YM/0Tm9iJiLIkkaTisLj5lahOG8qyevgecPIbw/r0XAh/nutFT+Rf9qwfXcuBzZdN0yqC16UXgJ7Wm5quvrnGaxTuIHYOi9OnOEHw/RHy05TUB5vtzlQveDz/Y4cYWH0PMCF8WfYq0RPFn8IRu/LTtRUEb4+I3rkTUpwdIcVufN5J1fYOgu+Nt79gfo+K0wSqRSDSvvyA1NpU9rFdEpblRfTzXP9LiDmFg+jdDRG9197kPUZO3AlUzuvYviFB8GGZ55XYTXESu2Vb8+UH5Ki+9iQ+qavYFdVjeaeflCWKM4UDwbtR7IlmIvcee2WMRVtV47tF9djuiDZbTmdAR6iKGAEnz667wmRPqMrvQJtt/FJvst5I6ZoZjWbhszw/3XmJ9WesOBwqwecdl9BjqIxRHaNrLyaUIXh3OGkYQcgJVF0nVtUyY5S6jEjX1CQviHjhszSF3F3okvuYKmPkY0zaQ/BuzHOitx4d3tADV8aoNmZJQmebmESQY0jBmCJLfnl32sgMq/tM4QgxIT1jz3Z7qSiRGWNljKnYBXfzKk2z2ULypszz6iaxc1DA+IEPKXYiEbk3IwaF7Pcl0ctr1ymOk7Ks0jVXUTwRO1keOoWT55C7C6XixqYxV8bYIHLxkLye1X0ldkESSOztB1vtPqOeWkyqR3J6bHfTFbtACL4sz//9a5LGwwDWIQYNE+rOGwM9heKmuCtiFjuz7bl94yAheVBnnhO9/dif2JPWbzraduzozLnf2rv7elMtvSs+9Uam1w8q0fQ9zwwFBZSUYnI1C1sZ04mt2JmvpRK7AFH8hasUzInexG7btmWHVu63+gvfneYUmh9KzJJ94BROnkPwLhRFVRJ7VRbrSezBonCPYpe5ZcnP82rpBlUVDPeNlIPPyhjV5kyaT63x/HrbC1ftdlWK5v6uvY3W5Y5Rfdchc8jdmaIgmslpCRux27YPWBlTewlm1LlcVMUF6830JZ+fIvW20kbr3/tAE6jNzVmzTVESPb90n9wtUJZEr5vTmtmuNz4FSOGIz14FdpSn+wa6frdaIq2MsRG7zPKuemw21ffriYg+z6u0Zt5xxzoR2f38IhE7EVHWbASx1xGLnukieBV9pHByyN2ZzfY0cRbzBCpT7Fx0E3p3d5evIpJfbwKeTCC6ovQmUVfGGI7VWs79CWJXUpaVRGufceqwdr3PqB7Ruzub7UViMmMVOydq51Rq3C0uqZt15KIXk6IcoQuir4wx5Cz3zea2c+xdiBu3FnPztevb8JnCgdzdKQ9V/l2ukoimMsbmZQKIptlkuag2iJv/hOT3+2Huw5DTLWIlVZvf01grY1SbM6IqcplKTi0ksuBljgwZq3CVPQTvzu5UPZPOpl8Zc9XMQ554eVffJQQvvvqQvpC2ELl4sVxV82cxYR1LZYwPsRMRZZttvJdWMbLdVXexyp9ZeRXE9yl7h3X3QZ31lr/a31grY+oHOje54ixiWbyKjnTZgjyrH8NJZbHaE1/sISdQzTrp7iqD2Pm8rokeH9T7lGL2KHuV6OdzRO6+WG9PKQcVDnn2mMTufKXhKepMqCXqNnidrmOCp74MD+SK3WUCtYlLEdhN87o2a5c0HlcbmSj7I/6kEVAjJs+vcJxANaZPsXsUjXaXTSrL5udt0ZZ7wFjETgS5W7O3/FxYregdZH+14BmwZlc0llZ2FDsnnRAw7cvOs+s7MNzVp9gtfn5Rlzw6Ark74Lr0cWdUz/iNZ5C7V87pyr7Ezmx7bm94EFfsnKiTI3YuYxW78xWSZofpaUPujmx3dF4903Uwu6Zw5vPuNsAcqwoyW7Ezx070Yrdtb3nFw2VKJY9tQO6OyJ9PmVBD9B5lf7VB0XeG36ZXxDLQgmBReECxc1/H2//RMR3DFXvIN1IO3Dy7WSd2XUEHgTg7uK+oPkHePQRlWS0ix0nHcMXOFmqgqFPZxJOcohE7o22tvecrntbdnsROBLl7weSjB2XRh5R98wYr4M6uMJhfsZRgL2K3bWuTjnEUuzE2b6TMA8YsdiLI3RvcpRtCpXBAGHYF0bbtXgLLqDPk74uTZ49J7EGj8EBibz+Ysduz2Ikgd2/YlkYS+U3hIHIPx26nqIHvSeycqJ0j9u4ODHfZiN22vc3PL6DYnd9IAwG5e8TXwmu+UzjAH9udVANvI3Zm23P7QGLnpBM4YjfCIc/Oepm+xG7bNkDUTgS5e2VfSlImf07mpnAQvYfldV2/yYn1e2YOiujFbtveQewsoQYMjEK+Mfo4bcjdM+ePJjtJ2LfsfaZwgD2v66qShit2dqQXIOfL7Vbb1jHPHpPYOVE7R+zmndh3pQJy74uQsm+kcHC3aj+8rhnzLIHF7ixrT3LiiJ37OsFTX4YHcsXO+Xn7EvvnL5C7d4w/VFiWPflN4WS6lfaAV0zKYHsVu0fRaHd5EHtIWVv9/CYk9qdnyD0I7E+NDxTVg37QCp4pdi7cPLu+A8NdfYrd4ucXdcljYITYiRqfoQoioXkZeqx9MSKbVRO8oB/aPqXLKj1geBBX7CEnADmMVezOV0iaHT7eCD75tB5kIHIPwGZ7ib69ROGKyL4LpGb65yqCt5nQi1nstu0T5VPHThWH9CV227Y9ip0IkXsw9qUk2OP1L9Dp0/FkwVtE9SAc5wh+ETbPXj/QuYlZW8d0DFfsrPMOmAPh5tnNOrHvSma7I3p6UacFIfdA7PeS3BVmT+rf2tOSwgHDsd1VZZIrw89jtZ5AtRW7JzlFI3ZG21r7kU+gbndVxN4G5D4EDbP7juqJUA45NPuS6OW1iuB1vwtrsdu2HWgC1QgLsXMPmIrY5YnTNpBzD4Xpb0+RnPeRr0fOfXiE4F0/sUvgPKE3kNiDRuEB8+zqgxm7BxQ7ESL3YBR7ouXCIgoPmcIBgyBKY5WVNIEmUPUdGO7ykMfmpGNiErvzG2kAdPl1FZB7YJxTLiFTOKA3Ntvq8XBffahKSLFz0gnW+WqDBtw8O+s8+hK7bVvPUbtptC6DtEwg2v54nVIugVI4oD+eRZomdrHHPIEacKB7+flFIHYiRO7BKMTyvx05FaeUS0cKB8SJSNPcLRgH2YjdlgmJPeQEqlkn9l1x0zBNIPc+6cip+E7hgHiR0zRtk9/O6YGBJlCNsBG73UsEEXvoCVTbaF0Gch+SkLJPKmn4+gAREIbn1yqCb0bxzhN6A4k9pKw5B4xV7K7RugzkHpD9nig//YSNxBwyhQOiRUTxQvLcPPsVfYndtn1i0XfACVT1wVa7nfARrctA7j3BjsJDp3BAdIhc/FJE8X1NoNoayzLPHpPYY6iM8Rmty0DuAck1P13IHqiQo/jlnb6tt8oYm/YOE6is8wgQfbc267kyJpTUBZB7SBh5FHbKxSCFg3z7eBGSXy6I7hSS95bbnmJljE3bnitjfKdgVEDugbiK2hmhte+oHoyXtSiblATPnUBtJWaxM9rW2kc+gRo6WpeB3AOSkMazllG9QfOwsz6gd9bb6rG8k/LxMgNVxhhhIXbuAWMQe59SF0DugTESM9PeqJq5Tdab6lGT/ARLHqOujGGKfQipCyD3nvEt+7amyLdPF1nyROqJV++VMTZdxFwZE7jkcUipCyD3QOS5WTujKNxB9mC6rDf174Xkb6EyJtaSxxikLoDcQyJ+64a5E2OHIy8DJJqSv28roYx5AjVgVNJHyWNMUhdA7oGoVctYVrO4pHCQlrk9hORFyqYm+QmJPeQEqlknFbsIhS4DuQdi3kjL1MRsGXlzZF9A7jeNyMvnWfVYLuv7Y6mMGVvJ425XyXxXxCt1AeQeAFW+vVXMDjXqyM6ALop99XjdXCL5+6X+mD4rY0KVPHJfp0vssUfpKiD3AKy6/njIv+ybhyFyB01eN5ev98tLVK/jlitjxih0Gcg9AF1/MCpao3CE5yAAr+vLcxHJ39+RdZ49WrEz2m6LSuhjSLmYALl7Js/JWciuUT2idsBBiF58FbI3uQINXfLIfR1Onn1XVF+fXiqpTw3I3TOrZcPtHiLvEPl6ANpQyT4hRa6+z8oYm7aKyVAioqfXacq8CeQemGbur+ZfD7JXpXDkS24AXBHj6eX0Nc+J5pI58vy6OkxFX5UxIiKX0yti2y0BuXtkbjDIfcsewTvom6KoHmekYGKeX6rFzm8AyWWfKSqxqwS9Ky5R+C0KXAfk7hHTJQdkWmVvaemiQM4dDMeuuEj2xaC9TviQtRuQuyfmueEEVAdyxGIT1Ye8jRsA30Dg4YDcPbG6b4j16J4isUnhvCDfDgAgyN0Lylx7o/b36CEZ7juFAwCYLpC7B1b33W2a6RKvsj+J/mqiCwBws0DujphUyKjwLXuk2gEAMpC7Iw8GUbsJsuxtRY98OwBAALk7MM+J5nO6ynk7T6RaRPVIyQAAZCB3B37qrdOT5hKpA8geUTsAQAZyt+QsdhUa2fsobPFdcgkAmB7pm4ehT2F8PKyYk6jJ5ZEktW/dSao7UnEzCABAJntcVU+enoc9kbHwsCJ6c5pEtY6Y5TWzPaRwXl5tTwQAMFVSIqLHFdFiPvSpxM/DiujN6vJ9Qh6i8EYnNv0hagcANEnFk3feHvI04meeS2JvMbBv2ZukcCB2AICKVP4Ggm/np9t+Nhqje8mtt0T1ok+kZAAAKlI6Uim+WcyJMMF6TavYVbTIPkQKpygQuQMAlLykxZ5+Im95XCGCF8znldgXuYOcA6ZwnhG1AwDU/CSdzehHza2LeSX4W55kfXN6k1u0lDw6i95R9jtE7QCAdv4tzRf0r6o9QvC3mKZ5s5L+3wbG9RLVM/P1zyYfcwMAuFU+Tj/7nP5O1+JxdVuCf/Og+f8aWjx0CgdROwBAy5H+Kf30mT5KZ/S/una3Ivg3D9X/1VjMFrI3RtM3onYAgIb/S0r62/QH30h+NEvpo67WYqJ1inl4kYJ6XF3vY0XhPUT1T6+I2gEA7RyP9Bff/3bycUpE9J//Td9JUvq866Ap5uHfPPDetIzlHCCFs9shagcAaPlxktCfE51uYvrwW8nf7Av6tunRjyuiL/3suCX/5qH6P6iidQ59pnCeUPoIANCQHOlPP/wg+SGRdIfqJ5/RHx+IfsjpaIypGl9SVxEyhbMrqsgdAACUJPRRQvTB5VuJd98/fu2Xfp7+qCjoK9x+tzuip5fqa4yIydIhMV7xUdHwk88gdwBAK/+YEv3+9z5I/lpsuIobv/67x19/WNEf2gieqJL79hRlDi36xby6y3RoqavgLO379Fy9cQIAQJMj0b8kCf3Bh99M/lLerkwKvPv+8Wtf+iL9Xkr0VZcXFXLvM6IX8wAxCl1Hm+x3O6JPPu31VAAAIyFJ6K+SI/2JHLGf97Ud9Gu/ffyFd96i38ly+vrxQI8+TkSkbsRzH4jofJGPK/ffxZEgdgBAKz+mhP4sPdA3v/et5N9VDTrn/d57//grP/MO/cZiQe8eSvo532fYlPz2VMMt8stzSdhinZcpSVzHJ58On9oCAETFfxyP9INZQt9VResyxvfR/OpvHb/8i1+k99Y7+uUsoa+UJX05z+gLlNDM/XxBk89f8NGHAAD6HyL6LyL6ZyL6hySlv//+N5KPTQ78f7Nh6PC0GXhNAAAAAElFTkSuQmCC"},"7f94":function(e,t,a){},"7fa9":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("service28181"),"b-lazy-loading":e.bLazyLoading,"right-type":"text"}},[t("div",{staticClass:"advanced28181",attrs:{slot:"content"},slot:"content"},[t("hm-scroll",[t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("autoAddIpc")}},[t("hm-switch",{model:{value:e.oParams.bEnableAutoAddIpc,callback:function(t){e.$set(e.oParams,"bEnableAutoAddIpc",t)},expression:"oParams.bEnableAutoAddIpc"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapbilities.bSupport28181Switch&&e.bNVRDevice,expression:"oCapbilities.bSupport28181Switch && bNVRDevice"}],attrs:{title:e.$t("enableGB28181")}},[t("hm-switch",{model:{value:e.oParams.b28181,callback:function(t){e.$set(e.oParams,"b28181",t)},expression:"oParams.b28181"}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oSipServerID&&e.oParamsValid.oSipServerID.required},attrs:{title:e.$t("sipServerID")}},[t("hm-input",{model:{value:e.oParams.szSipServerID,callback:function(t){e.$set(e.oParams,"szSipServerID",t)},expression:"oParams.szSipServerID"}})],1),t("hm-validator",{attrs:{model:e.oParams.szSipServerID,rules:e.oParamsValid.oSipServerID,param:e.$t("sipServerID")}}),t("hm-cell",{class:{"cell-require":e.oParamsValid.oPassword&&e.oParamsValid.oPassword.required},attrs:{title:e.$t("password")}},[t("hm-input",{attrs:{type:"password"},on:{focus:function(t){return e.clear(0)}},model:{value:e.oParams.oPassword.szPassword,callback:function(t){e.$set(e.oParams.oPassword,"szPassword",t)},expression:"oParams.oPassword.szPassword"}}),t("hm-validator",{attrs:{model:e.oParams.oPassword.szPassword,rules:e.oParamsValid.oPassword,param:e.$t("password")}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oPasswordConfirm&&e.oParamsValid.oPasswordConfirm.required},attrs:{title:e.$t("confirmPassword")}},[t("hm-input",{attrs:{type:"password"},on:{focus:function(t){return e.clear(1)}},model:{value:e.oParams.oPassword.szPasswordConfirm,callback:function(t){e.$set(e.oParams.oPassword,"szPasswordConfirm",t)},expression:"oParams.oPassword.szPasswordConfirm"}}),t("hm-validator",{attrs:{model:e.oParams.oPassword.szPasswordConfirm,rules:e.oParamsValid.oPasswordConfirm,param:e.$t("confirmPassword")}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oSIPPort&&e.oParamsValid.oSIPPort.required},attrs:{title:e.$t("sipServerPort")}},[t("hm-input",{model:{value:e.oParams.szSipServerPort,callback:function(t){e.$set(e.oParams,"szSipServerPort",t)},expression:"oParams.szSipServerPort"}})],1),t("hm-validator",{attrs:{model:e.oParams.szSipServerPort,rules:e.oParamsValid.oSIPPort,param:e.$t("sipServerPort")}}),t("hm-cell",{class:{"cell-require":e.oParamsValid.oHeartbeatPeriod&&e.oParamsValid.oHeartbeatPeriod.required},attrs:{title:e.$t("heartbeatPeriod")}},[t("hm-input",{model:{value:e.oParams.szHeartbeatPeriod,callback:function(t){e.$set(e.oParams,"szHeartbeatPeriod",t)},expression:"oParams.szHeartbeatPeriod"}})],1),t("hm-validator",{attrs:{model:e.oParams.szHeartbeatPeriod,rules:e.oParamsValid.oHeartbeatPeriod,param:e.$t("heartbeatPeriod")}}),t("hm-cell",{class:{"cell-require":e.oParamsValid.oMxHeartBeatTimeout&&e.oParamsValid.oMxHeartBeatTimeout.required},attrs:{title:e.$t("mxHeartBeatTimeout")}},[t("hm-input",{model:{value:e.oParams.szMxHeartBeatTimeout,callback:function(t){e.$set(e.oParams,"szMxHeartBeatTimeout",t)},expression:"oParams.szMxHeartBeatTimeout"}})],1),t("hm-validator",{attrs:{model:e.oParams.szMxHeartBeatTimeout,rules:e.oParamsValid.oMxHeartBeatTimeout,param:e.$t("mxHeartBeatTimeout")}})],1)],1),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{on:{click:e.save}},[e._v("\n          "+e._s(e.$t("save"))+"\n        ")])],1)],1),t("base-view")],1)])},n=[],o=(a("96cf"),a("1da1")),r=a("1c1a"),s=a("b1d0"),l=a("c050"),c=a("9741"),u={name:"Advanced28181",components:{BaseView:r["a"]},data:function(){return{bLazyLoading:!1,validate:{},oParams:{szPassword:"",oPassword:{szPassword:"",szPasswordConfirm:"",szPasswordDefault:""}},oCapbilities:{},oParamsValid:{oSipServerID:{required:!0,lengthRange:[1,20]},oSIPPort:{required:!0,range:[1025,65535]},oHeartbeatPeriod:{required:!0,range:[5,3600]},oMxHeartBeatTimeout:{required:!0,range:[3,255]},oPassword:{required:!0,lengthRange:[1,32]},oPasswordConfirm:{required:!0,lengthRange:[1,32]}},bNVRDevice:!1}},created:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.bNVRDevice=0===c["a"].iDeviceType,s["a"].init28181Service().finally((function(){t.oParams=s["a"].m_oParams,t.oCapbilities=s["a"].m_oCapbilities,t.oParams.oPassword.szPassword=t.oParams.oPassword.szPasswordConfirm=t.oParams.oPassword.szPasswordDefault}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{clear:function(e){0===e&&this.oParams.oPassword.szPassword===this.oParams.oPassword.szPasswordDefault?this.oParams.oPassword.szPassword="":1===e&&this.oParams.oPassword.szPasswordConfirm===this.oParams.oPassword.szPasswordDefault&&(this.oParams.oPassword.szPasswordConfirm="")},save:function(){var e=this;l["a"].validateTips(this.validate.getErrorReport())&&(this.oParams.oPassword.szPassword!==this.oParams.oPassword.szPasswordConfirm?l["a"].tip(this.$t("passNotMatch")):(this.bLazyLoading=!0,s["a"].save().then((function(){e.bLazyLoading=!1}))))}}},d=u,p=(a("26386"),a("2877")),m=Object(p["a"])(d,i,n,!1,null,"0a42f252",null);t["default"]=m.exports},"7fc3":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("capture"),"right-type":"text","show-save-button":!(e.bSchedule||e.bParams),"b-lazy-loading":e.params.bLazyLoading,"save-text":e.$t("save")},on:{"save-handle":e.save}},[t("div",{staticClass:"capture-content",attrs:{slot:"content",id:"planCapture"},slot:"content"},[t("div",[t("channel-list",{attrs:{"o-channel":e.oChannel}}),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[e.oCapbilities.bSupportEnableSechdule?t("div",[t("hm-cell",{attrs:{title:e.$t("enable")}},[t("hm-switch",{model:{value:e.params.bEnablePlan,callback:function(t){e.$set(e.params,"bEnablePlan",t)},expression:"params.bEnablePlan"}})],1)],1):e._e()]),e.oCapbilities.bSupportTimeingPicture?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("snapshotSchedule")}},[t("hm-cell",{attrs:{title:e.$t("snapshotSchedule"),"is-link":""},nativeOn:{click:function(t){return e.showSchedule.apply(null,arguments)}}})],1):e._e(),e.oCapbilities.bSupportTimeingPicture?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("continuous")}},[e.oCapbilities.bSupportEnableTimeEvent?t("div",[t("hm-cell",{attrs:{title:e.$t("enableTimingCapture")}},[t("hm-switch",{model:{value:e.params.bEnableTiming,callback:function(t){e.$set(e.params,"bEnableTiming",t)},expression:"params.bEnableTiming"}})],1)],1):e._e(),t("hm-cell",{attrs:{title:e.$t("pictureCodecType")}},[t("base-select",{attrs:{title:e.$t("pictureCodecType"),options:e.oCapbilities.aTimingPictureCodecType},model:{value:e.params.szEventCodecType,callback:function(t){e.$set(e.params,"szEventCodecType",t)},expression:"params.szEventCodecType"}})],1),t("hm-cell",{attrs:{title:e.$t("resolution")}},[t("base-select",{attrs:{title:e.$t("resolution"),options:e.oCapbilities.aTimingPicResolution},model:{value:e.params.szTimingResolution,callback:function(t){e.$set(e.params,"szTimingResolution",t)},expression:"params.szTimingResolution"}})],1),t("hm-cell",{attrs:{title:e.$t("picQuality")}},[t("base-select",{attrs:{title:e.$t("picQuality"),options:e.oCapbilities.aTimingPicQuality},model:{value:e.params.szTimingQuality,callback:function(t){e.$set(e.params,"szTimingQuality",t)},expression:"params.szTimingQuality"}})],1),e.oCapbilities.bSupportIntervalOpt?t("div",[t("hm-cell",{attrs:{title:e.$t("captureInterval")}},[t("base-select",{attrs:{title:e.$t("captureInterval"),options:e.oCapbilities.aTimingPicInterval},model:{value:e.params.szTimingInterval,callback:function(t){e.$set(e.params,"szTimingInterval",t)},expression:"params.szTimingInterval"}})],1)],1):e._e(),e.oCapbilities.bSupportIntervalOpt?e._e():t("hm-cell",{class:{"cell-require":e.TimingIntervalRule&&e.TimingIntervalRule.required},attrs:{title:e.$t("captureInterval")}},[t("hm-input",{attrs:{placeholder:e.$t("captureInterval")},model:{value:e.params.szTimingInterval,callback:function(t){e.$set(e.params,"szTimingInterval",t)},expression:"params.szTimingInterval"}}),t("hm-validator",{attrs:{model:e.params.szTimingInterval,rules:e.TimingIntervalRule,param:e.$t("captureInterval")}})],1),e.oCapbilities.bSupportIntervalOpt?e._e():t("div",[t("hm-cell",{attrs:{title:e.$t("unit")}},[t("base-select",{attrs:{title:e.$t("unit"),options:e.times},model:{value:e.params.szTimingIntervalType,callback:function(t){e.$set(e.params,"szTimingIntervalType",t)},expression:"params.szTimingIntervalType"}})],1)],1)],1):e._e(),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("eventTrigger")}},[e.oCapbilities.bSupportEnableTimeEvent?t("div",[t("hm-cell",{attrs:{title:e.$t("enableEventCapture")}},[t("hm-switch",{model:{value:e.params.bEnableEvent,callback:function(t){e.$set(e.params,"bEnableEvent",t)},expression:"params.bEnableEvent"}})],1)],1):e._e(),t("hm-cell",{attrs:{title:e.$t("pictureCodecType")}},[t("base-select",{attrs:{title:e.$t("pictureCodecType"),options:e.oCapbilities.aEventPictureCodecType},model:{value:e.params.szEventCodecType,callback:function(t){e.$set(e.params,"szEventCodecType",t)},expression:"params.szEventCodecType"}})],1),t("hm-cell",{attrs:{title:e.$t("resolution")}},[t("base-select",{attrs:{title:e.$t("resolution"),options:e.oCapbilities.aEventPicResolution},model:{value:e.params.szEventResolution,callback:function(t){e.$set(e.params,"szEventResolution",t)},expression:"params.szEventResolution"}})],1),t("hm-cell",{attrs:{title:e.$t("picQuality")}},[t("base-select",{attrs:{title:e.$t("picQuality"),options:e.oCapbilities.aEventPicQuality},model:{value:e.params.szEventQuality,callback:function(t){e.$set(e.params,"szEventQuality",t)},expression:"params.szEventQuality"}})],1),e.oCapbilities.bSupportIntervalOpt?t("div",[t("hm-cell",{attrs:{title:e.$t("captureInterval")}},[t("base-select",{attrs:{title:e.$t("captureInterval"),options:e.oCapbilities.aEventPicInterval},model:{value:e.params.szEventInterval,callback:function(t){e.$set(e.params,"szEventInterval",t)},expression:"params.szEventInterval"}})],1)],1):e._e(),e.oCapbilities.bSupportIntervalOpt?e._e():t("hm-cell",{class:{"cell-require":e.EventIntervalRule&&e.EventIntervalRule.required},attrs:{title:e.$t("captureInterval")}},[t("hm-input",{model:{value:e.params.szEventInterval,callback:function(t){e.$set(e.params,"szEventInterval",t)},expression:"params.szEventInterval"}}),t("hm-validator",{attrs:{model:e.params.szEventInterval,rules:e.EventIntervalRule,param:e.$t("captureInterval")}})],1),e.oCapbilities.bSupportIntervalOpt?e._e():t("div",[t("hm-cell",{attrs:{title:e.$t("unit")}},[t("base-select",{attrs:{title:e.$t("unit"),options:e.time},model:{value:e.params.szEventIntervalType,callback:function(t){e.$set(e.params,"szEventIntervalType",t)},expression:"params.szEventIntervalType"}})],1)],1),e.oCapbilities.bSupportEventNum?t("div",[t("hm-cell",{class:{"cell-require":e.EventNumRule&&e.EventNumRule.required},attrs:{title:e.$t("captureNum")}},[t("hm-input",{attrs:{placeholder:e.$t("captureNum")},model:{value:e.params.szEventNum,callback:function(t){e.$set(e.params,"szEventNum",t)},expression:"params.szEventNum"}}),t("hm-validator",{attrs:{model:e.params.szEventNum,rules:e.EventNumRule,param:e.$t("captureNum")}})],1)],1):e._e()],1),t("hm-cell-group",{directives:[{name:"show",rawName:"v-show",value:1===e.iDeviceType,expression:"iDeviceType === 1"}],staticClass:"custom-cell-group",attrs:{title:e.$t("advancedParam")}},[t("hm-cell",{attrs:{title:e.$t("streamType")}},[t("base-select",{attrs:{title:e.$t("streamType"),options:e.arr},on:{change:e.changeAdvance},model:{value:e.advance,callback:function(t){e.advance=t},expression:"advance"}})],1)],1),t("hm-validator-group",{attrs:{result:e.validate}},[e.oCapbilities.bSptPictureDelay?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("advancedParam")}},[t("hm-cell",{attrs:{title:e.$t("pictureDelay")}},[t("base-select",{attrs:{title:e.$t("pictureCodecType"),options:e.oCapbilities.aPictureDelayType},model:{value:e.params.szPictureDelay,callback:function(t){e.$set(e.params,"szPictureDelay",t)},expression:"params.szPictureDelay"}})],1)],1):e._e()],1)],1),e.bSchedule?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:e.$t("snapshotSchedule"),"show-footer":!0,"enable-cancel-callback":e.bEnableCancelCallback},on:{cancelcallback:e.cancelcallback,delete:e.deleteAll,confirm:e.confirm}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"swipe-wrapper time-plan-padding swipe-wrapper-show-footer"},[t("hm-scroll",[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("time-plan",{ref:"timePlan",attrs:{"times-data":e.aTimes,holiday:e.oCapbilities.bSupportHoliday,types:e.oCapbilities.aCaptureType}})],1)],1)],1)])])],1):e._e(),e.bParams?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:e.$t("snapshotParams"),"enable-cancel-callback":e.bEnableCancelCallback},on:{cancelcallback:e.cancelcallbackParams,confirm:e.confirmParams}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"swipe-wrapper time-plan-padding swipe-wrapper-show-footer"})])])],1):e._e()])])},n=[],o=a("3707"),r=o["a"],s=(a("e693"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"5fdcc6c6",null);t["default"]=l.exports},"7fd1":function(e,t,a){"use strict";(function(e){a("6b54"),a("7514"),a("28a5"),a("ac6a"),a("5df3"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("7de8"),s=a("f193"),l=a("768a"),c=a("d09c"),u=a("1f20"),d="videoLoss",p=function(){function t(){Object(n["a"])(this,t),this.oEventInfo={bLazyLoading:!1,oLink:null,oScheduleTimes:[],bEnableEvent:!1,iAlarmDetecteTimes:3},this.oEventCap={bSupportHoliday:!1,bChannelSupport:!1,bSptAlarmDetectTime:!1,bSupportRule:!1,bSupportSchedule:!1,bSupportLink:!1},this.oParams={oData:null,iChannelId:0,oXhr:{oErrorXhr:null,oSuccessXhr:null,oRestartXhr:null}},this.m_oParamsValid={required:!0,range:[0,65535]}}return Object(o["a"])(t,[{key:"init",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,a){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=this,i.oParams.iChannelId=t||1,e.next=4,u["a"].isEnableHoliday();case 4:return e.next=6,this.getParamCap();case 6:return e.next=8,this.getEventChannelCap(a);case 8:return e.next=10,l["a"].initDeviceParams(this.oEventCap,!0,!0,!0);case 10:return e.abrupt("return",Promise.all([i.getDetectInfo(),i.getDetectLink(),i.getSchedule()]));case 11:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"getEventChannelCap",value:function(t){var a=this;return new Promise((function(i){var n={urlCGI:"",params:{},data:null,loading:!0};t?(n.urlCGI="eventChannelCap",n.params.channel=a.oParams.iChannelId):n.urlCGI="smartCap",s["a"].get(n).then((function(n){var o=n.oResult;if(t){var s=e(o).find("eventType").eq(0).attr("opt").split(",");a.oEventCap.bChannelSupport=-1!==e.inArray("videoloss",s)}else a.oEventCap.bChannelSupport=r["a"].nodeValue(e(o),"isSupportVideoLoss","b");i()}),(function(){a.oEventCap.bChannelSupport=!1,i()}))}))}},{key:"getParamCap",value:function(){var t=this,a=this,n=new Promise(function(){var n=Object(i["a"])(regeneratorRuntime.mark((function i(n,o){var l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return l={urlCGI:"eventCaps",params:{channel:t.oParams.iChannelId,param:d},data:null,loading:!0},i.next=3,s["a"].get(l).then((function(i){try{var s=i.oResult;a.oEventCap.bSptAlarmDetectTime=e(s).find("time").length>0;var l=t.m_oParamsValid;if(a.oEventCap.bSptAlarmDetectTime){a.oEventInfo.iAlarmDetecteTimes=r["a"].nodeValue(s,"timedefault","i");var c=[r["a"].nodeAttr(s,"time","min","i"),r["a"].nodeAttr(s,"time","max","i")],u=c[0],d=c[1];e.extend(l,{required:!0,range:[u,d]})}n()}catch(p){o()}}),(function(e,t){c["a"].getState(t),o()}));case 3:case"end":return i.stop()}}),i)})));return function(e,t){return n.apply(this,arguments)}}());return n}},{key:"getDetectInfo",value:function(){var e=this,t={urlCGI:"eventInfo",params:{channel:this.oParams.iChannelId,param:d},data:null,loading:!0};return s["a"].get(t).then((function(t){e.oEventCap.bSupportRule=!0;var a=t.oResult;e.oParams.oData=a,e.oEventInfo.bEnableEvent=r["a"].nodeValue(a,"enabled","b"),e.oEventCap.bSptAlarmDetectTime&&(e.oEventInfo.iAlarmDetecteTimes=r["a"].nodeValue(a,"time","i"))}),(function(){var t={urlCGI:"displayInfo",params:{channel:e.oParams.iChannelId},data:null,loading:!0};s["a"].get(t).then((function(t){var a=t.oResult;e.oParams.oData=a,e.oEventInfo.bEnableEvent=r["a"].nodeValue(a,"enableImageLossDetection","b")}),(function(){e.oEventCap.bSupportRule=!1}))}))}},{key:"getDetectLink",value:function(){var e=this,t=this;return l["a"].getLinkageCap("TamperDetectionTriggerCap").then((function(a){t.oEventInfo.oLink=a,t.oEventInfo.oLink.record.bShow=!1;var i={urlCGI:"linkInfo",params:{param:"videoloss-"+e.oParams.iChannelId},data:null,loading:!0};return s["a"].get(i).then((function(a){e.oEventCap.bSupportLink=!0;var i=a.oResult;l["a"].getLinkInfo(t.oEventInfo.oLink,i)}),(function(){e.oEventCap.bSupportLink=!1}))}))}},{key:"getSchedule",value:function(){var e=this,t=this,a={urlCGI:"scheduleInfo",params:{param:"videolosses/Videoloss_video"+this.oParams.iChannelId},data:null,loading:!0};return s["a"].get(a).then((function(a){e.oEventCap.bSupportSchedule=!0;var i=a.oResult;l["a"].getSchedule(t.oEventInfo.oScheduleTimes,i)}),(function(){e.oEventCap.bSupportSchedule=!1}))}},{key:"save",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,this.oParams.oXhr={oErrorXhr:null,oSuccessXhr:null,oRestartXhr:null},this.oEventInfo.bLazyLoading=!0,!t.oEventCap.bSupportRule){e.next=6;break}return e.next=6,t.setDetectInfo();case 6:if(!t.oEventCap.bSupportLink){e.next=9;break}return e.next=9,t.setDetectLink();case 9:if(!t.oEventCap.bSupportSchedule){e.next=12;break}return e.next=12,t.setDetectSchedule();case 12:this.oEventInfo.bLazyLoading=!1,t.oParams.oXhr.oErrorXhr?c["a"].saveState(t.oParams.oXhr.oErrorXhr):c["a"].saveState(t.oParams.oXhr.oSuccessXhr);case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setDetectInfo",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a,i,n,o,l=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=this.oParams.oData,i="eventInfo",n={channel:this.oParams.iChannelId,param:d},e(a).find("VideoLoss").length?r["a"].nodeValue(a,"enabled","",this.oEventInfo.bEnableEvent.toString()):(i="displayInfo",n={channel:this.oParams.iChannelId},r["a"].nodeValue(a,"enableImageLossDetection","",this.oEventInfo.bEnableEvent.toString())),this.oEventCap.bSptAlarmDetectTime&&r["a"].nodeValue(a,"time","",this.oEventInfo.iAlarmDetecteTimes),o={urlCGI:i,params:n,data:a,loading:!0},t.abrupt("return",s["a"].put(o).then((function(e){l.oParams.oXhr.oSuccessXhr=e.xhr}),(function(e){l.oEventInfo.bLazyLoading=!1,l.oParams.oXhr.oErrorXhr=e,c["a"].saveState(e)})));case 7:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}()},{key:"setDetectLink",value:function(){var e=this,t=this,a=l["a"].setLinkInfo(t.oEventInfo.oLink,"videoloss",t.oParams.iChannelId),i={urlCGI:"linkInfo",params:{param:"videoloss-"+t.oParams.iChannelId},data:a,loading:!0};return s["a"].put(i).then((function(t){e.oParams.oXhr.oSuccessXhr=t.xhr}),(function(t){e.oEventInfo.bLazyLoading=!1,e.oParams.oXhr.oErrorXhr=t,c["a"].saveState(t)}))}},{key:"setDetectSchedule",value:function(){var e=this,t=this,a=l["a"].setSchedule(t.oEventInfo.oScheduleTimes,"videoloss",t.oParams.iChannelId),i={urlCGI:"scheduleInfo",params:{param:"videolosses/Videoloss_video"+t.oParams.iChannelId},data:a,loading:!0};return s["a"].put(i).then((function(t){e.oParams.oXhr.oSuccessXhr=t.xhr}),(function(t){e.oEventInfo.bLazyLoading=!1,e.oParams.oXhr.oErrorXhr=t,c["a"].saveState(t)}))}}]),t}();t["a"]=new p}).call(this,a("1157"))},8001:function(e,t,a){"use strict";(function(e){a("96cf");var i=a("1da1"),n=a("85c6"),o=a("931a"),r=a("6458"),s=a("2b88"),l=a("962a"),c=a("d499"),u=a("c050"),d=a("8d94");t["a"]={components:{ChannelList:r["a"],PluginWind:s["a"],BasePageExtend:l["a"],BasePageExtendRotate:c["a"]},data:function(){return{oChannel:n["a"].oChannel,oValid:{},oDrawBtn:{bDraw:!1},oPTZPrivacyCoverCap:o["a"].oPTZPrivacyCoverCap,oPTZPrivacyCoverInfo:o["a"].oPTZPrivacyCoverInfo,oBtnDisabled:o["a"].oBtnDisabled,oTableInfo:o["a"].oTableInfo,isShowAreaSet:!1,bEnableCancelCallback:!0,bPluginHide:!1,isShowAreaSetRotate:!1,bNeedManualDraw:!1,flag:!0}},watch:{"oTableInfo.tableData.iSelectIndex":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].goto(t);case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0}},created:function(){this.init()},methods:{init:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].getPTZPrivacyCoverCap();case 2:return e.next=4,o["a"].getPTZPrivacyCoverInfo();case 4:this.oPTZPrivacyCoverCap=o["a"].oPTZPrivacyCoverCap,this.oPTZPrivacyCoverInfo=o["a"].oPTZPrivacyCoverInfo,this.oBtnDisabled=o["a"].oBtnDisabled,this.oDrawBtn=n["a"].m_oDrawBtn,this.oTableInfo=o["a"].oTableInfo;case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),playSuccess:function(){var e=this;this.$nextTick(Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.init(),!e.isShowAreaSetRotate){t.next=8;break}return t.next=4,o["a"].drawRegion();case 4:return t.next=6,o["a"].setDrawStatus(!0);case 6:t.next=15;break;case 8:if(!e.bNeedManualDraw){t.next=14;break}return t.next=11,o["a"].updateRegionInfo(!0,!1);case 11:e.bNeedManualDraw=!1,t.next=15;break;case 14:o["a"].drawRegion();case 15:case"end":return t.stop()}}),t)}))))},draw:function(){var t=this;this.isShowAreaSetRotate=!0,this.isShowAreaSet=!1,this.$nextTick((function(){var a=t.$store.state.globeStore.screenWidth?t.$store.state.globeStore.screenWidth:window.screen.height;e("#main_plugin").height(window.screen.width-88),e("#main_plugin").width(a)}))},clear:function(e){o["a"].clear(e)},enable:function(){o["a"].enable()},addMask:function(){o["a"].addMask()},deleteMask:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:u["a"].confirm(d["a"].t("deleteMask"),Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].deleteMask(t);case 2:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),save:function(){o["a"].setPTZPrivacyCoverInfo()},showAreaSet:function(){this.isShowAreaSet=!0,o["a"].setDrawStatus(!1)},cancelLandscapeMode:function(){this.isShowAreaSet=!1},cancelLandscapeMode1:function(){this.isShowAreaSetRotate=!1,this.isShowAreaSet=!0},confirmLink:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].updateRegionInfo(!1,!1);case 2:this.bNeedManualDraw=!0,this.addMask(),setTimeout((function(){t.isShowAreaSetRotate=!1,t.isShowAreaSet=!0}),3e3);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}}}).call(this,a("1157"))},"81af":function(e,t,a){},8294:function(e,t,a){},"82f0":function(e,t,a){"use strict";a.r(t);a("a481");var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("customVideo"),"b-lazy-loading":e.m_oCurStreamParam.bLazyLoading,"right-type":"text"}},[t("div",{staticClass:"custom-page-wrapper",attrs:{slot:"content"},slot:"content"},[t("hm-scroll",[t("div",{staticClass:"hm-index-list-item"},[t("hm-validator-group",{attrs:{result:e.validate}},[t("channel-list",{attrs:{"o-channel":e.oChannel}}),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("streamType")}},[e._l(e.aStreamsParams,(function(a,i){return t("li",{directives:[{name:"show",rawName:"v-show",value:!!e.aStreamsParams.length,expression:"!!aStreamsParams.length"}],key:i,staticClass:"receiver-wrapper"},[t("div",{staticClass:"item-inner"},[t("div",{staticClass:"text"},[t("hm-input",{on:{focus:function(t){return e.changeStream(a.iStreamID,i)}},model:{value:a.szStreamName,callback:function(t){e.$set(a,"szStreamName",t)},expression:"item.szStreamName"}}),t("hm-validator",{attrs:{model:a.szStreamName,rules:e.oInputValid.streamName,param:e.$t("item").replace("%s",i+1)+" "+e.$t("streamType")}})],1)])])})),t("hm-button",{staticClass:"add-button",staticStyle:{"margin-bottom":"10px"},attrs:{disabled:5===e.aStreamsParams.length},on:{click:function(t){return e.addStream()}}},[t("span",{staticClass:"icon-icons_add_s_n"}),e._v(e._s(e.$t("add")))]),t("hm-button",{staticClass:"add-button",staticStyle:{"margin-bottom":"10px"},attrs:{disabled:!e.aStreamsParams.length},on:{click:function(t){return e.deleteStream()}}},[t("span",{staticClass:"icon-icons_minus_s_n"}),e._v(e._s(e.$t("delete")))])],2),e.bInitFish&&e.aStreamsParams.length?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("resolution")}},[t("base-select",{attrs:{title:e.$t("resolution"),options:e.oStreamCap.resolutions,disabled:e.oDisabled.bResolution||!e.oStreamCap.bChannelSupport},model:{value:e.aStreamsParams[e.iCurIndex].resolution,callback:function(t){e.$set(e.aStreamsParams[e.iCurIndex],"resolution",t)},expression:"aStreamsParams[iCurIndex].resolution"}})],1),t("hm-cell",{attrs:{title:e.$t("frameRate")}},[t("base-select",{attrs:{title:e.$t("frameRate"),options:e.oStreamCap.frameRates,disabled:!e.oStreamCap.bChannelSupport},model:{value:e.aStreamsParams[e.iCurIndex].frameRate,callback:function(t){e.$set(e.aStreamsParams[e.iCurIndex],"frameRate",t)},expression:"aStreamsParams[iCurIndex].frameRate"}})],1),t("hm-cell",{staticClass:"max-bit",class:{"cell-require":!0},attrs:{title:e.$t("maxBitrate")+"Kbps"}},[t("hm-input",{attrs:{disabled:e.oDisabled.bMaxBitrate||!e.oStreamCap.bChannelSupport},on:{onFocus:function(t){return e.toggleMaxBitrateList(t,!0)},onBlur:function(t){return e.toggleMaxBitrateList(t,!1)}},model:{value:e.aStreamsParams[e.iCurIndex].maxBitrate,callback:function(t){e.$set(e.aStreamsParams[e.iCurIndex],"maxBitrate",t)},expression:"aStreamsParams[iCurIndex].maxBitrate"}}),t("span",{staticClass:"icon-into",on:{click:function(t){(!e.oDisabled.bMaxBitrate||e.oStreamCap.bChannelSupport)&&e.changeMaxBit()}}}),t("hm-validator",{attrs:{model:e.aStreamsParams[e.iCurIndex].maxBitrate,rules:{range:e.aBitrateValid,required:!0},disabled:e.oDisabled.bMaxBitrate||!e.oStreamCap.bChannelSupport,param:e.$t("item").replace("%s",e.iCurIndex+1)+" "+e.$t("maxBitrate")}})],1),t("hm-cell",{attrs:{title:e.$t("videoEncoding")}},[t("base-select",{attrs:{title:e.$t("videoEncoding"),options:e.oStreamCap.videoEncodings,disabled:!e.oStreamCap.bChannelSupport},model:{value:e.aStreamsParams[e.iCurIndex].videoEncoding,callback:function(t){e.$set(e.aStreamsParams[e.iCurIndex],"videoEncoding",t)},expression:"aStreamsParams[iCurIndex].videoEncoding"}})],1),t("hm-cell",{staticClass:"description",class:{"cell-require":e.oInputValid.oStreamDescrValid&&e.oInputValid.oStreamDescrValid.required},attrs:{title:e.$t("description")}},[t("hm-textarea",{attrs:{placeholder:e.$t("streamDescriptionLack"),disabled:!e.oStreamCap.bChannelSupport,maxlength:e.oParamsValid.oStreamDescrValid.oMaxLength.value,indicator:!1},model:{value:e.aStreamsParams[e.iCurIndex].szStreamDescr,callback:function(t){e.$set(e.aStreamsParams[e.iCurIndex],"szStreamDescr",t)},expression:"aStreamsParams[iCurIndex].szStreamDescr"}}),t("hm-validator",{attrs:{model:e.aStreamsParams[e.iCurIndex].szStreamDescr,rules:e.oInputValid.oStreamDescrValid,disabled:!e.oStreamCap.bChannelSupport,param:e.$t("item").replace("%s",e.iCurIndex+1)+" "+e.$t("description")}})],1)],1):e._e()],1)],1),t("div",{staticClass:"hm-btn-group",attrs:{disabled:!e.oStreamCap.bChannelSupport}},[t("hm-button",{on:{click:function(t){return e.save()}}},[e._v("\n          "+e._s(e.$t("save"))+"\n        ")])],1)])],1)])},n=[],o=(a("96cf"),a("1da1")),r=(a("ac6a"),a("8615"),a("0ad6")),s=a("6458"),l=a("c050"),c=a("7de8"),u=a("8d94"),d=a("47b5"),p={name:"CustomVideo",components:{ChannelList:s["a"],BaseSelect:d["a"]},data:function(){return{m_oCurStreamParam:r["a"].m_oCurStreamParam,bInitFish:!1,validate:{},iChannelId:0,oStreamCap:{},oParamsValid:{},oChannel:{},oDisabled:{},aStreamsParams:{},iCurStreamId:{},iCurIndex:0,aInputValidList:[],oRemainStramId:{},oInputValid:{streamName:{required:!0,lengthRange:[1,32],specialChar:!0},oBitrateValid:{required:!1,lengthRange:[0,12800],specialChar:!0},oStreamDescrValid:{required:!1,specialChar:!0}}}},computed:{aBitrateValid:function(){return Object.values(this.oParamsValid.oBitrateValid.range.value)}},watch:{"oChannel.id":{handler:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t>-1&&r["a"].get(t).then((function(){a.oStreamCap=r["a"].m_oStreamCap,a.oParamsValid=r["a"].m_oParamsValid,a.oDisabled=r["a"].m_oDisabled,a.aStreamsParams=r["a"].m_aStreamsParams,a.iCurIndex=r["a"].iCurIndex,a.iCurStreamId=r["a"].iCurStreamId,a.oRemainStramId=r["a"].m_oRemainStramId,a.oStreamsParams=r["a"].m_oStreamsParams,a.bInitFish=!0}));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0}},created:function(){this.oChannel={id:1}},methods:{changeMaxBit:function(){var e=this,t=["256","512","1024","2048","3072","4096","6144","8192","12288","16384","32768","65536"],a=[];t.forEach((function(t){var i=parseInt(t,10);i>=e.oStreamCap.minRate&&i<=e.oStreamCap.maxRate&&a.push({value:t,text:t})})),this.selectPicker||(this.selectPicker=this.$createPicker({title:this.$t("maxBitrate"),data:[a],selectedIndex:[0],onSelect:function(t){e.aStreamsParams[e.iCurIndex].maxBitrate=t[0],e.selectPicker.remove(),e.selectPicker=null},onCancel:function(){e.selectPicker.remove(),e.selectPicker=null}})),this.selectPicker.show()},save:function(){var e=this;this.checkValid()?r["a"].save():setTimeout((function(){e.validate.validateAll(),l["a"].validateTips(e.validate.getErrorReport())&&r["a"].save()}),500)},checkValid:function(){for(var e,t=!1,a=0;a<this.aStreamsParams.length;a++){var i=this.aStreamsParams[a].szStreamName;if(e=a,c["a"].isEmpty(i)||c["a"].lengthw(i)>32||c["a"].isSpecChar(i)){t=!0;break}var n=this.aStreamsParams[a].maxBitrate,o=this.aStreamsParams[a].szStreamDescr;if(c["a"].isEmpty(n)||!c["a"].isInt(n)||n<this.oStreamCap.minRate||n>this.oStreamCap.maxRate){t=!0;break}if(o&&(c["a"].lengthw(o)>this.oStreamCap.oStreamDescrLen.iMax||c["a"].isSpecChar(o))){t=!0;break}}return t&&(this.iCurStreamId=this.aStreamsParams[e].iStreamID,this.iCurIndex=e),!t},toggleMaxBitrateList:function(e,t){r["a"].toggleMaxBitrateList(e,t)},addStream:function(){r["a"].addStream(),this.$forceUpdate()},deleteStream:function(){var e=this;this.aStreamsParams.length&&-1!==parseInt(this.iCurStreamId,10)&&-1!==parseInt(this.iCurIndex,10)&&l["a"].confirm(c["a"].replaceAll(u["a"].t("deleteCustomStreamConfirm"),"%s",this.aStreamsParams[this.iCurIndex].szStreamName),(function(){r["a"].deleteStreamInfo(e.iCurStreamId).then((function(){delete e.oStreamsParams[e.iCurStreamId],e.oRemainStramId[e.iCurStreamId]=!0;for(var t=0;t<e.aStreamsParams.length;t++)if(e.aStreamsParams[t].iStreamID===e.iCurStreamId){e.aStreamsParams.splice(t,1);break}for(var a in e.oRemainStramId)if(!e.oRemainStramId[a]){e.iCurStreamId=a,e.iCurIndex=0;break}})),e.$forceUpdate()}))},changeStream:function(e,t){parseInt(e,10)!==parseInt(this.iCurStreamId,10)&&(this.iCurStreamId=e,this.iCurIndex=t)}}},m=p,h=(a("03b9"),a("2877")),f=Object(h["a"])(m,i,n,!1,null,"13e0a897",null);t["default"]=f.exports},"837b":function(e,t,a){},8382:function(e,t,a){"use strict";(function(e){a("96cf");var i=a("1da1"),n=a("155e"),o=a("1c1a"),r=a("3616"),s=a("6458"),l=a("2b88"),c=a("47b5");t["a"]={name:"RegCrop",components:{BaseView:o["a"],ChannelList:s["a"],PluginWind:l["a"],NewBasePageExtendRotate:r["a"],BaseSelect:c["a"]},data:function(){return{bLazyLoading:!1,validate:{},oParams:n["a"].oParams,oChannel:n["a"].oChannel,bSupportPTZWithPreview:n["a"].oParams.bSupportPTZWithPreview,bPluginHide:!1,bLandscapeMode:!1,bEnableCancelCallback:!0,aStreamType:[{value:"03",text:this.$t("thirdStream")}]}},watch:{},created:function(){this.oChannel=n["a"].oChannel,this.oChannel.id=1,this.init()},methods:{init:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n["a"].getCap().then(Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n["a"].getPTZCtrlCap();case 2:return e.next=4,n["a"].getInfo();case 4:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),playSuccess:function(){var e=this;this.$nextTick(Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n["a"].setRectInfoToPlugin(e.oParams.oRegion);case 1:case"end":return t.stop()}}),t)}))))},addArea:function(){n["a"].addArea()},draw:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.bLandscapeMode=!0,this.$nextTick((function(){var t=a.$store.state.globeStore.screenWidth?a.$store.state.globeStore.screenWidth:window.screen.height;e("#main_plugin").height(window.screen.width-88),e("#main_plugin").width(t)}));case 2:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),confirmLandscapeMode:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.bLandscapeMode=!1,e.next=3,n["a"].updateRegionInfo();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),cancelLandscapeMode:function(){this.bLandscapeMode=!1},save:function(){var e=this;this.bLazyLoading=!0,n["a"].save().then((function(){e.bLazyLoading=!1}))}}}}).call(this,a("1157"))},"83b7":function(e,t,a){"use strict";(function(e){a("ac6a"),a("6b54"),a("7514"),a("28a5"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("f193"),s=a("7de8"),l=a("976d"),c=a("768a"),u=a("1f20"),d=a("9741"),p=a("d09c"),m=a("8d94"),h=function(){function t(){Object(n["a"])(this,t),this.oXmlDoc=null,this.verifyResult={},this.oPnpXmlDoc=null,this.oExtensionXmlDoc=null,this.m_aTimes=[],this.m_oParams=l["a"].m_oParams,this.m_oCapbilities=l["a"].m_oCapbilities,this.m_oCapTimes={preRecordTimeList:[{value:"0",text:m["a"].t("noPreRecord")},{value:"5",text:5+m["a"].t("seconds")},{value:"10",text:10+m["a"].t("seconds")},{value:"15",text:15+m["a"].t("seconds")},{value:"20",text:20+m["a"].t("seconds")},{value:"25",text:25+m["a"].t("seconds")},{value:"30",text:30+m["a"].t("seconds")},{value:"2147483647",text:m["a"].t("notLimited")}],recordDelayList:[{value:"5",text:5+m["a"].t("seconds")},{value:"10",text:10+m["a"].t("seconds")},{value:"30",text:30+m["a"].t("seconds")},{value:"60",text:1+m["a"].t("minute")},{value:"120",text:2+m["a"].t("minute")},{value:"300",text:5+m["a"].t("minute")},{value:"600",text:10+m["a"].t("minute")}]},this.m_oParamsValid=l["a"].m_oParamsValid,this.m_oSnapshotCapXml=null,this.m_oCopyTo=[],this.oDay=l["a"].oDay,this.oDayReverse=l["a"].oDayReverse,this.oChannel={id:1}}return Object(o["a"])(t,[{key:"initParams",value:function(){for(var e=this.m_oCapbilities.bHoliday?8:7,t=0;t<e;t++)this.m_aTimes[t]=[];this.m_oCopyTo=[];for(var a=0;a<c["a"].m_aChannelList.length;a++)c["a"].m_aChannelList[a].bOnline&&"zero"!==c["a"].m_aChannelList[a].szType&&this.m_oCopyTo.push({id:c["a"].m_aChannelList[a].iId,name:"["+("analog"===c["a"].m_aChannelList[a].szType?"A":"D")+c["a"].m_aChannelList[a].iId+"] "+c["a"].m_aChannelList[a].szName,bCheck:c["a"].m_aChannelList[a].iId===parseInt(this.oChannel.id,10),bDisable:c["a"].m_aChannelList[a].iId===parseInt(this.oChannel.id,10)})}},{key:"initPlanRecord",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].getChannelList(!0);case 2:return l["a"].init(),e.next=5,u["a"].isEnableHoliday();case 5:return e.next=7,u["a"].getDeviceCapa();case 7:if(this.m_oCapbilities.bHoliday=u["a"].m_oDeviceCapa.bEnableHoliday,this.m_oCapbilities.bHoliday=u["a"].m_oDeviceCapa.bSupportLocalButtonRecordControl,this.initParams(),!(t>c["a"].m_iAnalogChNum)){e.next=15;break}return e.next=13,this.getAnrInfo(t);case 13:e.next=16;break;case 15:this.m_oCapbilities.bSupportAnr=!1;case 16:return e.next=18,this.getRecordPlanCap(t);case 18:return e.abrupt("return",this.getRecordPlanInfo());case 19:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getRecordPlanCap",value:function(t){var a=this,i=this.m_oCapbilities;return new Promise((function(n){var o={urlCGI:"recordCap",params:{channel:t},data:null,loading:!0};r["a"].get(o).then((function(t){var o=t.oResult;i.bSupport=!0,i.aRecordType.length=0;for(var r=e(o).find("DefaultRecordingMode").eq(0).attr("opt").split(","),l=0,c=r.length;l<c;l++)i.aRecordType.push(r[l]);void 0!==e(o).find("Duration").eq(0).attr("min")&&(i.aDuration[0]=parseInt(e(o).find("Duration").eq(0).attr("min"),10),a.m_oParamsValid.oRecorderDuration.range.value.min=a.m_oCapbilities.aDuration[0]),void 0!==e(o).find("Duration").eq(0).attr("max")&&(i.aDuration[1]=parseInt(e(o).find("Duration").eq(0).attr("max"),10),a.m_oParamsValid.oRecorderDuration.range.value.max=a.m_oCapbilities.aDuration[1]);var d=e(o).find("SrcUrl").eq(0).attr("opt");d.length&&(i.aStreamType[0]=d.indexOf("01")>0,i.aStreamType[1]=d.lastIndexOf("02")>0,i.aStreamType[2]=u["a"].m_oDeviceCapa.bSupportSubStreamPlayback&&d.lastIndexOf("07")>0);var p=e(o).find("SrcUrl").eq(0).attr("opt").split(","),h={1:m["a"].t("mainStreamNormal"),2:m["a"].t("subStream"),3:m["a"].t("thirdStream"),4:m["a"].t("fourthStream"),5:m["a"].t("fifthStream")},f=i.aSupportStream;f.length=0;for(var v=0,b=p.length;v<b;v++){var g=p[v].slice(-1);"7"===g&&(g="3"),f.push({name:h[g],value:g})}e(o).find("RedundancyRecord").length>0?i.bSupportRedundant=!0:i.bSupportRedundant=!1,i.bSupportRecordAudio=!!e(o).find("SaveAudio").length,i.bSupportExpiredTime=!!e(o).find("Duration").length,i.bSupportOverWrite=!!e(o).find("LoopEnable").length,a.m_oParamsValid.oRecorderDuration.skipVerify=!i.bSupportExpiredTime,a.m_oParams.szStreamType=s["a"].nodeValue(o,"SrcUrl").split("/").pop().split("").pop(),a.m_oCapbilities.bSupportPostRecordTimeSeconds=!!e(o).find("CustomExtensionList PostRecordTimeSeconds").length,n()}),(function(){i.bSupport=!1,n()}))}))}},{key:"getbAllStreamRecord",value:function(){var e=this;return this.m_oParams.bAllStreamRecord=!1,new Promise((function(t){var a={urlCGI:"singleTrackInfo",params:{channel:e.oChannel.id+"02"},data:null,loading:!0};return r["a"].get(a).then((function(){e.m_oParams.bAllStreamRecord=!0,t()}),(function(){t()}))}))}},{key:"getRecordPlanInfo",value:function(){var t=this,a={urlCGI:"singleTrackInfo",params:{channel:this.oChannel.id+"01"},data:null,loading:!0};return r["a"].get(a).then((function(a){t.initParams(),t.oXmlDoc=a.oResult;for(var i=a.oResult,n=e(i),o=n.find("ScheduleActionStartTime").length,r=n.find("HolidaySchedule").eq(0).find("ScheduleActionStartTime").length,l=0;l<o;l++){var c=n.find("ScheduleAction").eq(l),u=n.find("ScheduleActionStartTime").eq(l),d=n.find("ScheduleActionEndTime").eq(l),p=t.oDay[u.find("DayOfWeek").eq(0).text()],m=t.oDay[d.find("DayOfWeek").eq(0).text()],h="24:00:00";h=p!==m?"24:00:00":d.find("TimeOfDay").eq(0).text(),l>=o-r&&(p=7),t.m_aTimes[p].push({sTime:u.find("TimeOfDay").eq(0).text(),eTime:h,type:c.find("ActionRecordingMode").eq(0).text()})}t.m_oParams.bEnableOverWrite=s["a"].nodeValue(n,"LoopEnable","b"),t.m_oParams.bEnablePlan=s["a"].nodeValue(n.find("CustomExtensionList").eq(0),"enableSchedule","b"),t.m_oParams.bRecordAudio=s["a"].nodeValue(n.find("CustomExtensionList").eq(0),"SaveAudio","b"),t.m_oParams.bRedundant=s["a"].nodeValue(n.find("CustomExtensionList").eq(0),"RedundancyRecord","b"),t.m_oParams.szPreRecord=s["a"].nodeValue(n.find("CustomExtensionList").eq(0),"PreRecordTimeSeconds"),t.m_oParams.szRecordDelay=s["a"].nodeValue(n.find("CustomExtensionList").eq(0),"PostRecordTimeSeconds"),t.m_oParams.szExpiredTime=s["a"].nodeValue(n,"Duration").split("DT")[0].substring(1)}),(function(e){p["a"].saveState(e)}))}},{key:"createRecordPlanXml",value:function(){var t=this,a="<?xml version='1.0' encoding='UTF-8'?><HolidaySchedule><ScheduleBlock><ScheduleBlockGUID>{00000000-0000-0000-0000-000000000000}</ScheduleBlockGUID><ScheduleBlockType>www.std-cgi.com/racm/schedule/ver10</ScheduleBlockType>";if(u["a"].m_oDeviceCapa.bEnableHoliday){for(var i=0;i<this.m_aTimes[7].length;i++)a+="<ScheduleAction><id>"+(i+1)+"</id>",a+="<ScheduleActionStartTime><TimeOfDay>"+this.m_aTimes[7][i].sTime+"</TimeOfDay></ScheduleActionStartTime>",a+="<ScheduleActionEndTime><TimeOfDay>"+this.m_aTimes[7][i].eTime+"</TimeOfDay></ScheduleActionEndTime>",a+="<ScheduleDSTEnable>false</ScheduleDSTEnable><Description>nothing</Description>",a+="<Actions><Record>true</Record><Log>false</Log><SaveImg>false</SaveImg>",a+="<ActionRecordingMode>"+this.m_aTimes[7][i].type+"</ActionRecordingMode></Actions></ScheduleAction>";a+="</ScheduleBlock></HolidaySchedule>"}for(var n="<TrackSchedule><ScheduleBlockList><ScheduleBlock><ScheduleBlockGUID>{00000000-0000-0000-0000-000000000000}</ScheduleBlockGUID><ScheduleBlockType>www.std-cgi.com/racm/schedule/ver10</ScheduleBlockType>",o=1,r=0;r<7;r++)for(var l=0;l<this.m_aTimes[r].length;l++)n+="<ScheduleAction><id>"+(o++).toString()+"</id>",n+="<ScheduleActionStartTime><DayOfWeek>"+this.oDayReverse[r]+"</DayOfWeek>",n+="<TimeOfDay>"+this.m_aTimes[r][l].sTime+"</TimeOfDay></ScheduleActionStartTime>",n+="<ScheduleActionEndTime><DayOfWeek>"+this.oDayReverse[r]+"</DayOfWeek>",n+="<TimeOfDay>"+this.m_aTimes[r][l].eTime+"</TimeOfDay></ScheduleActionEndTime>",n+="<ScheduleDSTEnable>false</ScheduleDSTEnable><Description>nothing</Description>",n+="<Actions><Record>true</Record><Log>false</Log><SaveImg>false</SaveImg>",n+="<ActionRecordingMode>"+this.m_aTimes[r][l].type+"</ActionRecordingMode></Actions></ScheduleAction>";n+="</ScheduleBlock></ScheduleBlockList></TrackSchedule>";var c=this.oXmlDoc,p=this;if(d["a"].iDeviceType>0)e(c).find("Track").each((function(){for(var t=-1,i=0;i<p.m_oCopyTo.length;i++)if(e(this).find("id").eq(0).text()===p.m_oCopyTo[i].id+"01"){t=i;break}if(-1!==t&&p.m_oCopyTo[t].bCheck){e(this).find("SrcUrl").eq(0).text("rtsp://localhost/PSIA/Streaming/channels/10"+p.m_oParams.szStreamType),e(this).find("Duration").eq(0).text("P"+p.m_oParams.szExpiredTime+"DT0H"),e(this).find("LoopEnable").eq(0).text(p.m_oParams.bEnableOverWrite.toString());var o=e(this).find("CustomExtensionList").eq(0);o.find("enableSchedule").eq(0).text(p.m_oParams.bEnablePlan.toString()),o.find("SaveAudio").eq(0).text(p.m_oParams.bRecordAudio.toString()),o.find("RedundancyRecord").eq(0).text(p.m_oParams.bRedundant.toString()),o.find("PreRecordTimeSeconds").eq(0).text(p.m_oParams.szPreRecord),o.find("PostRecordTimeSeconds").eq(0).text(p.m_oParams.szRecordDelay),u["a"].m_oDeviceCapa.bEnableHoliday&&(e(this).find("HolidaySchedule").eq(0).remove(),e(s["a"].parseXmlFromStr(a)).children().clone().insertAfter(e(this).find("CustomExtensionList").eq(0).find("PreRecordTimeSeconds").eq(0))),e(this).find("TrackSchedule").length>0&&e(this).find("TrackSchedule").eq(0).remove(),e(s["a"].parseXmlFromStr(n)).children().clone().insertAfter(e(this).find("SrcDescriptor").eq(0))}else e(this).remove()}));else{c=s["a"].createXml(),c.appendChild(c.createProcessingInstruction("xml","version='1.0' encoding='utf-8'"));for(var m=c.createElement("TrackList"),h=0;h<this.m_oCopyTo.length;h++)if(this.m_oCopyTo[h].bCheck){var f=this.oXmlDoc;e(f).find("id").eq(0).text(this.m_oCopyTo[h].id+"01"),e(f).find("Channel").eq(0).text(this.m_oCopyTo[h].id+"01"),e(f).find("SrcChannel").eq(0).text(this.m_oCopyTo[h].id),e(f).find("SrcUrl").eq(0).text("rtsp://localhost/ISAPI/Streaming/channels/10"+this.m_oParams.szStreamType),e(f).find("Duration").eq(0).text("P"+this.m_oParams.szExpiredTime+"DT0H");var v=e(f).find("CustomExtensionList").eq(0);v.find("enableSchedule").eq(0).text(this.m_oParams.bEnablePlan.toString()),v.find("SaveAudio").eq(0).text(this.m_oParams.bRecordAudio.toString()),v.find("RedundancyRecord").eq(0).text(this.m_oParams.bRedundant.toString()),v.find("PreRecordTimeSeconds").eq(0).text(this.m_oParams.szPreRecord),v.find("PostRecordTimeSeconds").eq(0).text(this.m_oParams.szRecordDelay),u["a"].m_oDeviceCapa.bEnableHoliday&&(e(f).find("HolidaySchedule").eq(0).remove(),e(s["a"].parseXmlFromStr(a)).children().clone().insertAfter(e(f).find("CustomExtensionList").eq(0).find("PreRecordTimeSeconds").eq(0))),e(f).find("TrackSchedule").length>0&&e(f).find("TrackSchedule").eq(0).remove(),e(s["a"].parseXmlFromStr(n)).children().clone().insertAfter(e(f).find("SrcDescriptor").eq(0)),m.appendChild(e(f).find("Track").clone().get(0))}c.appendChild(m)}if("7"===this.m_oParams.szStreamType){for(var b=e(c).find("Track").length,g=b-1;g>=0;g--)e(e(c).find("Track").eq(g).clone()).insertAfter(e(c).find("Track").eq(g));e(c).find("Track").each((function(a){if((a+1)%2!==0)e(t).find("SrcUrl").eq(0).text("rtsp://localhost/ISAPI/Streaming/channels/101");else{var i=Math.floor(parseInt(e(c).find("Track").eq(a-1).find("id").eq(0).text(),10)/100);e(t).find("id").eq(0).text(i+"02"),e(t).find("Channel").eq(0).text(i+"02"),e(t).find("SrcUrl").eq(0).text("rtsp://localhost/ISAPI/Streaming/channels/102")}}))}return c}},{key:"createTrackInfo",value:function(e){return this.m_oParams.bAllStreamRecord=!1,new Promise((function(t,a){var i={urlCGI:"trackInfo",params:null,data:e,loading:!0};return r["a"].put(i).then((function(e){t(e)}),(function(e){a(e)}))}))}},{key:"save",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){var i,n,o,r,l,c,u=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.m_aTimes=a,i=this.createRecordPlanXml(),n=[],e(i).find("Track").length>8?(o=0,r=s["a"].createXml(),r.appendChild(r.createProcessingInstruction("xml","version='1.0' encoding='utf-8'")),l=r.createElement("TrackList"),e(i).find("Track").each((function(e,t){o>7&&(r.appendChild(l),n.push(r),r=s["a"].createXml(),r.appendChild(r.createProcessingInstruction("xml","version='1.0' encoding='utf-8'")),l=r.createElement("TrackList"),o=0),l.appendChild(t),o++})),r.appendChild(l),n.push(r)):n.push(i),this.m_oParams.bLazyLoading=!0,c=[],n.forEach((function(e){c.push(u.createTrackInfo(e))})),this.m_oCapbilities.bSupportAnr&&c.push(this.setAnrInfo(this.oChannel.id)),t.next=10,s["a"].waitAll(c).then((function(e){for(var t=[],a=0,i=e.length;a<i;++a)e[a]&&t.push(e[a].xhr);u.m_oParams.bLazyLoading=!1,p["a"].successState(t)}),(function(e){this.m_oParams.bLazyLoading=!1,p["a"].saveState(e)}));case 10:case"end":return t.stop()}}),t,this)})));function a(e){return t.apply(this,arguments)}return a}()},{key:"setAnrInfo",value:function(t){var a=this;return e(this.m_oANRXml).find("enableAnr").eq(0).text(this.m_oParams.bEnableAnr.toString()),new Promise((function(e,i){var n={urlCGI:"ChannelSingleInfo",params:{channel:t},data:a.m_oANRXml,loading:!0};r["a"].put(n).then((function(t){e(t)}),(function(e){i(e)}))}))}},{key:"getAnrInfo",value:function(t){var a=this;return new Promise((function(i){var n={urlCGI:"ChannelSingleInfo",params:{channel:t},data:null,loading:!0};r["a"].get(n).then((function(t){var n=t.oResult;a.m_oANRXml=n,a.m_oParams.bEnableAnr=s["a"].nodeValue(n,"enableAnr","b"),e(n).find("enableAnr").length>0?a.m_oCapbilities.bSupportAnr=!0:a.m_oCapbilities.bSupportAnr=!1,i()}),(function(){i()}))}))}},{key:"saveById",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a,i){var n,o,r,l,c,u,d=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.m_aTimes=a,n=this.createRecordPlanXml(),e(n).find("id").eq(0).text(i+"01"),e(n).find("Channel").eq(0).text(i+"01"),o=[],e(n).find("Track").length>8?(r=0,l=s["a"].createXml(),l.appendChild(l.createProcessingInstruction("xml","version='1.0' encoding='utf-8'")),c=l.createElement("TrackList"),e(n).find("Track").each((function(e,t){r>7&&(l.appendChild(c),o.push(l),l=s["a"].createXml(),l.appendChild(l.createProcessingInstruction("xml","version='1.0' encoding='utf-8'")),c=l.createElement("TrackList"),r=0),c.appendChild(t),r++})),l.appendChild(c),o.push(l)):o.push(n),u=[],o.forEach((function(e){u.push(d.createTrackInfo(e))})),this.m_oCapbilities.bSupportAnr&&u.push(this.setAnrInfo(i)),t.next=11,s["a"].waitAll(u).then((function(e){for(var t=[],a=0,i=e.length;a<i;++a)e[a]&&t.push(e[a].xhr);p["a"].successState(t)}),(function(e){p["a"].saveState(e)}));case 11:case"end":return t.stop()}}),t,this)})));function a(e,a){return t.apply(this,arguments)}return a}()}]),t}();t["a"]=new h}).call(this,a("1157"))},"84ae":function(e,t,a){},8579:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("Email"),"left-type":"back","right-text":e.$t("save"),"b-lazy-loading":e.bLazyLoading},on:{"right-handle":e.save}},[t("div",{staticClass:"email-wrapper",attrs:{slot:"content"},slot:"content"},[t("hm-scroll",[t("div",{staticClass:"hm-index-list-item"},[t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",{staticClass:"cell-group custom-cell-group"},[t("hm-cell",{class:{"cell-require":e.oParamsValid.oEmailSendName&&e.oParamsValid.oEmailSendName.required},attrs:{title:e.$t("senderName")}},[t("hm-input",{attrs:{placeholder:e.$t("senderName")},model:{value:e.oParams.szSenderName,callback:function(t){e.$set(e.oParams,"szSenderName",t)},expression:"oParams.szSenderName"}}),t("hm-validator",{attrs:{model:e.oParams.szSenderName,rules:e.oParamsValid.oEmailSendName,param:e.$t("senderName")}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oEmailSendAddr&&e.oParamsValid.oEmailSendAddr.required},attrs:{title:e.$t("senderAddress")}},[t("hm-input",{attrs:{placeholder:e.$t("senderAddress")},model:{value:e.oParams.szSenderAddress,callback:function(t){e.$set(e.oParams,"szSenderAddress",t)},expression:"oParams.szSenderAddress"}}),t("hm-validator",{attrs:{model:e.oParams.szSenderAddress,rules:e.oParamsValid.oEmailSendAddr,param:e.$t("senderAddress")}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oEmailSmtpServer&&e.oParamsValid.oEmailSmtpServer.required},attrs:{title:e.$t("smtpServer")}},[t("hm-input",{attrs:{placeholder:e.$t("smtpServer")},model:{value:e.oParams.szSmtpServer,callback:function(t){e.$set(e.oParams,"szSmtpServer",t)},expression:"oParams.szSmtpServer"}}),t("hm-validator",{attrs:{model:e.oParams.szSmtpServer,rules:e.oParamsValid.oEmailSmtpServer,param:e.$t("smtpServer")}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oEmailSmtpPort&&e.oParamsValid.oEmailSmtpPort.required},attrs:{title:e.$t("smtpPort")}},[t("hm-input",{attrs:{placeholder:e.$t("smtpPort")},model:{value:e.oParams.szSmtpPort,callback:function(t){e.$set(e.oParams,"szSmtpPort",t)},expression:"oParams.szSmtpPort"}}),t("hm-validator",{attrs:{model:e.oParams.szSmtpPort,rules:e.oParamsValid.oEmailSmtpPort,param:e.$t("smtpPort")}})],1),e.oCap.bNVR?t("hm-cell",{attrs:{title:e.$t("enableSSLTLS")}},[t("hm-switch",{model:{value:e.oParams.bEnableSSL,callback:function(t){e.$set(e.oParams,"bEnableSSL",t)},expression:"oParams.bEnableSSL"}})],1):e._e(),e.oCap.bNVR?e._e():t("hm-cell",{attrs:{title:e.$t("emailEncryption")}},[t("base-select",{attrs:{title:e.$t("emailEncryption"),options:e.oCap.aEncryptionType},model:{value:e.oParams.szEncryptionType,callback:function(t){e.$set(e.oParams,"szEncryptionType",t)},expression:"oParams.szEncryptionType"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCap.bSupportSmartTLS&&("TLS"===e.oParams.szEncryptionType||"SSL"===e.oParams.szEncryptionType),expression:"oCap.bSupportSmartTLS && ('TLS' === oParams.szEncryptionType || 'SSL'===oParams.szEncryptionType)"}],attrs:{title:e.$t("enableSSLTLS")}},[t("hm-switch",{model:{value:e.oParams.bEnableSTARTTLS,callback:function(t){e.$set(e.oParams,"bEnableSTARTTLS",t)},expression:"oParams.bEnableSTARTTLS"}})],1),e.oCap.bSptSnapShoot?t("hm-cell",{attrs:{title:e.$t("attachedImage")}},[t("hm-switch",{model:{value:e.oParams.bEnablePic,callback:function(t){e.$set(e.oParams,"bEnablePic",t)},expression:"oParams.bEnablePic"}})],1):e._e(),e.oCap.bSptSnapShoot?t("hm-cell",{attrs:{title:e.$t("captureInterval")+"("+e.$t("seconds")+")"}},[t("base-select",{attrs:{title:e.$t("captureInterval"),disabled:!e.oParams.bEnablePic,options:e.oCap.aEmailOptions},model:{value:e.oParams.szPicInterval,callback:function(t){e.$set(e.oParams,"szPicInterval",t)},expression:"oParams.szPicInterval"}})],1):e._e(),t("hm-cell",{attrs:{title:e.$t("serverAuthentication")}},[t("hm-switch",{model:{value:e.oParams.bAuthentication,callback:function(t){e.$set(e.oParams,"bAuthentication",t)},expression:"oParams.bAuthentication"}})],1),e.oParams.bAuthentication?t("hm-cell",{class:{"cell-require":e.oParamsValid.oEmailUserName&&e.oParamsValid.oEmailUserName.required},attrs:{title:e.$t("username")}},[t("hm-input",{attrs:{disabled:!e.oParams.bAuthentication,placeholder:e.$t("username")},model:{value:e.oParams.szUserName,callback:function(t){e.$set(e.oParams,"szUserName",t)},expression:"oParams.szUserName"}}),t("hm-validator",{attrs:{model:e.oParams.szUserName,disabled:!e.oParams.bAuthentication,rules:e.oParamsValid.oEmailUserName,param:e.$t("username")}})],1):e._e(),e.oParams.bAuthentication?t("hm-cell",{class:{"cell-require":e.oParamsValid.oPassword&&e.oParamsValid.oPassword.required},attrs:{title:e.$t("password")}},[t("hm-input",{attrs:{placeholder:e.$t("password"),type:"password",disabled:!e.oParams.bAuthentication},on:{focus:function(t){return e.clear(0)},blur:function(t){return e.validatConfirmPS()}},model:{value:e.oParams.oPassword.szPassword,callback:function(t){e.$set(e.oParams.oPassword,"szPassword",t)},expression:"oParams.oPassword.szPassword"}}),t("hm-validator",{attrs:{model:e.oParams.oPassword.szPassword,rules:e.oParamsValid.oPassword,disabled:!e.oParams.bAuthentication,param:e.$t("password")}})],1):e._e(),e.oParams.bAuthentication?t("hm-cell",{class:{"cell-require":e.oParamsValid.oPasswordConfirm&&e.oParamsValid.oPasswordConfirm.required},attrs:{title:e.$t("confirmPassword")}},[t("hm-input",{attrs:{placeholder:e.$t("confirmPassword"),type:"password",disabled:!e.oParams.bAuthentication},on:{blur:function(t){return e.validatConfirmPS()},focus:function(t){return e.clear(1)}},model:{value:e.oParams.oPassword.szPasswordConfirm,callback:function(t){e.$set(e.oParams.oPassword,"szPasswordConfirm",t)},expression:"oParams.oPassword.szPasswordConfirm"}}),t("hm-validator",{attrs:{model:e.oParams.oPassword.szPasswordConfirm,rules:e.oParamsValid.oPasswordConfirm,disabled:!e.oParams.bAuthentication,param:e.$t("confirmPassword")}})],1):e._e(),e.oCap.bSupportSecondarySMTP?[t("hm-cell",{attrs:{title:e.$t("enabledSecSmtp")}},[t("hm-switch",{model:{value:e.oParams.benabledSecSmtp,callback:function(t){e.$set(e.oParams,"benabledSecSmtp",t)},expression:"oParams.benabledSecSmtp"}})],1),e.oParams.benabledSecSmtp?[t("hm-cell",{attrs:{title:e.$t("smtpServer")}},[t("hm-input",{model:{value:e.oParams.szSecSmtpServer,callback:function(t){e.$set(e.oParams,"szSecSmtpServer",t)},expression:"oParams.szSecSmtpServer"}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oSecEmailSmtpPort&&e.oParamsValid.oSecEmailSmtpPort.required},attrs:{title:e.$t("smtpPort")}},[t("hm-input",{model:{value:e.oParams.szSecSmtpPort,callback:function(t){e.$set(e.oParams,"szSecSmtpPort",t)},expression:"oParams.szSecSmtpPort"}}),t("hm-validator",{attrs:{model:e.oParams.szSecSmtpPort,rules:e.oParamsValid.oSecEmailSmtpPort,param:e.$t("smtpPort")}})],1),t("hm-cell",{attrs:{title:e.$t("enableSSLTLS")}},[t("hm-switch",{model:{value:e.oParams.bSecSmtpEnableSSL,callback:function(t){e.$set(e.oParams,"bSecSmtpEnableSSL",t)},expression:"oParams.bSecSmtpEnableSSL"}})],1),t("hm-cell",{attrs:{title:e.$t("serverAuthentication")}},[t("hm-switch",{model:{value:e.oParams.bSecSmtpAuthentication,callback:function(t){e.$set(e.oParams,"bSecSmtpAuthentication",t)},expression:"oParams.bSecSmtpAuthentication"}})],1),e.oParams.bSecSmtpAuthentication?t("hm-cell",{attrs:{title:e.$t("username")}},[t("hm-input",{attrs:{placeholder:e.$t("username")},model:{value:e.oParams.szSecSmtpUserName,callback:function(t){e.$set(e.oParams,"szSecSmtpUserName",t)},expression:"oParams.szSecSmtpUserName"}})],1):e._e(),e.oParams.bSecSmtpAuthentication?t("hm-cell",{class:{"cell-require":e.oParamsValid.oSecPassword&&e.oParamsValid.oSecPassword.required},attrs:{title:e.$t("password")}},[t("hm-input",{attrs:{placeholder:e.$t("password"),type:"password"},model:{value:e.oParams.oSecSmtpPassword,callback:function(t){e.$set(e.oParams,"oSecSmtpPassword",t)},expression:"oParams.oSecSmtpPassword"}}),t("hm-validator",{attrs:{model:e.oParams.oSecSmtpPassword,rules:e.oParamsValid.oSecPassword,param:e.$t("password")}})],1):e._e(),e.oParams.bSecSmtpAuthentication?t("hm-cell",{class:{"cell-require":e.oParamsValid.oSecPasswordConfirm&&e.oParamsValid.oSecPasswordConfirm.required},attrs:{title:e.$t("confirmPassword")}},[t("hm-input",{attrs:{type:"password",placeholder:e.$t("confirmPassword")},model:{value:e.oParams.SecSmtpcofirmPassword,callback:function(t){e.$set(e.oParams,"SecSmtpcofirmPassword",t)},expression:"oParams.SecSmtpcofirmPassword"}}),t("hm-validator",{attrs:{model:e.oParams.SecSmtpcofirmPassword,rules:e.oParamsValid.oSecPasswordConfirm,param:e.$t("confirmPassword")}})],1):e._e()]:e._e()]:e._e(),t("hm-cell",{attrs:{"is-link":"",title:e.$t("receiver")},nativeOn:{click:function(t){return e.showTable()}}})],2)],1)],1),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{on:{click:e.save}},[e._v("\n          "+e._s(e.$t("save"))+"\n        ")])],1)]),e.bShowTable?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:e.$t("receiver"),"enable-cancel-callback":!0,"show-confirm":!1},on:{cancelcallback:e.cancelcallback}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"swipe-wrapper time-plan-padding swipe-wrapper-show-footer top-distance"},[t("CommonTable",{ref:"table",attrs:{data:e.tableData,"btns-tips":e.btnsTips},on:{onCellClick:e.onItemClick,onSwipeBtnClick:e.onBtnClick}})],1)])])],1):e._e(),e.bShowTableItem?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:e.$t("edit"),"show-confirm":!1,"enable-cancel-callback":!0},on:{cancelcallback:e.editCancelcallback}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"swipe-wrapper"},[t("hm-validator-group",{attrs:{result:e.editValidate}},[t("hm-cell-group",{staticClass:"cell-group custom-cell-group"},[t("hm-cell",{class:{"cell-require":e.oParamsValid.oEmailUserName&&e.oParamsValid.oEmailUserName.required},attrs:{title:e.$t("receiver")}},[t("hm-input",{attrs:{placeholder:e.$t("receiver")},model:{value:e.aReceiverItems[e.aReceiverIndex].item.name,callback:function(t){e.$set(e.aReceiverItems[e.aReceiverIndex].item,"name",t)},expression:"aReceiverItems[aReceiverIndex].item.name"}}),t("hm-validator",{attrs:{model:e.aReceiverItems[e.aReceiverIndex].item.name,rules:e.oParamsValid.oEmailUserName,param:e.$t("receiver")}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oEmailSendAddr&&e.oParamsValid.oEmailSendAddr.required},attrs:{title:e.$t("receiverAddress")}},[t("hm-input",{attrs:{placeholder:e.$t("receiverAddress")},model:{value:e.aReceiverItems[e.aReceiverIndex].item.emailAddress,callback:function(t){e.$set(e.aReceiverItems[e.aReceiverIndex].item,"emailAddress",t)},expression:"aReceiverItems[aReceiverIndex].item.emailAddress"}}),t("hm-validator",{attrs:{model:e.aReceiverItems[e.aReceiverIndex].item.emailAddress,rules:e.oParamsValid.oEmailSendAddr,param:e.$t("receiverAddress")}})],1),t("hm-cell",[t("span",{staticClass:"label-test",on:{click:function(t){return e.testEmail(e.aReceiverIndex)}}},[e._v(e._s(e.$t("test")))])])],1)],1),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{on:{click:e.editConfirm}},[e._v("\n                "+e._s(e.$t("ok"))+"\n              ")])],1)],1)])])],1):e._e(),t("base-view")],1)])},n=[],o=a("ea76"),r=o["a"],s=(a("7037"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"d5b62b46",null);t["default"]=l.exports},"85b8":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("restart"),"left-type":"back"}},[t("div",{staticClass:"upgrade-page-wrapper",attrs:{slot:"content"},slot:"content"},[t("hm-scroll",[t("div",[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("manualReboot")}},[t("hm-cell",{nativeOn:{click:function(t){return e.restart.apply(null,arguments)}}},[t("span",{staticClass:"label-test"},[e._v(e._s(e.$t("restart")))])])],1),e.showAutoMaintenance?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("restart")}},[t("hm-cell",{attrs:{title:e.$t("timingReboot")}},[t("hm-switch",{model:{value:e.restartEnable,callback:function(t){e.restartEnable=t},expression:"restartEnable"}})],1),e.restartEnable?t("hm-cell",{attrs:{title:e.$t("rebootTime")}},[t("base-select",{attrs:{title:e.$t("rebootTime"),options:e.aWeekList},model:{value:e.dayOfWeek,callback:function(t){e.dayOfWeek=t},expression:"dayOfWeek"}})],1):e._e(),e.restartEnable?t("hm-cell",{attrs:{title:e.$t("maintainTime"),value:e.rebootTime,"is-link":""},nativeOn:{click:function(t){return e.showTimePicker.apply(null,arguments)}}}):e._e()],1):e._e(),e._e()],1),e.showAutoMaintenance?t("div",{staticClass:"hm-btn-group"},[t("hm-button",{on:{click:e.setRestartParams}},[e._v(e._s(e.$t("save")))])],1):e._e()])],1)])},n=[],o=(a("96cf"),a("1da1")),r=a("d4ec"),s=a("bee2"),l=a("d09c"),c=a("c050"),u=a("7de8"),d=a("1f20"),p=a("9741"),m=a("8d94"),h=a("f193"),f=function(){function e(){Object(r["a"])(this,e),this.bSptCmSimpleRestore=!0,this.bSptCmCompleteRestore=!0}return Object(s["a"])(e,[{key:"init",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:0===p["a"].iDeviceType?(self.bSptCmSimpleRestore=1===d["a"].m_oDeviceCapa.iCmSimpleRestore,self.bSptCmCompleteRestore=1===d["a"].m_oDeviceCapa.iCmCompleteRestore):(self.bSptCmSimpleRestore=!0,self.bSptCmCompleteRestore=!0);case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"restart",value:function(){l["a"].restart()}},{key:"restoreDefault",value:function(e){c["a"].confirm(m["a"].t("restoreTip"),(function(){var t=null;t=c["a"].wait(m["a"].t("restoring"));var a={urlCGI:"restore",params:{mode:e},data:null,loading:!0};h["a"].put(a).then((function(a){t.close();var i=a.oResult,n=u["a"].nodeValue(i,"statusString");if("Reboot Required"===n){var o=c["a"].wait(m["a"].t("rebooting"));"full"===e?setTimeout((function(){o.close()}),9e4):setTimeout((function(){l["a"].reconnect(o)}),6e4)}}),(function(e){t.close(),l["a"].saveState(e)}))}))}}]),e}(),v=new f,b=a("97af"),g=a("47b5"),P={name:"MaintainUpgrade",components:{BasePage:b["a"],BaseSelect:g["a"]},data:function(){return{bSptCmCompleteRestore:v.bSptCmCompleteRestore,bSptCmSimpleRestore:v.bSptCmSimpleRestore,aWeekList:[{text:this.$t("monday"),value:1},{text:this.$t("tuesday"),value:2},{text:this.$t("wednesday"),value:3},{text:this.$t("thursday"),value:4},{text:this.$t("friday"),value:5},{text:this.$t("saturday"),value:6},{text:this.$t("sunday"),value:7}],restartEnable:!1,dayOfWeek:7,rebootTime:"",timePicker:null,showAutoMaintenance:d["a"].m_oDeviceCapa.bSupportAutoMaintenance}},created:function(){var e=this;v.init().finally((function(){e.showAutoMaintenance&&e.getRestartParams()}))},methods:{restart:function(){v.restart()},restoreDefault:function(e){v.restoreDefault(e)},showTimePicker:function(){this.timePicker||(this.timePicker=this.$createDateTimePicker({title:this.$t("maintainTime"),min:[0,0,0],max:[24,59,59],value:new Date,startColumn:"hour",format:{hour:"h h",minute:"mm m",second:"ss s"},onSelect:this.selectHandle,onCancel:this.cancelHandle})),this.timePicker.show()},selectHandle:function(e){var t=parseInt(e.getHours(),10)<10?"0"+e.getHours():e.getHours(),a=parseInt(e.getMinutes(),10)<10?"0"+e.getMinutes():e.getMinutes(),i=parseInt(e.getSeconds(),10)<10?"0"+e.getSeconds():e.getSeconds(),n=t+":"+a+":"+i;this.rebootTime=n},getRestartParams:function(){var e=this,t={urlCGI:"autoMaintainParams"};h["a"].get(t).then((function(t){var a=t.oResult.AutoMaintenance;e.restartEnable=a.enabled,e.dayOfWeek=a.dayOfWeek,e.rebootTime=a.rebootTime}))},setRestartParams:function(){var e={urlCGI:"autoMaintainParams",loading:!0,data:{AutoMaintenance:{enabled:this.restartEnable,dayOfWeek:this.dayOfWeek,rebootTime:this.rebootTime}}};h["a"].put(e).then((function(e){l["a"].saveState(e.xhr)}),(function(e){l["a"].saveState(e)}))}}},S=P,C=(a("f5b6"),a("2877")),y=Object(C["a"])(S,i,n,!1,null,"df406a56",null);t["default"]=y.exports},"85c6":function(e,t,a){"use strict";(function(e){a("7514"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("1f20"),s=a("181b"),l=a("7de8"),c=a("f193"),u=a("c050"),d=a("8d94"),p=function(){function t(){Object(n["a"])(this,t);var e=this;e.m_oErrorXhr=null,e.m_oSuccessXhr=null,e.m_oRebootXhr=null,e.oTab={bSupportLimit:!1,bSupportHomePos:!1,bSupportPark:!1,bSupportTimeTask:!1,bSupportClear:!1,bSupportWiper:!1,bSupportPrivacyMask:!1,bSupportIntelTrack:!1,bSupportPriority:!1,bSupportCompass:!1,bSupportPositionSetting:!1,bSupportEagleFocusing:!1,bSupportPanoTrack:!1},e.m_oDrawBtn={bDraw:!1},e.oChannel={id:1}}return Object(o["a"])(t,[{key:"getCapInfo",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,r["a"].getDeviceInfo();case 3:return e.next=5,r["a"].getDeviceCapa();case 5:return e.next=7,r["a"].getPTZCtrlCap();case 7:return e.next=9,r["a"].getEagleEyeType();case 9:return e.next=11,r["a"].getMasterSlaveCap();case 11:a=e.sent,i=r["a"].m_oDeviceCapa.bPTZ,n=r["a"].m_oDeviceCapa.bIPZoom,t.oTab.bSupportLimit=i,t.oTab.bSupportHomePos=i,t.oTab.bSupportPark=i||n,t.oTab.bSupportTimeTask=i||n&&t.oTab.bSupportTimeTask,t.oTab.bSupportClear=i,t.oTab.bSupportIntelTrack=r["a"].m_oDeviceCapa.bSupportIntelliTrace,t.oTab.bSupportCompass=r["a"].m_oDeviceCapa.bSupportCompass,t.oTab.bSupportAreaScan=r["a"].m_oDeviceCapa.bSupportAreaScan,t.oTab.bSupportMasterSlaveTracking=a.bSupport&&"large"===r["a"].m_oDeviceCapa.oEagleEye.devType,t.oTab.bSupportPanoTrack=a.bSupport&&"large"!==r["a"].m_oDeviceCapa.oEagleEye.devType;case 24:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"unload",value:function(){l["a"].removeValidTip()}},{key:"getPTZCap",value:function(){var t=this;return t.oTab.bSupportEagleFocusing=!1,new Promise((function(a){var i={urlCGI:"ptzCap",params:{channel:1},data:null,loading:!0};c["a"].get(i).then((function(i){var n=i.oResult;t.oTab.bSupportEagleFocusing=l["a"].nodeValue(n,"isSupportPTZEagleFocusing","b"),t.oTab.bSupportTimeTask=e(n).find("TimeTaskList").length>0,a()}),(function(){a()}))}))}},{key:"isSupportWiper",value:function(){var e=this;return e.oTab.bSupportWiper=!1,new Promise((function(t){var a={urlCGI:"ptzWiper",params:null,data:null,loading:!0};c["a"].get(a).then((function(){e.oTab.bSupportWiper=!0,t()}),(function(){e.oTab.bSupportWiper=!1,t()}))}))}},{key:"isSupportPrivacyMask",value:function(){var e=this;return e.oTab.bSupportPrivacyMask=!1,new Promise((function(t){var a={urlCGI:"ptzPrivacyMask",params:null,data:null,loading:!0};c["a"].get(a).then((function(){e.oTab.bSupportPrivacyMask=!0,t()}),(function(){t()}))}))}},{key:"isSupportPriority",value:function(){var e=this;return e.oTab.bSupportPriority=!1,new Promise((function(t){var a={urlCGI:"ptzPriority",params:null,data:null,loading:!0};c["a"].get(a).then((function(){e.oTab.bSupportPriority=!0,t()}),(function(){t()}))}))}},{key:"isSupportPositionSetting",value:function(){var e=this;return e.oTab.bSupportPositionSetting=!1,new Promise((function(t){var a={urlCGI:"compassCap",params:{channel:1},data:null,loading:!0};c["a"].get(a).then((function(){e.oTab.bSupportPositionSetting=!0,t()}),(function(){t()}))}))}},{key:"setDrawShapeInfo",value:function(){var e={id:1,maxPointSupport:4,minPointSupport:4,showWH:!1,drawColor:"#FFFF00",tips:"",translucent:.1};return s["a"].setDrawShapeInfo("Polygon",e)}},{key:"drawArea",value:function(e){var t=this;t.m_oDrawBtn.bDraw="undefined"===typeof e?!t.m_oDrawBtn.bDraw:e,s["a"].setDrawStatus(t.m_oDrawBtn.bDraw)}},{key:"clearDraw",value:function(){return new Promise((function(e){u["a"].confirm(d["a"].t("clearDrawArea"),Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s["a"].clearRegion();case 2:return t.next=4,s["a"].clearShapeByType("Polygon");case 4:e();case 5:case"end":return t.stop()}}),t)}))))}))}},{key:"resizePlugin",value:function(){s["a"].resize(423,345)}}]),t}();t["a"]=new p}).call(this,a("1157"))},8615:function(e,t,a){var i=a("5ca1"),n=a("504c")(!1);i(i.S,"Object",{values:function(e){return n(e)}})},"867b":function(e,t,a){"use strict";(function(e){a("b54a"),a("96cf");var i=a("1da1"),n=a("962a"),o=a("3616"),r=a("2b88"),s=a("23d7"),l=a("b77f"),c=a("6458"),u=a("5b8d"),d=a("d09c");t["a"]={name:"VideoTamper",components:{BasePageExtend:n["a"],NewBasePageExtendRotate:o["a"],PluginWind:r["a"],TimePlan:s["a"],BaseLink:l["a"],ChannelList:c["a"]},data:function(){return{bLazyLoading:!1,bPluginHide:!1,bEnableCancelCallback:!0,bShowSchedule:!1,bShowArmSchedule:!1,bShowLink:!1,bShowTypes:!1,bLandscapeMode:!1,bNeedManualDraw:!1,oChannel:{},oEventCap:{},oEventInfo:{},oTempEventInfo:{},modeData:[{value:"normal",text:this.$t("normalMode")},{value:"expert",text:this.$t("ExpertMode")}],dayNightSwitchOption:[{value:"off",text:this.$t("off")},{value:"auto",text:this.$t("autoSwitch")},{value:"schedule",text:this.$t("scheduledSwitch")}]}},watch:{"oChannel.id":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t>-1&&u["a"].init(t).finally((function(){a.oEventCap=u["a"].oEventCap,a.oEventInfo=u["a"].oEventInfo,a.initLink()}));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0}},created:function(){this.oChannel={id:1}},methods:{save:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return u["a"].oParams.oXhr={oErrorXhr:null,oSuccessXhr:null,oRestartXhr:null},this.bLazyLoading=!0,e.next=4,u["a"].deleteVideoTamperRegion();case 4:return e.next=6,u["a"].setDetectInfo();case 6:return e.next=8,u["a"].setDetectLink();case 8:return e.next=10,u["a"].setDetectSchedule();case 10:this.bLazyLoading=!1,u["a"].oParams.oXhr.oErrorXhr?d["a"].saveState(u["a"].oParams.oXhr.oErrorXhr):d["a"].saveState(u["a"].oParams.oXhr.oSuccessXhr);case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),confirmArmSchedule:function(){this.oEventInfo.oScheduleTimes=this.$refs.timePlan.timesData,this.bShowSchedule=!1},deleteAll:function(){for(var e=0,t=this.oEventInfo.oScheduleTimes.length;e<t;e++)this.oEventInfo.oScheduleTimes[e]=[];this.$refs.timePlan.timesData=this.oEventInfo.oScheduleTimes,this.$refs.timePlan.$forceUpdate()},confirmLandscapeMode:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.bLandscapeMode=!1,e.next=3,u["a"].updateRegionInfo(!1);case 3:this.bNeedManualDraw=!0;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),cancelLandscapeMode:function(){this.bLandscapeMode=!1},cancelCallbackArmSchedule:function(){e.extend(!0,this.oEventInfo,this.oTempEventInfo),this.bShowSchedule=!1},cancelCallbackAreaSet:function(){e.extend(!0,this.oEventInfo,this.oTempEventInfo)},showArmSchedule:function(){e.extend(!0,this.oTempEventInfo,this.oEventInfo),this.bShowSchedule=!0},initLink:function(){var t=this;this.bShowLink=!1,e.extend(!0,this.oTempEventInfo,this.oEventInfo),this.bShowLink=!0,this.$nextTick((function(){t.$refs.link.linkData=t.oEventInfo.oLink,t.$refs.link.$forceUpdate()}))},changeMode:function(){u["a"].changeMode()},changeArea:function(){u["a"].changeArea()},draw:function(){var t=this;this.bLandscapeMode=!0,this.$nextTick((function(){var a=t.$store.state.globeStore.screenWidth?t.$store.state.globeStore.screenWidth:window.screen.height;e("#main_plugin").height(window.screen.width-88),e("#main_plugin").width(a)}))},clear:function(){u["a"].clear()},drawRegion:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].setDrawStatus(!0);case 2:return e.next=4,u["a"].draw();case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),playSuccess:function(){var e=this;this.$nextTick(Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.bLandscapeMode){t.next=11;break}return t.next=3,u["a"].drawRegion();case 3:return t.next=5,u["a"].setDrawStatus(!0);case 5:if(a=u["a"].needRedrawRegion(),a){t.next=9;break}return t.next=9,u["a"].draw();case 9:t.next=18;break;case 11:if(!e.bNeedManualDraw){t.next=17;break}return t.next=14,u["a"].updateRegionInfo(!0);case 14:e.bNeedManualDraw=!1,t.next=18;break;case 17:u["a"].drawRegion();case 18:case"end":return t.stop()}}),t)}))))}}}}).call(this,a("1157"))},"86c6":function(e,t,a){"use strict";a("01ec")},"870f":function(e,t,a){"use strict";(function(e){a("c5f6"),a("04ff"),a("7514"),a("ac6a"),a("28a5"),a("a481"),a("4917"),a("6b54"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("c050"),s=a("1f20"),l=a("9741"),c=a("7de8"),u=a("d09c"),d=a("8d94"),p=a("f193"),m=function(){function t(){Object(n["a"])(this,t),this._tUpdateTime=0,this._tSyncDeviceTime=0,this._dtDeviceTime=null,this._oNTPServerCapa={iSynchronizeIntervalMin:1,iSynchronizeIntervalMax:10080,iPortNoMin:1,iPortNoMax:65535},this._oSettingTimeInfo={bLoading:!1,oXmlDoc:null,szNTPAddress:"",szNTPPortNo:"",szNTPInterval:"",startTime:"",endTime:"",szTimeZone:"",szStartMonth:"",szStartWeekIndex:"",szStartWeek:"",szStartTime:"",szEndMonth:"",szEndWeekIndex:"",szEndWeek:"",szEndTime:"",szBiasTime:"",szTimeMode:0,szSelectTime:"",szDeviceTime:"",startMonthIndex:"",endMonthIndex:"",startWeekIndexI:"",endWeekIndexI:"",startWeekIndex:"",endWeekIndex:"",startTimeIndex:"",endTimeIndex:""},this.m_oCapbilities={bSyncComputerTime:!1,bSupportDST:!1,bNVRDevice:!1},this.oParamsValid={},this._aMonth=[],this._aWeekIndex=[],this._aWeek=[],this._aTime=[],this._aBiasTime=[],this.bSupportModify=!1,this.bNVRDevice=0===l["a"].iDeviceType}return Object(o["a"])(t,[{key:"init",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,t.bSupportModify=3===s["a"].m_oDeviceCapa.bSptCmTime,t.m_oCapbilities.bNVRDevice=t.bNVRDevice,t.m_oCapbilities.bSyncComputerTime=!1,t.initTime(),t.initValid(),a=[t.getNTPCapa(),t.getTimeInfo(),t.getNTPInfo()],e.abrupt("return",c["a"].waitAll(a));case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initValid",value:function(){var e=this;e.oParamsValid.oNTPAddressValid={required:!0,lengthRange:[0,64],serverAddress:!0},e.oParamsValid.oNTPPortNoValid={required:!0,range:[e._oNTPServerCapa.iPortNoMin,e._oNTPServerCapa.iPortNoMax]},e.oParamsValid.oNTPIntervalValid={required:!0,range:[e._oNTPServerCapa.iSynchronizeIntervalMin,e._oNTPServerCapa.iSynchronizeIntervalMax]}}},{key:"initTime",value:function(){var e=this,t=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"];e._aMonth=[];for(var a=0;a<12;a++)e._aMonth.push({text:d["a"].t(t[a]),value:"M"+(a+1)});e._oSettingTimeInfo.szStartMonth=e._aMonth[0].value,e._oSettingTimeInfo.szEndMonth=e._aMonth[0].value;var i=["first","second","third","fourth","last"];e._aWeekIndex=[];for(var n=0;n<5;n++)e._aWeekIndex.push({text:d["a"].t(i[n]),value:(n+1).toString()});e._oSettingTimeInfo.szStartWeekIndex=e._aWeekIndex[0].value,e._oSettingTimeInfo.szEndWeekIndex=e._aWeekIndex[0].value;var o=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];e._aWeek=[];for(var r=0;r<7;r++)e._aWeek.push({text:d["a"].t(o[r]),value:r.toString()});e._oSettingTimeInfo.szStartWeek=e._aWeek[0].value,e._oSettingTimeInfo.szEndWeek=e._aWeek[0].value,e._aTime=[];for(var s=0;s<24;s++)e._aTime.push({text:s<10?"0"+s:s.toString(),value:s<10?"0"+s:s.toString()});e._oSettingTimeInfo.szStartTime=e._aTime[0].value,e._oSettingTimeInfo.szEndTime=e._aTime[0].value,e._aBiasTime.length=0,e._aBiasTime.push({text:"30"+d["a"].t("minute"),value:"00:30:00"}),e._aBiasTime.push({text:"60"+d["a"].t("minute"),value:"01:00:00"}),e._aBiasTime.push({text:"90"+d["a"].t("minute"),value:"01:30:00"}),e._aBiasTime.push({text:"120"+d["a"].t("minute"),value:"02:00:00"}),e._oSettingTimeInfo.szBiasTime=e._aBiasTime[0].value}},{key:"getTimeInfo",value:function(){var e=this,t=this,a={urlCGI:"timeInfo",params:{},data:null,loading:!0};return p["a"].get(a).then((function(a){var i=a.oResult;t._tUpdateTime>0&&clearInterval(t._tUpdateTime),t._tUpdateTime=setInterval((function(){t.updateTime()}),1e3),t._tSyncDeviceTime>0&&clearInterval(t._tSyncDeviceTime),t._tSyncDeviceTime=setInterval((function(){t.syncDeviceTime()}),3e5),t._oSettingTimeInfo.szTimeMode=c["a"].nodeValue(i,"timeMode");var n=c["a"].nodeValue(i,"localTime").substring(0,19),o=n.match(/(\d+)-(\d+)-(\d+)(\D+)(\d+):(\d+):(\d+)/);if(8===o.length)if(t._dtDeviceTime=new Date(o[1],o[2]-1,o[3],o[5],o[6],o[7]),t._szTimeZone=c["a"].nodeValue(i,"timeZone"),t.updateTime(),"manual"===t._oSettingTimeInfo.szTimeMode&&(t._oSettingTimeInfo.szSelectTime=n.replace("T"," ")),t.m_oCapbilities.bSupportDST=t.bNVRDevice&&s["a"].m_oDeviceCapa.bSupportDST,s["a"].m_oDeviceCapa.bSupportDST){var r,l,u,d,p,m,h,f,v=t._szTimeZone.indexOf("DST");if(-1!==v){t._oSettingTimeInfo.bEnableDST=!0,t._oSettingTimeInfo.szTimeZone=t._szTimeZone.substring(0,v);var b=t._szTimeZone.split(",")[1],g=t._szTimeZone.split(",")[2];t._oSettingTimeInfo.szStartMonth=b.split(".")[0],t._oSettingTimeInfo.szStartWeekIndex=b.split(".")[1],t._oSettingTimeInfo.szStartWeek=b.split(".")[2].split("/")[0],t._oSettingTimeInfo.szStartTime=b.split(".")[2].split("/")[1].split(":")[0],t._oSettingTimeInfo.szEndMonth=g.split(".")[0],t._oSettingTimeInfo.szEndWeekIndex=g.split(".")[1],t._oSettingTimeInfo.szEndWeek=g.split(".")[2].split("/")[0],t._oSettingTimeInfo.szEndTime=g.split(".")[2].split("/")[1].split(":")[0],t._oSettingTimeInfo.szBiasTime=t._szTimeZone.substring(v+3,v+11)}else t._oSettingTimeInfo.bEnableDST=!1,t._oSettingTimeInfo.szTimeZone=t._szTimeZone;e._aMonth.forEach((function(e,a){e.value===t._oSettingTimeInfo.szStartMonth&&(r=e.text,t._oSettingTimeInfo.startMonthIndex=a),e.value===t._oSettingTimeInfo.szEndMonth&&(l=e.text,t._oSettingTimeInfo.endMonthIndex=a)})),e._aWeekIndex.forEach((function(e,a){e.value===t._oSettingTimeInfo.szStartWeekIndex&&(u=e.text,t._oSettingTimeInfo.startWeekIndexI=a),e.value===t._oSettingTimeInfo.szEndWeekIndex&&(d=e.text,t._oSettingTimeInfo.endWeekIndexI=a)})),e._aWeek.forEach((function(e,a){e.value===t._oSettingTimeInfo.szStartWeek&&(p=e.text,t._oSettingTimeInfo.startWeekIndex=a),e.value===t._oSettingTimeInfo.szEndWeek&&(m=e.text,t._oSettingTimeInfo.endWeekIndex=a)})),e._aTime.forEach((function(e,a){e.value===t._oSettingTimeInfo.szStartTime&&(h=e.text,t._oSettingTimeInfo.startTimeIndex=a),e.value===t._oSettingTimeInfo.szEndTime&&(f=e.text,t._oSettingTimeInfo.endTimeIndex=a)})),t._oSettingTimeInfo.startTime=r+". "+u+". "+p+". "+h,t._oSettingTimeInfo.endTime=l+". "+d+". "+m+". "+f}else t._oSettingTimeInfo.szTimeZone=t._szTimeZone}),(function(e){u["a"].getState(e)}))}},{key:"getNTPCapa",value:function(){var t=this,a={urlCGI:"ntpServerCapa",params:{},data:null,loading:!0};return p["a"].get(a).then((function(a){var i=a.oResult;t._oNTPServerCapa.iSynchronizeIntervalMin=parseInt(e(i).find("synchronizeInterval").eq(0).attr("min"),10),t._oNTPServerCapa.iSynchronizeIntervalMax=parseInt(e(i).find("synchronizeInterval").eq(0).attr("max"),10),t._oNTPServerCapa.iPortNoMin=parseInt(e(i).find("portNo").eq(0).attr("min"),10),t._oNTPServerCapa.iPortNoMax=parseInt(e(i).find("portNo").eq(0).attr("max"),10)}))}},{key:"getNTPInfo",value:function(){var t=this,a={urlCGI:"ntpServerInfo",params:{},data:null,loading:!0};return p["a"].get(a).then((function(a){var i=a.oResult,n="";n="hostname"===c["a"].nodeValue(i,"addressingFormatType")?c["a"].nodeValue(i,"hostName"):e(i).find("ipAddress").length>0?c["a"].nodeValue(i,"ipAddress"):c["a"].nodeValue(i,"ipv6Address"),t._oSettingTimeInfo.szNTPAddress=n,t._oSettingTimeInfo.szNTPPortNo=c["a"].nodeValue(i,"portNo"),t._oSettingTimeInfo.szNTPInterval=c["a"].nodeValue(i,"synchronizeInterval")}))}},{key:"updateTimeZone",value:function(){var e=this,t=new Date;e._oSettingTimeInfo.szSelectTime=c["a"].dateFormat(t,"yyyy-MM-dd hh:mm:ss");var a=t.getTimezoneOffset(),i=Math.abs(Number.parseInt(a/60,10)),n=new Date,o=new Date(n.getTime());n.setMonth(0),n.setDate(1),n.setHours(0),n.setMinutes(0),n.setSeconds(0),o.setMonth(6),o.setDate(1),o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.getTimezoneOffset()-n.getTimezoneOffset()!==0&&a===o.getTimezoneOffset()&&(a<0?i--:i++);var r=a%60;r<0&&(r=-r);var s="";0===r?s="CST"+(a>=0?"+":"-")+i+":00:00":30===r?s="CST"+(a>=0?"+":"-")+i+":30:00":45===r&&(s="CST"+(a>=0?"+":"-")+i+":45:00"),e._oSettingTimeInfo.szTimeZone=s}},{key:"updateSelectTime",value:function(){var e=this;if(!e.m_oCapbilities.bSyncComputerTime){var t=0,a=e._dtDeviceTime.getTime(),i=e._szTimeZone.match(/\D+([+-])(\d+):(\d+):(\d+)/);null!==i&&5===i.length?(t=1e3*(3600*Number.parseInt(i[2],10)+60*Number.parseInt(i[3],10)+Number.parseInt(i[4],10)),t="+"===i[1]?t:-t):(i=e._szTimeZone.match(/\D+([+-])(\d+)/),t=36e5*Number.parseInt(i[2],10),t="+"===i[1]?t:-t);var n=e._oSettingTimeInfo.szTimeZone;if(""!==n){var o=n.match(/\D+([+-])(\d+):(\d+):(\d+)/),r=1e3*(3600*Number.parseInt(o[2],10)+60*Number.parseInt(o[3],10)+Number.parseInt(o[4],10));if(5===o.length){r="+"===o[1]?r:-r;var s=new Date(a+t-r);e._oSettingTimeInfo.szSelectTime=c["a"].dateFormat(s,"yyyy-MM-dd hh:mm:ss")}}}}},{key:"syncDeviceTime",value:function(){var e=this,t={urlCGI:"timeInfo",params:{},data:null,loading:!0};p["a"].get(t).then((function(t){var a=t.oResult,i=c["a"].nodeValue(a,"localTime").substring(0,19),n=i.match(/(\d+)-(\d+)-(\d+)(\D+)(\d+):(\d+):(\d+)/);8===n.length&&(e._dtDeviceTime=new Date(n[1],n[2]-1,n[3],n[5],n[6],n[7]))}))}},{key:"updateTime",value:function(){var t=this;t.m_oCapbilities.bSyncComputerTime&&(t._oSettingTimeInfo.szSelectTime=c["a"].dateFormat(new Date,"yyyy-MM-dd hh:mm:ss"),e("#selectTime").length&&e("#selectTime").scope().$digest()),null!==t._dtDeviceTime&&(t._dtDeviceTime=new Date(t._dtDeviceTime.getTime()+1e3),t._oSettingTimeInfo.szDeviceTime=c["a"].dateFormat(t._dtDeviceTime,"yyyy-MM-dd hh:mm:ss"),e("#deviceTime").length&&e("#deviceTime").scope().$digest())}},{key:"setNTPInfo",value:function(){var e=this,t=this,a="<?xml version='1.0' encoding='UTF-8'?><NTPServer><id>1</id>",i=c["a"].checkAddressingType(t._oSettingTimeInfo.szNTPAddress);"hostName"===i?(a+="<addressingFormatType>hostname</addressingFormatType>",a+="<hostName>"+c["a"].encodeString(t._oSettingTimeInfo.szNTPAddress)+"</hostName>"):(a+="<addressingFormatType>ipaddress</addressingFormatType>",a+="<ipAddress>"+c["a"].encodeString(t._oSettingTimeInfo.szNTPAddress)+"</ipAddress>"),a+="<portNo>"+t._oSettingTimeInfo.szNTPPortNo+"</portNo>",a+="<synchronizeInterval>"+t._oSettingTimeInfo.szNTPInterval+"</synchronizeInterval></NTPServer>";var n=c["a"].parseXmlFromStr(a),o={urlCGI:"ntpServerInfo",params:{},data:n,loading:!0};return p["a"].put(o).then((function(t){e._oSettingTimeInfo.bLoading=!1,u["a"].saveState(t.xhr)}),(function(t){e._oSettingTimeInfo.bLoading=!1,u["a"].saveState(t)}))}},{key:"setTimeInfo",value:function(){var e=this,t=new Promise((function(t,a){var i="<?xml version='1.0' encoding='UTF-8'?><Time>";if(i+="<timeMode>"+e._oSettingTimeInfo.szTimeMode+"</timeMode>","manual"===e._oSettingTimeInfo.szTimeMode&&(i+="<localTime>"+e._oSettingTimeInfo.szSelectTime.toString().split(" ").join("T")+"</localTime>"),e._oSettingTimeInfo.bEnableDST){if(e._oSettingTimeInfo.szStartMonth===e._oSettingTimeInfo.szEndMonth)return void r["a"].tip(d["a"].t("dstMonthCannotSame"));var n=e._oSettingTimeInfo.szTimeZone+"DST"+e._oSettingTimeInfo.szBiasTime,o=e._oSettingTimeInfo.szStartMonth+"."+e._oSettingTimeInfo.szStartWeekIndex+"."+e._oSettingTimeInfo.szStartWeek+"/"+e._oSettingTimeInfo.szStartTime+":00:00",s=e._oSettingTimeInfo.szEndMonth+"."+e._oSettingTimeInfo.szEndWeekIndex+"."+e._oSettingTimeInfo.szEndWeek+"/"+e._oSettingTimeInfo.szEndTime+":00:00",l=n+","+o+","+s;i+="<timeZone>"+l+"</timeZone></Time>"}else i+="<timeZone>"+e._oSettingTimeInfo.szTimeZone+"</timeZone></Time>";var m=c["a"].parseXmlFromStr(i);p["a"].put({urlCGI:"timeInfo",data:m,loading:!0}).then((function(a){e._szTimeZone=e._oSettingTimeInfo.szTimeZone,t({xhr:a.xhr})}),(function(e){u["a"].saveState(e),a()}))}));return t}},{key:"save",value:function(){var e=this,t=this;this._oSettingTimeInfo.bLoading=!0,t.setTimeInfo().then((function(a){t.syncDeviceTime(),"NTP"===t._oSettingTimeInfo.szTimeMode?t.setNTPInfo():(e._oSettingTimeInfo.bLoading=!1,u["a"].saveState(a.xhr))}))}},{key:"testNTP",value:function(){var e=this,t=d["a"].oLastLanguage,a="<?xml version='1.0' encoding='UTF-8'?><NTPTestDescription>",i=c["a"].checkAddressingType(e._oSettingTimeInfo.szNTPAddress);a+="hostName"===i?"<addressingFormatType>hostname</addressingFormatType><hostName>"+e._oSettingTimeInfo.szNTPAddress+"</hostName>":"ipv6Address"===i?"<addressingFormatType>ipaddress</addressingFormatType><ipv6Address>"+e._oSettingTimeInfo.szNTPAddress+"</ipv6Address>":"<addressingFormatType>ipaddress</addressingFormatType><ipAddress>"+e._oSettingTimeInfo.szNTPAddress+"</ipAddress>",a+="<portNo>"+e._oSettingTimeInfo.szNTPPortNo+"</portNo></NTPTestDescription>";var n=c["a"].parseXmlFromStr(a);s["a"].testNet("testNTP",n,t,"POST")}},{key:"selectTime",value:function(e){this._oSettingTimeInfo.szSelectTime=c["a"].dateFormat(e,"yyyy-MM-dd hh:mm:ss")}}]),t}();t["a"]=new m}).call(this,a("1157"))},"882a":function(e,t,a){"use strict";(function(e){a("c5f6"),a("b54a"),a("96cf");var i=a("1da1"),n=a("6458"),o=a("6745"),r=a("1c1a"),s=a("b77f"),l=a("1f20");t["a"]={name:"DefocusDetection",components:{BaseView:r["a"],ChannelList:n["a"],BaseLink:s["a"]},data:function(){return{oEventInfo:{},oEventCap:{},oParams:{},oTempEventInfo:{},bShowLink:!1,bSupportChannelCap:!1,oChannel:{id:-1},bShowNotSupport:!1}},computed:{bLazyLoading:function(){return o["a"].oEventInfo.bLoading}},watch:{$route:function(e,t){var a=this,i=-1;e.name!==t.name?(i=this.$route.query.channelID,o["a"].init(e).finally((function(){a.oEventInfo=o["a"].oEventInfo,a.oEventCap=o["a"].oEventCap,a.oParams=o["a"].oParams,a.bShowNotSupport=!a.oEventCap.bSupportRule&&!a.oEventCap.bSupportLink})),this.oChannel.id=i):e.query.channelID!==t.query.channelID&&(i=this.$route.query.channelID,this.oChannel.id=i)},"oChannel.id":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t>-1&&o["a"].init(t).finally((function(){a.oEventInfo=o["a"].oEventInfo,a.oEventCap=o["a"].oEventCap,a.oParams=o["a"].oParams,a.bShowNotSupport=!a.oEventCap.bSupportRule&&!a.oEventCap.bSupportLink,a.initLink()}));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),immediate:!0,deep:!0}},created:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.init();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{initLink:function(){var t=this;this.bShowLink=!1,e.extend(!0,this.oTempEventInfo,this.oEventInfo),this.bShowLink=!0,this.$nextTick((function(){t.$refs.link&&(t.$refs.link.linkData=t.oEventInfo.oLink,t.$refs.link.$forceUpdate())}))},init:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,l["a"].getDeviceCapa().then(Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=a.$route.query&&a.$route.query.channelID,a.oChannel={id:Number(t)||1},a.bSupportChannelCap=l["a"].m_oDeviceCapa.bSupportChannelEventCap;case 3:case"end":return e.stop()}}),e)}))));case 3:o["a"].init(t.oChannel.id).then((function(){o["a"].getDetectLink(),a.oEventInfo=o["a"].oEventInfo,a.oEventCap=o["a"].oEventCap,a.oParams=o["a"].oParams,a.bShowNotSupport=!a.oEventCap.bSupportRule&&!a.oEventCap.bSupportLink,a.initLink()}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),selAllEvent:function(){o["a"].selAllEvent()},confirmLink:function(){this.bShowLink=!1},cancelCallbackLink:function(){e.extend(!0,this.oEventInfo,this.oTempEventInfo),this.bShowLink=!1},save:function(){o["a"].save()}}}}).call(this,a("1157"))},"899e":function(e,t,a){},"89ab":function(e,t,a){"use strict";a("2202")},"8a49":function(e,t,a){"use strict";(function(e){a("96cf");var i=a("1da1"),n=a("7c5b"),o=a("6458"),r=a("2b88"),s=a("3616");t["a"]={components:{ChannelList:o["a"],PluginWind:r["a"],NewBasePageExtendRotate:s["a"]},data:function(){return{oDrawBtn:n["a"].oDrawBtn,oChannel:{id:0},szChannelId:"",oPrivacyMaskCap:n["a"].oPrivacyMaskCap,oPrivacyMaskInfo:n["a"].oPrivacyMaskInfo,bLandscapeMode:!1,bPluginHide:!1,bShowAreaSet:!0,bEnableCancelCallback:!0,bNeedManualDraw:!1,btnIs:!1,flag:!1}},watch:{"oChannel.id":{handler:function(e){e&&e>0&&(n["a"].oPrivacyMaskInfo.iChannelId=e,this.creatInfo())}}},created:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),methods:{creatInfo:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n["a"].get();case 2:this.flag=n["a"].oPrivacyMaskInfo.bEnablePrivacyMask,this.btnIs=n["a"].oPrivacyMaskInfo.bEnablePrivacyMask;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),playSuccess:function(e){var t=this;this.szChannelId=e,n["a"].oPrivacyMaskInfo.iChannelId=e,this.szChannelId&&(this.init(),this.$nextTick(Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.bLandscapeMode,t.bLandscapeMode||n["a"].canDraw();case 2:case"end":return e.stop()}}),e)})))))},init:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n["a"].changeChannel(),this.oPrivacyMaskCap=n["a"].oPrivacyMaskCap,this.oPrivacyMaskInfo=n["a"].oPrivacyMaskInfo,n["a"].oPrivacyMaskInfo.bEnablePrivacyMask===this.flag?this.oPrivacyMaskInfo.bEnablePrivacyMask=this.btnIs:this.flag=n["a"].oPrivacyMaskInfo.bEnablePrivacyMask;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),draw:function(){var t=this;this.bLandscapeMode=!0,this.bShowAreaSet=!1,this.btnIs=this.oPrivacyMaskInfo.bEnablePrivacyMask,this.$nextTick((function(){var a=t.$store.state.globeStore.screenWidth?t.$store.state.globeStore.screenWidth:window.screen.height;e("#main_plugin").height(window.screen.width-88),e("#main_plugin").width(a)}))},drawPolygon:function(){n["a"].draw()},clear:function(){n["a"].clear()},save:function(){n["a"].save()},showAreaSet:function(){this.bShowAreaSet=!0},cancelLandscapeMode:function(){this.bLandscapeMode=!1,this.bShowAreaSet=!0,this.bNeedManualDraw=!1},confirmLandscapeMode:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.bLandscapeMode=!1,this.bShowAreaSet=!0,this.bNeedManualDraw=!0,e.next=5,n["a"].updateRegionInfo();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),change:function(){this.btnIs=this.oPrivacyMaskInfo.bEnablePrivacyMask}}}}).call(this,a("1157"))},"8b43":function(e,t,a){"use strict";a("e245")},"8bac":function(e,t,a){"use strict";(function(e){a("ac6a"),a("a481"),a("55dd"),a("28a5"),a("c5f6");var i=a("b7c2"),n=a("c050"),o=a("4119"),r=a("2d6c"),s=a("962a"),l=a("2b0e");Object(r["a"])(l["default"],o["a"],["click","select","cancel"],!0),t["a"]={components:{BasePageExtend:s["a"]},props:{sectionNum:{type:Number,default:8},mode:{type:String,default:"week"},timesData:{type:Array,default:null,required:!0},holiday:{type:Boolean,default:!1},advance:{type:String,default:null,require:!1},isParam:{type:Object,default:function(){return{inputParam:"",textName:this.$t("captureInterval"),unit:this.$t("minute")}},require:!1},arr:{type:Array,default:function(){return[]},require:!1},showTypes:{type:Boolean,default:!0},showParams:{type:Boolean,default:!0},types:{type:Array,default:function(){return[]}}},data:function(){return{inputParamContent:0,timeIndex:0,timeIndexTwo:0,arrT:[],advanceT:"",bEnableShowTips:!0,bEnableCancelCallback:!0,bAutoShrink:!0,bShowDia:!1,bShowParam:!1,oTranslator:{weekNameMap:{1:this.$t("monday"),2:this.$t("tuesday"),3:this.$t("wednesday"),4:this.$t("thursday"),5:this.$t("friday"),6:this.$t("saturday"),7:this.$t("sunday")},mothNameMap:{1:this.$t("jan"),2:this.$t("feb"),3:this.$t("mar"),4:this.$t("apr"),5:this.$t("may"),6:this.$t("jun"),7:this.$t("jul"),8:this.$t("aug"),9:this.$t("sep"),10:this.$t("oct"),11:this.$t("nov"),12:this.$t("dec")},dayNightSwitchMap:{off:this.$t("off"),auto:this.$t("autoSwitch"),schedule:this.$t("scheduledSwitch")}},oTimesData:this.timesData}},watch:{timesData:{handler:function(){this.oTimesData=this.timesData},deep:!0}},created:function(){this.holiday&&(this.oTranslator.weekNameMap["8"]=this.$t("holiday")),this.advanceT=this.advance,this.arrT=this.arr},mounted:function(){},beforeDestroy:function(){},methods:{isShowParam:function(e,t,a){this.bShowParam=!0,this.inputParamContent=e.param,this.timeIndex=a,this.timeIndexTwo=t;var i=document.getElementsByClassName("footer");i[0].style.display="none"},showDia:function(){this.bShowDia=!0},cancelCallback:function(){this.bShowDia=!1,this.bShowParam=!1;var e=document.getElementsByClassName("footer");e[0].style.display="block"},confirm:function(){this.bShowDia=!1},confirmParam:function(){this.bShowParam=!1,this.oTimesData[this.timeIndex][this.timeIndexTwo].param=this.inputParamContent;var e=document.getElementsByClassName("footer");e[0].style.display="block"},getTimesSlicePosAndType:function(e){var t=86400,a=100*(60*e.sTime.split(":")[0]*60+60*e.sTime.split(":")[1])/t,n=100*(60*e.eTime.split(":")[0]*60+60*e.eTime.split(":")[1])/t,o=n-a;return"width:"+o+"%;left:"+a+"%;background-color:"+i["a"].m_oColors[e.type]},getTypeLan:function(e){var t=i["a"].oTypeLan;return console.log("🚀 ~ getTypeLan ~ oTypeLan:",t),t[e]},deleteTimesDataByIndex:function(e){for(var t=0,a=0,i=this.oTimesData.length;a<i;a++)for(var n=this.oTimesData[a].length,o=0;o<n;o++,t++)if(e===t)return this.oTimesData[a].splice(o,1),this.oTimesData.push(),!1},timeValidityVerification:function(e,t,a,i){var o=this,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"CMR",s=60*e.split(":")[0]*60+60*e.split(":")[1],l=60*t.split(":")[0]*60+60*t.split(":")[1];if(s>=l)n["a"].tip(this.$t("timeSegmentErrorTips"));else{var c=this.oTimesData[i],u=0,d=0,p=!0;if(c.some((function(e){return u=60*e.sTime.split(":")[0]*60+60*e.sTime.split(":")[1],d=60*e.eTime.split(":")[0]*60+60*e.eTime.split(":")[1],!(s<=u&&l<u||s>=d&&l>d)&&(n["a"].tip(o.$t("timePeriodsCannotBeCrossed")),p=!1,!0)})),p){a?c.push({sTime:e+":00",eTime:t+":00",param:a,type:r}):c.push({sTime:e+":00",eTime:t+":00",type:r});var m=function(e,t){var a=60*e.sTime.split(":")[0]*60+60*e.sTime.split(":")[1],i=60*t.sTime.split(":")[0]*60+60*t.sTime.split(":")[1];return a-i};c.sort(m),this.$forceUpdate()}}},addScheduleTime:function(t){var a=this,o=this.oTimesData[t].length;if(o>=this.sectionNum)n["a"].tip(this.$t("fixedTimeTips").replace("%s",this.sectionNum));else{var r=[];this.types.forEach((function(t){-1===e.inArray(t,i["a"].m_aMergeType)&&r.push({text:a.getTypeLan(t),value:t})}));var s=[];this.types&&this.types.length>0&&s.push({title:this.$t("scheduleType"),data:[r],selectedIndex:[0]}),s.push({is:"hm-date-time-picker",title:this.$t("startTime"),min:[0,0],max:[23,59],value:new Date,startColumn:"hour",columnCount:2,format:{hour:"hh "+this.$t("hours"),minute:"mm "+this.$t("minutes")}},{is:"hm-date-time-picker",title:this.$t("endTime"),subtitle:this.$t("endTime0to24"),min:[0,0],max:[24,59],value:new Date,startColumn:"hour",columnCount:2,format:{hour:"hh "+this.$t("hours"),minute:"mm "+this.$t("minutes")}}),this.dateSegmentPicker=this.$createSegmentPicker({data:s,onSelect:function(e){var i="",n="",o="CMR",r="",s="",l=a.isParam.inputParam;a.types&&a.types.length>0?(r=parseInt(e[1].getHours(),10)<10?"0"+e[1].getHours():e[1].getHours(),s=parseInt(e[1].getMinutes(),10)<10?"0"+e[1].getMinutes():e[1].getMinutes(),i=r+":"+s,r=parseInt(e[2].getHours(),10)<10?"0"+e[2].getHours():e[2].getHours(),s=parseInt(e[2].getMinutes(),10)<10?"0"+e[2].getMinutes():e[2].getMinutes(),n=r+":"+s,"00:00"===n&&(n="24:00"),o=e[0][0],a.timeValidityVerification(i,n,l,t,o)):(r=parseInt(e[0].getHours(),10)<10?"0"+e[0].getHours():e[0].getHours(),s=parseInt(e[0].getMinutes(),10)<10?"0"+e[0].getMinutes():e[0].getMinutes(),i=r+":"+s,r=parseInt(e[1].getHours(),10)<10?"0"+e[1].getHours():e[1].getHours(),s=parseInt(e[1].getMinutes(),10)<10?"0"+e[1].getMinutes():e[1].getMinutes(),n=r+":"+s,"00:00"===n&&(n="24:00"),a.timeValidityVerification(i,n,l,t,o))},onNext:function(e){0!==e&&1!==e||a.dateSegmentPicker.$updateProps({data:s})}}),this.dateSegmentPicker.show()}},copySchedule:function(t){var a=this,i=[{value:0,text:this.$t("monday")},{value:1,text:this.$t("tuesday")},{value:2,text:this.$t("wednesday")},{value:3,text:this.$t("thursday")},{value:4,text:this.$t("friday")},{value:5,text:this.$t("saturday")},{value:6,text:this.$t("sunday")}];this.holiday&&i.push({value:7,text:this.$t("holiday")}),"moth"===this.mode&&(i=[{value:0,text:this.$t("jan")},{value:1,text:this.$t("feb")},{value:2,text:this.$t("mar")},{value:3,text:this.$t("apr")},{value:4,text:this.$t("may")},{value:5,text:this.$t("jun")},{value:6,text:this.$t("jul")},{value:7,text:this.$t("aug")},{value:8,text:this.$t("sep")},{value:9,text:this.$t("oct")},{value:10,text:this.$t("nov")},{value:11,text:this.$t("dec")}]),i=i.map((function(e){return{value:e.value,disabled:e.value===t,text:e.text}}));var n=this.$createCopyTo({titleTip:this.$t("copyTo"),weekData:{weekList:i,defaultWeek:t},onSelect:function(i){i.forEach((function(i){a.oTimesData[i]=e.extend(!0,[],a.oTimesData[t]),a.oTimesData.push()})),n.remove()},onCancel:function(){n.remove()}});n.show()},onSwipeBtnClick:function(e,t){var a=this;n["a"].confirm(this.$t("confirmToDelete"),(function(){for(var i=0,n=0;n<e;n++)i+=a.oTimesData[n].length;i+=t,a.deleteTimesDataByIndex(i)}))}}}}).call(this,a("1157"))},"8c6b":function(e,t,a){},"8c89":function(e,t,a){},"8dbf":function(e,t,a){"use strict";(function(e){a("6b54"),a("28a5"),a("7514"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("c050"),s=a("7de8"),l=a("d09c"),c=a("8d94"),u=a("9741"),d=a("f193"),p=function(){function t(){var e=this;Object(n["a"])(this,t),this.security={},this.m_oParamsValid={oPortCheck:{required:!0,range:[2e3,65535],skipVerify:!1},oImagePollCheck:{required:!0,range:[0,4294967295],skipVerify:!1},olength:{required:!0,lengthRange:[1,48],specialChar:!0,multiChar:!0,skipVerify:!0},oSecketKeylength:{required:!0,lengthRange:[1,64],specialChar:!0,skipVerify:!0},oSecketKeylengthHD:{required:!0,lengthRange:[1,64],skipVerify:!0},oAccessKeylength:{required:!0,lengthRange:[1,64],specialChar:!0,skipVerify:!0},oIPValid:{required:!0,ipCloud:!0,skipVerify:!1},oPassword:{required:!0},oPasswordConfirm:{required:!0,confirmPass:function(t){return t===e.oPassword.szPassword}}},this.oValidCap={imagePollCheck:{},port:{},userName:{},poolId:{},securityCap:{bSupport:!1}},this.defaultVer={protocolVersion:""},this.imageCloud={ipAddress:"",port:"",vehicleDetectionID:""},this.aProtocolVersions=[],this.szDefaultPwd="",this.oPassword={szPassword:this.szDefaultPwd,szPasswordConfirm:this.szDefaultPwd,szPasswordDefault:this.szDefaultPwd},this.bSupportCloudStorageServerParam=!1}return Object(o["a"])(t,[{key:"init",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.aProtocolVersions.length=0,1===u["a"].iDeviceType&&this.aProtocolVersions.push({value:"V1.0",text:c["a"].t("wuhanCloud")+"1.0"}),this.aProtocolVersions.push({value:"V2.0",text:c["a"].t("wuhanCloud")+"2.0"}),e.next=5,this.getParamCap();case 5:return e.next=7,this.getParam();case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getParamCap",value:function(){var t=this,a=new Promise((function(a){var i={urlCGI:"cloudStorageCap",params:{},data:null,loading:!0};d["a"].get(i).then((function(i){var n=i.oResult;if(t.oValidCap.imagePollCheck={minValue:s["a"].nodeAttr(n,"postPoolID","min","i"),maxValue:s["a"].nodeAttr(n,"postPoolID","max","i"),bAttach:!0},t.oValidCap.port={minValue:s["a"].nodeAttr(n,"port","min","i"),maxValue:s["a"].nodeAttr(n,"port","max","i"),bAttach:!0},t.oValidCap.userName={minLength:s["a"].nodeAttr(n,"userName","min","i"),maxLength:s["a"].nodeAttr(n,"userName","max","i"),bAttach:!0},t.oValidCap.poolId={minValue:s["a"].nodeAttr(n,"postPoolID","min","i"),maxValue:s["a"].nodeAttr(n,"postPoolID","max","i"),bAttach:!0},t.oValidCap.securityCap={bSupport:e(n)[0].getElementsByTagName("V2.0").length>0,bSupportAccessKey:s["a"].nodeValue(n,"isSupportAccessKey","b"),bSupportSecretKey:s["a"].nodeValue(n,"isSupportSecretKey","b"),oAccessKeyCap:{minLength:s["a"].nodeAttr(n,"accessKeyLen","min","i"),maxLength:s["a"].nodeAttr(n,"accessKeyLen","max","i")},oSecretKeyCap:{minLength:s["a"].nodeAttr(n,"secretKeyLen","min","i"),maxLength:s["a"].nodeAttr(n,"secretKeyLen","max","i")},bAttach:!0},t.m_oParamsValid.oPortCheck.range[0]=s["a"].nodeAttr(n,"port","min","i"),t.m_oParamsValid.oPortCheck.range[1]=s["a"].nodeAttr(n,"port","max","i"),s["a"].nodeAttr(n,"vehicleDetectionID","max","i")&&s["a"].nodeAttr(n,"vehicleDetectionID","min","i")&&(t.m_oParamsValid.oImagePollCheck.range[1]=s["a"].nodeAttr(n,"vehicleDetectionID","max","i"),t.m_oParamsValid.oImagePollCheck.range[0]=s["a"].nodeAttr(n,"vehicleDetectionID","min","i")),t.m_oParamsValid.olength[1]=s["a"].nodeAttr(n,"userName","max","i"),t.m_oParamsValid.olength[0]=s["a"].nodeAttr(n,"userName","min","i"),t.m_oParamsValid.oSecketKeylength[1]=s["a"].nodeAttr(n,"secretKeyLen","max","i"),t.m_oParamsValid.oSecketKeylength[0]=s["a"].nodeAttr(n,"secretKeyLen","min","i"),t.m_oParamsValid.oSecketKeylengthHD[1]=s["a"].nodeAttr(n,"secretKeyLen","max","i"),t.m_oParamsValid.oSecketKeylengthHD[0]=s["a"].nodeAttr(n,"secretKeyLen","min","i"),t.m_oParamsValid.oAccessKeylength[1]=s["a"].nodeAttr(n,"accessKeyLen","max","i"),t.m_oParamsValid.oAccessKeylength[0]=s["a"].nodeAttr(n,"accessKeyLen","min","i"),e(n).find("protocolType").length>0)for(var o=s["a"].nodeAttr(n,"protocolType","opt").split(","),r=0;r<o.length;r++)"Image and Video Cloud"===o[r]&&t.aProtocolVersions.push({value:"Image and Video Cloud",text:c["a"].t("imageAndVideoCloud")});s["a"].nodeValue(n,"isSupportCloudStorageServerParam","b")&&(t.bSupportCloudStorageServerParam=s["a"].nodeValue(n,"isSupportCloudStorageServerParam","b")),a()}),(function(){a()}))}));return a}},{key:"getCloudParam",value:function(){var t=this,a=new Promise((function(a){var i={urlCGI:"cloudStorageServerParam",params:{channel:1,cloud:1},data:null,loading:!0};d["a"].get(i).then((function(i){var n=i.oResult,o=e(n).find("CloudStorageServer").eq(0).find("ImageAndVideoCloud");t.imageCloud.ipAddress=s["a"].nodeValue(o,"ipAddress, ipv6Address, hostName"),t.imageCloud.port=s["a"].nodeValue(o,"port","i"),t.imageCloud.vehicleDetectionID=s["a"].nodeValue(o,"vehicleDetectionID","i"),a()}),(function(e){l["a"].getState(e),a()}))}));return a}},{key:"getParam",value:function(){var t=this,a=new Promise((function(a){var i={urlCGI:"cloudStorage",params:{channel:1,cloud:1},data:null,loading:!0};d["a"].get(i).then((function(i){var n=i.oResult;t.oParam=n,t.defaultVer={enabled:s["a"].nodeValue(t.oParam,"enabled","b"),ipAddress:s["a"].nodeValue(t.oParam,"ipAddress, ipv6Address, hostName"),port:s["a"].nodeValue(t.oParam,"port","i"),userName:s["a"].nodeValue(t.oParam,"userName"),vehicleDetectionID:s["a"].nodeValue(t.oParam,"vehicleDetectionID","i"),protocolVersion:s["a"].nodeValue(t.oParam,"protocolType"),postPoolID:s["a"].nodeValue(t.oParam,"postPoolID","i"),illegalPoolID:s["a"].nodeValue(t.oParam,"illegalPoolID","i")};var o=e(n)[0].getElementsByTagName("V2.0");o.length>0&&(t.security={enabled:s["a"].nodeValue(o[0],"enabled","b"),ipAddress:s["a"].nodeValue(o[0],"ipAddress, ipv6Address, hostName"),port:s["a"].nodeValue(o[0],"port","i"),vehicleDetectionID:s["a"].nodeValue(o[0],"vehicleDetectionID","i"),accessKey:s["a"].nodeValue(o[0],"accessKey")||t.szDefaultPwd,secretKey:s["a"].nodeValue(o[0],"secretKey")||t.szDefaultPwd,postPoolID:s["a"].nodeValue(o[0],"postPoolID","i"),illegalPoolID:s["a"].nodeValue(o[0],"illegalPoolID","i")});var r=e(n)[0].getElementsByTagName("ImageAndVideoCloud");r.length>0&&(t.imageCloud={ipAddress:s["a"].nodeValue(r[0],"ipAddress, ipv6Address, hostName"),port:s["a"].nodeValue(r[0],"port","i"),userName:s["a"].nodeValue(r[0],"userName"),vehicleDetectionID:s["a"].nodeValue(r[0],"vehicleDetectionID","i"),postPoolID:s["a"].nodeValue(r[0],"postPoolID","i"),illegalPoolID:s["a"].nodeValue(r[0],"illegalPoolID","i"),szRegStatus:s["a"].nodeValue(r[0],"registerStatus")}),t.defaultVer.protocolVersion||(t.defaultVer.protocolVersion="V1.0"),a()}),(function(){a()}))}));return a}},{key:"save",value:function(){this.security&&e(this.oParam).find("enabled").text(this.security.enabled.toString()),s["a"].nodeValue(this.oParam,"ipAddress, ipv6Address, hostName","",this.defaultVer.ipAddress),s["a"].nodeValue(this.oParam,"port","i",this.defaultVer.port),s["a"].nodeValue(this.oParam,"userName","",this.defaultVer.userName),s["a"].nodeValue(this.oParam,"vehicleDetectionID","i",this.defaultVer.vehicleDetectionID),s["a"].nodeValue(this.oParam,"protocolType","",this.defaultVer.protocolVersion),s["a"].nodeValue(this.oParam,"postPoolID","i",this.defaultVer.postPoolID),s["a"].nodeValue(this.oParam,"illegalPoolID","i",this.defaultVer.illegalPoolID);var t=e(this.oParam)[0].getElementsByTagName("V2.0");t.length>0&&(s["a"].nodeValue(t[0],"ipAddress, ipv6Address, hostName","",this.security.ipAddress),s["a"].nodeValue(t[0],"port","i",this.security.port),s["a"].nodeValue(t[0],"vehicleDetectionID","i",this.security.vehicleDetectionID),s["a"].nodeValue(t[0],"postPoolID","i",this.security.postPoolID),s["a"].nodeValue(t[0],"illegalPoolID","i",this.security.illegalPoolID),s["a"].nodeValue(t[0],"accessKey","",this.security.accessKey),s["a"].nodeValue(t[0],"secretKey","",this.security.secretKey)),e(this.oParam).find("password").remove(),this.oPassword.szPassword!==this.oPassword.szPasswordDefault&&e(this.oParam).find("CloudStorage").append(s["a"].parseXmlFromStr("<password>"+s["a"].encodeString(this.oPassword.szPassword)+"</password>").childNodes[0].cloneNode(!0));var a=e(this.oParam)[0].getElementsByTagName("ImageAndVideoCloud");a.length>0&&(s["a"].nodeValue(a[0],"ipAddress, ipv6Address, hostName","",this.imageCloud.ipAddress),s["a"].nodeValue(a[0],"userName","",this.imageCloud.userName),s["a"].nodeValue(a[0],"port","i",this.imageCloud.port),s["a"].nodeValue(a[0],"vehicleDetectionID","i",this.imageCloud.vehicleDetectionID),s["a"].nodeValue(a[0],"postPoolID","i",this.imageCloud.postPoolID),s["a"].nodeValue(a[0],"illegalPoolID","i",this.imageCloud.illegalPoolID),e(a[0]).find("password").remove(),this.oPassword.szPassword!==this.oPassword.szPasswordDefault&&e(a[0]).append(s["a"].parseXmlFromStr("<password>"+s["a"].encodeString(this.oPassword.szPassword)+"</password>").childNodes[0].cloneNode(!0))),""===this.ipAddress&&e(this.oParam).find("ipAddress").text("0.0.0.0");var i={urlCGI:"cloudStorage",params:{channel:1,cloud:1},processData:!1,data:this.oParam,loading:!0};return new Promise((function(e){d["a"].put(i).then((function(t){e(),l["a"].saveState(t.xhr)}),(function(t){e(),l["a"].saveState(t)}))}))}},{key:"testParam",value:function(){var t=this;if(0===u["a"].iDeviceType){var a="<?xml version='1.0' encoding='UTF-8'?><CloudStorageTestDescription>",i=s["a"].checkAddressingType(this.defaultVer.ipAddress).toLowerCase();a+="<addressingFormatType>"+("hostname"===i?"hostname":"ipaddress")+"</addressingFormatType>",a+="hostname"===i?"<hostName>"+s["a"].encodeString(this.defaultVer.ipAddress)+"</hostName>":"ipv6address"===i?"<ipv6Address>"+s["a"].encodeString(this.defaultVer.ipAddress)+"</ipv6Address>":"<ipAddress>"+s["a"].encodeString(this.defaultVer.ipAddress)+"</ipAddress>",a+="<portNo>"+this.defaultVer.port+"</portNo>",a+="<username>"+this.defaultVer.userName+"</username>",a+="<postPoolID>"+this.defaultVer.postPoolID+"</postPoolID>",a+="<illegalPoolID>"+this.defaultVer.illegalPoolID+"</illegalPoolID>",a+="<vehicleDetectionID>"+this.defaultVer.vehicleDetectionID+"</vehicleDetectionID>",a+="<protocolType>"+this.defaultVer.protocolVersion+"</protocolType>",a+="<V2.0>";var n=s["a"].checkAddressingType(this.security.ipAddress).toLowerCase();a+="<addressingFormatType>"+("hostname"===n?"hostname":"ipaddress")+"</addressingFormatType>",a+="hostname"===n?"<hostName>"+s["a"].encodeString(this.security.ipAddress)+"</hostName>":"ipv6address"===n?"<ipv6Address>"+s["a"].encodeString(this.security.ipAddress)+"</ipv6Address>":"<ipAddress>"+s["a"].encodeString(this.security.ipAddress)+"</ipAddress>",a+="<port>"+this.security.port+"</port>",a+="<accessKey>"+this.security.accessKey+"</accessKey>",a+="<secretKey>"+this.security.secretKey+"</secretKey>",a+="<postPoolID>"+this.security.postPoolID+"</postPoolID>",a+="<illegalPoolID>"+this.security.illegalPoolID+"</illegalPoolID>",a+="<vehicleDetectionID>"+this.security.vehicleDetectionID+"</vehicleDetectionID></V2.0>",a+="</CloudStorageTestDescription>";var o=s["a"].parseXmlFromStr(a);this.test("cloudStorageTest",o)}else if(1===u["a"].iDeviceType){s["a"].nodeValue(t.oParam,"enabled","b",this.defaultVer.enabled.toString()),s["a"].nodeValue(t.oParam,"ipAddress, ipv6Address, hostName","",this.defaultVer.ipAddress),s["a"].nodeValue(t.oParam,"port","i",this.defaultVer.port),s["a"].nodeValue(t.oParam,"userName","",this.defaultVer.userName),s["a"].nodeValue(t.oParam,"vehicleDetectionID","i",this.defaultVer.vehicleDetectionID),s["a"].nodeValue(t.oParam,"protocolType","",this.defaultVer.protocolVersion),s["a"].nodeValue(t.oParam,"postPoolID","i",this.defaultVer.postPoolID),s["a"].nodeValue(t.oParam,"illegalPoolID","i",this.defaultVer.illegalPoolID);var r=e(t.oParam)[0].getElementsByTagName("V2.0");r.length>0&&(s["a"].nodeValue(r[0],"ipAddress, ipv6Address, hostName","",this.security.ipAddress),s["a"].nodeValue(r[0],"port","i",this.security.port),s["a"].nodeValue(r[0],"vehicleDetectionID","i",this.security.vehicleDetectionID),s["a"].nodeValue(r[0],"postPoolID","i",this.security.postPoolID),s["a"].nodeValue(r[0],"illegalPoolID","i",this.security.illegalPoolID),s["a"].nodeValue(r[0],"accessKey","",this.security.accessKey),s["a"].nodeValue(r[0],"secretKey","",this.security.secretKey)),e(t.oParam).find("password").remove(),this.oPassword.szPassword!==this.oPassword.szPasswordDefault&&(e(t.oParam).find("CloudStorage").append(s["a"].parseXmlFromStr("<password></password>").childNodes[0].cloneNode(!0)),e(t.oParam).find("CloudStorage").find("password").text(s["a"].encodeString(this.oPassword.szPassword))),this.test("cloudStorageTest",t.oParam)}}},{key:"test",value:function(t,a){var i=r["a"].wait(c["a"].t("Testing")),n="",o={ok:c["a"].t("TestSuccess"),"connect server fail":c["a"].t("ConnectServerFail"),"no nas directory":c["a"].t("NoNasDirectory"),"no permission":c["a"].t("NoNasPermission"),"no dns":c["a"].t("NoDns"),"no gateway":c["a"].t("NoGateway"),"password error":c["a"].t("PasswordError"),"exchange server fail":c["a"].t("ExchangeServerFail"),"create directory failed":c["a"].t("CreateDirectoryFail"),"no write permission":c["a"].t("NoWritePermission"),"port error":c["a"].t("portError"),"user or password error":c["a"].t("loginError"),"no storage pool":c["a"].t("StoragePoolError"),"storage pool full":c["a"].t("StoragePoolFull"),"unknown error":c["a"].t("UnknownError"),"too great time difference":c["a"].t("tooGreatTime")},s="POST";"message"===t&&(s="PUT");var u={urlCGI:t,params:{},processData:!1,data:a};return"PUT"===s?d["a"].put(u).then((function(t){setTimeout((function(){i.close();var a=t.oResult;n=e(a).find("errorDescription").eq(0).text(),n?"undefined"!==typeof o[n]?r["a"].tip(o[n]):r["a"].tip(c["a"].t("UnknownError")):r["a"].tip(c["a"].t("TestSuccess"))}),10),l["a"].saveState(t.xhr)}),(function(e){setTimeout((function(){i.close(),"timeout"===e.statusText?r["a"].tip(c["a"].t("TestFailed")):l["a"].saveState(e)}),10)})):"POST"===s?d["a"].post(u).then((function(t){setTimeout((function(){i.close();var a=t.oResult;n=e(a).find("errorDescription").eq(0).text(),n?"undefined"!==typeof o[n]?r["a"].tip(o[n]):r["a"].tip(c["a"].t("UnknownError")):r["a"].tip(c["a"].t("TestSuccess"))}),10),l["a"].saveState(t.xhr)}),(function(e){setTimeout((function(){i.close(),"timeout"===e.statusText?r["a"].tip(c["a"].t("TestFailed")):l["a"].saveState(e)}),10)})):void 0}}]),t}();t["a"]=new p}).call(this,a("1157"))},"8de7":function(e,t,a){},"8f7d":function(e,t,a){},9011:function(e,t,a){},9064:function(e,t,a){"use strict";a("2d51")},9153:function(e,t,a){"use strict";a("d0b8")},"91b5":function(e,t,a){},"91f8":function(e,t,a){},9275:function(e,t,a){},9282:function(e,t,a){"use strict";a("e468")},"92af":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"add-or-edit-container"},["add"===e.type?t("div",{staticClass:"quick-add-device"},[t("div",{staticClass:"item-right-info"},[t("div",{staticClass:"item-info"},[t("div",{staticClass:"item-info-sub-title"},[e._v(e._s(e.$t("quickAddTip1_name")))]),t("div",{staticClass:"small-font"},[e._v(e._s(e.$t("quickAddTip2_name")))])]),t("div",{staticClass:"item-right"},[t("hm-button",{staticClass:"quick-button",nativeOn:{click:function(t){return e.importOnlineDevice.apply(null,arguments)}}},[e._v(e._s(e.$t("import_button")))])],1)])]):e._e(),t("div",{staticClass:"form-content"},[t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",[t("div",{attrs:{slot:"title"},slot:"title"},[t("div",{staticClass:"require-title-container"},[t("div",{staticClass:"require-star"},[e._v("\n                *\n              ")]),t("div",{staticClass:"require-title"},[e._v("\n                "+e._s(e.$t("deviceName"))+"\n              ")])])]),t("hm-input",{attrs:{disabled:e.oParams.isPoe},model:{value:e.oParams.deviceName,callback:function(t){e.$set(e.oParams,"deviceName",t)},expression:"oParams.deviceName"}}),t("hm-validator",{attrs:{model:e.oParams.deviceName,rules:e.oParamsValid.deviceName,param:e.$t("deviceName")}})],1)],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",[t("div",{attrs:{slot:"title"},slot:"title"},[t("div",{staticClass:"require-title-container"},[t("div",{staticClass:"require-star"},[e._v("\n                *\n              ")]),t("div",{staticClass:"require-title"},[e._v("\n                "+e._s(e.oCap.szIpAddressName)+"\n              ")])])]),t("hm-input",{attrs:{disabled:e.oParams.isPoe},model:{value:e.oParams.szIpAddress,callback:function(t){e.$set(e.oParams,"szIpAddress",t)},expression:"oParams.szIpAddress"}}),t("hm-validator",{attrs:{model:e.oParams.szIpAddress,rules:e.oParamsValid.szIpAddress,param:e.$t("ipAddr")}})],1),e.oParams.szIpAddress.length>0&&"OTAP"!==e.oParams.oProtocol?t("hm-cell",[t("div",{attrs:{slot:"title"},slot:"title"},[t("div",{staticClass:"action-text-button",on:{click:e.ipTest}},[e._v("\n              "+e._s(e.$t("test"))+"\n            ")])])]):e._e()],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("protocol_name")}},[t("hm-select",{attrs:{options:e.aProtocolOptions,disabled:e.oParams.isPoe},on:{change:function(t){return e.changeProtocol(0,t)}},model:{value:e.oParams.oProtocol,callback:function(t){e.$set(e.oParams,"oProtocol",t)},expression:"oParams.oProtocol"}})],1)],1),"OTAP"!==e.oParams.oProtocol?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",[t("div",{attrs:{slot:"title"},slot:"title"},[t("div",{staticClass:"require-title-container"},[t("div",{staticClass:"require-star"},[e._v("\n                *\n              ")]),t("div",{staticClass:"require-title"},[e._v("\n                "+e._s(e.$t("managementPort_name"))+"\n              ")])])]),t("hm-input",{attrs:{disabled:!!e.oParams.bCustom||e.GBProtocol||e.oParams.isPoe},model:{value:e.oParams.szPort,callback:function(t){e.$set(e.oParams,"szPort",t)},expression:"oParams.szPort"}}),t("hm-validator",{attrs:{model:e.oParams.szPort,rules:e.oParamsValid.szPort,param:e.$t("managementPort_name")}})],1)],1):e._e(),"OTAP"!==e.oParams.oProtocol?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("username")}},[t("hm-input",{attrs:{disabled:e.oParams.bUsername||e.GBProtocol||e.oParams.isPoe},model:{value:e.oParams.szUserName,callback:function(t){e.$set(e.oParams,"szUserName",t)},expression:"oParams.szUserName"}}),t("hm-validator",{attrs:{model:e.oParams.szUserName,rules:e.oParamsValid.szUserName,param:e.$t("username")}})],1),t("hm-cell",{attrs:{title:e.$t("password")}},[t("hm-input",{attrs:{type:"password",disabled:e.oParams.bDefaultAdminPortEnabled||e.GBProtocol},model:{value:e.oParams.oPassword,callback:function(t){e.$set(e.oParams,"oPassword",t)},expression:"oParams.oPassword"}}),t("hm-validator",{attrs:{model:e.oParams.oPassword,rules:e.oParamsValid.oPassword,param:e.$t("password")}})],1),t("hm-cell",{attrs:{title:e.$t("useDevicePassword_name")}},[t("hm-switch",{attrs:{disabled:e.GBProtocol},model:{value:e.oParams.bDefaultAdminPortEnabled,callback:function(t){e.$set(e.oParams,"bDefaultAdminPortEnabled",t)},expression:"oParams.bDefaultAdminPortEnabled"}})],1)],1):e._e(),"OTAP"===e.oParams.oProtocol&&"HIK"!==e.oParams.oProtocol&&"HIKVISION"!==e.oParams.oProtocol||"ipSpeaker"===e.szDeviceType?e._e():t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},["OTAP"!==e.oParams.oProtocol?t("hm-cell",{attrs:{title:e.$t("streamTransMode")}},[t("hm-select",{attrs:{options:e.aStreamTypeOptions,disabled:e.oParams.isPoe},model:{value:e.oParams.szStreamType,callback:function(t){e.$set(e.oParams,"szStreamType",t)},expression:"oParams.szStreamType"}})],1):e._e(),"HIK"===e.oParams.oProtocol||"HIKVISION"===e.oParams.oProtocol?t("hm-cell",{attrs:{title:e.$t("certificateValidation")}},[t("hm-switch",{attrs:{disabled:e.oParams.isPoe},model:{value:e.oParams.bCertificateValidation,callback:function(t){e.$set(e.oParams,"bCertificateValidation",t)},expression:"oParams.bCertificateValidation"}})],1):e._e()],1),"ipSpeaker"===e.szDeviceType?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("relatedVideoChannel"),label:e.szBindChannelName,"is-link":""},nativeOn:{click:function(t){return e.changeVideoChannel.apply(null,arguments)}}})],1):e._e()],1)],1),t("div",{staticClass:"bottom-container"},[t("hm-button",{staticClass:"bottom-btn",on:{click:function(t){return e.addDevice()}}},[e._v(e._s("add"===e.type?e.$t("add_name"):e.$t("save")))])],1),t("hm-popup",{ref:"myPopup",attrs:{type:"my-popup"}},[t("hm-loading",{attrs:{size:28}})],1),e.bShowOnlineDeviceAdd?t("base-page",{attrs:{"close-type":"right","half-height":!0,title:e.$t("onlineDeviceNumList_name"),"b-back":!1,"right-type":"slot"},on:{"left-handle":function(t){e.bShowOnlineDeviceAdd=!1}}},[t("div",{attrs:{slot:"right-slot"},slot:"right-slot"},[t("div",{staticClass:"slot-right-container",on:{click:e.refreshOnlineDevice}},[t("img",{staticClass:"white-bg",attrs:{src:a("eaa4"),alt:""}})])]),t("div",{staticClass:"device-container",attrs:{slot:"content"},slot:"content"},[t("online-list-add",{attrs:{options:e.options,"select-type":"single",type:"onlineDevice","out-loading":e.outLoading,"device-type":e.szDeviceType},on:{confirmAddOnline:e.oneClickAddOnline}})],1)]):e._e(),t("hm-modal",{attrs:{visible:e.selectChannelDialogVisible,"close-type":"right","half-height":!0,title:"add"===e.selectChannelDialogType?e.$t("addChannel_name"):e.$t("editChannel_name")},on:{close:function(t){e.selectChannelDialogVisible=!1}}},[t("channel-select",{attrs:{type:e.selectChannelDialogType,options:e.deviceResourceList},on:{close:e.addChannelSuccess}})],1),t("hm-modal",{attrs:{visible:e.selectVideoChannelDialogVisible,"close-type":"right","half-height":!0,title:"add"===e.selectChannelDialogType?e.$t("addChannel_name"):e.$t("editChannel_name")},on:{close:function(t){e.selectVideoChannelDialogVisible=!1}}},[t("video-channel-select",{attrs:{type:e.selectChannelDialogType,options:e.aVideoChannelList},on:{editChannel:e.addVideoChannelSuccess}})],1)],1)},n=[],o=a("ade3"),r=(a("96cf"),a("1da1")),s=(a("c5f6"),a("a481"),a("2909")),l=(a("7514"),a("6762"),a("2fdb"),a("6b54"),a("ac6a"),a("ae88")),c=a("9731"),u=a("a7d3"),d=a("c587"),p=a("c050"),m=a("f193"),h=a("d09c"),f=a("8d94"),v=a("7de8"),b=["HIK","HIKVISION","OTAP","ONVIF","AXIS","GB28181"],g={name:"DeviceAddOrEdit",components:{OnlineListAdd:l["default"],ChannelSelect:c["default"],VideoChannelSelect:u["default"]},props:{options:{type:Array,default:function(){return[]}},type:{type:String,default:function(){return"add"}},editInfo:{type:Object,default:function(){return{}}},aProtocolOptions:{type:Array,default:function(){return[]}},outLoading:{type:Boolean,default:function(){return!1}},oCap:{type:Object,default:function(){return{szIpAddressName:f["a"].t("ipAddr"),deviceName:{min:0,max:128,def:""},protocolType:{options:[],def:"HIK"},deviceList:{},aLinkType:[{value:"direct",name:f["a"].t("direct")},{value:"streamTrans",name:f["a"].t("streamTrans")}]}}},szDeviceType:{type:String,default:"video"},aVideoChannelList:{type:Array,default:function(){return[]}}},data:function(){return{deviceResourceList:[],selectChannelDialogVisible:!1,selectChannelDialogType:"add",bShowOnlineDeviceAdd:!1,validate:{},aStreamTypeOptions:[{value:"auto",text:this.$t("auto")},{value:"tcp",text:"TCP"},{value:"udp",text:"UDP"}],oParams:{szIpAddress:"",szDeviceId:"",deviceName:"IPCamera 01",oProtocol:"",szPort:"",isPoe:!1,szUserName:"",oPassword:null,szStreamType:"auto",bCustom:!1,bDefaultAdminPortEnabled:!1,bCertificateValidation:!1},bSelectOnlineDevice:{},aCustomProtocolList:[],oParamsValid:{szIpAddress:{required:!0},deviceName:{required:!0},szPort:{required:!0},szUserName:{},oPassword:{}},protocolInfo:{},checkValueList:[],oOnlineDeviceInfo:{},bSelectAll:!1,bIndeterminate:!1,selectVideoChannelDialogVisible:!1,aBindVideoChannel:[],szBindChannelName:""}},computed:{GBProtocol:function(){return"GB28181"===this.oParams.oProtocol}},watch:{"oParams.oProtocol":{handler:function(e){""!==e&&this.initValid(e)}}},mounted:function(){this.init(this.editInfo)},methods:{addChannelSuccess:function(){this.selectChannelDialogVisible=!1,this.$emit("operateSuccess")},init:function(e){var t=this;"add"===this.type?(this.oParams.szIpAddress="",this.oParams.szDeviceId="",this.oParams.deviceName="video"===this.szDeviceType?"IPCamera 01":"Speaker 01",this.oParams.oProtocol=this.oCap.protocolType.def||"HIK",this.oParams.szUserName="admin",this.oParams.szStreamType="auto",this.oParams.oPassword="",this.oParams.bDefaultAdminPortEnabled=!1,this.oParams.bCustom=!1,this.oParams.szPort=this.oCap.deviceList[this.oCap.protocolType.def].portNo.def,this.oParams.bCertificateValidation=!1,this.changeProtocol()):(this.oParams.szIpAddress="GB28181"===e.protocol?e.GBDeviceID:e.address,this.oParams.deviceName=e.deviceName||"IPCamera 01",this.oParams.szDeviceId=e.deviceID,this.oParams.oProtocol=e.protocol,this.oParams.isPoe=e.isPoe||!1,this.oParams.szStreamType=e.streamProtocolType||"auto",this.oParams.bDefaultAdminPortEnabled=!1,this.oParams.szUserName=e.username,this.oParams.szPort=e.portNo,this.oParams.bCertificateValidation=!!e.certificateValidationEnabled,"video"===this.szDeviceType?this.deviceResourceList=this.editInfo.deviceResourceList:"ipSpeaker"===this.szDeviceType&&(this.deviceResourceList=this.editInfo.ipSpeakerDeviceResourceList,this.szBindChannelName="",this.editInfo.ipSpeakerDeviceResourceList[0].boundChannelList.length&&(this.editInfo.ipSpeakerDeviceResourceList[0].boundChannelList.forEach((function(e){t.aBindVideoChannel.push(e.videoIndex.toString())})),this.aVideoChannelList.forEach((function(e){var a=e.value.toString();t.aBindVideoChannel.includes(a)&&(e.added=!0,t.szBindChannelName?t.szBindChannelName+=","+e.name:t.szBindChannelName+=e.name)})))),this.changeProtocol(1))},initValid:function(e,t){var a=this.oCap.deviceList[e];"AXIS"!==e&&"OTAP"!==e||(a=this.oCap.deviceList["HIK"]);var i=this.aProtocolOptions.filter((function(t){return t.value===e}))[0];if(i&&i.bThird&&(a=this.oCap.deviceList["ThirdPartyProtocol"]),a){var n=["OTAP","GB28181"].includes(e)?20:64;this.oParamsValid.szIpAddress.pattern=/^[^\u4e00-\u9fa5/\\*?'"><|©]+$/,"GB28181"===e?(this.oParamsValid.szIpAddress.len=20,delete this.oParamsValid.szIpAddress.lengthRange):(delete this.oParamsValid.szIpAddress.len,this.oParamsValid.szIpAddress.lengthRange=[0,n]),this.oParamsValid.deviceName.pattern=/^[^©]+$/,this.oParamsValid.deviceName.lengthRange=[this.oCap.deviceName.min,this.oCap.deviceName.max],this.oParamsValid.szPort.lengthRange=[a.portNo.min,a.portNo.max],this.oParamsValid.szUserName.lengthRange=[0,a.userName.max],this.oParamsValid.szUserName.pattern=/^[a-zA-Z0-9!#$%&'()*+,-./;<=>?@\[\]^_`{|}~\s*]+$/,t||this.oParams.bDefaultAdminPortEnabled?this.oParamsValid.oPassword={require:!0}:(this.oParamsValid.oPassword.lengthRange=[0,a.password.max],this.oParamsValid.oPassword.pattern=/^[a-zA-Z0-9!#$%&'()*+,-./;<=>?@\[\]^_`{|}~\s*]+$/)}void 0===t&&this.changeProtocol(1)},changeProtocol:function(e,t){var a=t||this.oParams.oProtocol;this.protocolInfo=this.aProtocolOptions.find((function(e){return e.value===a}));var i="",n="",o=!1;switch(this.oCap.szPasswordName=this.$t("password"),this.oCap.szIpAddressName=this.$t("ipAddr"),this.oParams.bUsername=!1,a){case"HIK":i="admin",n="video"===this.szDeviceType?"8000":"80";break;case"HIKVISION":i="admin",n="video"===this.szDeviceType?"8000":"80";break;case"OTAP":i="admin",n="7800",this.oParams.bUsername=!0,this.oCap.szIpAddressName=this.$t("deviceUID_name");break;case"ACTi":i="Admin",n="80";break;case"ARECONT":case"BRICKCOM":case"GRANDEYE":case"NATURE":case"ONVIF":case"PANASONIC":case"PELCO":case"PROVIDEO":case"PSIA":case"SAMSUNG":case"SANYO":case"SONY":case"XUNMEI":case"ZAVIO":case"HUNT":i="admin",n="80";break;case"GB28181":i="admin",n="5060",this.oCap.szIpAddressName=this.$t("deviceUID_name"),this.oCap.szPasswordName=this.$t("sipAuthenticationPswd");break;case"AXIS":case"CANON":case"VIVOTEK":i="root",n="80";break;case"BOSCH":i="service",n="1756";break;case"DYNACOLOR":case"GE105E":case"RTSP_URL":i="",n="0";break;case"INFINOVA":i="INFINOVA",n="80";break;default:break}this.protocolInfo&&this.protocolInfo.bThird&&(o=this.protocolInfo.id||!1,o&&(n=this.protocolInfo.port||"554")),this.oParams.bCustom=o,1!==e&&(this.oParams.szPort=n,o||(this.oParams.szUserName=i),this.oParams.szStreamType="auto")},dealCap:function(e){var t=this;if(e.childmanageCap){var a=e.childmanageCap;if(a.childDescription&&(this.oCap.deviceName.min=a.childDescription["@min"],this.oCap.deviceName.max=a.childDescription["@max"],this.oCap.deviceName.def=a.childDescription["@def"]),a.childProtocolType){this.aProtocolOptions.length=0;for(var i=0;i<a.childProtocolType["@opt"].length;i++)b.indexOf(a.childProtocolType["@opt"][i])>=0&&this.aProtocolOptions.push({text:["HIK","AXIS"].includes(a.childProtocolType["@opt"][i])?this.$t(a.childProtocolType["@opt"][i]+"_name"):a.childProtocolType["@opt"][i],value:a.childProtocolType["@opt"][i]});this.oCap.protocolType.def=a.childProtocolType["@def"]||"HIK"}if(this.aProtocolOptions.forEach((function(e){a[e.value]&&(t.oCap.deviceList[e.value]={userName:{},password:{},portNo:{}},a[e.value].username&&(t.oCap.deviceList[e.value].userName.min=a[e.value].username["@min"],t.oCap.deviceList[e.value].userName.max=a[e.value].username["@max"],t.oCap.deviceList[e.value].userName.def=a[e.value].username["@def"]),a[e.value].password&&(t.oCap.deviceList[e.value].password.min=a[e.value].password["@min"],t.oCap.deviceList[e.value].password.max=a[e.value].password["@max"]),a[e.value].portNo&&(t.oCap.deviceList[e.value].portNo.min=a[e.value].portNo["@min"],t.oCap.deviceList[e.value].portNo.max=a[e.value].portNo["@max"],t.oCap.deviceList[e.value].portNo.def=a[e.value].portNo["@def"]))})),a.ThirdPartyProtocol&&a.ThirdPartyProtocol.thirdPartyProtocolType){this.oCap.deviceList["ThirdPartyProtocol"]={userName:{},password:{},portNo:{}},a["ThirdPartyProtocol"].username&&(this.oCap.deviceList["ThirdPartyProtocol"].userName.min=a["ThirdPartyProtocol"].username["@min"],this.oCap.deviceList["ThirdPartyProtocol"].userName.max=a["ThirdPartyProtocol"].username["@max"],this.oCap.deviceList["ThirdPartyProtocol"].userName.def=a["ThirdPartyProtocol"].username["@def"]),a["ThirdPartyProtocol"].password&&(this.oCap.deviceList["ThirdPartyProtocol"].password.min=a["ThirdPartyProtocol"].password["@min"],this.oCap.deviceList["ThirdPartyProtocol"].password.max=a["ThirdPartyProtocol"].password["@max"]),a["ThirdPartyProtocol"].portNo&&(this.oCap.deviceList["ThirdPartyProtocol"].portNo.min=a["ThirdPartyProtocol"].portNo["@min"],this.oCap.deviceList["ThirdPartyProtocol"].portNo.max=a["ThirdPartyProtocol"].portNo["@max"],this.oCap.deviceList["ThirdPartyProtocol"].portNo.def=a["ThirdPartyProtocol"].portNo["@def"]);for(var n=!1,o=a.ThirdPartyProtocol.thirdPartyProtocolType["@opt"]||[],r=0;r<o.length;r++)"CUSTOM"===o[r]?n=!0:b.indexOf(o[r])>=0&&this.aProtocolOptions.push({text:["HIK","AXIS"].includes(o[r])?this.$t(o[r]+"_name"):o[r],value:o[r],bThird:!0});n&&this.getCustomList()}}},getCustomList:function(){var e=this;if(this.protocolInfo&&this.protocolInfo.bThird&&this.protocolInfo.id){this.protocolInfo=this.aCustomProtocolList.find((function(t){return t.id===e.protocolInfo.id}));var t=this.protocolInfo.id,a="554";t&&(a=this.protocolInfo.port||"554"),this.oParams.szPort=a}this.aProtocolOptions=[].concat(Object(s["a"])(this.aProtocolOptions),Object(s["a"])(d["a"].aProtocolOptions))},oneClickAddOnline:function(e){var t=this;this.bShowOnlineDeviceAdd=!1,this.oParams.szIpAddress=e.deviceIpAdd.replace(/\(.*?\)/g,""),this.oParams.szPort=e.managePortNo,this.oParams.oProtocol="HIKVISION"!==e.proxyProtocol?e.proxyProtocol:"HIK",this.bSelectOnlineDevice=e,this.$nextTick((function(){try{t.validate.validate("szPort"),t.validate.validate("szUserName"),t.validate.validate("szIpAddress"),t.validate.validate("oPassword")}catch(e){}}))},refreshOnlineDevice:function(){this.$emit("refreshOnlineDevice")},importOnlineDevice:function(){this.bShowOnlineDeviceAdd=!0},ipTest:function(){var e=this.$refs["myPopup"];e.show(),d["a"].ipTest(this.oParams.szIpAddress).finally((function(){e.hide()}))},getIpSpeakerDeviceResource:function(e){var t={searchID:v["a"].creatUUID(31),childDevIDList:e,rc:"VoiceTalk",searchResultPosition:1,maxResults:1e3};e.length||delete t.childDevIDList;var a=[];return new Promise((function(e){var i={urlCGI:"searchChildDevResourcesStatus",data:t,loading:!0};return m["a"].post(i).then((function(t){var i=t.oResult;i.matchResults&&i.matchResults.forEach((function(e){e.indexList&&e.indexList.forEach((function(t){var i={childDevIndex:t.childDevIndex,added:"added"===t.status,childDevID:e.childDevID};"added"===t.status&&(i.index=t.index),a.push(i)}))})),e(a)}))}))},addIpSpeakerDeviceResource:function(e,t){var a={childDevID:e,rcList:[{rc:"VoiceTalk",indexList:[]}]},i=[];this.aBindVideoChannel.length&&this.aBindVideoChannel.forEach((function(e){i.push({videoIndex:Number(e)})}));var n={index:t[0],voiceTalkResourceParams:{boundChannelList:i}};return a.rcList[0].indexList.push(n),new Promise((function(e,t){var i={urlCGI:"addChildDeviceResources",data:a,loading:!0};return m["a"].post(i).then((function(a){var i=a.oResult;1===i.errorCode?e(1):t(a.xhr),e()}),(function(e){t(e)}))}))},modifyIpSpeakerDeviceResource:function(){var e={childDevResourceList:[]},t=[];this.aBindVideoChannel.length&&this.aBindVideoChannel.forEach((function(e){t.push({videoIndex:Number(e)})}));var a={rc:"VoiceTalk",index:this.deviceResourceList[0].index,boundChannelList:t};return e.childDevResourceList.push(a),new Promise((function(t,a){var i={urlCGI:"modifyChildDeviceResources",data:e,loading:!0};return m["a"].post(i).then((function(e){var i=e.oResult;1===i.errorCode?t(1):a(e.xhr),t()}),(function(e){a(e)}))}))},addDevice:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a,i,n,r,s,l,c,u,f,b,g=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.validate.validateAll();case 2:if(p["a"].validateTips(this.validate.getErrorReport()),a=this.validate.getErrorReport(),!(a.length>0)){e.next=6;break}return e.abrupt("return");case 6:i=this.aProtocolOptions.find((function(e){return e.value===g.oParams.oProtocol}))||{},n=null,r="encodeDevice","ipSpeaker"===this.szDeviceType&&(r="IPSpeaker"),t={},Object(o["a"])(t,this.oParams.oProtocol,[{childDescription:this.oParams.deviceName,addressingFormatType:"ipv4Address",ipv4Address:this.oParams.szIpAddress,portNo:parseInt(this.oParams.szPort,10),username:this.oParams.szUserName,password:this.oParams.oPassword,extensionInfo:{streamProtocolType:this.oParams.szStreamType,defaultPasswordEnabled:this.oParams.bDefaultAdminPortEnabled,deviceClass:r}}]),Object(o["a"])(t,"ThirdPartyProtocol",[{thirdPartyProtocolType:this.oParams.oProtocol,customProtocolID:i.id||1,childDescription:this.oParams.deviceName,addressingFormatType:"ipv4Address",ipv4Address:this.oParams.szIpAddress,portNo:parseInt(this.oParams.szPort,10),username:this.oParams.szUserName,password:this.oParams.oPassword,extensionInfo:{streamProtocolType:this.oParams.szStreamType,defaultPasswordEnabled:this.oParams.bDefaultAdminPortEnabled,deviceClass:r}}]),n=t,i&&i.bThird?(delete n[this.oParams.oProtocol],this.oParams.bDefaultAdminPortEnabled&&delete n["ThirdPartyProtocol"][0].password,i&&!i.id&&delete n["ThirdPartyProtocol"][0].customProtocolID):(delete n["ThirdPartyProtocol"],this.oParams.bDefaultAdminPortEnabled&&delete n[this.oParams.oProtocol][0].password,"GB28181"===this.oParams.oProtocol&&(delete n[this.oParams.oProtocol][0].ipv4Address,delete n[this.oParams.oProtocol][0].addressingFormatType,n[this.oParams.oProtocol][0].deviceID=this.oParams.szIpAddress),"OTAP"===this.oParams.oProtocol&&(delete n[this.oParams.oProtocol][0].extensionInfo.streamProtocolType,delete n[this.oParams.oProtocol][0].username,delete n[this.oParams.oProtocol][0].password),"HIK"===this.oParams.oProtocol&&(n[this.oParams.oProtocol][0].extensionInfo.certificateValidationEnabled=this.oParams.bCertificateValidation)),s=v["a"].creatUUID(31),"ipSpeaker"===this.szDeviceType&&(n[this.oParams.oProtocol][0]["childDevID"]=s),l=this.$refs["myPopup"],l.show(),"add"===this.type?(c={urlCGI:"addChildDevice",data:n,loading:!0},m["a"].post(c).then((function(e){var t=e.oResult,a=e.xhr;if(1===t.statusCode)if("video"===g.szDeviceType){if(g.bSelectOnlineDevice.deviceIpAdd===g.oParams.szIpAddress){var i=g.options.filter((function(e){return e.deviceIpAdd!==g.bSelectOnlineDevice.deviceIpAdd}));g.$emit("updateOnlineDevice",i)}g.oParams.szDeviceId=t.childDevID,d["a"].getDeviceResource([t.childDevID]).then((function(e){if(e.length>1&&(l.hide(),g.selectChannelDialogType="add",g.selectChannelDialogVisible=!0,g.deviceResourceList=e),1===e.length){var t=[e[0].childDevIndex];d["a"].addDeviceResource(g.oParams.szDeviceId,t).then((function(){l.hide(),p["a"].stateAlert(g.$t("addSuccess"),"success"),g.$emit("operateSuccess")}))}e.length||(l.hide(),p["a"].stateAlert(g.$t("addSuccess"),"success"),g.$emit("operateSuccess"))}))}else"ipSpeaker"===g.szDeviceType&&g.getIpSpeakerDeviceResource([s]).then((function(e){if(1===e.length){var t=[e[0].childDevIndex];g.addIpSpeakerDeviceResource(s,t).then((function(){l.hide(),g.$emit("operateSuccess")}))}}));else h["a"].saveState(a),l.hide()}),(function(e){h["a"].saveState(e),l.hide()}))):(u=[{childDevID:this.oParams.szDeviceId,childDescription:this.oParams.deviceName}],f={urlCGI:"editEquipmentdata",data:u,loading:!0},m["a"].put(f),i&&!i.bThird?n[this.oParams.oProtocol][0].childDevID=this.oParams.szDeviceId:n["ThirdPartyProtocol"][0].childDevID=this.oParams.szDeviceId,b={urlCGI:"modifyChildDevice",data:n,loading:!0},m["a"].post(b).then((function(e){var t=e.oResult,a=e.xhr;if(1===t.statusCode)if("video"===g.szDeviceType)if(g.deviceResourceList.length>1&&(l.hide(),g.selectChannelDialogVisible=!0,g.selectChannelDialogType="modify"),1!==g.deviceResourceList.length||g.deviceResourceList[0].added)l.hide(),p["a"].stateAlert(g.$t("modifySuccess_msg"),"success"),g.$emit("operateSuccess");else{l.hide();var i=[g.deviceResourceList[0].childDevIndex];d["a"].addDeviceResource(g.oParams.szDeviceId,i).then((function(){p["a"].stateAlert(g.$t("modifySuccess_msg"),"success"),g.$emit("operateSuccess")}))}else"ipSpeaker"===g.szDeviceType&&g.modifyIpSpeakerDeviceResource().then((function(){l.hide(),g.$emit("operateSuccess")}));else h["a"].saveState(a),l.hide()}),(function(e){h["a"].saveState(e),l.hide()})));case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),changeVideoChannel:function(){var e=this;this.aVideoChannelList.forEach((function(t){var a=t.value.toString();e.aBindVideoChannel.includes(a)?t.added=!0:t.added=!1})),this.selectVideoChannelDialogVisible=!0},addVideoChannelSuccess:function(e){var t=this;this.aBindVideoChannel=e,this.szBindChannelName="",this.aVideoChannelList.forEach((function(e){var a=e.value.toString();t.aBindVideoChannel.includes(a)&&(t.szBindChannelName?t.szBindChannelName+=","+e.name:t.szBindChannelName+=e.name)})),this.selectVideoChannelDialogVisible=!1}}},P=g,S=(a("f2aa"),a("2877")),C=Object(S["a"])(P,i,n,!1,null,"32119ba4",null);t["default"]=C.exports},"931a":function(e,t,a){"use strict";(function(e){a("96cf");var i=a("1da1"),n=(a("6b54"),a("28a5"),a("7514"),a("d4ec")),o=a("bee2"),r=a("8d94"),s=a("7de8"),l=a("d09c"),c=a("181b"),u=a("f193"),d=function(){function t(){Object(n["a"])(this,t);var e=this;e.oPTZPrivacyCoverCap={iMaxMaskNum:24,oMaskColor:{},oMaskZoom:{iMin:1,iMax:100}},e.oPTZPrivacyCoverInfo={bEnablePrivacyCover:!1,aMaskList:[],szRegionType:""},e.oBtnDisabled={bAdd:!1,bDelete:!0},this.oParams={oData:null,iChannelId:0,iDScreenWidth:704,iDScreenHeight:576,oXhr:{oErrorXhr:null,oSuccessXhr:null,oRestartXhr:null},RectTempInfo:null},e.oTableInfo={}}return Object(o["a"])(t,[{key:"initTable",value:function(e){var t=[];for(var a in e){var i={};i.value=a,i.name=e[a],t.push(i)}this.oTableInfo.header=[{type:"data"},{display:r["a"].t("privacyCoverName"),type:"text",oParamsValid:{maxLength:{value:16}}},{display:r["a"].t("type"),type:"select",array:e,select:t},{display:r["a"].t("enable")},{display:r["a"].t("privacyCoverZoom"),type:"text",oParamsValid:{range:{value:{max:32,min:1}}}},{display:r["a"].t("operation"),type:"custom"}]}},{key:"getPTZPrivacyCoverCap",value:function(){var t=this;return new Promise((function(a){var i={urlCGI:"ptzPrivacyMaskCap",params:null,data:null,loading:!0};u["a"].get(i).then((function(i){var n=i.oResult;if(e(n).find("maskTypeDscriptor[opt]").length>0){var o=e(n).find("maskTypeDscriptor").eq(0).attr("opt").split(",");e.each(o,(function(){t.oPTZPrivacyCoverCap.oMaskColor[this.toString()]=r["a"].t(this.toString())}))}e(n).find("minZoomdoorlimit").length>0&&(t.oPTZPrivacyCoverCap.oMaskZoom.iMin=parseFloat(e(n).find("minZoomdoorlimit").eq(0).text())/10,t.oPTZPrivacyCoverCap.oMaskZoom.iMax=parseFloat(e(n).find("maxZoomdoorlimit").eq(0).text())/10),t.initTable(t.oPTZPrivacyCoverCap.oMaskColor),a(i.xhr)}))}))}},{key:"getPTZPrivacyCoverInfo",value:function(){var t=this;return new Promise((function(a,i){var n={urlCGI:"ptzPrivacyMask",params:null,data:null,loading:!0};u["a"].get(n).then((function(i){var n,o,l,c=i.oResult;e(c).find("PrivacyMaskRegionList[size]").length>0&&(t.oPTZPrivacyCoverCap.iMaxMaskNum=parseInt(e(c).find("PrivacyMaskRegionList").eq(0).attr("size"),10)),t.oPTZPrivacyCoverInfo.szRegionType="shelter","quadrilateral"===e(c).find("regionType").eq(0).text()&&(t.oPTZPrivacyCoverInfo.szRegionType="quadrilateral"),t.oPTZPrivacyCoverInfo.bEnablePrivacyCover=s["a"].nodeValue(c,"enabled","b"),l=e(c).find("PrivacyMaskRegionList").eq(0).find("PrivacyMaskRegion"),t.oPTZPrivacyCoverInfo.aMaskList.length=0;var u=0;e.each(l,(function(){o=[],n="",e(this).find("zoomdoorlimit").length>0&&(n=(s["a"].nodeValue(this,"zoomdoorlimit","f")/10).toString()),o[0]=s["a"].nodeValue(this,"id"),o[1]=s["a"].nodeValue(this,"privacymaskName"),o[2]=s["a"].nodeValue(this,"maskType"),o[3]=s["a"].nodeValue(this,"enabled","b")?r["a"].t("yes"):r["a"].t("no");var a='<i class="ic-empty pointer-style" title="{{oLan.delete}}" ng-click="ontableclick({val: [\'delete\', '.concat(u,']})"></i>');u++,o[4]=n,o[5]=a,t.oPTZPrivacyCoverInfo.aMaskList.push(o),t.oTableInfo.tableData={tableItem:t.oPTZPrivacyCoverInfo.aMaskList,iSelectIndex:0},t.oPTZPrivacyCoverInfo.aMaskList.length>=t.oPTZPrivacyCoverCap.iMaxMaskNum&&(t.oBtnDisabled.bAdd=!0)})),a()}),(function(){i()}))}))}},{key:"addMask",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=this,i=new Promise((function(t,n){c["a"].getRectInfo().then((function(o){var s=o;if(0===s.length)return n(),i;if(a.oPTZPrivacyCoverInfo.aMaskList.length>=a.oPTZPrivacyCoverCap.iMaxMaskNum)return n(),i;var d,p,m,h=1,f=[];e(a.oPTZPrivacyCoverInfo.aMaskList).each((function(){f.push(parseInt(this[0],10))}));while(f.length>0){if(e.inArray(h,f)<0)break;h++}for(var v in p="Privacy Mask "+h,a.oPTZPrivacyCoverCap.oMaskColor){d=v;break}m=a.oPTZPrivacyCoverCap.oMaskZoom.iMin;var b="<?xml version='1.0' encoding='utf-8' ?>";b+="<PrivacyMaskRegion><id>"+h+"</id><enabled>true</enabled><RegionCoordinatesList>",b+="<RegionCoordinates><positionX>"+parseInt(255*s[0].points[0][0],10)+"</positionX><positionY>"+parseInt(255*(1-s[0].points[0][1]),10)+"</positionY></RegionCoordinates>",b+="<RegionCoordinates><positionX>"+parseInt(255*s[0].points[1][0],10)+"</positionX><positionY>"+parseInt(255*(1-s[0].points[1][1]),10)+"</positionY></RegionCoordinates>",b+="<RegionCoordinates><positionX>"+parseInt(255*s[0].points[2][0],10)+"</positionX><positionY>"+parseInt(255*(1-s[0].points[2][1]),10)+"</positionY></RegionCoordinates>",b+="<RegionCoordinates><positionX>"+parseInt(255*s[0].points[3][0],10)+"</positionX><positionY>"+parseInt(255*(1-s[0].points[3][1]),10)+"</positionY></RegionCoordinates>",b+="</RegionCoordinatesList>",b+="<privacymaskName>"+p+"</privacymaskName><maskType>"+d+"</maskType><zoomdoorlimit>"+m+"</zoomdoorlimit>",b+="</PrivacyMaskRegion>";var g={urlCGI:"ptzPrivacyMaskRegion",params:{region:h},data:b,loading:!0};u["a"].put(g).then((function(e){c["a"].clearShapeByType("Polygon");var i=[];i[0]=h,i[1]=p,i[2]=d,i[3]=r["a"].t("yes"),i[4]=m;var n='<i class="ic-empty pointer-style" title="{{oLan.delete}}" ng-click="ontableclick({val: [\'delete\', '.concat(h,']})"></i>');i[5]=n,a.oPTZPrivacyCoverInfo.aMaskList.push(i),a.oTableInfo.tableData={},a.oTableInfo.tableData.tableItem=a.oPTZPrivacyCoverInfo.aMaskList,a.oPTZPrivacyCoverInfo.aMaskList.length>=a.oPTZPrivacyCoverCap.iMaxMaskNum&&(a.oBtnDisabled.bAdd=!0),a.oTableInfo.tableData.iSelectIndex=h-1,t(),l["a"].saveState(e.xhr)}),(function(e){n(),l["a"].saveState(e)}))}),(function(){n()}))})),t.abrupt("return",i);case 3:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}()},{key:"deleteMask",value:function(t){var a=this,i=new Promise((function(i,n){var o=a.oTableInfo.tableData.tableItem[t][0],r={urlCGI:"deletePrivacyMaskRegion",params:{region:o},data:null,loading:!0};u["a"].delete(r).then((function(t){c["a"].clearShapeByType("Polygon");var n=a.oPTZPrivacyCoverInfo.aMaskList;e.each(n,(function(e){if(this[0]===o)return n.splice(e,1),!1})),a.oBtnDisabled.bDelete=!0,a.oPTZPrivacyCoverInfo.aMaskList.length<a.oPTZPrivacyCoverCap.iMaxMaskNum&&(a.oBtnDisabled.bAdd=!1),a.oTableInfo.tableData.tableItem=n,a.oTableInfo.tableData.iSelectIndex=-1,i(),l["a"].saveState(t.xhr,null,1)}),(function(e){n(),l["a"].saveState(e,null,1)}))}));return i}},{key:"goto",value:function(t){var a=this;if(-1!==t&&void 0!==t&&a.oTableInfo.tableData.tableItem){var n=a.oTableInfo.tableData.tableItem[t][0];return a.oBtnDisabled.bDelete=!1,new Promise((function(t){var a={urlCGI:"ptzPrivacyMaskRegion",params:{region:n},data:null,loading:!0};u["a"].get(a).then(function(){var a=Object(i["a"])(regeneratorRuntime.mark((function a(i){var n,o,r,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=i.oResult,o=e(n).find("RegionCoordinates"),r=[],o.each((function(){r.push([s["a"].nodeValue(this,"positionX","i")/255,1-s["a"].nodeValue(this,"positionY","i")/255])})),l=[],l.push({id:1,editType:0,points:r,closed:!0,tips:"",drawColor:"#FFFF00",fillColor:"#646464",translucent:.1,maxShapeSupport:1}),a.next=8,c["a"].clearShapeByType("Polygon");case 8:return a.next=10,c["a"].setDrawStatus(!0);case 10:return a.next=12,c["a"].setPolygonInfo(l);case 12:t();case 13:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}))}}},{key:"enable",value:function(){var e=this,t="<?xml version='1.0' encoding='utf-8'?>";return t+="<PrivacyMask><enabled>"+e.oPTZPrivacyCoverInfo.bEnablePrivacyCover.toString()+"</enabled></PrivacyMask>",new Promise((function(e){var a={urlCGI:"ptzPrivacyMask",params:null,data:t,loading:!0};u["a"].put(a).then((function(t){l["a"].saveState(t.xhr),e()}))}))}},{key:"setPTZPrivacyCoverInfo",value:function(){var t=this;if(-1!==t.oTableInfo.tableData.iSelectIndex){var a,i,n,o=t.oTableInfo.tableData.tableItem[t.oTableInfo.tableData.iSelectIndex][0],r=t.oPTZPrivacyCoverInfo.aMaskList;c["a"].getPolygonInfo().then((function(c){var d=c,p="<?xml version='1.0' encoding='UTF-8'?>";p+="<PrivacyMask><enabled>"+t.oPTZPrivacyCoverInfo.bEnablePrivacyCover.toString()+"</enabled><PrivacyMaskRegionList>",e.each(r,(function(){a=s["a"].encodeString(this[1]),i=this[2],n=this[4],p+="<PrivacyMaskRegion><id>"+this[0]+"</id><enabled>true</enabled><RegionCoordinatesList>",this[0]===o?(d.length>0?(p+="<RegionCoordinates><positionX>"+parseInt(255*d[0].points[0][0],10)+"</positionX><positionY>"+parseInt(255*(1-d[0].points[0][1]),10)+"</positionY></RegionCoordinates>",p+="<RegionCoordinates><positionX>"+parseInt(255*d[0].points[1][0],10)+"</positionX><positionY>"+parseInt(255*(1-d[0].points[1][1]),10)+"</positionY></RegionCoordinates>",p+="<RegionCoordinates><positionX>"+parseInt(255*d[0].points[2][0],10)+"</positionX><positionY>"+parseInt(255*(1-d[0].points[2][1]),10)+"</positionY></RegionCoordinates>",p+="<RegionCoordinates><positionX>"+parseInt(255*d[0].points[3][0],10)+"</positionX><positionY>"+parseInt(255*(1-d[0].points[3][1]),10)+"</positionY></RegionCoordinates>"):(p+="<RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates>",p+="<RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates>",p+="<RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates>",p+="<RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates>"),p+="</RegionCoordinatesList><privacymaskName>"+a+"</privacymaskName><maskType>"+i+"</maskType>",p+="<zoomdoorlimit>"+10*parseFloat(n)+"</zoomdoorlimit>",p+="</PrivacyMaskRegion>"):(p+="<RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates>",p+="<RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates>",p+="<RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates>",p+="<RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates>",p+="</RegionCoordinatesList><privacymaskName>"+a+"</privacymaskName><maskType>"+i+"</maskType>",p+="<zoomdoorlimit>"+10*parseFloat(n)+"</zoomdoorlimit>",p+="</PrivacyMaskRegion>")})),p+="</PrivacyMaskRegionList></PrivacyMask>";var m={urlCGI:"ptzPrivacyMask",params:null,data:p,loading:!0};u["a"].put(m).then((function(e){l["a"].saveState(e.xhr)}))}))}}},{key:"drawRegion",value:function(){var e={id:1,closed:!0,drawColor:"#FF0000",translucent:.1,editType:0,maxShapeSupport:1,widthHeightRate:0};c["a"].setDrawShapeInfo("Rect",e)}},{key:"setRegionInfo",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].clearRegion();case 2:return e.next=4,c["a"].setRectInfo(this.oParams.RectTempInfo);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"transRegionToPlugin",value:function(t){var a=this,i=1,n="#ff0000",o=1,r="#646464",s=[],l=[];return e(t).find("RegionCoordinatesList").eq(0).find("RegionCoordinates").each((function(t,i){l.push([parseInt(e(i).find("positionX").text(),10)/a.oParams.iDScreenWidth,1-parseInt(e(i).find("positionY").text(),10)/a.oParams.iDScreenHeight])})),l.length>0&&s.push({id:1,type:0,editType:0,points:l,closed:!0,tips:"",drawColor:n,fillColor:r,translucent:o,widthHeightRate:0,maxShapeSupport:i}),s}},{key:"updateRegionInfo",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a,i){var n,o,r,s,l,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=null,a){t.next=6;break}return t.next=4,c["a"].getRectInfo().then((function(e){n=e}));case 4:i||(n[0].id=1),this.oParams.RectTempInfo=n;case 6:if(n=this.oParams.RectTempInfo,o=this.oParams.oData,r=e(o).find("RegionCoordinates"),s=r,n&&n.length>0)for(l=0;l<s.length;l++)s.eq(l).find("positionX").eq(0).text(parseInt(1e3*n[l][0],10)),s.eq(l).find("positionY").eq(0).text(parseInt(1e3*n[l][1],10));else for(u=0;u<s.length;u++)s.eq(u).find("positionX").eq(0).text(0),s.eq(u).find("positionY").eq(0).text(0);a&&this.drawRegion();case 12:case"end":return t.stop()}}),t,this)})));function a(e,a){return t.apply(this,arguments)}return a}()},{key:"setDrawStatus",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].setDrawStatus(t);case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"clear",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].clearRegion();case 2:return e.next=4,this.updateRegionInfo(!1,t);case 4:c["a"].setDrawStatus(!1);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"needRedrawRegion",value:function(){var t=this,a=!0,i=this.oParams.oData,n=[];return e(i).find("RegionCoordinatesList").eq(0).find("RegionCoordinates").each((function(a,i){n.push([parseInt(e(i).find("positionX").text(),10)/t.oParams.iDScreenWidth,parseInt(e(i).find("positionY").text(),10)/t.oParams.iDScreenHeight])})),0===n[0][0]&&0===n[0][1]&&0===n[1][0]&&0===n[1][1]&&(a=!1),a}},{key:"draw",value:function(){c["a"].setDrawStatus(!0);var e=1,t="#ff0000",a=1,i="#646464",n={id:1,type:0,editType:0,closed:!0,tips:"",drawColor:t,fillColor:i,translucent:a,widthHeightRate:0,maxShapeSupport:e,redrawMode:1};c["a"].setDrawStatus(!0),c["a"].setDrawShapeInfo("Rect",n)}}]),t}();t["a"]=new d}).call(this,a("1157"))},"94d2":function(e,t,a){},"94f2":function(e,t,a){"use strict";a("7daf")},"94fb":function(e,t,a){},9523:function(e,t,a){"use strict";a("213a")},9592:function(e,t,a){},9601:function(e,t,a){"use strict";(function(e){a("a481"),a("7514"),a("28a5"),a("ac6a"),a("5df3");var i=a("d4ec"),n=a("bee2"),o=a("7de8"),r=a("d09c"),s=a("f193"),l=function(){function t(){Object(i["a"])(this,t),this.oXmlDoc=null,this.m_oParamsCab={aInternetType:[],bApMode:!1},this.m_oParams={iWanNum:1,szIPVersion:"",szInternetType:"",szConnectStatus:"",szMACAddr:"",szUserName:"",oPassword:{bSkipValid:!0},szIPAddrV4:"",szSubNetMaskV4:"",szGateWayV4:"",szIPAddrV6:"",szGateWayV6:"",szPrimaryDNS:"",szAlternateDNS:""},this.m_oParamsValid={oUserName:{required:!0,bSkipValid:!1},oIPAddrV4:{required:!0,ipv4:!0,oUnicast:!0},oSubNetMaskV4:{required:!0,mask:!0},oGateWayV4:{required:!0,ip:!0,oUnicast:!0},oIPAddrV6:{required:!0,ipv6:!0,oUnicast:!0},oGateWayV6:{required:!0,ip:!0,oUnicast:!0},oPrimaryDNS:{required:!0,ip:!0,oUnicast:!0},oAlternateDNS:{required:!0,ip:!0,oUnicast:!0}}}return Object(n["a"])(t,[{key:"initWan",value:function(){var e=this,t=new Promise((function(t){Promise.all([e.getWorkMode(),e.getwanCapa(),e.getWANInfo()]).then((function(){t()}))}));return t}},{key:"getWorkMode",value:function(){var e=this,t=new Promise((function(t){var a={urlCGI:"wlanap",params:{},data:null,loading:!0};s["a"].get(a).then((function(a){var i=a.oResult;e.m_oParamsCab.bApMode=o["a"].nodeValue(i,"wifiApEnabled","b"),t()}),(function(){t()}))}));return t}},{key:"getwanCapa",value:function(){var t=this,a=new Promise((function(a){var i={urlCGI:"wanCapa",params:{id:t.m_oParams.iWanNum},data:null,loading:!0};s["a"].get(i).then((function(i){var n=i.oResult;t.m_oParams.szIPVersion=o["a"].nodeValue(n,"ipVersion");try{var r=o["a"].nodeAttr(n,"type","opt").split(","),s=t.m_oParamsCab.aInternetType=[];e.each(r,(function(e,t){"PPPoE"===t?s.push({value:"PPPoE",name:"PPPoE"}):"DHCP"===t?s.push({value:"DHCP",name:"DHCP"}):"static"===t?s.push({value:"static",name:"Static"}):s.push({value:t,name:t})}))}catch(l){t.m_oParamsCab.aInternetType=[]}a()}),(function(){a()}))}));return a}},{key:"getWANInfo",value:function(){var t=this,a=new Promise((function(a){var i={urlCGI:"wanInfo",params:{id:t.m_oParams.iWanNum},data:null,loading:!0};s["a"].get(i).then((function(i){var n=i.oResult,r=t.m_oParams,s=e(n).find("WANServer").eq(0);r.szInternetType=o["a"].nodeValue(s,"type"),r.szConnectStatus=o["a"].nodeValue(s,"status"),r.szMACAddr=o["a"].nodeValue(s,"MACAddress"),"PPPoE"===r.szInternetType?r.szUserName=o["a"].nodeValue(s,"ISPName"):(r.szIPAddrV4=o["a"].nodeValue(s,"IPAddress ipAddress"),r.szSubNetMaskV4=o["a"].nodeValue(s,"IPAddress subnetMask"),r.szGateWayV4=o["a"].nodeValue(s,"DefaultGateway ipAddress"),r.szIPAddrV6=o["a"].nodeValue(s,"IPAddress ipv6Address"),r.szGateWayV6=o["a"].nodeValue(s,"DefaultGateway ipv6Address"),r.szPrimaryDNS=o["a"].nodeValue(s,"PrimaryDNS ipAddress"),r.szAlternateDNS=o["a"].nodeValue(s,"SecondaryDNS ipAddress"),r.szGateWayV4="0.0.0.0"===r.szGateWayV4?"":r.szGateWayV4,r.szGateWayV6="0.0.0.0"===r.szGateWayV6?"":r.szGateWayV6,r.szPrimaryDNS="0.0.0.0"===r.szPrimaryDNS?"":r.szPrimaryDNS,r.szAlternateDNS="0.0.0.0"===r.szAlternateDNS?"":r.szAlternateDNS),a()}),(function(){a()}))}));return a}},{key:"save",value:function(){var e=this.m_oParams,t="<?xml version='1.0' encoding='UTF-8'?><WANServer><id>"+this.m_oParams.iWanNum+"</id>";t+="<type>"+e.szInternetType+"</type>",t+="<IPAddress><ipVersion>"+e.szIPVersion+"</ipVersion>","DHCP"===e.szInternetType?t+="<addressingType>dynamic</addressingType>":t+="<addressingType>static</addressingType>","v4"===e.szIPVersion?(t+="<ipAddress>"+e.szIPAddrV4+"</ipAddress><subnetMask>"+e.szSubNetMaskV4+"</subnetMask>",t+="<DefaultGateway><ipAddress>"+(e.szGateWayV4?e.szGateWayV4:"0.0.0.0")+"</ipAddress></DefaultGateway>"):(t+="<ipv6Address>"+e.szIPAddrV6+"</ipv6Address>",t+="<DefaultGateway><ipv6Address>"+(e.szGateWayV6?e.szGateWayV6:"0.0.0.0")+"</ipv6Address></DefaultGateway>"),"static"===e.szInternetType&&(t+="<PrimaryDNS><ipAddress>"+(e.szPrimaryDNS?e.szPrimaryDNS:"0.0.0.0")+"</ipAddress></PrimaryDNS>",t+="<SecondaryDNS><ipAddress>"+(e.szAlternateDNS?e.szAlternateDNS:"0.0.0.0")+"</ipAddress></SecondaryDNS>"),t+="</IPAddress>",t+="<ISPName>"+e.szUserName.replace(/</g,"&lt;")+"</ISPName>",e.oPassword.szPassword!==e.oPassword.szPasswordDefault&&(t+="<ISPPassword>"+e.oPassword.szPassword.replace(/</g,"&lt;")+"</ISPPassword>"),t+="</WANServer>";var a=o["a"].parseXmlFromStr(t),i={urlCGI:"wanInfo",params:{},data:a,loading:!0};s["a"].put(i).then((function(e){r["a"].saveState(e.xhr)}),(function(e){r["a"].saveState(e)}))}}]),t}();t["a"]=new l}).call(this,a("1157"))},"960a":function(e,t,a){"use strict";(function(e){a("6b54"),a("7514"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("7de8"),s=a("d09c"),l=a("1f20"),c=a("8d94"),u=a("f193"),d=function(){function t(){var e=this;Object(n["a"])(this,t),this.oXmlDoc=null,this.verifyResult={},this.aProtocolTypes=["http","https","rtsp","admin","sdk_over_tls","websocket","websockets","srtp"],this.oMap={http:{szName:"HTTP",iIndex:0},https:{szName:"HTTPS",iIndex:1},rtsp:{szName:"RTSP",iIndex:2},admin:{szName:"sdkPort",iIndex:3},sdk_over_tls:{szName:"sdkOverTLSPort",iIndex:4},websocket:{szName:"Websocket",iIndex:5},websockets:{szName:"Websockets",iIndex:6},srtp:{szName:"SRTP",iIndex:7}},this.m_oCap={bSptHttps:l["a"].m_oDeviceCapa.bSupportHttps,bFriendlyName:!1},l["a"].getDeviceCapa().then((function(){e.m_oCap.bSptHttps=l["a"].m_oDeviceCapa.bSupportHttps})),this.m_oParamsValid={oNameValid:{required:!0,lengthRange:[1,64]}},this.m_oParams={bEnableUpnp:!1,szNatType:""},this.m_oTable=null,this.aItems=[]}return Object(o["a"])(t,[{key:"initUpnp",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.oMap.admin.szName=c["a"].t("sdkPort"),this.oMap.sdk_over_tls.szName=c["a"].t("sdkOverTLSPort"),e.next=4,this.getUpnpStatus();case 4:return e.next=6,this.getPortInfo();case 6:return e.next=8,this.getUpnpInfo();case 8:for(t=0;t<this.aItems.length;t++)"undefined"!==typeof this.aItems[t]&&"undefined"!==typeof this.aItems[t].portType||(this.aItems.splice(t,1),t--);this.m_oParams.tableData={tableItem:this.aItems,iSelectIndex:0};case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getUpnpStatus",value:function(){var t=this,a=new Promise((function(a){var i={urlCGI:"upnpStatus",params:{},data:null,loading:!0};u["a"].get(i).then((function(i){var n=i.oResult,o=0;t.aItems=[],e(n).find("portStatusList").eq(0).find("portStatus").each((function(a,i){var s=r["a"].nodeValue(e(i),"internalPort").toLowerCase();o=t.oMap[s]?t.oMap[s].iIndex:-1,""!==s&&o>-1&&(t.aItems[o]=t.aItems[o]||[],t.aItems[o].portType=t.oMap[s].szName,t.aItems[o].externalPort=r["a"].nodeValue(e(i),"externalPort"),t.aItems[o].externalIp=r["a"].nodeValue(e(n).find("natRouterWanAddr").eq(0),"ipAddress"),t.aItems[o].state=r["a"].nodeValue(e(i),"status"))})),a()}),(function(){a()}))}));return a}},{key:"getUpnpInfo",value:function(){var t=this,a=new Promise((function(a){var i={urlCGI:"upnp",params:{},data:null,loading:!0};u["a"].get(i).then((function(i){var n=i.oResult;t.oXmlDoc=n,t.m_oParams.bEnableUpnp=r["a"].nodeValue(e(n),"enabled","b"),t.m_oParams.szNatType=r["a"].nodeValue(e(n),"natType"),t.m_oCap.bFriendlyName=e(n).find("name").length,t.m_oParams.szFriendlyName=r["a"].nodeValue(n,"name"),a()}),(function(){a()}))}));return a}},{key:"getPortInfo",value:function(){var t=this,a=new Promise((function(a){var i={urlCGI:"portInfo",params:{},data:null,loading:!0};u["a"].get(i).then((function(i){var n=i.oResult,o=0,s=["http","https","rtsp","dev_manage","sdk_over_tls","websocket","websockets","srtp"];e(n).find("AdminAccessProtocol").each((function(a,i){var n=r["a"].nodeValue(e(i),"protocol").toLowerCase();o=e.inArray(n,s),""!==n&&o>-1&&(t.aItems[o]=t.aItems[o]||[],t.aItems[o].internalPort=r["a"].nodeValue(e(i),"portNo"))})),a()}),(function(){a()}))}));return a}},{key:"save",value:function(){var t=this,a=t.m_oParams.tableData.tableItem,i=t.oXmlDoc,n=0;e(i).find("enabled").text(t.m_oParams.bEnableUpnp.toString()),e(i).find("natType").text(t.m_oParams.szNatType),e(i).find("name").text(t.m_oParams.szFriendlyName);for(var o=[],l=0;l<a.length;l++)o.push(a[l].portType);e(i).find("portList").eq(0).find("port").each((function(i,s){var l=r["a"].nodeValue(e(s),"internalPort").toLowerCase();t.oMap[l]&&(n=e.inArray(t.oMap[l].szName,o),""!==t.aProtocolTypes&&n>-1&&a[n]&&e(s).find("externalPort").eq(0).text(a[n].externalPort))}));var c={urlCGI:"upnp",params:{},data:i,loading:!0};return new Promise((function(e){u["a"].put(c).then((function(t){e(),s["a"].saveState(t.xhr)}),(function(t){e(),s["a"].saveState(t)}))}))}}]),t}();t["a"]=new d}).call(this,a("1157"))},"961a":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("audioDetection"),"right-type":"text","show-save-button":!e.bShowSchedule,"save-button-disabled":!e.oEventCap.bChannelSupport||e.oEventCap.bSupportModify,"b-lazy-loading":e.bLazyLoading,"save-text":e.$t("save")},on:{"save-handle":e.save}},[t("div",{staticClass:"audio-detection-page-wrapper",attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"hm-index-list-item"},[e.bSupportChannelCap||e.oEventCap.bIPCDevice?e._e():t("channel-list",{attrs:{"o-channel":e.oChannel}}),t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",{staticClass:"custom-cell-group",staticStyle:{"margin-top":"0px"},attrs:{title:e.$t("abnormalDetection")}},[t("hm-cell",{attrs:{title:e.$t("audioLossDetection")}},[t("hm-switch",{model:{value:e.oEventInfo.bEnableAudioDetect,callback:function(t){e.$set(e.oEventInfo,"bEnableAudioDetect",t)},expression:"oEventInfo.bEnableAudioDetect"}})],1),t("hm-cell",{attrs:{title:e.$t("suddenIncreaseSound")}},[t("hm-switch",{model:{value:e.oEventInfo.bEnableSoundSteepRise,callback:function(t){e.$set(e.oEventInfo,"bEnableSoundSteepRise",t)},expression:"oEventInfo.bEnableSoundSteepRise"}})],1),t("base-slider-content",{attrs:{title:e.$t("sensitivity")+":"+e.oEventInfo.iSoundSteepRiseSensitivity},scopedSlots:e._u([{key:"content",fn:function(){return[t("mt-range",{attrs:{min:e.oEventCap.iSensitivityMin,max:e.oEventCap.iSensitivityMax,step:1,"bar-height":5},model:{value:e.oEventInfo.iSoundSteepRiseSensitivity,callback:function(t){e.$set(e.oEventInfo,"iSoundSteepRiseSensitivity",t)},expression:"oEventInfo.iSoundSteepRiseSensitivity"}})]},proxy:!0}])}),t("base-slider-content",{attrs:{title:e.$t("soundIntensityThreshold")+":"+e.oEventInfo.iSoundSteepRiseIntensity},scopedSlots:e._u([{key:"content",fn:function(){return[t("mt-range",{attrs:{min:e.oEventCap.iIntensityMin,max:e.oEventCap.iIntensityMax,step:1,"bar-height":5},model:{value:e.oEventInfo.iSoundSteepRiseIntensity,callback:function(t){e.$set(e.oEventInfo,"iSoundSteepRiseIntensity",t)},expression:"oEventInfo.iSoundSteepRiseIntensity"}})]},proxy:!0}])}),t("hm-cell",{attrs:{title:e.$t("suddenDecreaseSound")}},[t("hm-switch",{model:{value:e.oEventInfo.bEnableSoundSteepDrop,callback:function(t){e.$set(e.oEventInfo,"bEnableSoundSteepDrop",t)},expression:"oEventInfo.bEnableSoundSteepDrop"}})],1),t("base-slider-content",{attrs:{title:e.$t("sensitivity")+":"+e.oEventInfo.iSoundSteepDropIntensity},scopedSlots:e._u([{key:"content",fn:function(){return[t("mt-range",{attrs:{min:e.oEventCap.iSensitivityMin,max:e.oEventCap.iSensitivityMax,step:1,"bar-height":5},model:{value:e.oEventInfo.iSoundSteepDropIntensity,callback:function(t){e.$set(e.oEventInfo,"iSoundSteepDropIntensity",t)},expression:"oEventInfo.iSoundSteepDropIntensity"}})]},proxy:!0}])})],1),e.oEventCap.bSupportRealTime?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("realtimeVolume")}},[t("Wave",{ref:"wave",attrs:{"i-sound-steep-rise-intensity":e.oEventInfo.iSoundSteepRiseIntensity,"a-real-time-sound-intensity":e.oEventInfo.aRealTimeSoundIntensity,"i-intensity-min":e.oEventCap.iIntensityMin}})],1):e._e(),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("armSchedulePlan")}},[t("hm-cell",{attrs:{"is-link":"",title:e.$t("armSchedulePlan")},nativeOn:{click:function(t){return e.showArmSchedule()}}})],1),e.bShowLink?t("base-link",{ref:"link",attrs:{link:e.oEventInfo.oLink}}):e._e()],1)],1),e.bShowAbnormal?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:e.$t("abnormalDetection"),"enable-cancel-callback":e.bEnableCancelCallback},on:{cancelcallback:e.cancelCallbackAlarm,confirm:e.confirmAlarm}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"swipe-wrapper"},[t("hm-scroll",[t("hm-cell-group",{staticClass:"cell-group",staticStyle:{"margin-top":"0px"},attrs:{title:e.$t("abnormalDetection")}},[t("hm-cell",{attrs:{title:e.$t("audioLossDetection")}},[t("hm-switch",{model:{value:e.oEventInfo.bEnableAudioDetect,callback:function(t){e.$set(e.oEventInfo,"bEnableAudioDetect",t)},expression:"oEventInfo.bEnableAudioDetect"}})],1),t("hm-cell",{attrs:{title:e.$t("suddenIncreaseSound")}},[t("hm-switch",{model:{value:e.oEventInfo.bEnableSoundSteepRise,callback:function(t){e.$set(e.oEventInfo,"bEnableSoundSteepRise",t)},expression:"oEventInfo.bEnableSoundSteepRise"}})],1),t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("sensitivity")}},[t("div",{staticStyle:{width:"80%",height:"34px"}},[t("mt-range",{staticStyle:{width:"90%"},attrs:{min:e.oEventCap.iSensitivityMin,max:e.oEventCap.iSensitivityMax,step:1,"bar-height":5},model:{value:e.oEventInfo.iSoundSteepRiseSensitivity,callback:function(t){e.$set(e.oEventInfo,"iSoundSteepRiseSensitivity",t)},expression:"oEventInfo.iSoundSteepRiseSensitivity"}})],1),t("hm-input",{staticClass:"slider-input",attrs:{disabled:!0,type:"number"},model:{value:e.oEventInfo.iSoundSteepRiseSensitivity,callback:function(t){e.$set(e.oEventInfo,"iSoundSteepRiseSensitivity",t)},expression:"oEventInfo.iSoundSteepRiseSensitivity"}})],1),t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("soundIntensityThreshold")}},[t("div",{staticStyle:{width:"80%",height:"34px"}},[t("mt-range",{staticStyle:{width:"90%"},attrs:{min:e.oEventCap.iIntensityMin,max:e.oEventCap.iIntensityMax,step:1,"bar-height":5},model:{value:e.oEventInfo.iSoundSteepRiseIntensity,callback:function(t){e.$set(e.oEventInfo,"iSoundSteepRiseIntensity",t)},expression:"oEventInfo.iSoundSteepRiseIntensity"}})],1),t("hm-input",{staticClass:"slider-input",attrs:{disabled:!0,type:"number"},model:{value:e.oEventInfo.iSoundSteepRiseIntensity,callback:function(t){e.$set(e.oEventInfo,"iSoundSteepRiseIntensity",t)},expression:"oEventInfo.iSoundSteepRiseIntensity"}})],1),t("hm-cell",{attrs:{title:e.$t("suddenDecreaseSound")}},[t("hm-switch",{model:{value:e.oEventInfo.bEnableSoundSteepDrop,callback:function(t){e.$set(e.oEventInfo,"bEnableSoundSteepDrop",t)},expression:"oEventInfo.bEnableSoundSteepDrop"}})],1),t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("sensitivity")}},[t("div",{staticStyle:{width:"80%",height:"34px"}},[t("mt-range",{staticStyle:{width:"90%"},attrs:{min:e.oEventCap.iSensitivityMin,max:e.oEventCap.iSensitivityMax,step:1,"bar-height":5},model:{value:e.oEventInfo.iSoundSteepDropIntensity,callback:function(t){e.$set(e.oEventInfo,"iSoundSteepDropIntensity",t)},expression:"oEventInfo.iSoundSteepDropIntensity"}})],1),t("hm-input",{staticClass:"slider-input",attrs:{disabled:!0,type:"number"},model:{value:e.oEventInfo.iSoundSteepDropIntensity,callback:function(t){e.$set(e.oEventInfo,"iSoundSteepDropIntensity",t)},expression:"oEventInfo.iSoundSteepDropIntensity"}})],1)],1),e.oEventCap.bSupportRealTime?t("hm-cell-group",{attrs:{title:e.$t("realtimeVolume")}},[e.bShowAbnormal?t("Wave",{ref:"wave",attrs:{"i-sound-steep-rise-intensity":e.oEventInfo.iSoundSteepRiseIntensity,"a-real-time-sound-intensity":e.oEventInfo.aRealTimeSoundIntensity,"i-intensity-min":e.oEventCap.iIntensityMin}}):e._e()],1):e._e()],1)],1)])])],1):e._e(),e.bShowSchedule?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:e.$t("armSchedule"),"show-footer":!0,"enable-cancel-callback":e.bEnableCancelCallback},on:{cancelcallback:e.cancelCallbackArmSchedule,confirm:e.confirmArmSchedule,delete:e.deleteAll}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"time-plan-padding swipe-wrapper-show-footer"},[t("hm-scroll",[t("time-plan",{ref:"timePlan",attrs:{"times-data":e.oEventInfo.oScheduleTimes,holiday:e.oEventCap.bSupportHoliday,"show-types":e.bShowTypes}})],1)],1)])])],1):e._e(),t("base-view")],1)])},n=[],o=a("70cd"),r=o["a"],s=(a("2e79"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"16f8fd80",null);t["default"]=l.exports},"962a":function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"base-page-extend",class:e.type},[t("header",{staticClass:"header"},[t("div",{staticClass:"hm-picker-choose border-bottom-1px"},[t("i",{directives:[{name:"show",rawName:"v-show",value:e.showCancel,expression:"showCancel"}],class:{"hm-picker-cancel-extend":e.enableShowTips,"hm-ic-back icon-back_dark":!e.enableShowTips,"cubeic-back":!0},on:{click:e.back}}),t("span",{directives:[{name:"show",rawName:"v-show",value:e.showConfirm&&"text"===e.rightType,expression:"showConfirm && rightType === 'text'"}],staticClass:"hm-picker-confirm-extend",on:{click:e.confirm}},[e._v(e._s(e.szConfirm||e.$t("ok")))]),"text"!==e.rightType?t("div",{staticClass:"icon",on:{click:e.confirm}},["delete"===e.rightType?t("hm-icon",{attrs:{name:"delete"}}):e._e(),"add"===e.rightType?t("hm-icon",{attrs:{name:"plus"}}):e._e(),"icon"===e.rightType?t("hm-icon",{attrs:{name:e.rightIconName}}):e._e(),"slot"===e.rightType?e._t("right-slot"):e._e()],2):e._e(),t("div",{staticClass:"hm-picker-title-group-extend"},[t("h1",{staticClass:"hm-picker-title-extend"},[e._v("\n          "+e._s(e.title)+"\n        ")])]),t("i",{directives:[{name:"show",rawName:"v-show",value:e.showEdit&&!e.showConfirm,expression:"showEdit && !showConfirm"}],staticClass:"icon-right",on:{click:e.confirm}},[t("span",{staticClass:"icon-Edit_icon_16"})]),t("i",{directives:[{name:"show",rawName:"v-show",value:e.showWordEdit,expression:"showWordEdit"}],staticClass:"icon-right",on:{click:e.confirm}},[t("span",[e._v(e._s(e.$t("edit")))])]),e.showDel?t("i",{on:{click:e.del}},[t("span",{staticClass:"icon-del_light"})]):e._e()])]),t("div",{class:{wrapper:!e.showFooter,"wrapper-extend":e.showFooter}},[t("main",{staticClass:"content"},[e._t("content",(function(){return[e._v("\n        "+e._s(e.content)+"\n      ")]}))],2)]),e.showFooter?t("footer",{staticClass:"footer"},[t("div",{staticClass:"hm-picker-choose border-bottom-1px"},[t("div",{staticClass:"hm-picker-title-group-extend"},[t("h1",{staticClass:"hm-picker-title-extend",on:{click:e.deleteAll}},[e._v("\n          "+e._s(e.$t("deleteAll"))+"\n        ")])])])]):e._e()])},n=[],o=a("c050"),r="confirm",s="del",l="cancelcallback",c="delete",u={props:{title:{type:String,default:"",required:!0},type:{type:String,default:""},content:{type:String,default:""},enableCancelCallback:{type:Boolean,default:!1},enableShowTips:{type:Boolean,default:!0},showConfirm:{type:Boolean,default:!0},showCancel:{type:Boolean,default:!0},showEdit:{type:Boolean,default:!1},showFooter:{type:Boolean,default:!1},showDel:{type:Boolean,default:!1},szConfirm:{type:String,default:""},szCancel:{type:String,default:"cancel"},showWordEdit:{type:Boolean,default:!1},rightType:{type:String,default:"text"}},methods:{back:function(){this.enableCancelCallback?this.$emit(l):this.$router.back()},confirm:function(){this.$emit(r)},deleteAll:function(){var e=this;o["a"].confirm(this.$t("confirmToDeleteAll"),(function(){e.$emit(c)}),(function(){}))},del:function(){var e=this;o["a"].confirm(this.$t("confirmToDelete"),(function(){e.$emit(s)}),(function(){}))}}},d=u,p=(a("c34e"),a("2877")),m=Object(p["a"])(d,i,n,!1,null,"771ae6b7",null);t["a"]=m.exports},9689:function(e,t,a){"use strict";a("53ff")},"96c8":function(e,t,a){"use strict";a("54ae")},"970b":function(e,t,a){},"972b":function(e,t,a){"use strict";a("fc15")},9731:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"channel-select"},[t("div",{staticClass:"select-content"},[t("hm-checkbox-group",{staticClass:"halfControl",on:{input:e.showSelectAll},model:{value:e.checkValueList,callback:function(t){e.checkValueList=t},expression:"checkValueList"}},e._l(e.options,(function(a){return t("hm-checkbox",{key:a.childDevIndex,attrs:{option:a.childDevIndex+"",position:"left"}},[e._v(e._s("D"+a.childDevIndex))])})),1)],1),t("div",{staticClass:"bottom-container"},[t("div",{staticClass:"select-all-content"},[t("hm-checkbox",{attrs:{position:"left","hollow-style":e.bIndeterminate},on:{input:e.selectAll},model:{value:e.bSelectAll,callback:function(t){e.bSelectAll=t},expression:"bSelectAll"}},[e._v(e._s(e.$t("selectAll")))]),t("div",[e._v(" "+e._s(e.$t("hadChoose")+"(".concat(e.checkValueList.length,")"))+" ")])],1),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{attrs:{disabled:0===e.checkValueList.length},on:{click:e.confirm}},[e._v(e._s(e.$t("ok")))])],1)]),t("hm-popup",{ref:"myPopup",attrs:{type:"my-popup"}},[t("hm-loading",{attrs:{size:28}})],1)],1)},n=[],o=(a("5df3"),a("7514"),a("ac6a"),a("2909")),r=a("c587"),s=a("d09c"),l=a("c050"),c={name:"ChannelSelect",props:{options:{type:Array,default:function(){return[]}},type:{type:String,default:function(){return"add"}}},data:function(){return{checkValueList:[],bSelectAll:!1,bIndeterminate:!1}},mounted:function(){this.checkValueList=this.options.map((function(e){return e.added?e.childDevIndex+"":""})),this.checkValueList=this.checkValueList.filter((function(e){return e})),this.saverResourceList=this.checkValueList.map((function(e){return parseInt(e,10)})),this.showSelectAll(this.checkValueList)},methods:{showSelectAll:function(e){e.length===this.options.length?(this.bSelectAll=!0,this.bIndeterminate=!1):e.length>0&&e.length<this.options.length?(this.bSelectAll=!0,this.bIndeterminate=!0):(this.bSelectAll=!1,this.bIndeterminate=!1)},selectAll:function(e){e?(this.bIndeterminate=!1,this.checkValueList=this.options.map((function(e){return e.childDevIndex+""}))):this.checkValueList=[]},confirm:function(){var e=this,t=this.checkValueList.map((function(e){return parseInt(e,10)}));if(t.length<1)return this.$createToast({txt:this.$t("selectOneResourceAtLeast_msg"),type:"error",zIndex:1e4}).show(),void l["a"].stateAlert(this.$t("addSuccess"),"success");var a=this.$refs["myPopup"];if(a.show(),"add"===this.type)r["a"].addDeviceResource(this.options[0].childDevID,t).then((function(){l["a"].stateAlert(e.$t("saveSucceeded"),"success")})).catch((function(e){s["a"].saveState(e)})).finally((function(){a.hide(),e.$emit("close")}));else if("modify"===this.type){var i=Object(o["a"])(t),n=[];this.saverResourceList.forEach((function(e){var t=i.indexOf(e);-1===t?n.push(e):i.splice(t,1)}));var c=n.map((function(t){return e.options.find((function(e){return e.childDevIndex===t})).index||-1}));i.length>0&&c.length>0?Promise.all([r["a"].deleteDeviceResource(c),r["a"].addDeviceResource(this.options[0].childDevID,i)]).then((function(){l["a"].stateAlert(e.$t("saveSucceeded"),"success")})).catch((function(e){s["a"].saveState(e)})).finally((function(){a.hide(),e.$emit("close")})):(i.length>0&&r["a"].addDeviceResource(this.options[0].childDevID,i).then((function(){l["a"].stateAlert(e.$t("saveSucceeded"),"success")})).catch((function(e){s["a"].saveState(e)})).finally((function(){a.hide(),e.$emit("close")})),c.length>0&&r["a"].deleteDeviceResource(c).then((function(){l["a"].stateAlert(e.$t("saveSucceeded"),"success")})).catch((function(e){s["a"].saveState(e)})).finally((function(){a.hide(),e.$emit("close")})),c.length<=0&&i.length<=0&&(a.hide(),this.$emit("close")))}}}},u=c,d=(a("a236"),a("2877")),p=Object(d["a"])(u,i,n,!1,null,"6b463200",null);t["default"]=p.exports},"973e":function(e,t,a){},9744:function(e,t,a){"use strict";var i=a("4588"),n=a("be13");e.exports=function(e){var t=String(n(this)),a="",o=i(e);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(a+=t);return a}},"976d":function(e,t,a){"use strict";var i=a("d4ec"),n=a("bee2"),o=a("8d94"),r=function(){function e(){Object(i["a"])(this,e),this.m_oCapbilities={bSupportLocalButtonRecordControl:!1,bSupportPostRecordTimeSeconds:!1,iPlanMode:1,aCaptures:["snapshotSchedule","snapshotParams"],aRecordType:["CMR","MOTION","ALARM","EDR","ALARMANDMOTION"],aTimingPictureCodecType:[],aTimingPicResolution:[],aTimingPicQuality:[],aTimingPicInterval:[],aTimingPicIntervalRange:[500,6048e5],aEventPictureCodecType:[],aEventPicResolution:[],aEventPicQuality:[],aEventPicInterval:[],aEventPicIntervalRange:[500,65535],aEventPicNumRange:[2,120],bSupportIntervalOpt:!1,bSupportEventNum:!1,bSupportEnableSechdule:!0,bSupportEnableTimeEvent:!1,bSupportSnapshotPrompt:!1,bSupport:!0,aSupportStream:[],aDuration:[0,750],aStreamType:[!0,!1,!1]},this.m_oParams={bLazyLoading:!1,bEnablePlan:!1,szPreRecord:"0",szRecordDelay:"5",bRedundant:!1,szStreamType:"1",bRecordAudio:!1,szExpiredTime:"0",bEnableAnr:!1},this.m_oParamsDef={bEnableTiming:!1,bEnableEvent:!1,szTimingCodecType:"",szTimingResolution:"",szTimingQuality:"",szTimingInterval:"",szTimingIntervalType:"0",szEventNum:"1",szEventCodecType:"",szEventResolution:"",szEventQuality:"",szEventInterval:"",szEventIntervalType:"0"},this.m_oParamsValid={oRecorderDuration:{range:{value:{min:this.m_oCapbilities.aDuration[0],max:this.m_oCapbilities.aDuration[1]}},empty:{value:!1},skipVerify:!1}},this.oDay={Monday:0,Tuesday:1,Wednesday:2,Thursday:3,Friday:4,Saturday:5,Sunday:6},this.oDayReverse={0:"Monday",1:"Tuesday",2:"Wednesday",3:"Thursday",4:"Friday",5:"Saturday",6:"Sunday",7:"Monday"}}return Object(n["a"])(e,[{key:"init",value:function(){this.m_oCapbilities.aCaptures=[o["a"].t("snapshotSchedule"),o["a"].t("snapshotParams")]}}]),e}();t["a"]=new r},9815:function(e,t,a){"use strict";(function(e){a("3b2b");var i=a("53ca"),n=(a("a481"),a("96cf"),a("1da1")),o=(a("6b54"),a("7514"),a("d4ec")),r=a("bee2"),s=(a("ac4d"),a("8a81"),a("181b")),l=a("7de8"),c=Symbol("comparison"),u=Symbol("checkLinePosition"),d=function(){function t(){Object(o["a"])(this,t),this.standardY=1e3,this.standardX=1e3}return Object(r["a"])(t,[{key:"setStrandard",value:function(e,t){this.standardY=e,this.standardX=t}},{key:"xml2Point",value:function(t,a,i){i=!!i,a||(a={x:"positionX",y:"positionY"});var n=+e(t).find(a.x).text()/this.standardX,o=+e(t).find(a.y).text()/this.standardY;return i&&(o=1-o),[n,o]}},{key:"xml2Points",value:function(t,a,i){var n=this;a||(a={listName:"RegionCoordinatesList",coordName:"RegionCoordinates",x:"positionX",y:"positionY"}),i=!!i;var o=[];return e(t).find(a.listName).find(a.coordName).each((function(e,t){o.push(n.xml2Point(t,a,i))})),o}},{key:"points",value:function(t){var a=[];if(e(t).find("RegionCoordinates").each((function(){var t={x:0,y:0};t.x=parseInt(e(this).find("positionX").text(),10),t.y=parseInt(e(this).find("positionY").text(),10),a.push(t)})),0===a.length){var i={x:0,y:0};i.x=parseInt(e(t).find("positionX").text(),10),i.y=parseInt(e(t).find("positionY").text(),10),a.push(i)}return a}},{key:"json2Points",value:function(t,a,i){a||(a={x:"x",y:"y"}),i=!!i;var n=[];return e.each(t,(function(e,t){n.push([t[a.x],i?1-t[a.y]:t[a.y]])})),n}},{key:"points2Json",value:function(t,a,i){var n=a;n||(n={x:"x",y:"y"});var o=[];return i=!!i,e.each(t,(function(e,t){o.push({x:parseFloat(t[0].toFixed(3)),y:parseFloat((i?1-t[1]:t[1]).toFixed(3))})})),o}},{key:"xmlRect2Points",value:function(t,a,i){var n=a;n||(n={x:"positionX",y:"positionY",width:"width",height:"height"}),i=!!i;var o=parseInt(e(t).find(n["x"]).text(),10)/this.standardX,r=parseInt(e(t).find(n["y"]).text(),10)/this.standardY,s=parseInt(e(t).find(n["width"]).text(),10)/this.standardX,l=parseInt(e(t).find(n["height"]).text(),10)/this.standardY;return r=i?1-r:r,[[o,r],[o+s,r],[o+s,r+(i?l:-l)],[o,r+(i?l:-l)]]}},{key:"jsonRect2Points",value:function(e,t){return[[e.x,t?1-e.y:e.y],[e.x+e.width,t?1-e.y:e.y],[e.x+e.width,(t?1-e.y:e.y)+e.height],[e.x,(t?1-e.y:e.y)+e.height]]}},{key:"getRectPos",value:function(e,t,a){a=!!a;var i=e[0],n=e[2],o=i[0]>n[0]?n:i,r=i[1]<n[1]?i:n;return"lefttop"===t?[o[0],a?1-r[1]:r[1]]:[o[0],r[1]]}},{key:"setRect2Xml",value:function(t,a,i,n){var o=a;o||(o={x:"positionX",y:"positionY",width:"width",height:"height"}),n=!!n;var r=i[2][0]-i[0][0];r<0&&(r=-r);var s=n?i[0][1]-i[2][1]:i[2][1]-i[0][1];s<0&&(s=-s);var l=this.getRectPos(i,"lefttop",n);e(t).find(o["x"]).text(this.toStandardNum(l[0])),e(t).find(o["y"]).text(this.toStandardNum(l[1])),e(t).find(o["width"]).text(this.toStandardNum(r)),e(t).find(o["height"]).text(this.toStandardNum(s))}},{key:"points2Xml",value:function(t,a,i){var n=this,o=a;o||(o={listName:"RegionCoordinatesList",coordName:"RegionCoordinates",x:"positionX",y:"positionY"}),i=!!i;var r="<".concat(o.listName,">");return e.each(t,(function(e,t){var a=Math.round(t[0]*n.standardX),s=Math.round((i?1-t[1]:t[1])*n.standardY);r+=""+"<".concat(o.coordName,">\n                    <").concat(o.x,">").concat(a,"</").concat(o.x,">\n                    <").concat(o.y,">").concat(s,"</").concat(o.y,">\n                </").concat(o.coordName,">")})),r+="</".concat(o.listName,">"),r}},{key:"points2Plugin",value:function(t,a,i){if(0===t.length)return{};var n={id:1,editType:0,closed:!0,drawColor:"#00ff00",fillColor:"#ffffff",translucent:.1,tips:"",showWH:!1};return a&&e.extend(n,a),n.points=[],e.isArray(t[0][0])?{}:(e.each(t,(function(e,t){n.points.push([t[0],i?1-t[1]:t[1]])})),n)}},{key:"plugin2Points",value:function(t,a){a=!!a,t=e.isArray(t)?t:[t];var i={};return e.each(t,(function(t,n){a&&e.each(n.points,(function(e,t){t[1]=1-t[1]})),i[n.id]=n.points})),i}},{key:"addPolygon",value:function(t,a,i){("undefined"===typeof t||"number"!==typeof t&&isNaN(parseInt(t,10)))&&(t=1),"undefined"===typeof a&&(a=""),i&&i.lineLimit&&(i.maxPointSupport=i.lineLimit,i.minPointSupport=i.lineLimit);var n={id:t,tips:a,showWH:!1,drawColor:"#00FF00",fillColor:"#FFFF00",maxPointSupport:10,minPointSupport:4,maxShapeSupport:1,translucent:.1};return e.extend(n,i),s["a"].setDrawShapeInfo("Polygon",n)}},{key:"addRect",value:function(t,a,i){("undefined"===typeof t||"number"!==typeof t&&isNaN(parseInt(t,10)))&&(t=1),"undefined"===typeof a&&(a="");var n={id:t,tips:a,drawColor:"#FFFF00",translucent:0,widthHeightRate:0,type:1};return e.extend(n,i),s["a"].setDrawShapeInfo("Rect",n)}},{key:"getPolygonObject",value:function(t,a,i,n,o){if("[object Array]"!==Object.prototype.toString.call(t))return{};a||(a=1),i||(i=""),o=!!o;var r={id:a,editType:0,points:e.extend(!0,[],t),closed:!0,tips:i,drawColor:"#00ff00",translucent:.1};return e.extend(r,n),o&&e.each(r.points,(function(e,t){t[1]=1-t[1]})),r}},{key:"getRectObject",value:function(t,a,i,n,o){if("[object Array]"!==Object.prototype.toString.call(t))return{};a||(a=1),i||(i="");var r={id:a,editType:0,points:e.extend(!0,[],t),closed:!0,tips:i,drawColor:"#00ff00",translucent:.1,type:1};return e.extend(r,n),o&&e.each(r.points,(function(e,t){t[1]=1-t[1]})),r}},{key:"getLineObject",value:function(t,a,i,n,o){if("[object Array]"!==Object.prototype.toString.call(t))return{};a||(a=1),i||(i="");var r={id:a,editType:0,lineType:0,points:e.extend(!0,[],t),tips:i,drawColor:"#00ff00"};return e.extend(r,n),o&&e.each(r.points,(function(e,t){t[1]=1-t[1]})),r}},{key:"getSnapCrossPointObject",value:function(t,a){if("[object Array]"!==Object.prototype.toString.call(t))return"";if(t.length<=0)return"";for(var i,n=[],o=0,r=t.length;o<r;++o){i=t[o];var s={id:i.id,editType:0,lineType:2,points:[i.x,i.y],drawColor:"#00ff00",tips:i.id,type:"cross"};e.extend(s,a),n.push(s)}return n}},{key:"setSnapCross",value:function(t,a){return t?(a=!!a,e.isArray(t)||(t=[t]),a&&e.each(t,(function(t,a){e.each(a.points,(function(e,t){t[1]=1-t[1]}))})),s["a"].setPointInfo(t)):new Promise((function(e){return e()}))}},{key:"setPolygon",value:function(t,a){return t?(a=!!a,e.isArray(t)||(t=[t]),a&&e.each(t,(function(t,a){e.each(a.points,(function(e,t){t[1]=1-t[1]}))})),s["a"].setPolygonInfo(t)):new Promise((function(e){return e()}))}},{key:"setRect",value:function(t,a){return t?(a=!!a,e.isArray(t)||(t=[t]),a&&e.each(t,(function(t,a){e.each(a.points,(function(e,t){t[1]=1-t[1]}))})),s["a"].setRectInfo(t)):new Promise((function(e){return e()}))}},{key:"setLine",value:function(t,a){return t?(a=!!a,e.isArray(t)||(t=[t]),a&&e.each(t,(function(t,a){e.each(a.points,(function(e,t){t[1]=1-t[1]}))})),s["a"].setLineInfo(t)):new Promise((function(e){return e()}))}},{key:"setDrawMultiPolygon",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,a,i){var n,o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].getPolygonInfo();case 2:if(n=e.sent,o=n.length,r=t,r||(r=""),"undefined"===typeof a&&(a=128),!(o>=a)){e.next=9;break}return e.abrupt("return",l["a"].rejectPromise());case 9:return t=r.replace("%s",o+1),e.abrupt("return",this.addPolygon(o+1,t,i));case 11:case"end":return e.stop()}}),e,this)})));function t(t,a,i){return e.apply(this,arguments)}return t}()},{key:"addLine",value:function(t,a,i,n){("undefined"===typeof t||"number"!==typeof t&&isNaN(parseInt(t,10)))&&(t=1),"undefined"===typeof a&&(a=""),n=!!n;var o={id:t,editType:0,lineType:0,tips:a,points:[[.5,.2],[.5,.5]],direction:0,drawColor:"#ff0000",mode:0,showShoulderLine:!1,demarcationLineWidth:.3};e.extend(o,i),n&&(o.points[0][1]=1-o.points[0][1],o.points[1][1]=1-o.points[1][1]),s["a"].setLineInfo([o])}},{key:"setLineCross",value:function(e,t,a,i){t||(t=[[.5,.25],[.5,.75]]),"undefined"===typeof a&&(a=0),i||(i=1);var n={id:i,editType:0,lineType:3,tips:"",points:t,direction:e,drawColor:"#ffff00",mode:0,showShoulderLine:!1,demarcationLineWidth:.3};this.addLine(1,1,n)}},{key:"addBreakLine",value:function(t,a,i){("undefined"===typeof t||"number"!==typeof t&&isNaN(parseInt(t,10)))&&(t=1),"undefined"===typeof a&&(a="");var n={id:t,tips:a,drawColor:"#FFFF00",pointNumMax:10,minClosed:4,lineType:2};return e.extend(n,i),s["a"].setDrawShapeInfo("Line",n)}},{key:"delDraw",value:function(e){return"Rect"!==e&&"Polygon"!==e&&"Line"!==e&&"Choosed"!==e&&"Point"!==e&&(e="All"),s["a"].clearShapeByType(e,[])}},{key:"checkLine",value:function(e,t){var a=e.length;if(a<4)return!0;for(var n=2;n<a;n++)for(var o=0;o<=n-2;o++)if((n!==a-1||0!==o)&&(!t||"object"===Object(i["a"])(e[n+1]))&&this.intersectLineLine(e[n],"object"===Object(i["a"])(e[n+1])?e[n+1]:e[0],e[o],e[o+1]))return!1;return!0}},{key:c,value:function(e,t){return Math.round(1e9*e-1e9*t)>0?1:0===Math.round(1e9*e-1e9*t)?0:-1}},{key:"pointInPolygonEx",value:function(e,t){var a,i,n=!1,o=e.length;for(a=0,i=o-1;a<o;i=a++)this[c](e[a].y,t.y)!==this[c](e[i].y,t.y)&&0>this[c](t.x,(e[i].x-e[a].x)*(t.y-e[a].y)/(e[i].y-e[a].y)+e[a].x)&&(n=!n);return n}},{key:u,value:function(e,t){return t="undefined"===typeof t?.002:t,0<this[c](-t,e)?-1:0<=this[c](e,-t)&&0<=this[c](t,e)?0:1}},{key:"checkSameDirection",value:function(e,t,a,i,n){var o=(e.y-t.y)*a.x+(t.x-e.x)*a.y+e.x*t.y-t.x*e.y,r=(e.y-t.y)*i.x+(t.x-e.x)*i.y+e.x*t.y-t.x*e.y;return(this[u](o,n)<0&&this[u](r,n))<0||this[u](o,n)>0&&this[u](r,n)>0}},{key:"intersectLineLine",value:function(e,t,a,i){var n=(i[0]-a[0])*(e[1]-a[1])-(i[1]-a[1])*(e[0]-a[0]),o=(t[0]-e[0])*(e[1]-a[1])-(t[1]-e[1])*(e[0]-a[0]),r=(i[1]-a[1])*(t[0]-e[0])-(i[0]-a[0])*(t[1]-e[1]);if(0!==r){var s=n/r,l=o/r;return 0<=s&&s<=1&&0<=l&&l<=1}return 0===n||0===o}},{key:"getLines",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].getLineInfo();case 2:return a=e.sent,i=this.plugin2Points(a,t),e.abrupt("return",i||[]);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getLine",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,a){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getLines(a);case 2:if(i=e.sent,!(t>=0)){e.next=5;break}return e.abrupt("return",i[t]);case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"getPolygons",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].getPolygonInfo();case 2:return a=e.sent,i=this.plugin2Points(a,t),e.abrupt("return",i||{});case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getPolygon",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,a){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getPolygons(a);case 2:if(i=e.sent,!(t>=0)){e.next=5;break}return e.abrupt("return",i[t]);case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"getRects",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].getRectInfo();case 2:return a=e.sent,i=this.plugin2Points(a,t),e.abrupt("return",i||{});case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getRect",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,a){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getRects(a);case 2:if(i=e.sent,!(t>=0)){e.next=5;break}return e.abrupt("return",i[t]);case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"translateSceneXml",value:function(e,t,a){var n="";"string"===typeof a&&(n="Dir");var o={};o="object"!==Object(i["a"])(a)?{remote:["positionX","positionY","RegionCoordinatesList","RegionCoordinates",n+"StartPoint",n+"EndPoint"],local:["x","y","pointList","point","StartPos","EndPos"]}:a;var r=!0;if("string"!==typeof e){if("undefined"===typeof e)return null;e=l["a"].xmlToStr(e),e=e.replace("<?xml version='1.0' encoding='utf-8'?>",""),r=!1}var s=Math.min(o.local.length,o.remote.length);if("toLocale"===t){for(var c=0;c<s;c++)e=e.replace(new RegExp(o.remote[c],"gi"),o.local[c]);e=e.replace(/\d+/g,(function(e){return parseInt(e,10)/1e3}))}else{for(var u=0;u<s;u++)e=e.replace(new RegExp(o.local[u],"gi"),o.remote[u]);e=e.replace(/-?0\.\d+|1\.?\d{0,}/g,(function(e){return Math.min(1e3,Math.max(0,parseInt(1e3*parseFloat(e),10)))}))}return r||(e=l["a"].parseXmlFromStr(e).childNodes[0]),e}},{key:"toStandardNum",value:function(e,t){var a="y"===t?this.standardY:this.standardX;return Math.round(e*a)}},{key:"registerDrawEvent",value:function(e,t,a){s["a"].setWindowControlCallback({onDrawEvent:function(i){e.apply(a||{},[i].concat(t))}})}},{key:"addPoint",value:function(t,a,i){("undefined"===typeof t||"number"!==typeof t&&isNaN(parseInt(t,10)))&&(t=1),"undefined"===typeof a&&(a="");var n={id:t,tips:a,drawColor:"#0000ff",type:"circle",replace:!1};e.extend(n,i),s["a"].setDrawShapeInfo("Point",n)}},{key:"enableDrawCallback",value:function(e,t,a,i){s["a"].setDrawCallback(0,!0,e,a,t,i)}},{key:"disableDrawCallback",value:function(){s["a"].setDrawCallback(0,!1,"Rect",!1,null)}},{key:"isPolygonsOverlap",value:function(e,t){var a=this;return a._isPolygonsIntersectant(e,t)||a._isPointInPolygonBidirectional(e,t)}},{key:"_isPolygonsIntersectant",value:function(e,t){function a(e,t){var a=(e[0].x-t[0].x)*(e[1].y-t[0].y)-(e[0].y-t[0].y)*(e[1].x-t[0].x),i=(e[0].x-t[1].x)*(e[1].y-t[1].y)-(e[0].y-t[1].y)*(e[1].x-t[1].x);if(a*i>=0)return!1;var n=(t[0].x-e[0].x)*(t[1].y-e[0].y)-(t[0].y-e[0].y)*(t[1].x-e[0].x),o=n+a-i;return!(n*o>=0)}for(var i=0,n=e.length;i<n;i++)for(var o=0,r=t.length;o<r;o++){var s=[e[i],e[i===n-1?0:i+1]],l=[t[o],t[o===r-1?0:o+1]];if(a(s,l))return!0}return!1}},{key:"getDrawRectStr",value:function(e,t,a){!a&&(a=0);var i="<?xml version='1.0' encoding='utf-8'?><SnapPolygonList><SnapPolygon><id>"+e+"</id><polygonType>0</polygonType><PointNumMax>5</PointNumMax><MinClosed>4</MinClosed><tips>"+t+"</tips><isClosed>true</isClosed><EditType>"+a+"</EditType><color><r>0</r><g>255</g><b>0</b></color><pointList/></SnapPolygon></SnapPolygonList>";return i}}]),t}();t["a"]=new d}).call(this,a("1157"))},9987:function(e,t,a){},"99de":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var i=a("53ca");function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e,t){if(t&&("object"===Object(i["a"])(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return n(e)}},"9adf":function(e,t,a){"use strict";a("3a2d")},"9b22":function(e,t,a){"use strict";(function(e){a("28a5"),a("7514"),a("ac6a"),a("5df3"),a("6b54"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("8d94"),s=a("d09c"),l=a("f193"),c=a("7de8"),u=a("1f20"),d=a("768a"),p=a("c050"),m=function(){function t(){Object(n["a"])(this,t),this.oChannel={id:1},this.bSupportByChannel=!1,this.m_aTimes_Capture=[],this.m_aTimes_Record=[],this.m_oScope=null,this.m_oSnapshotCapXml=null,this.m_oCapbilities={aSteps:[r["a"].t("snapshotSchedule"),r["a"].t("recordSchedule")],aHideSteps:[],iPresetMax:10,bSupportCapture:!0,bSupportRecord:!0,bSupportRecordEnabled:!1,aPresetList:[],oCapture:{oInterval:{iMin:1,iMax:100,iDef:30}},oRecord:{oTypeNum:{},oInterval:{iMin:1,iMax:100,iDef:30}},bSupportPresetCapture:!1,sCurrentTapIndex:0},this.m_oParams={bRecordEnabled:!1,bEnabled:!1,aPresetsInfo:[]},this.oSceneNameMap={}}return Object(o["a"])(t,[{key:"init",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:u["a"].isEnableHoliday();case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initParams",value:function(){for(var t=0;t<7;t++)this.m_aTimes_Capture[t]=[],this.m_aTimes_Record[t]=[];this.m_oCapbilities.bSupportCapture=-1!==e.inArray(d["a"].m_iChannelId.toString(),d["a"].m_aImageCaptureChannels),this.m_oCapbilities.bSupportRecord=-1!==e.inArray(d["a"].m_iChannelId.toString(),d["a"].m_aScheduledRecordUploadChannels),this.m_oCapbilities.bSupportRecordEnabled=!1,this.m_oCapbilities.bSupportRecord&&this.getRecordParams()}},{key:"getAll",value:function(){var e=this,t=new Promise((function(t,a){var i=[];e.m_oCapbilities.bSupportCapture&&(i.push(e.getCaptureCap()),i.push(e.getCapturePlanCap())),e.m_oCapbilities.bSupportRecord&&(i.push(e.getRecordPlanCap()),i.push(e.judgeSupprotRecordCap())),Promise.all(i).then((function(){var i=[];e.m_oCapbilities.bSupportCapture&&(e.m_oCapbilities.bSupportPresetCapture&&i.push(e.getPresetList()),i.push(e.getCaptureInfo()),i.push(e.getCapturePlanInfo())),e.m_oCapbilities.bSupportRecord&&i.push(e.getRecordPlanInfo()),Promise.all(i).then((function(){t()}),(function(e){e.xhr&&s["a"].getState(e.xhr),a()}))}),(function(e){e.xhr&&s["a"].getState(e.xhr),a()}))}));return t}},{key:"getRecordPlanCap",value:function(){var t=this,a=new Promise(function(){var a=Object(i["a"])(regeneratorRuntime.mark((function a(i,n){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o={urlCGI:"fieldDetectionSchedule",params:{schedule:"scheduledRecordUploads/scheduledRecordUpload-"+d["a"].m_iChannelId+"/capabilities"},data:null,loading:!0},a.next=3,l["a"].get(o).then((function(a){var n=a.oResult;e(n).find("patrolID").length&&(t.m_oCapbilities.oRecord.oInterval.iMax=c["a"].nodeAttr(n,"patrolID","max","i"),t.m_oCapbilities.oRecord.oInterval.iMin=c["a"].nodeAttr(n,"patrolID","min","i"),t.m_oCapbilities.oRecord.oInterval.iDef=c["a"].nodeAttr(n,"patrolID","min","i")),i()}),(function(e,t){n({xhr:t})}));case 3:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}());return a}},{key:"getCaptureCap",value:function(){var e=this,t=new Promise(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a,i){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={urlCGI:"timingCaptureCap",params:{channel:d["a"].m_iChannelId},data:null,loading:!0},t.next=3,l["a"].get(n).then((function(t){e.m_oCapbilities.iPresetMax=c["a"].objectValue(t.oResult,"ImageCaptureCap PresetCapture presetsNum","i"),e.m_oCapbilities.bSupportPresetCapture=t.oResult.ImageCaptureCap&&t.oResult.ImageCaptureCap.PresetCapture,a()}),(function(e,t){i({xhr:t})}));case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}());return t}},{key:"getCapturePlanCap",value:function(){var e=this,t=new Promise(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a,i){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={urlCGI:"fieldDetectionSchedule",params:{schedule:"imageCaptures/imageCapture-"+d["a"].m_iChannelId+"/capabilities"},data:null,loading:!0,FormData:void 0},t.next=3,l["a"].get(n).then((function(t){var i=t.oResult,n=parseInt(c["a"].nodeAttr(i,"timingInterval","min","i"),10)/60,o=parseInt(c["a"].nodeAttr(i,"timingInterval","max","i"),10)/60,r=parseInt(c["a"].nodeAttr(i,"timingInterval","def","i"),10)/60;e.m_oCapbilities.oCapture.oInterval.iMin=n,e.m_oCapbilities.oCapture.oInterval.iMax=o,e.m_oCapbilities.oCapture.oInterval.iDef=r,a()}),(function(e){i({xhr:e.xhr})}));case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}());return t}},{key:"getCaptureInfo",value:function(){var e=this,t=new Promise(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a,i){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={urlCGI:"timingCaptureInfo",params:{channel:d["a"].m_iChannelId},data:null,loading:!0},t.next=3,l["a"].get(n).then((function(t){e.m_oParams.aPresetsInfo.length=0;var i=c["a"].objectValue(t.oResult,"ImageCapture PresetCapture presetsList","p");if(i)for(var n=0;n<i.length;n++)i[n].presetID&&e.m_oParams.aPresetsInfo.push({presetID:c["a"].objectValue(i[n],"presetID"),hashId:n+(new Date).getTime()});e.m_oParams.bEnabled=c["a"].objectValue(t.oResult,"ImageCapture enabled","b"),console.log(111111,e.m_oParams.bEnabled),a()}),(function(t,a){e.m_oParams.aPresetsInfo.length=0,i({xhr:a})}));case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}());return t}},{key:"getPresetList",value:function(){var t=this,a=new Promise(function(){var a=Object(i["a"])(regeneratorRuntime.mark((function a(i,n){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o={urlCGI:"ptzCap",params:{channel:d["a"].m_iChannelId},data:null,loading:!0},a.next=3,l["a"].get(o).then((function(a){t.m_oCapbilities.aPresetList.length=0;for(var n=c["a"].nodeValue(e(a),"maxPresetNum","i"),o=c["a"].nodeAttr(e(a),"PresetNameCap specialNo","opt").split(","),s=r["a"].t("preset")+" ",l=0;l<n;l++)-1===e.inArray((l+1).toString(),o)&&(t.m_oCapbilities.aPresetList.push({id:(l+1).toString(),name:s+(l+1).toString()}),t.oSceneNameMap[(l+1).toString()]=s+(l+1).toString());i()}),(function(e,t){n({xhr:t})}));case 3:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}());return a}},{key:"getCapturePlanInfo",value:function(){var e=this,t=new Promise(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a,i){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={urlCGI:"fieldDetectionSchedule",params:{schedule:"imageCaptures/imageCaptures-"+d["a"].m_iChannelId},data:null,loading:!0},t.next=3,l["a"].get(n).then((function(t){d["a"].getSchedule(e.m_aTimes_Capture,t.oResult),a()}),(function(e,t){i({xhr:t})}));case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}());return t}},{key:"getRecordPlanInfo",value:function(){var t=this,a=new Promise(function(){var a=Object(i["a"])(regeneratorRuntime.mark((function a(i,n){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o={urlCGI:"fieldDetectionSchedule",params:{schedule:"scheduledRecordUploads/scheduledRecordUpload-"+d["a"].m_iChannelId},data:null,loading:!0},a.next=3,l["a"].get(o).then((function(a){var n,o=e(a).find("TimeBlockList").eq(0).find("TimeBlock"),r=-1;e.each(o,(function(){r=c["a"].nodeValue(t,"dayOfWeek","i")-1,n={sTime:e(t).find("TimeRange").eq(0).find("beginTime").eq(0).text(),eTime:e(t).find("TimeRange").eq(0).find("endTime").eq(0).text(),param:c["a"].nodeValue(t,"patrolID","i"),type:"patrol"},t.m_aTimes_Record[r].push(n)})),u["a"].m_oDeviceCapa.bSupportHoliday&&(o=e(a).find("HolidayBlockList").eq(0).find("TimeBlock"),r=7,e.each(o,(function(){n={sTime:e(t).find("TimeRange").eq(0).find("beginTime").eq(0).text(),eTime:e(t).find("TimeRange").eq(0).find("endTime").eq(0).text(),param:c["a"].nodeValue(t,"patrolID","i"),type:"patrol"},t.m_aTimes_Record[r].push(n)}))),i()}),(function(e,t){n({xhr:t})}));case 3:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}());return a}},{key:"save",value:function(){var e=this;this.saveCaptureInfo().then((function(t){var a=[];e.m_oCapbilities.bSupportCapture&&a.push(e.saveCapturePlan()),e.m_oCapbilities.bSupportRecord&&a.push(e.saveRecordPlan()),e.m_oCapbilities.bSupportRecordEnabled&&a.push(e.setRecordParams()),Promise.all(a).then((function(e){a.length?s["a"].saveState(e[0].xhr):s["a"].saveState(t.xhr)}),(function(e){s["a"].saveState(e.xhr)}))}))}},{key:"saveCaptureInfo",value:function(){var e={ImageCapture:{enabled:this.m_oParams.bEnabled}};if(this.m_oCapbilities.bSupportPresetCapture){for(var t=[],a=0;a<this.m_oParams.aPresetsInfo.length;a++)t.push({presetID:parseInt(this.m_oParams.aPresetsInfo[a].presetID,10)});e["ImageCapture"]["PresetCapture"]={presetsList:t}}var n=new Promise(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a,i){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={urlCGI:"timingCaptureInfo",params:{channel:d["a"].m_iChannelId},data:e,loading:!0},t.next=3,l["a"].put(n).then((function(e){a({xhr:e.xhr})}),(function(e,t){s["a"].saveState(t),i({xhr:t})}));case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}());return n}},{key:"saveCapturePlan",value:function(){var t=this,a=this.m_oCapbilities.oCapture.oInterval,n=r["a"].t("intervalTime")+"——"+r["a"].t("error"),o=!1,s="<?xml version='1.0' encoding='UTF-8'?><Schedule>";if(s+="<id>imageCaptures-"+d["a"].m_iChannelId+"</id><eventType>imageCaptures</eventType>",s+="<videoInputID>"+d["a"].m_iChannelId+"</videoInputID><TimeBlockList>",e.each(this.m_aTimes_Capture,(function(i,n){n.length>0&&i<7&&e.each(n,(function(e,n){parseInt(n.param,10)<a.iMin||parseInt(n.param,10)>a.iMax?o=!0:(s+="<TimeBlock><dayOfWeek>"+(i+1)+"</dayOfWeek><TimeRange><beginTime>"+n.sTime+"</beginTime><endTime>"+n.eTime+"</endTime></TimeRange>",s+="<timingInterval>"+60*(parseInt(n.param,10)||t.m_oCapbilities.oCapture.oInterval.def)+"</timingInterval></TimeBlock>")}))})),!o){s+="</TimeBlockList><HolidayBlockList>",u["a"].m_oDeviceCapa.bSupportHoliday&&e.each(this.m_aTimes_Capture[7],(function(e,a){s+="<TimeBlock><TimeRange><beginTime>"+a.sTime+"</beginTime><endTime>"+a.eTime+"</endTime></TimeRange>",s+="<timingInterval>"+60*(parseInt(a.param,10)||t.m_oCapbilities.oCapture.oInterval.def)+"</timingInterval></TimeBlock>"})),s+="</HolidayBlockList></Schedule>";var c=new Promise(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,a){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i={urlCGI:"fieldDetectionSchedule",params:{schedule:"imageCaptures/imageCaptures-"+d["a"].m_iChannelId},data:s,loading:!0},e.next=3,l["a"].put(i).then((function(e){t({xhr:e.xhr})}),(function(e,t){a({xhr:t})}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());return c}p["a"].stateAlert(n,"fail")}},{key:"saveRecordPlan",value:function(){var t=this.m_oCapbilities.oRecord.oInterval,a=r["a"].t("intervalTime")+"——"+r["a"].t("error"),n=!1,o="<?xml version='1.0' encoding='UTF-8'?><Schedule>";if(o+="<id>scheduledRecordUpload-"+d["a"].m_iChannelId+"</id><eventType>scheduledRecordUpload</eventType>",o+="<videoInputID>"+d["a"].m_iChannelId+"</videoInputID><TimeBlockList>",e.each(this.m_aTimes_Record,(function(a,i){i.length>0&&a<7&&e.each(i,(function(e,i){parseInt(i.param,10)<t.iMin||parseInt(i.param,10)>t.iMax?n=!0:(o+="<TimeBlock><dayOfWeek>"+(a+1)+"</dayOfWeek><TimeRange><beginTime>"+i.sTime+"</beginTime><endTime>"+i.eTime+"</endTime></TimeRange>",o+="<patrolID>"+parseInt(i.param,10)+"</patrolID></TimeBlock>")}))})),!n){o+="</TimeBlockList><HolidayBlockList>",u["a"].m_oDeviceCapa.bSupportHoliday&&e.each(this.m_aTimes_Record[7],(function(e,t){o+="<TimeBlock><TimeRange><beginTime>"+t.sTime+"</beginTime><endTime>"+t.eTime+"</endTime></TimeRange>",o+="<patrolID>"+t.param+"</patrolID></TimeBlock>"})),o+="</HolidayBlockList></Schedule>";var s=new Promise(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,a){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i={urlCGI:"fieldDetectionSchedule",params:{schedule:"scheduledRecordUploads/scheduledRecordUpload-"+d["a"].m_iChannelId},data:o,loading:!0},e.next=3,l["a"].put(i).then((function(){t()}),(function(e,t){a({xhr:t})}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());return s}p["a"].stateAlert(a,"fail")}},{key:"addPreset",value:function(){this.m_oParams.aPresetsInfo.length<this.m_oCapbilities.iPresetMax&&this.m_oParams.aPresetsInfo.push({presetID:this.m_oCapbilities.aPresetList[0].id,hashId:this.m_oParams.aPresetsInfo.length+(new Date).getTime()}),this.m_oScope.iCurPresetIndex=this.m_oParams.aPresetsInfo.length-1}},{key:"PresetUp",value:function(e){var t;if(e=parseInt(e,10),e>0){t=this.m_oParams.aPresetsInfo[e],this.m_oParams.aPresetsInfo[e]=this.m_oParams.aPresetsInfo[e-1],this.m_oParams.aPresetsInfo[e-1]=t;try{this.m_oParams.aPresetsInfo[e].bHover=!0,this.m_oParams.aPresetsInfo[e-1].bHover=!1}catch(a){}}}},{key:"PresetDown",value:function(e){var t,a;if(e=parseInt(e,10),a=this.m_oParams.aPresetsInfo.length-1,e<a){t=this.m_oParams.aPresetsInfo[e],this.m_oParams.aPresetsInfo[e]=this.m_oParams.aPresetsInfo[e+1],this.m_oParams.aPresetsInfo[e+1]=t;try{this.m_oParams.aPresetsInfo[e].bHover=!0,this.m_oParams.aPresetsInfo[e+1].bHover=!1}catch(i){}}}},{key:"deletePreset",value:function(e){e=parseInt(e,10),this.m_oParams.aPresetsInfo.splice(e,1)}},{key:"judgeSupprotRecordCap",value:function(){var e=this,t=new Promise(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a,i){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={urlCGI:"getRecordCap",params:{channel:d["a"].m_iChannelId},data:null,loading:!0},t.next=3,l["a"].get(n).then((function(t){t.oResult.ScheduledRecordUploadCap.enabled&&(e.m_oCapbilities.bSupportRecordEnabled=!0),a()}),(function(e,t){i({xhr:t})}));case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}());return t}},{key:"getRecordParams",value:function(){var e=this,t=new Promise(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a,i){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={urlCGI:"bSupportRecord",params:{channel:d["a"].m_iChannelId},data:null,loading:!0},t.next=3,l["a"].get(n).then((function(t){e.m_oParams.bRecordEnabled=t.oResult.ScheduledRecordUpload.enabled}),(function(e,t){i({xhr:t})}));case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}());return t}},{key:"changeStep",value:function(e){this.m_oCapbilities.sCurrentTapIndex=e}}]),t}();t["a"]=new m}).call(this,a("1157"))},"9b7c":function(e,t,a){"use strict";(function(e){a("a481"),a("ac6a"),a("5df3"),a("4f7f");var i=a("2909"),n=(a("7514"),a("96cf"),a("1da1")),o=a("d4ec"),r=a("bee2"),s=a("c050"),l=a("1f20"),c=a("9741"),u=a("7de8"),d=a("d09c"),p=a("8d94"),m=a("f193"),h=a("49ca"),f=function(){function t(){Object(o["a"])(this,t),this.oXmlDoc=null,this._oSettingBasicInfo={bLoading:!1,oXmlDoc:null,szDeviceName:"",szDeviceNo:"",szDeviceModel:"",szSerialNo:"",szFirmwareVersion:"",szEncoderVersion:"",szHardwareVersion:"",szWebVersion:h["a"].szWebVersion,szPluginVersion:h["a"].szPluginVersion,iChannelNum:0,iHDDNum:0,iAlarmInNum:0,iAlarmOutNum:0,szNewFirmwareVersion:"",szUpgradeStatus:"",iUpgradeProcess:0,szAlgorithmVer:"",szFaceProperties:"",szDepthMap:"",szHumanAttribute:"",szFirmwareVersionInfo:""},this.m_oCapbilities={bSptHardwareVersion:!1,bSupportOnlineUpgrade:!1,bHasNewVersion:!1,bSupportAlgorithmVer:!1,bSupportHumanVer:!1,bSupportHMSVersion:!1,bSupportHumanCaptureVersion:!1,bSupportDepthMap:!1},this.bNVRDevice=0===c["a"].iDeviceType,this._oTelecontrolIdCap={},this._oUpgradeDlg=null,this._tUpgradeStatus=null,this.m_oParamsValid={oDeviceNoValid:{required:!0,range:[1,255]}}}return Object(r["a"])(t,[{key:"init",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.abrupt("return",u["a"].waitAll([t.getDeviceInfoCab(),t.getDeviceInfo(),t.getAlarmInfo(),t.getAlgVersionInfo(),t.getHDDNum(),t.getHumanVer()]));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getAlarmInfo",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=this,t.next=3,l["a"].getChannel(l["a"].m_oChannelType.ANALOG).then((function(t){var i=t.oResult;a._oSettingBasicInfo.iChannelNum=e(i).find("VideoInputChannel").length}));case 3:return t.next=5,l["a"].getChannel(l["a"].m_oChannelType.DIGITAL).then((function(t){var i=t.oResult;a._oSettingBasicInfo.iChannelNum+=e(i).find("InputProxyChannel").length}));case 5:return t.next=7,l["a"].getAlarmInput(l["a"].m_oAlarmInputType.ANALOG).then((function(t){var i=t.oResult;a._oSettingBasicInfo.iAlarmInNum=e(i).find("IOInputPort").length}));case 7:return t.next=9,l["a"].getAlarmInput(l["a"].m_oAlarmInputType.DIGITAL).then((function(t){var i=t.oResult;a._oSettingBasicInfo.iAlarmInNum+=e(i).find("IOProxyInputPort").length}));case 9:return n=[],t.next=12,l["a"].getAlarmOutput(l["a"].m_oAlarmOutputType.ANALOG).then((function(t){var o=t.oResult;e.each(e(o).find("IOOutputPort"),(function(){n.push(u["a"].nodeValue(this,"id"))})),a._oSettingBasicInfo.iAlarmOutNum=Object(i["a"])(new Set(n)).length}));case 12:return t.next=14,l["a"].getAlarmOutput(l["a"].m_oAlarmOutputType.DIGITAL).then((function(t){var o=t.oResult;e.each(e(o).find("IOProxyOutputPort"),(function(){n.push(u["a"].nodeValue(this,"id"))})),a._oSettingBasicInfo.iAlarmOutNum=Object(i["a"])(new Set(n)).length}));case 14:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}()},{key:"getDeviceInfoCab",value:function(){var t=this,a=new Promise((function(a){var i={urlCGI:"deviceInfoCapa",params:{},data:null,loading:!0};m["a"].get(i).then((function(i){var n=i.oResult;t._oTelecontrolIdCap.iMin=parseInt(e(n).find("telecontrolID").eq(0).attr("min"),10),t._oTelecontrolIdCap.iMax=parseInt(e(n).find("telecontrolID").eq(0).attr("max"),10),t.m_oParamsValid.oDeviceNoValid.range[0]=t._oTelecontrolIdCap.iMin,t.m_oParamsValid.oDeviceNoValid.range[1]=t._oTelecontrolIdCap.iMax,a()}),(function(){a()}))}));return a}},{key:"getDeviceInfo",value:function(){var t=this;t._oSettingBasicInfo.iChannelNum=0,t._oSettingBasicInfo.iAlarmInNum=0,t._oSettingBasicInfo.iAlarmOutNum=0;var a=new Promise((function(a,i){var n={urlCGI:"deviceInfo",params:{},data:null,loading:!0};m["a"].get(n).then((function(i){t.oXmlDoc=i.oResult,console.log(t.oXmlDoc,"------------------------");var n=i.oResult;t._oSettingBasicInfo.szDeviceName=u["a"].nodeValue(n,"deviceName"),t._oSettingBasicInfo.szDeviceNo=u["a"].nodeValue(n,"telecontrolID"),t._oSettingBasicInfo.szDeviceModel=u["a"].nodeValue(n,"model").replace("/"," / "),t._oSettingBasicInfo.szSerialNo=u["a"].nodeValue(n,"serialNumber").replace("/"," / "),t._oSettingBasicInfo.szFirmwareVersion=u["a"].nodeValue(n,"firmwareVersion")+" "+u["a"].nodeValue(n,"firmwareReleasedDate"),t._oSettingBasicInfo.szEncoderVersion=u["a"].nodeValue(n,"encoderVersion")+" "+u["a"].nodeValue(n,"encoderReleasedDate"),e(n).find("hardwareVersion").length>0&&(t.m_oCapbilities.bSptHardwareVersion=!0,t._oSettingBasicInfo.szHardwareVersion=u["a"].nodeValue(n,"hardwareVersion")),e(n).find("firmwareVersionInfo").length>0&&(t._oSettingBasicInfo.szFirmwareVersionInfo=u["a"].nodeValue(n,"firmwareVersionInfo")),a()}),(function(e,t){d["a"].getState(t),i()}))}));return a}},{key:"getAlgVersionInfo",value:function(){var t=this,a=new Promise((function(a){var i={urlCGI:"VCAIntelliLibVer",params:{channel:1},data:null,loading:!0};m["a"].get(i).then((function(i){var n=i.oResult;t._oSettingBasicInfo.szAlgorithmVer=e(n).find("AlgVersionInfo").find("algName").eq(0).text(),a()}),(function(){a()}))}));return a}},{key:"getHumanVer",value:function(){var t=this,a=new Promise((function(a){var i={urlCGI:"algorithmsVersion",params:{},data:null,loading:!0};m["a"].get(i).then((function(i){var n=i.oResult;e.each(e(n).find("AlgorithmsVersionInfo"),(function(){var e="V"+u["a"].nodeValue(this,"majorVersion")+"."+u["a"].nodeValue(this,"minorVersion")+"."+u["a"].nodeValue(this,"revisionNumber");"faceProperties"===u["a"].nodeValue(this,"name")?(t.m_oCapbilities.bSupportHumanVer=!0,t._oSettingBasicInfo.szFaceProperties=e):"humanAttribute"===u["a"].nodeValue(this,"name")?(t.m_oCapbilities.bSupportHMSVersion=!0,t._oSettingBasicInfo.szHumanAttribute=e):"faceSnap"===u["a"].nodeValue(this,"name")?(t.m_oCapbilities.bSupportHumanCaptureVersion=!0,t._oSettingBasicInfo.szHumanCaptureVersion=e):"PED"===u["a"].nodeValue(this,"name")&&(t.m_oCapbilities.bSupportDepthMap=!0,t._oSettingBasicInfo.szDepthMap=e)})),a()}),(function(){a()}))}));return a}},{key:"getHDDNum",value:function(){var t=this,a=0,i=new Promise((function(i){var n={urlCGI:"storage",params:{},data:null,loading:!0};m["a"].get(n).then((function(n){var o=n.oResult;a=e(o).find("hdd").length,e.each(e(o).find("nas"),(function(e,t){"offline"!==u["a"].nodeValue(t,"status")&&a++})),t._oSettingBasicInfo.iHDDNum=a,i()}),(function(){i()}))}));return i}},{key:"getOnlineUpgradeCap",value:function(){var t=this,a=new Promise((function(a){var i={urlCGI:"onlineUpgradeCapa",params:{},data:null,loading:!0};m["a"].get(i).then((function(i){var n=i.oResult;t.m_oCapbilities.bSupportOnlineUpgrade=!0,e(n).find("notSupportAutoUpgrade")&&"true"===e(n).find("notSupportAutoUpgrade").text()&&(t.m_oCapbilities.bSupportOnlineUpgrade=!1),a()}),(function(){a()}))}));return a}},{key:"getOnlineUp",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.getOnlineUpgradeCap().then((function(){t.m_oCapbilities.bSupportOnlineUpgrade&&t.getOnlineUpgradeVersion(!1)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getOnlineUpgradeVersion",value:function(e){var t=this,a={urlCGI:"onlineNewVersion",params:{custom:e},data:null,loading:!0};return m["a"].get(a).then((function(a){var i=a.oResult;t.m_oCapbilities.bHasNewVersion=u["a"].nodeValue(i,"newVersionAvailable","b"),t._oSettingBasicInfo.szNewFirmwareVersion=u["a"].nodeValue(i,"newVersion"),t.m_oCapbilities.bHasNewVersion||e&&s["a"].tip(p["a"].t("upgradeNoNewVersion"))}))}},{key:"startOnlineUpgrade",value:function(e){var t=this;s["a"].confirm(p["a"].t("upgradeTip"),300,(function(){return m["a"].get({urlCGI:"onlineUpgrade",loading:!0,success:function(){t._oSettingBasicInfo.iUpgradeProcess=0;var a='<div id="upgrade-slider" class="upgrade-slider"><div slider type="process" show-box="true" current-value="oSettingBasicInfo.iUpgradeProcess" step="1" min="0" max="100"></div></div>';t._oUpgradeDlg=s["a"].html({szTitle:p["a"].t("upgrading"),szContent:a,oButtons:{bOK:!1,bCancel:!1,bClose:!1}}),t._tUpgradeStatus=setInterval((function(){e.$apply((function(){t.getUpgradeStatus()}))}),2e3)},error:function(){t._oSettingBasicInfo.szUpgradeStatus=p["a"].t("upgradeFailed"),setTimeout((function(){t._oSettingBasicInfo.szUpgradeStatus=""}),5e3)}})}))}},{key:"getUpgradeStatus",value:function(){var e=this,t=new Promise((function(t,a){var i={urlCGI:"onlineUpgradeStatus",params:{},data:null,loading:!0};m["a"].get(i).then((function(a){var i=a.oResult,n=!1,o=u["a"].nodeValue(i,"status"),r=u["a"].nodeValue(i,"percent","i");"upgrading"===o?r<0?clearInterval(e._tUpgradeStatus):r<100?e._oSettingBasicInfo.iUpgradeProcess=r:clearInterval(e._tUpgradeStatus):"successful"===o||100===r?(e._oSettingBasicInfo.szUpgradeStatus=p["a"].t("upgradeSucceeded"),clearInterval(e._tUpgradeStatus),e._oUpgradeDlg.close(),setTimeout((function(){e._oSettingBasicInfo.szUpgradeStatus=""}),8e3),e._oWaitDlg=s["a"].wait(p["a"].t("rebooting"))):"languageMismatch"===o?(n=!0,e._oSettingBasicInfo.szUpgradeStatus=p["a"].t("lanMismatch")):"writeFlashError"===o?(n=!0,e._oSettingBasicInfo.szUpgradeStatus=p["a"].t("writeFlashError")):"packageTypeMismatch"===o?(n=!0,e._oSettingBasicInfo.szUpgradeStatus=p["a"].t("upgradeFileMismatch")):"packageVersionMismatch"===o?(n=!0,e._oSettingBasicInfo.szUpgradeStatus=p["a"].t("upgradeVersionMismatch")):"netUnreachable"===o?(n=!0,e._oSettingBasicInfo.szUpgradeStatus=p["a"].t("netUnreachable")):"upgradeServerErr"===o?(n=!0,e._oSettingBasicInfo.szUpgradeStatus=p["a"].t("upgradeServerError")):"readErr"===o?(n=!0,e._oSettingBasicInfo.szUpgradeStatus=p["a"].t("readError")):"noPackage"===o?(n=!0,e._oSettingBasicInfo.szUpgradeStatus=p["a"].t("noPackage")):"dataErr"===o?(n=!0,e._oSettingBasicInfo.szUpgradeStatus=p["a"].t("dataError")):"noMemory"===o?(n=!0,e._oSettingBasicInfo.szUpgradeStatus=p["a"].t("noMemory")):"deviceUpgrading"===o?(n=!0,e._oSettingBasicInfo.szUpgradeStatus=p["a"].t("upgradingError")):(n=!0,e._oSettingBasicInfo.szUpgradeStatus=p["a"].t("upgradeFailed")),n&&(clearInterval(e._tUpgradeStatus),e._oUpgradeDlg.close(),setTimeout((function(){e._oSettingBasicInfo.szUpgradeStatus=""}),5e3)),t()}),(function(){clearInterval(e._tUpgradeStatus),e._oUpgradeDlg.close(),e._oSettingBasicInfo.szUpgradeStatus=p["a"].t("upgradeProgressFailed"),setTimeout((function(){e._oSettingBasicInfo.szUpgradeStatus=""}),5e3),a()}))}));return t}},{key:"save",value:function(){var t=this;t._oSettingBasicInfo.bLoading=!0,e(t.oXmlDoc).find("deviceName").eq(0).text(t._oSettingBasicInfo.szDeviceName),e(t.oXmlDoc).find("telecontrolID").eq(0).text(t._oSettingBasicInfo.szDeviceNo);var a={urlCGI:"deviceInfo",params:{},data:t.oXmlDoc,loading:!0};return m["a"].put(a).then((function(e){t._oSettingBasicInfo.bLoading=!1,d["a"].saveState(e.xhr)}),(function(e){t._oSettingBasicInfo.bLoading=!1,d["a"].saveState(e)}))}}]),t}();t["a"]=new f}).call(this,a("1157"))},"9d20":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"port-details"},[t("hm-scroll",[t("div",{staticClass:"hm-index-list-item"},[t("hm-cell-group",[t("hm-cell",{attrs:{title:e.$t("diskNo")},model:{value:e.diskNum,callback:function(t){e.diskNum=t},expression:"diskNum"}}),t("hm-cell",{attrs:{title:e.$t("capacity")},model:{value:e.capacity,callback:function(t){e.capacity=t},expression:"capacity"}}),t("hm-cell",{attrs:{title:e.$t("freeSpace")},model:{value:e.freeSpace,callback:function(t){e.freeSpace=t},expression:"freeSpace"}}),t("hm-cell",{attrs:{title:e.$t("status")},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}}),t("hm-cell",{attrs:{title:e.$t("type")},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}}),t("hm-cell",{attrs:{title:e.$t("attribute")}},[t("base-select",{attrs:{title:e.$t("attribute"),options:e.options},model:{value:e.property,callback:function(t){e.property=t},expression:"property"}})],1),t("hm-cell",{attrs:{title:e.$t("progress")}},[e.isShow?t("div",[t("hm-progress",{attrs:{percentage:e.progress}})],1):e._e()]),e.oCapbilitiesT.bSupportRecordReconstruction?t("div",{staticClass:"hm-btn-group"},[t("hm-button",{on:{click:function(t){return e.rebuild("video")}}},[e._v(e._s(e.$t("rebuildVideo")))])],1):e._e()],1)],1)])],1)},n=[],o=(a("c5f6"),a("03e7")),r=a("c050"),s=a("8d94"),l=a("47b5"),c={name:"PortDetails",components:{BaseSelect:l["a"]},props:{portDetailsData:{type:Array,default:function(){return[]},required:!0},portStatus:{type:Number,default:function(){return!1},required:!0},arrayhead:{type:Array,default:function(){return[]},required:!0},oButtonsControl:{type:Object,default:function(){return{}},required:!0},oCapbilities:{type:Object,default:function(){return{}},required:!0}},data:function(){return{portDetails:this.portDetailsData,odistable:this.portStatus,oButtonsControlT:this.oButtonsControl,oCapbilitiesT:this.oCapbilities,diskNum:"",capacity:"",freeSpace:"",status:"",type:"",property:"",progress:0,options:[],isShow:!1}},mounted:function(){var e=this;setInterval((function(){e.progress=Number(o["a"].percent),e.progress>0&&(e.isShow=!0),e.progress>=100&&(e.isShow=!1)}),1e3),this.initParam()},methods:{initParam:function(){this.portDetails&&(this.diskNum=this.portDetails[this.odistable][0],this.capacity=this.portDetails[this.odistable][1],this.freeSpace=this.portDetails[this.odistable][2],this.status=this.arrayhead[3]["object"][this.portDetails[this.odistable][3]],this.type=this.arrayhead[4]["object"][this.portDetails[this.odistable][4]],this.property=this.portDetails[this.odistable][5],this.options=this.arrayhead[5]["select"])},setDiskInfo:function(){o["a"].setDiskInfo()},formatDisks:function(){var e=this;r["a"].confirm(s["a"].t("formatDiskTips"),(function(){o["a"].formatDisk(e.odistable)}))},rebuild:function(e){o["a"].rebuild(e,this.odistable)},percent:function(e){this.progress=e},fresh:function(){this.$forceUpdate()}}},u=c,d=(a("2e8d"),a("2877")),p=Object(d["a"])(u,i,n,!1,null,"7237d288",null);t["default"]=p.exports},"9d7f":function(e,t,a){"use strict";(function(e){a("7514"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("1f20"),s=a("9741"),l=a("181b"),c=a("7de8"),u=function(){function t(){Object(n["a"])(this,t),this.iChannelId=1,this.redundantData={grid:{rowGranularity:0,columnGranularity:0,mode:"transparent"},roiRegion:{widthResolution:0,heightResolution:0,mode:"transparent"},line:{},osd:{widthResolution:0,heightResolution:0,channelName:"",text:{}}},this.iDeviceType=s["a"].iDeviceType,this.oImageCapa={}}return Object(o["a"])(t,[{key:"getCapInfo",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r["a"].getDeviceInfo();case 2:return e.next=4,r["a"].getDeviceCapa();case 4:return e.next=6,r["a"].getDisplayParamSwitchSupport();case 6:return e.next=8,r["a"].isSupportPrivacyMask();case 8:this.oImageCapa={bSupportDisplay:!1,bSupportPrivacyMask:!r["a"].m_oDeviceCapa.bPTZ&&r["a"].m_oDeviceCapa.bSupportPrivacyMask,bSupportPicOver:r["a"].m_oDeviceCapa.bSupportPicOver,bSupportRoadInfo:r["a"].m_oDeviceCapa.bSupportRoadInfo,bSupportDisplayParamSwitch:r["a"].m_oDeviceCapa.bSupportDisplayParamSwitch,bSupportTHScreen:r["a"].m_oDeviceCapa.bSupportTHScreen,bSupportLaserSpotManual:r["a"].m_oDeviceCapa.bSupportLaserSpotManual,bSupportPIP:r["a"].m_oDeviceCapa.bSupportPIP,bSupportDPC:r["a"].m_oDeviceCapa.bSupportDPC,bSupportThermalPip:r["a"].m_oDeviceCapa.bSupportThermalPip,bSupportThermalOSD:r["a"].m_oDeviceCapa.bSupportThermalOSD,bSupportBurningPrevention:r["a"].m_oDeviceCapa.bSupportBurningPrevention},0===this.iDeviceType&&(this.oImageCapa.bSupportPrivacyMask=!0,this.oImageCapa.bSupportPicOver=!1);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setRegionInfo2Json",value:function(t){var a=c["a"].parseXmlFromStr(t),i=e(a).find("RegionType").text();if("grid"===i){var n=parseInt(e(a).find("columnGranularity").text(),10),o=parseInt(e(a).find("rowGranularity").text(),10),r={drawColor:"#FF0000",gridColNum:n,gridRowNum:o,gridMap:e(a).find("gridMap").text()};this.redundantData.grid.columnGranularity=n,this.redundantData.grid.rowGranularity=o}else if("roi"===i){var s=parseInt(e(a).find("MaxRegionNum").text(),10),l=e(a).find("DisplayMode").text(),u=parseInt(e(a).find("HorizontalResolution").text(),10),d=parseInt(e(a).find("VerticalResolution").text(),10);this.redundantData.roiRegion.heightResolution=d,this.redundantData.roiRegion.widthResolution=u,this.redundantData.roiRegion.mode=l;var p="#ff0000",m=0,h="#646464";"transparent"===l?(p="#ff0000",m=0):"shelter"===l&&(p="#ff0000",h="#646464",m=1);var f=[],v=[];f.push({type:0,tips:"",drawColor:p,fillColor:h,translucent:m,widthHeightRate:0,maxShapeSupport:s}),e(a).find("DetectionRegion").each((function(t){var a=[];e(this).find("RegionCoordinatesList").find("RegionCoordinates").each((function(){a.push([parseInt(e(this).find("positionX").text(),10)/u,1-parseInt(e(this).find("positionY").text(),10)/d])})),v.push({id:t+1,type:0,editType:0,points:a,closed:!0,tips:"",drawColor:p,fillColor:h,translucent:m,widthHeightRate:0,maxShapeSupport:s})}))}return{grid:r,rect:{add:f||[],set:v||[]}}}},{key:"getRegionInfo",value:function(t,a){var i,n=this;return t&&t.gridColNum?(i="<?xml version='1.0'?><MoveDetection><videoFormat>PAL</videoFormat>",i+="<RegionType>grid</RegionType><Grid><rowGranularity>"+this.redundantData.grid.rowGranularity+"</rowGranularity>",i+="<columnGranularity>"+this.redundantData.grid.columnGranularity+"</columnGranularity></Grid>",i+="<DisplayMode>"+this.redundantData.roiRegion.mode+"</DisplayMode><gridMap>"+t.gridMap+"</gridMap></MoveDetection>",i):a&&a.length>0?(i="<?xml version='1.0' encoding='utf-8'?><DetectionRegionInfo><videoFormat>PAL</videoFormat><RegionType>roi</RegionType><ROI>",i+="<HorizontalResolution>"+this.redundantData.roiRegion.widthResolution+"</HorizontalResolution><VerticalResolution>"+this.redundantData.roiRegion.heightResolution+"</VerticalResolution></ROI><DisplayMode>"+this.redundantData.roiRegion.mode+"</DisplayMode><DetectionRegionList>",e.each(a,(function(t){i+="<DetectionRegion>",i+="<RegionCoordinatesList>",e.each(a[t].points,(function(e,t){i+="<RegionCoordinates><positionX>"+Math.floor(t[0]*n.redundantData.roiRegion.widthResolution)+"</positionX><positionY>"+Math.floor((1-t[1])*n.redundantData.roiRegion.heightResolution)+"</positionY></RegionCoordinates>"})),i+="</RegionCoordinatesList>",i+="</DetectionRegion>"})),i+="</DetectionRegionList></DetectionRegionInfo>",i):""}},{key:"setRegionInfo",value:function(e){var t=this;if(!l["a"])return"";var a,i=t.setRegionInfo2Json(e);return i.grid&&(a=l["a"].setGridInfo(i.grid)),i.rect.add&&i.rect.add.length>0&&(a=l["a"].setDrawShapeInfo("Rect",i.rect.add[0])),i.rect.set&&i.rect.set.length>0&&(a=l["a"].setRectInfo(i.rect.set)),a}},{key:"unload",value:function(){return l["a"].removePlugin()}},{key:"setDrawShapeInfo",value:function(){var e={closed:!0,tips:"",drawColor:"#ff0000",fillColor:"#646464",translucent:0,type:0,maxShapeSupport:1};return l["a"].setDrawShapeInfo("Rect",e)}}]),t}();t["a"]=new u}).call(this,a("1157"))},"9de6":function(e,t,a){},"9e93":function(e,t,a){"use strict";a("372e")},"9ee0":function(e,t,a){},a018:function(e,t,a){"use strict";a("4d1e")},a07e:function(e,t,a){"use strict";a("ee53")},a1a4:function(e,t,a){},a1ee:function(e,t,a){},a236:function(e,t,a){"use strict";a("d4ce")},a424:function(e,t,a){"use strict";(function(e){a("6b54"),a("7514"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("7de8"),s=a("9741"),l=a("d09c"),c=a("c98f"),u=a("c050"),d=a("f193"),p=a("8d94"),m=function(){function t(){Object(n["a"])(this,t),this.oCap={bTelnet:!1,bSSH:!1,bSupportEncryption:!1,iSecretKeyMin:6,iSecretKeyMax:12,bLoginLock:!1,bStreamEncryption:!1,bSupportImageURlCertificate:!1,bWrongNumber:!1,bLockTime:!1,oWrongNumber:{bSupport:!1,iMax:0,iMin:0},oLockTime:{bSupport:!1,iMax:0,iMin:0},bSupportAuthenticationService:!1,iServiceClosurePeriodMin:1,iServiceClosurePeriodMax:30},this.oServiceInfo={bTelnet:!1,bSSH:!1,szPwd:"",bEncryption:!1,bLoginLock:!1,iWrongNumber:5,bStreamEncryption:!1,bImageURlCertificate:!1,bEnableSerial:!1,iServiceCloseTime:7},this.bNVRDevice=0===s["a"].iDeviceType,this.oInputValid={oServiceCloseTime:{required:!0,range:[1,30],bSkipValid:!1},oPassword:{lengthRange:[6,12]}},this.oAdvanceCap={oSecurityEnhanced:{bSupport:!0},oTimeOutExit:{bSupport:!0,oEnable:{bSupport:!1},oTimeOut:{bSupport:!0,iMax:60,iMin:1}},oDigestStatus:{bSupport:!1}},this.oAdvancedInfoCache={securityEnhanced:!1},this.oAdvancedInfo={securityEnhanced:!1,noOperationEnabled:!1,noOperationTime:15,digestStatus:"SHA256"}}return Object(o["a"])(t,[{key:"init",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["a"].getSecurityCap();case 2:return t.next=4,this.getSecurityService();case 4:return t.next=6,this.getSecurityAdvanced();case 6:this.oAdvanceCap=e.extend(!0,{},c["a"].oSecurityCap.oSecurityAdvanced),this.oCap.oWrongNumber=c["a"].oSecurityCap?e.extend(!0,{},c["a"].oSecurityCap.oWrongNumber):{bSupport:!1,iMax:0,iMin:0},this.oCap.oLockTime=c["a"].oSecurityCap?e.extend(!0,{},c["a"].oSecurityCap.oLockTime):{bSupport:!1,iMax:0,iMin:0};case 9:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}()},{key:"getImageURlCertificateInfo",value:function(){var e=this;return new Promise((function(t,a){var i={urlCGI:"pictureURlCertificate",data:null,loading:!0};d["a"].get(i).then((function(a){var i=a.oResult;e.oServiceInfo.bImageURlCertificate=i.enable,t(a)}),(function(e){a(e)}))}))}},{key:"getSerialCap",value:function(){var t=this,a={urlCGI:"SerialCap",data:null,loading:!0};return d["a"].get(a).then((function(a){var i=a.oResult;t.oCap.bSupportAuthenticationService=e(i).find("isSupportAuthenticationService").eq(0).text()}),(function(){t.oCap.bSupportAuthenticationService=!1}))}},{key:"getEncryptionCap",value:function(){var e=this,t={urlCGI:"streamEncryptionCap",data:null,loading:!0};return d["a"].get(t).then((function(t){var a=t.oResult;e.oCap.iSecretKeyMin=a["secretKey"]["@min"],e.oCap.iSecretKeyMax=a["secretKey"]["@max"]}))}},{key:"getEncryptionEnable",value:function(){var e=this;this.oServiceInfo.bEncryption=!1;var t={urlCGI:"streamEncryptionEnable",data:null,loading:!0},a={urlCGI:"encryptionSecretKey",data:null,loading:!0};return r["a"].waitAll([d["a"].get(t).then((function(t){var a=t.oResult;e.oServiceInfo.bEncryption=a["enable"]})),d["a"].get(a).then((function(t){var a=t.oResult;e.oServiceInfo.szPwd=a["secretKey"]}))])}},{key:"getSecurityService",value:function(){var t=this,a={urlCGI:"telnetService",data:null,loading:!0},i={urlCGI:"sshService",data:null,loading:!0},n=[d["a"].get(a).then((function(e){var a=e.oResult;t.oCap.bTelnet=!0,t.oServiceInfo.bTelnet=r["a"].nodeValue(a,"enabled","b")}),(function(){t.oCap.bTelnet=!1})),d["a"].get(i).then((function(e){var a=e.oResult;t.oCap.bSSH=!0,t.oServiceInfo.bSSH=r["a"].nodeValue(a,"enabled","b")}),(function(){t.oCap.bSSH=!1}))];if(!t.bNVRDevice){var o={urlCGI:"illegalLoginLockService",data:null,loading:!0},s={urlCGI:"streamEncryption",params:{channel:1},data:null,loading:!0};n.push(d["a"].get(o).then((function(a){var i=a.oResult;e(i).find("enabled").length&&(t.oCap.bLoginLock=!0,t.oServiceInfo.bLoginLock=r["a"].nodeValue(i,"enabled","b")),e(i).find("maxIllegalLoginTimes").length&&(t.oCap.bWrongNumber=t.oCap.oWrongNumber.bSupport,t.oServiceInfo.iWrongNumber=r["a"].nodeValue(i,"maxIllegalLoginTimes","i"))}),(function(){t.oCap.bLoginLock=!1,t.oCap.bWrongNumber=!1,t.oCap.bLockTime=!1})),d["a"].get(s).then((function(e){var a=e.oResult;t.oCap.bStreamEncryption=!0,t.oServiceInfo.bStreamEncryption=r["a"].nodeValue(a,"enabled","b")}),(function(){t.oCap.bStreamEncryption=!1})))}return r["a"].waitAll(n)}},{key:"saveEncryptionEnable",value:function(){var e={};return e["enable"]=this.oServiceInfo.bEncryption,new Promise((function(t,a){var i={urlCGI:"streamEncryptionEnable",data:e,loading:!0};d["a"].put(i).then((function(e){t(e)}),(function(e){a(e)}))}))}},{key:"setSSH",value:function(){var e="<?xml version='1.0' encoding='UTF-8'?><SSH><enabled>"+this.oServiceInfo.bSSH.toString()+"</enabled></SSH>",t=r["a"].parseXmlFromStr(e);return new Promise((function(e,a){var i={urlCGI:"sshService",data:t,loading:!0};d["a"].put(i).then((function(t){e(t)}),(function(e){a(e)}))}))}},{key:"getAuthenticationInfo",value:function(){var e=this,t={urlCGI:"authenticationInfo",data:null,loading:!0};return d["a"].get(t).then((function(t){var a=t.oResult;e.oServiceInfo.bEnableSerial=a["Authentication"]["enabled"],e.oServiceInfo.iServiceCloseTime=a["Authentication"]["serviceClosurePeriod"]}))}},{key:"setAuthenticationService",value:function(){var e={Authentication:{}};return e.Authentication.enabled=this.oServiceInfo.bEnableSerial,e.Authentication.enabled||(e.Authentication.serviceClosurePeriod=parseInt(this.oServiceInfo.iServiceCloseTime,10)),new Promise((function(t,a){var i={urlCGI:"authenticationInfo",data:e,loading:!0};d["a"].put(i).then((function(e){t(e)}),(function(e){a(e)}))}))}},{key:"setTelnet",value:function(){var e="<?xml version='1.0' encoding='UTF-8'?><Telnetd><enabled>"+this.oServiceInfo.bTelnet.toString()+"</enabled></Telnetd>",t=r["a"].parseXmlFromStr(e);return new Promise((function(e,a){var i={urlCGI:"telnetService",data:t,loading:!0};d["a"].put(i).then((function(t){e(t)}),(function(e){a(e)}))}))}},{key:"setLoginLock",value:function(){var e=this,t="<?xml version='1.0' encoding='UTF-8'?><IllegalLoginLock>";e.oCap.bLoginLock&&(t+="<enabled>"+this.oServiceInfo.bLoginLock.toString()+"</enabled>"),e.oCap.bWrongNumber&&(t+="<maxIllegalLoginTimes>"+this.oServiceInfo.iWrongNumber.toString()+"</maxIllegalLoginTimes>"),e.oCap.bLockTime&&(t+="<maxIllegalLoginLockTime>"+this.oServiceInfo.iLockTime.toString()+"</maxIllegalLoginLockTime>"),t+="</IllegalLoginLock>";var a=r["a"].parseXmlFromStr(t);return new Promise((function(e,t){var i={urlCGI:"illegalLoginLockService",data:a,loading:!0};d["a"].put(i).then((function(t){e(t)}),(function(e){t(e)}))}))}},{key:"setStreamEncryption",value:function(){var e="<?xml version='1.0' encoding='UTF-8'?><StreamEncryption><enabled>"+this.oServiceInfo.bStreamEncryption.toString()+"</enabled></StreamEncryption>",t=r["a"].parseXmlFromStr(e);return new Promise((function(e,a){var i={urlCGI:"streamEncryption",data:t,loading:!0};return d["a"].put(i).then((function(t){e(t)}),(function(e){a(e)}))}))}},{key:"setSecretKey",value:function(){var e={};return e["secretKey"]=r["a"].encodeString(this.oServiceInfo.szPwd),new Promise((function(t,a){var i={urlCGI:"encryptionSecretKey",data:e,loading:!0};return d["a"].put(i).then((function(e){t(e)}),(function(e){a(e)}))}))}},{key:"setPictureURlCertificate",value:function(){var e=this,t={};return t["secretKey"]=r["a"].encodeString(this.oServiceInfo.szPwd),new Promise((function(t,a){var i={urlCGI:"pictureURlCertificate",data:{enable:e.oServiceInfo.bImageURlCertificate},loading:!0};d["a"].put(i).then((function(e){t(e)}),(function(e){a(e)}))}))}},{key:"save",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,a=[],t.oServiceInfo.bEncryption&&t.oServiceInfo.szPwd!==s["a"].m_szDefaultPwd&&a.push(t.setSecretKey()),t.oCap.bSupportEncryption&&a.push(t.saveEncryptionEnable()),t.oCap.bSupportAuthenticationService&&a.push(t.setAuthenticationService()),(t.oCap.bLoginLock||t.oCap.bWrongNumber||t.oCap.bLockTime)&&a.push(t.setLoginLock()),t.oCap.bSupportImageURlCertificate&&a.push(t.setPictureURlCertificate()),t.oCap.bTelnet&&a.push(t.setTelnet()),t.oAdvanceCap.oTimeOutExit.bSupport&&a.push(t.setSecurityAdvanced()),e.next=11,r["a"].waitAll(a).then((function(e){for(var t=[],a=0,i=e.length;a<i;++a)e[a]&&t.push(e[a].xhr);l["a"].successState(t)}),(function(e){l["a"].saveState(e)}));case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getSecurityAdvanced",value:function(){var t=this,a={urlCGI:"securityAdvancedConfiguration",params:{},data:null,loading:!0};return d["a"].get(a).then((function(a){try{e.extend(!0,t.oAdvancedInfo,a.oResult.SecurityAdvanced),e.extend(!0,t.oAdvancedInfoCache,a.oResult.SecurityAdvanced)}catch(i){console.log("e")}}),(function(){console.log("error")}))}},{key:"setSecurityAdvanced",value:function(){var t=this,a={SecurityAdvanced:e.extend(!0,{},t.oAdvancedInfo)};return new Promise((function(e,t){var i={urlCGI:"securityAdvancedConfiguration",params:null,data:a,loading:!0};d["a"].put(i).then((function(t){e(t)}),(function(e){t(e)}))}))}},{key:"enableSecurityEnhanced",value:function(){var e=this;return e.oAdvancedInfo.securityEnhanced=!e.oAdvancedInfo.securityEnhanced,new Promise((function(t){e.oAdvancedInfo.securityEnhanced&&u["a"].confirm(p["a"].t("enableSecurityEnhancedTips"),(function(){t()}),(function(){e.oAdvancedInfo.securityEnhanced=!1,t()}))}))}}]),t}();t["a"]=new m}).call(this,a("1157"))},a469:function(e,t,a){"use strict";a("44e6")},a564:function(e,t,a){},a6ab:function(e,t,a){"use strict";a("9de6")},a776:function(e,t,a){},a7d3:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"channel-select"},[t("div",{staticClass:"select-content"},[t("hm-checkbox-group",{staticClass:"halfControl",on:{input:e.showSelectAll},model:{value:e.checkValueList,callback:function(t){e.checkValueList=t},expression:"checkValueList"}},e._l(e.options,(function(a){return t("hm-checkbox",{key:a.value,attrs:{option:a.value+"",position:"left"}},[e._v(e._s(a.name))])})),1)],1),t("div",{staticClass:"bottom-container"},[t("div",{staticClass:"select-all-content"},[t("hm-checkbox",{attrs:{position:"left","hollow-style":e.bIndeterminate},on:{input:e.selectAll},model:{value:e.bSelectAll,callback:function(t){e.bSelectAll=t},expression:"bSelectAll"}},[e._v(e._s(e.$t("selectAll")))]),t("div",[e._v(" "+e._s(e.$t("hadChoose")+"(".concat(e.checkValueList.length,")"))+" ")])],1),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{attrs:{disabled:0===e.checkValueList.length},on:{click:e.confirmAdd}},[e._v(e._s(e.$t("ok")))])],1)]),t("hm-popup",{ref:"myPopup",attrs:{type:"my-popup"}},[t("hm-loading",{attrs:{size:28}})],1)],1)},n=[],o={name:"ChannelSelect",props:{options:{type:Array,default:function(){return[]}},type:{type:String,default:function(){return"add"}}},data:function(){return{checkValueList:[],bSelectAll:!1,bIndeterminate:!1}},mounted:function(){this.checkValueList=this.options.map((function(e){return e.added?e.value+"":""})),this.checkValueList=this.checkValueList.filter((function(e){return e})),this.showSelectAll(this.checkValueList)},methods:{showSelectAll:function(e){e.length===this.options.length?(this.bSelectAll=!0,this.bIndeterminate=!1):e.length>0&&e.length<this.options.length?(this.bSelectAll=!0,this.bIndeterminate=!0):(this.bSelectAll=!1,this.bIndeterminate=!1)},selectAll:function(e){e?(this.bIndeterminate=!1,this.checkValueList=this.options.map((function(e){return e.value+""}))):this.checkValueList=[]},confirmAdd:function(){this.$emit("editChannel",this.checkValueList)}}},r=o,s=(a("4ed6"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"453e46eb",null);t["default"]=l.exports},a7e8:function(e,t,a){"use strict";a("cd29")},a807:function(e,t,a){"use strict";a("f743")},a912:function(e,t,a){},a96a:function(e,t,a){},a9b7:function(e,t,a){"use strict";a("cc29")},a9cd:function(e,t,a){"use strict";a("0fdc")},a9dc:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:"SRTP","right-type":"text","show-save-button":!0,"save-text":e.$t("save"),"b-lazy-loading":e.bLazyLoading},on:{"save-handle":e.save}},[t("div",{staticClass:"multicast-page-wrapper",attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"hm-index-list-item"},[t("hm-validator-group",{attrs:{result:e.validate}},[t("channel-list",{attrs:{"o-channel":e.oChannel}}),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t(" ")}},[t("hm-cell",{attrs:{title:e.$t("streamType")}},[t("base-select",{attrs:{title:e.$t("streamType"),options:e.oCap.aStreamList},model:{value:e.oParams.szStreamType,callback:function(t){e.$set(e.oParams,"szStreamType",t)},expression:"oParams.szStreamType"}})],1),e.oCapa.bSupportSRTSP&&e.oCapa.bSupportSRTPVideoDestPortNo?t("hm-cell",{class:{"cell-require":e.oParamsValid.oSRTPVideoDestPortNo&&e.oParamsValid.oSRTPVideoDestPortNo.required},attrs:{title:e.$t("videoDestPortNo")}},[t("hm-input",{model:{value:e.oParams.iSRTSPVideoDestPortNo,callback:function(t){e.$set(e.oParams,"iSRTSPVideoDestPortNo",t)},expression:"oParams.iSRTSPVideoDestPortNo"}}),t("hm-validator",{attrs:{model:e.oParams.iSRTSPVideoDestPortNo,rules:e.oParamsValid.oSRTPVideoDestPortNo,param:e.$t("videoDestPortNo")}})],1):e._e(),e.oCapa.bSupportSRTSP&&e.oCapa.bSupportSRTSPAudioDestPortNo?t("hm-cell",{class:{"cell-require":e.oParamsValid.oSRTPAudioDestPortNo&&e.oParamsValid.oSRTPAudioDestPortNo.required},attrs:{title:e.$t("audioDestPortNo")}},[t("hm-input",{model:{value:e.oParams.iSRTSPAudioDestPortNo,callback:function(t){e.$set(e.oParams,"iSRTSPAudioDestPortNo",t)},expression:"oParams.iSRTSPAudioDestPortNo"}}),t("hm-validator",{attrs:{model:e.oParams.iSRTSPAudioDestPortNo,rules:e.oParamsValid.oSRTPAudioDestPortNo,param:e.$t("audioDestPortNo")}})],1):e._e()],1)],1)],1),t("base-view")],1)])},n=[],o=(a("96cf"),a("1da1")),r=a("1c1a"),s=a("6458"),l=a("37b5"),c=a("c050"),u=a("47b5"),d={name:"SRTP",components:{BaseView:r["a"],ChannelList:s["a"],BaseSelect:u["a"]},data:function(){return{bLazyLoading:!1,validate:{},oParams:l["a"].m_oParams,oParamsValid:l["a"].m_oParamsValid,oCap:l["a"].m_oCap,oCapa:l["a"].m_oCapa,oChannel:{id:1}}},watch:{"oChannel.id":{handler:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t>0&&0!==t&&t!==a&&l["a"].initMulticast(t).finally((function(){}));case 1:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),deep:!0},"oParams.szStreamType":{handler:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t!==a&&l["a"].changeStream().then((function(){}));case 1:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),deep:!0}},created:function(){this.oChannel={id:1},l["a"].initMulticast(this.oChannel.id).finally((function(){}))},methods:{save:function(){var e=this;this.validate.validateAll(),c["a"].validateTips(this.validate.getErrorReport())&&(this.bLazyLoading=!0,l["a"].save().then((function(){e.bLazyLoading=!1})))}}},p=d,m=(a("a7e8"),a("2877")),h=Object(m["a"])(p,i,n,!1,null,"5b5afe2e",null);t["default"]=h.exports},ab66:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("TCP/IP"),"right-type":"text","show-save-button":!0,"b-lazy-loading":e.oParams.bLazyLoading,"save-text":e.$t("save")},on:{"save-handle":e.save}},[t("div",{staticClass:"displayContent",attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"hm-index-list-item"},[t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[e.oCapbilities.bSupportWorkMode?t("hm-cell",{attrs:{title:e.$t("workMode")}},[t("base-select",{attrs:{title:e.$t("workMode"),options:e.oWorkMode},model:{value:e.oParams.szNetworkMode,callback:function(t){e.$set(e.oParams,"szNetworkMode",t)},expression:"oParams.szNetworkMode"}})],1):e._e(),"multiAddress"===e.oParams.szNetworkMode&&e.oCapbilities.aEthernetNames.length>1?t("hm-cell",{attrs:{title:e.$t("Lan")}},[t("base-select",{attrs:{title:e.$t("Lan"),options:e.oCapbilities.aEthernetNames},on:{change:e.changeEthernet},model:{value:e.oParams.iNetIndex,callback:function(t){e.$set(e.oParams,"iNetIndex",t)},expression:"oParams.iNetIndex"}})],1):e._e(),t("hm-cell",{attrs:{title:e.$t("nicType")}},[t("base-select",{attrs:{disabled:"multiAddress"!==e.oParams.szNetworkMode,title:e.$t("nicType"),options:e.oEthernetType},model:{value:e.oParams.szEthernetType,callback:function(t){e.$set(e.oParams,"szEthernetType",t)},expression:"oParams.szEthernetType"}})],1)],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("dhcp")}},[t("hm-switch",{attrs:{disabled:e.oParams.bEnablePPPoE},nativeOn:{change:function(t){return e.enableDns(1)}},model:{value:e.oParams.bDhcp,callback:function(t){e.$set(e.oParams,"bDhcp",t)},expression:"oParams.bDhcp"}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oIPv4&&e.oParamsValid.oIPv4.required},attrs:{title:e.$t("deviceIpAdd")}},[t("div",{attrs:{slot:"title"},slot:"title"},[t("span",[e._v(e._s(e.$t("deviceIpAdd")))])]),t("hm-input",{attrs:{disabled:e.oParams.bDhcp},model:{value:e.oParams.szIpv4,callback:function(t){e.$set(e.oParams,"szIpv4",t)},expression:"oParams.szIpv4"}}),t("hm-validator",{attrs:{model:e.oParams.szIpv4,rules:e.oParamsValid.oIPv4,param:e.$t("deviceIpAdd")}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oIpMask&&e.oParamsValid.oIpMask.required},attrs:{title:e.$t("subNetMask")}},[t("hm-input",{attrs:{disabled:e.oParams.bDhcp},model:{value:e.oParams.szIpv4Mask,callback:function(t){e.$set(e.oParams,"szIpv4Mask",t)},expression:"oParams.szIpv4Mask"}}),t("hm-validator",{attrs:{model:e.oParams.szIpv4Mask,rules:e.oParamsValid.oIpMask,param:e.$t("subNetMask")}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oIpGetway&&e.oParamsValid.oIpGetway.required},attrs:{title:e.$t("defaultGateWay")}},[t("hm-input",{attrs:{disabled:e.oParams.bDhcp||e.oParams.bEnablePPPoE},model:{value:e.oParams.szIpv4Gateway,callback:function(t){e.$set(e.oParams,"szIpv4Gateway",t)},expression:"oParams.szIpv4Gateway"}}),t("hm-validator",{attrs:{model:e.oParams.szIpv4Gateway,rules:e.oParamsValid.oIpGetway,param:e.$t("defaultGateWay")}})],1),e.oCapbilities.bNVR?e._e():t("hm-cell",{attrs:{title:e.$t("deviceIpAdd")}},[t("div",{attrs:{slot:"title"},slot:"title"},[t("span",{staticClass:"label-test",on:{click:function(t){return e.testIP()}}},[e._v(e._s(e.$t("test")))])])])],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[e.oParams.bSupportIpv6Mode?t("hm-cell",{attrs:{title:e.$t("ipv6Mode")}},[t("base-select",{attrs:{title:e.$t("ipv6Mode"),options:e.oIPv6Mode},model:{value:e.oParams.szIpv6Mode,callback:function(t){e.$set(e.oParams,"szIpv6Mode",t)},expression:"oParams.szIpv6Mode"}})],1):e._e(),e.oParams.bSupportIpv6?t("hm-cell",{class:{"cell-require":e.oParamsValid.oIpv6Addr&&e.oParamsValid.oIpv6Addr.required},attrs:{title:e.$t("deviceIpV6Add")}},[t("hm-input",{attrs:{disabled:"manual"!==e.oParams.szIpv6Mode&&e.oParams.bSupportIpv6Mode},model:{value:e.oParams.szIpv6,callback:function(t){e.$set(e.oParams,"szIpv6",t)},expression:"oParams.szIpv6"}}),t("hm-validator",{attrs:{model:e.oParams.szIpv6,rules:e.oParamsValid.oIpv6Addr,param:e.$t("deviceIpV6Add"),disabled:"manual"!==e.oParams.szIpv6Mode}})],1):e._e(),e.oParams.bSupportSubMaskLength&&e.oCapbilities.bNVR?t("hm-cell",{class:{"cell-require":e.oParamsValid.oIpv6Bitmask&&e.oParamsValid.oIpv6Bitmask.required},attrs:{title:e.$t("subMaskLength")}},[t("hm-input",{attrs:{disabled:"manual"!==e.oParams.szIpv6Mode&&e.oParams.bSupportIpv6Mode},model:{value:e.oParams.szSubMaskLength,callback:function(t){e.$set(e.oParams,"szSubMaskLength",t)},expression:"oParams.szSubMaskLength"}}),t("hm-validator",{attrs:{model:e.oParams.szSubMaskLength,rules:e.oParamsValid.oIpv6Bitmask,param:e.$t("subMaskLength"),disabled:e.bSkipValid}})],1):e._e(),e.oParams.bSupportIpv6&&!e.oCapbilities.bNVR?t("hm-cell",{class:{"cell-require":e.oParamsValid.oIpv6Bitmask&&e.oParamsValid.oIpv6Bitmask.required},attrs:{title:e.$t("ipv6Bitmask")}},[t("hm-input",{attrs:{disabled:"manual"!==e.oParams.szIpv6Mode&&e.oParams.bSupportIpv6Mode},model:{value:e.oParams.szIpv6Bitmask,callback:function(t){e.$set(e.oParams,"szIpv6Bitmask",t)},expression:"oParams.szIpv6Bitmask"}}),t("hm-validator",{attrs:{model:e.oParams.szIpv6Bitmask,rules:e.oParamsValid.oIpv6Bitmask,param:e.$t("ipv6Bitmask"),disabled:e.bSkipValid}})],1):e._e(),e.oParams.bSupportIpv6?t("hm-cell",{class:{"cell-require":e.oParamsValid.oIpv6GateWay&&e.oParamsValid.oIpv6GateWay.required},attrs:{title:e.$t("defaultV6GateWay")}},[t("hm-input",{attrs:{disabled:"manual"!==e.oParams.szIpv6Mode&&e.oParams.bSupportIpv6Mode},model:{value:e.oParams.szIpv6Gateway,callback:function(t){e.$set(e.oParams,"szIpv6Gateway",t)},expression:"oParams.szIpv6Gateway"}}),t("hm-validator",{attrs:{model:e.oParams.szIpv6Gateway,rules:e.oParamsValid.oIpv6GateWay,param:e.$t("defaultV6GateWay"),disabled:"manual"!==e.oParams.szIpv6Mode||!e.oParams.bSupportIpv6Mode||e.oCapbilities.bNVR}})],1):e._e()],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("macAddress")}},[t("hm-input",{attrs:{disabled:!0},model:{value:e.oParams.szMacAddress,callback:function(t){e.$set(e.oParams,"szMacAddress",t)},expression:"oParams.szMacAddress"}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oMtu&&e.oParamsValid.oMtu.required},attrs:{title:"MTU"}},[t("hm-input",{model:{value:e.oParams.szMtu,callback:function(t){e.$set(e.oParams,"szMtu",t)},expression:"oParams.szMtu"}}),t("hm-validator",{attrs:{model:e.oParams.szMtu,rules:e.oParamsValid.oMtu,param:"MTU"}})],1),e.oCapbilities.bSptUsePhoneSadp?t("hm-cell",{attrs:{title:e.$t("usePhoneSadp")}},[t("hm-switch",{model:{value:e.oParams.bUsePhoneSadp,callback:function(t){e.$set(e.oParams,"bUsePhoneSadp",t)},expression:"oParams.bUsePhoneSadp"}})],1):e._e(),e.oCapbilities.bSptIPCMulticast?t("hm-cell",{class:{"cell-require":e.oParamsValid.oMulticast&&e.oParamsValid.oMulticast.required},attrs:{title:e.$t("multicast")}},[t("hm-input",{model:{value:e.oParams.szMulticast,callback:function(t){e.$set(e.oParams,"szMulticast",t)},expression:"oParams.szMulticast"}}),t("hm-validator",{attrs:{model:e.oParams.szMulticast,rules:e.oParamsValid.oMulticast,param:e.$t("multicast")}})],1):e._e(),e.oCapbilities.bSptActiveMulticast?t("div",[t("hm-cell",{attrs:{title:e.$t("enableActiveMulticast")}},[t("hm-switch",{model:{value:e.oParams.bEnableActiveMulticast,callback:function(t){e.$set(e.oParams,"bEnableActiveMulticast",t)},expression:"oParams.bEnableActiveMulticast"}})],1),e.oParams.bSupportIpv6Mode?t("hm-cell",{attrs:{title:e.$t("activeMulticastStream"),"is-link":"",value:e.getTranslaor(e.oMulticastStream,e.oParams.szActiveMulticastStream)},nativeOn:{click:function(t){return e.changeMulticastStream()}}}):e._e(),t("hm-cell",{class:{"cell-require":e.oParamsValid.oActiveMulticastAddr&&e.oParamsValid.oActiveMulticastAddr.required},attrs:{title:e.$t("activeMulticastAddr")}},[t("hm-input",{model:{value:e.oParams.szActiveMulticastAddr,callback:function(t){e.$set(e.oParams,"szActiveMulticastAddr",t)},expression:"oParams.szActiveMulticastAddr"}}),t("hm-validator",{attrs:{model:e.oParams.szActiveMulticastAddr,rules:e.oParamsValid.oActiveMulticastAddr,param:e.$t("activeMulticastAddr")}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oActiveMulticastPort&&e.oParamsValid.oActiveMulticastPort.required},attrs:{title:e.$t("activeMulticastPort")}},[t("hm-input",{model:{value:e.oParams.szActiveMulticastPort,callback:function(t){e.$set(e.oParams,"szActiveMulticastPort",t)},expression:"oParams.szActiveMulticastPort"}}),t("hm-validator",{attrs:{model:e.oParams.szActiveMulticastPort,rules:e.oParamsValid.oActiveMulticastPort,param:e.$t("activeMulticastPort")}})],1)],1):e._e()],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("dnsServerConfig")}},[e.oCapbilities.bSupportEnableDns?t("hm-cell",{attrs:{title:e.$t("autoDNS")}},[t("hm-switch",{attrs:{disabled:e.oParams.bAutoDnsDisabled||!e.oParams.bDhcp&&"dhcp"!==e.oParams.szIpv6Mode},nativeOn:{change:function(t){return e.enableDns(2)}},model:{value:e.oParams.bAutoDns,callback:function(t){e.$set(e.oParams,"bAutoDns",t)},expression:"oParams.bAutoDns"}})],1):e._e(),t("hm-cell",{class:{"cell-require":e.oParamsValid.oSubDns&&e.oParamsValid.oSubDns.required},attrs:{title:e.$t("primaryDNS")}},[t("hm-input",{attrs:{disabled:e.oParams.bDnsServerDisabled||e.oParams.bDhcp},model:{value:e.oParams.szPrimaryDns,callback:function(t){e.$set(e.oParams,"szPrimaryDns",t)},expression:"oParams.szPrimaryDns"}}),t("hm-validator",{attrs:{model:e.oParams.szPrimaryDns,rules:e.oParamsValid.oSubDns,param:e.$t("primaryDNS"),disabled:e.oParams.bDnsServerDisabled}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oSubDns&&e.oParamsValid.oSubDns.required},attrs:{title:e.$t("alternateDNS")}},[t("hm-input",{attrs:{disabled:e.oParams.bDnsServerDisabled||e.oParams.bDhcp},model:{value:e.oParams.szAlternateDns,callback:function(t){e.$set(e.oParams,"szAlternateDns",t)},expression:"oParams.szAlternateDns"}}),t("hm-validator",{attrs:{model:e.oParams.szAlternateDns,rules:e.oParamsValid.oSubDns,param:e.$t("alternateDNS"),disabled:e.oParams.bDnsServerDisabled}})],1),"active-backup"===e.oParams.szNetworkMode?t("hm-cell",{attrs:{title:e.$t("mainNic")}},[t("base-select",{attrs:{title:e.$t("mainNic"),options:e.oMainEthernet},model:{value:e.oParams.szMainEthernet,callback:function(t){e.$set(e.oParams,"szMainEthernet",t)},expression:"oParams.szMainEthernet"}})],1):e._e(),e.oCapbilities.bSupportDefaultConnection&&"multiAddress"==e.oParams.szNetworkMode?t("hm-cell",{attrs:{title:e.$t("defaultRoute")}},[t("base-select",{attrs:{title:e.$t("defaultRoute"),options:e.oCapbilities.aRoute},on:{change:e.changeDefaultRoute},model:{value:e.oParams.szDefaultRoute,callback:function(t){e.$set(e.oParams,"szDefaultRoute",t)},expression:"oParams.szDefaultRoute"}})],1):e._e(),e.oCapbilities.bSupportPoe?t("hm-cell",{attrs:{title:e.$t("poeNicConfig")}}):e._e(),e.oCapbilities.bSupportPoe?t("hm-cell",{class:{"cell-require":e.oParamsValid.oIPv4&&e.oParamsValid.oIPv4.required},attrs:{title:e.$t("inNicIPv4Address")}},[t("hm-input",{model:{value:e.oParams.szInNicIPv4Address,callback:function(t){e.$set(e.oParams,"szInNicIPv4Address",t)},expression:"oParams.szInNicIPv4Address"}}),t("hm-validator",{attrs:{model:e.oParams.szInNicIPv4Address,rules:e.oParamsValid.oIPv4,param:e.$t("inNicIPv4Address")}})],1):e._e()],1)],1)],1),t("base-view")],1)])},n=[],o=(a("ac6a"),a("96cf"),a("1da1")),r=a("1c1a"),s=a("3f14"),l=a("c050"),c=a("47b5"),u={name:"TCPIP",components:{BaseView:r["a"],BaseSelect:c["a"]},data:function(){return{validate:{},oParamsValid:s["a"].m_oParamsValid,oCapbilities:s["a"].m_oCapbilities,oParams:s["a"].m_oParams,oEthernetParams:s["a"].m_aEthernetParams,verifyResult:{},option:[],lan:["lan1","lan2","lan3","lan4"],NetworkModeoption:[],oWorkMode:[],oEthernetType:[],oIPv6Mode:[],oMulticastStream:[],oMainEthernet:[],bSkipValid:!0}},watch:{"oParams.szNetworkMode":{handler:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t===a&&s["a"].enableDns(),t!==a&&s["a"].setCurPageNetParam(t);case 2:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),deep:!0},"oParams.szDefaultRoute":{handler:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t!==a&&s["a"].enableDns(3);case 1:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),deep:!0},"oParams.szIpv6Mode":{handler:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=this,this.oCapbilities.bNVR?"manual"===t?(a.oParamsValid.oIpv6Addr.required=!0,a.oParams.bSupportIpv6Mode&&(a.oParamsValid.oIpv6Bitmask.required=!0),a.oParamsValid.oIpv6GateWay.required=!0,a.bSkipValid=!1):(a.oParamsValid.oIpv6Addr.required=!1,a.oParamsValid.oIpv6Bitmask.required=!1,a.oParamsValid.oIpv6GateWay.required=!1,a.bSkipValid=!0,a.oParams.oIPV6&&a.oParams.bSupportIpv6Mode&&(i=a.oParams.oIPV6,i[t]?(a.oParams.szIpv6=i[t].address,a.oParams.szSubMaskLength=i[t].bitMask):(a.oParams.szIpv6="",a.oParams.szSubMaskLength=""))):("manual"===t?(a.oParamsValid.oIpv6Addr.required=!0,a.oParamsValid.oIpv6Bitmask.required=!0,a.oParamsValid.oIpv6GateWay.required=!0,a.bSkipValid=!1):(a.oParamsValid.oIpv6Addr.required=!1,a.oParamsValid.oIpv6Bitmask.required=!1,a.oParamsValid.oIpv6GateWay.required=!1,a.bSkipValid=!0),a.oParams&&a.oParams.bSupportIpv6Mode&&(n=a.oParams.oIPV6,n[t]?(a.oParams.szIpv6=n[t].address,a.oParams.szIpv6Bitmask=n[t].bitMask):(a.oParams.szIpv6="",a.oParams.szIpv6Bitmask="")));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0}},created:function(){var e=this;this.oChannel={id:1};var t=this;s["a"].initNetwork().finally((function(){var a=[e.$t("halfDup10"),e.$t("fullDup10"),e.$t("halfDup100"),e.$t("nicTypeAuto"),e.$t("fullDup1000")],i=[{value:"active-backup",view:e.$t("NetFaultTolerance")},{value:"balance-rr",view:e.$t("loadBalance")}];s["a"].setCurPageNetParam(s["a"].m_oParams.szNetworkMode),t.oParamsValid=s["a"].m_oParamsValid,t.oCapbilities=s["a"].m_oCapbilities,t.oParams=s["a"].m_oParams,t.oIPV6={address:t.oParams.szIpv6,szIpv6Bitmask:t.oParams.szIpv6Bitmask,defaultGateway:t.oParams.defaultGateway,bitMask:t.oParams.bitMask},t.option.length=0,t.oCapbilities.aEthernetTypeSupport.forEach((function(e,i){e&&t.option.push({value:i+1,view:a[i]})})),t.NetworkModeoption.length=0,t.NetworkModeoption.push({value:"multiAddress",view:t.$t("multiAddress")}),t.oCapbilities.aNetworkMode.forEach((function(e,a){e&&t.option.push(i[a])})),t.oWorkMode=[],t.oCapbilities.aNetworkMode[0]&&t.oWorkMode.push({value:"active-backup",text:t.$t("NetFaultTolerance")}),t.oCapbilities.aNetworkMode[1]&&t.oWorkMode.push({value:"balance-rr",text:t.$t("loadBalance")}),t.oWorkMode.push({value:"multiAddress",text:t.$t("multiAddress")}),t.oEthernetType=[],t.oCapbilities.aEthernetTypeSupport[4]&&t.oEthernetType.push({value:"5",text:t.$t("nicTypeAuto")}),t.oCapbilities.aEthernetTypeSupport[0]&&t.oEthernetType.push({value:"1",text:t.$t("halfDup10")}),t.oCapbilities.aEthernetTypeSupport[1]&&t.oEthernetType.push({value:"2",text:t.$t("fullDup10")}),t.oCapbilities.aEthernetTypeSupport[2]&&t.oEthernetType.push({value:"3",text:t.$t("halfDup100")}),t.oCapbilities.aEthernetTypeSupport[3]&&t.oEthernetType.push({value:"4",text:t.$t("fullDup100")}),t.oCapbilities.aEthernetTypeSupport[5]&&t.oEthernetType.push({value:"6",text:t.$t("fullDup1000")}),t.oIPv6Mode=[{value:"manual",text:t.$t("manual")},{value:"dhcp",text:t.$t("dhcp")},{value:"ra",text:t.$t("routeAdvertisement")}],t.oMulticastStream=[{value:"main",text:t.$t("mainStream")}],t.oMainEthernet=[{value:"1",text:"Lan1"},{value:"2",text:"Lan2"}],t.oCapbilities.aEthernetNames.length>2&&t.oMainEthernet.push({value:"3",text:"Lan3"}),t.oCapbilities.aEthernetNames.length>3&&t.oMainEthernet.push({value:"4",text:"Lan4"})}))},methods:{getTranslaor:function(e,t){var a="";return"undefined"===typeof e||e.length<=0?"":(e.forEach((function(e){e.value!==t&&e.mode!==t||(a=e.name?e.name:e.text)})),a)},changeEthernet:function(){s["a"].setCurPageNetParam("multiAddress",this.oParams.iNetIndex),s["a"].enableDns()},changeDefaultRoute:function(){s["a"].enableDns(3)},changeMulticastStream:function(){var e=this;this.switchMulticastStreamPicker||(this.switchMulticastStreamPicker=this.$createPicker({title:this.$t("activeMulticastStream"),data:[this.oMulticastStream],onSelect:function(t){e.oParams.szActiveMulticastStream=t[0]}})),this.switchMulticastStreamPicker.show()},testIP:function(){s["a"].testIP()},save:function(){this.validate.validateAll(),l["a"].validateTips(this.validate.getErrorReport())&&s["a"].save()},enableDns:function(e){s["a"].enableDns(e)}}},d=u,p=(a("e654"),a("2877")),m=Object(p["a"])(d,i,n,!1,null,"79abaf2f",null);t["default"]=m.exports},ac2b:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("displayInfoOnStream"),"b-lazy-loading":e.bLazyLoading,"right-type":"text"}},[t("div",{staticClass:"stream-page-wrapper",attrs:{slot:"content"},slot:"content"},[t("hm-scroll",[t("div",{staticClass:"hm-index-list-item"},[t("hm-validator-group",{attrs:{result:e.validate}},[t("channel-list",{attrs:{"o-channel":e.oChannel}}),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("enDualVCA")}},[t("hm-switch",{model:{value:e.oStreamOverlay.enabled,callback:function(t){e.$set(e.oStreamOverlay,"enabled",t)},expression:"oStreamOverlay.enabled"}})],1)],1)],1)],1),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{attrs:{disabled:e.bNoSupport},on:{click:e.save}},[e._v(e._s(e.$t("save")))])],1)])],1)])},n=[],o=(a("96cf"),a("1da1")),r=a("cdaf"),s=a("6458"),l={name:"StreamOverlay",components:{ChannelList:s["a"]},data:function(){return{bLazyLoading:!1,validate:{},oStreamOverlay:r["a"].oStreamOverlay,oChannel:r["a"].oChannel,bNoSupport:r["a"].bNoSupport}},watch:{"oChannel.id":{handler:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=this,t>0&&r["a"].getInfo(t).then((function(){a.bNoSupport=r["a"].bNoSupport}));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),immediate:!0}},created:function(){this.oChannel=r["a"].oChannel},methods:{save:function(){var e=this;this.bLazyLoading=!0,r["a"].setInfo(this.oChannel.id).then((function(){e.bLazyLoading=!1}))}}},c=l,u=(a("f247"),a("2877")),d=Object(u["a"])(c,i,n,!1,null,"08cfa5ec",null);t["default"]=d.exports},ae88:function(e,t,a){"use strict";a.r(t);a("6762"),a("2fdb");var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"online-device-select"},[t("div",{class:"multiple"===e.selectType?"select-content":"confirm-content-height"},["multiple"===e.selectType?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[e.outLoading?t("div",{staticClass:"loading-container"},[t("hm-loading",{attrs:{size:28}})],1):e._e(),t("hm-checkbox-group",{staticClass:"halfControl",on:{input:e.showSelectAll},model:{value:e.checkValueList,callback:function(t){e.checkValueList=t},expression:"checkValueList"}},e._l(e.options,(function(i,n){return t("hm-checkbox",{key:"onlineDevice"===e.type?i.deviceIpAdd:i.deviceName+n,staticClass:"with-click",attrs:{option:n+"",position:"left"}},[t("div",{staticClass:"online-list-item",on:{click:function(e){e.stopPropagation()}}},["video"===e.deviceType?t("img",{attrs:{src:a("f915"),alt:""}}):e._e(),"ipSpeaker"===e.deviceType?t("img",{attrs:{src:a("19918"),alt:""}}):e._e(),t("div",{staticClass:"item-right-info",on:{click:function(t){return t.preventDefault(),e.openDeviceInfo(i)}}},[t("div",{staticClass:"item-info"},[t("div",[e._v(e._s("onlineDevice"===e.type?i.deviceIpAdd:i.deviceName))]),t("div",{staticClass:"small-font"},[e._v(e._s("onlineDevice"===e.type?i.serialNumber:i.address))])]),"multiple"===e.selectType?t("div",{staticClass:"item-right"},[t("hm-icon",{staticClass:"arrow-color",attrs:{name:"arrow"}})],1):e._e()])])])})),1)],1):t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[e.outLoading?t("div",{staticClass:"loading-container"},[t("hm-loading",{attrs:{size:28}})],1):e._e(),t("hm-radio-group",{attrs:{options:e.options},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},e._l(e.options,(function(i,n){return t("hm-radio",{key:"onlineDevice"===e.type?i.deviceIpAdd:i.deviceName+n,staticClass:"with-click",attrs:{option:n+"",position:"left"}},[t("div",{staticClass:"online-list-item",on:{click:function(e){e.stopPropagation()}}},["video"===e.deviceType?t("img",{attrs:{src:a("f915"),alt:""}}):e._e(),"ipSpeaker"===e.deviceType?t("img",{attrs:{src:a("19918"),alt:""}}):e._e(),t("div",{staticClass:"item-right-info",on:{click:function(t){return t.preventDefault(),e.openDeviceInfo(i)}}},[t("div",{staticClass:"item-info"},[t("div",[e._v(e._s("onlineDevice"===e.type?i.deviceIpAdd:i.deviceName))]),t("div",{staticClass:"small-font"},[e._v(e._s("onlineDevice"===e.type?i.serialNumber:i.address))])])])])])})),1)],1)],1),"multiple"===e.selectType?t("div",{staticClass:"bottom-container"},[t("div",{staticClass:"select-all-content"},[t("hm-checkbox",{attrs:{position:"left","hollow-style":e.bIndeterminate},on:{input:e.selectAll},model:{value:e.bSelectAll,callback:function(t){e.bSelectAll=t},expression:"bSelectAll"}},[e._v(e._s(e.$t("selectAll")))]),t("div",[e._v(" "+e._s(e.$t("hadChoose")+"(".concat(e.checkValueList.length,")"))+" ")])],1),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{attrs:{disabled:0===e.checkValueList.length},on:{click:e.confirm}},[e._v(e._s("onlineDevice"===e.type?e.$t("add_name"):e.$t("delete")))])],1)]):t("div",{staticClass:"bottom-confirm-container"},[t("hm-button",{staticClass:"info-add",attrs:{"border-radius":"24px"},on:{click:e.addInfo}},[e._v(e._s(e.$t("ok")))])],1),t("hm-popup",{ref:"myPopup",attrs:{type:"my-popup"}},[t("hm-loading",{attrs:{size:28}})],1),e.bShowOnlineDeviceInfo?t("base-page",{attrs:{title:"onlineDevice"===e.type?e.oOnlineDeviceInfo.deviceIpAdd:e.oOnlineDeviceInfo.deviceName,"right-type":"text","b-back":!1},on:{"left-handle":e.showDevice}},["onlineDevice"===e.type?t("div",{staticClass:"online-device-info-container",attrs:{slot:"content"},slot:"content"},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("ipAddr")}},[e._v("\n          "+e._s(e.oOnlineDeviceInfo.deviceIpAdd)+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("deviceModel")}},[e._v("\n          "+e._s(e.oOnlineDeviceInfo.deviceModel)+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("state_name")}},[t("span",{staticClass:"table-status"},[e.oOnlineDeviceInfo.state==e.$t("onLine")?t("span",{staticClass:"status-text",class:e.oOnlineDeviceInfo.state==e.$t("onLine")?"status-online":"",attrs:{title:e.oOnlineDeviceInfo.state}},[e._v(" "+e._s(e.oOnlineDeviceInfo.state))]):t("span",{staticClass:"status-text",class:e.oOnlineDeviceInfo.state==e.$t("onLine")?"status-online":"",attrs:{title:e.oOnlineDeviceInfo.state}},[e._v(e._s(e.oOnlineDeviceInfo.state))])])]),t("hm-cell",{attrs:{title:e.$t("protocolType_name")}},[t("span",{staticClass:"base-ellipsis",attrs:{title:["HIKVISION","AXIS"].includes(e.oOnlineDeviceInfo.proxyProtocol)?e.$t(e.oOnlineDeviceInfo.proxyProtocol+"_name"):e.oOnlineDeviceInfo.proxyProtocol}},[e._v(" "+e._s(["HIKVISION","AXIS"].includes(e.oOnlineDeviceInfo.proxyProtocol)?e.$t(e.oOnlineDeviceInfo.proxyProtocol+"_name"):e.oOnlineDeviceInfo.proxyProtocol)+" ")])]),t("hm-cell",{attrs:{title:e.$t("managementPort_name")}},[e._v("\n          "+e._s(e.oOnlineDeviceInfo.managePortNo)+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("serialNum_name")}},[e._v("\n          "+e._s(e.oOnlineDeviceInfo.serialNumber)+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("firmware")}},[e._v("\n          "+e._s(e.oOnlineDeviceInfo.firmwareVersion)+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("macAddress")}},[e._v("\n          "+e._s(e.oOnlineDeviceInfo.macAddress)+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("IPv6")}},[e._v("\n          "+e._s(e.oOnlineDeviceInfo.ipv6Address)+"\n        ")])],1)],1):t("div",{staticClass:"online-device-info-container",attrs:{slot:"content"},slot:"content"},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("deviceName")}},[e._v("\n          "+e._s(e.oOnlineDeviceInfo.deviceName)+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("ipAddr")}},[t("span",{staticClass:"base-ellipsis",attrs:{title:"GB28181"===e.oOnlineDeviceInfo.protocol?e.oOnlineDeviceInfo.GBDeviceID+(e.oOnlineDeviceInfo.address?"("+e.oOnlineDeviceInfo.address+")":""):e.oOnlineDeviceInfo.address}},[e._v(" "+e._s("GB28181"===e.oOnlineDeviceInfo.protocol?e.oOnlineDeviceInfo.GBDeviceID+(e.oOnlineDeviceInfo.address?"("+e.oOnlineDeviceInfo.address+")":""):e.oOnlineDeviceInfo.address)+" ")])]),t("hm-cell",{attrs:{title:e.$t("networkstate_name")}},[t("span",{staticClass:"table-status"},[e.oOnlineDeviceInfo.state==e.$t("onLine")?t("span",{staticClass:"status-text",class:{"status-online":e.oOnlineDeviceInfo.state==e.$t("onLine")},attrs:{title:e.oOnlineDeviceInfo.state}},[e._v(" "+e._s(e.oOnlineDeviceInfo.state))]):t("span",{staticClass:"status-text",class:{"status-online":e.oOnlineDeviceInfo.state==e.$t("onLine"),"status-text-battery":e.oOnlineDeviceInfo.isSolarDevice},attrs:{title:e.oOnlineDeviceInfo.childStatus||e.$t("offline")}},[e._v(e._s(e.oOnlineDeviceInfo.childStatus||e.$t("offline")))])])]),t("hm-cell",{attrs:{title:e.$t("passwordStrength_name")}},[e._v("\n          "+e._s(e.oOnlineDeviceInfo.passwordStrength||"--")+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("ProtocolConf")}},[t("span",{staticClass:"base-ellipsis",attrs:{title:["HIK","AXIS"].includes(e.oOnlineDeviceInfo.protocol)?e.$t(e.oOnlineDeviceInfo.protocol+"_name"):e.oOnlineDeviceInfo.protocol}},[e._v(" "+e._s(["HIK","AXIS"].includes(e.oOnlineDeviceInfo.protocol)?e.$t(e.oOnlineDeviceInfo.protocol+"_name"):e.oOnlineDeviceInfo.protocol)+" ")])]),t("hm-cell",{attrs:{title:e.$t("portManage_name")}},[e._v("\n          "+e._s(e.oOnlineDeviceInfo.portNo||"--")+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("serialNum_name")}},[e._v("\n          "+e._s(e.oOnlineDeviceInfo.serialNum||"--")+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("version")}},[e._v("\n          "+e._s(e.oOnlineDeviceInfo.version||"--")+"\n        ")]),t("hm-cell",{attrs:{title:e.$t("alarmInputOrOutput_name")}},[e._v("\n          "+e._s(e.oOnlineDeviceInfo.alarmInputOrOutput||"--")+"\n        ")])],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("addedOrAll_name")}},[e._v("\n          "+e._s(e.oOnlineDeviceInfo.addedOrAll)+"\n        ")])],1)],1)]):e._e()],1)},n=[],o=a("c050"),r={name:"OnlineListAdd",props:{options:{type:Array,default:function(){return[]}},outLoading:{type:Boolean,default:function(){return!1}},selectType:{type:String,default:function(){return"multiple"}},type:{type:String,default:function(){return"onlineDevice"}},deviceType:{type:String,default:function(){return"video"}}},data:function(){return{bShowOnlineDeviceInfo:!1,checkValueList:[],selected:"0",oOnlineDeviceInfo:{},bSelectAll:!1,bIndeterminate:!1}},mounted:function(){this.showSelectAll(this.checkValueList)},methods:{openDeviceInfo:function(e){this.bShowOnlineDeviceInfo=!0,this.oOnlineDeviceInfo=e},showDevice:function(){this.bShowOnlineDeviceInfo=!1},showSelectAll:function(e){e.length===this.options.length?(this.bSelectAll=!0,this.bIndeterminate=!1):e.length>0&&e.length<this.options.length?(this.bSelectAll=!0,this.bIndeterminate=!0):(this.bSelectAll=!1,this.bIndeterminate=!1)},selectAll:function(e){e?(this.bIndeterminate=!1,this.checkValueList=this.options.map((function(e,t){return t+""}))):this.checkValueList=[]},confirm:function(){var e=this,t=this.checkValueList.map((function(t){return e.options[t]}));"onlineDevice"===this.type?this.$emit("confirmAddOnline",t):o["a"].confirm(this.$t("deleteDeviceTips_msg"),(function(){e.$emit("confirmDelete",t)}),(function(){}))},addInfo:function(){var e=this.options[parseInt(this.selected,10)];this.$emit("confirmAddOnline",e)}}},s=r,l=(a("5cd4"),a("2877")),c=Object(l["a"])(s,i,n,!1,null,"36d64a68",null);t["default"]=c.exports},af33:function(e,t,a){},af73:function(e,t,a){"use strict";a("9592")},af8b:function(e,t,a){},afe2:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("alarmHostCf"),"right-type":"text","b-lazy-loading":e.m_oParams.bLoading}},[t("div",{staticClass:"httpListen-wrapper",attrs:{slot:"content"},slot:"content"},[t("hm-scroll",[t("div",[e.tableData.tableItem&&e.tableData.tableItem.length>0?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},e._l(e.tableData.tableItem,(function(a,i){return t("hm-cell",{key:i,attrs:{"is-link":"",title:a[0]},nativeOn:{click:function(t){return e.getChannelDetail(i)}}})})),1):e._e(),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{on:{click:e.save}},[e._v(e._s(e.$t("save")))])],1)],1)]),e.bShowTableItem?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:e.$t("httpTransmissionProtocol")+e.oDetailInfo[5],"enable-cancel-callback":!0,"sz-cancel":e.$t("default"),"show-confirm":!1},on:{cancelcallback:e.clear}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"item-wrapper"},[t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",{staticClass:"cell-group"},[t("hm-cell",{class:{"cell-require":e.oParamsValid.destIPOrHost&&e.oParamsValid.destIPOrHost.required},attrs:{title:e.$t("destIPOrHost")}},[t("hm-input",{attrs:{placeholder:e.$t("destIPOrHost")},model:{value:e.oDetailInfo[0],callback:function(t){e.$set(e.oDetailInfo,0,t)},expression:"oDetailInfo[0]"}}),t("hm-validator",{attrs:{model:e.oDetailInfo[0],rules:e.oParamsValid.destIPOrHost,param:e.$t("destIPOrHost")}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.url&&e.oParamsValid.url.required},attrs:{title:"URL"}},[t("hm-input",{attrs:{placeholder:"URL"},model:{value:e.oDetailInfo[1],callback:function(t){e.$set(e.oDetailInfo,1,t)},expression:"oDetailInfo[1]"}}),t("hm-validator",{attrs:{model:e.oDetailInfo[1],rules:e.oParamsValid.url,param:"URL"}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.port&&e.oParamsValid.port.required},attrs:{title:e.$t("port")}},[t("hm-input",{attrs:{placeholder:e.$t("port")},model:{value:e.oDetailInfo[2],callback:function(t){e.$set(e.oDetailInfo,2,t)},expression:"oDetailInfo[2]"}}),t("hm-validator",{attrs:{model:e.oDetailInfo[2],rules:e.oParamsValid.port,param:e.$t("port")}})],1),e.oCapbilitie.bSupportProtoConf?t("hm-cell",{attrs:{title:e.$t("ProtocolConf")}},[t("base-select",{attrs:{options:e.oProtocolType,title:e.$t("ProtocolConf")},model:{value:e.oDetailInfo[3],callback:function(t){e.$set(e.oDetailInfo,3,t)},expression:"oDetailInfo[3]"}})],1):e._e(),t("hm-cell",[t("span",{staticClass:"label-test",on:{click:function(t){return e.test(e.rowIndex)}}},[e._v(e._s(e.$t("test")))])])],1)],1),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{on:{click:e.confirm}},[e._v(e._s(e.$t("ok")))])],1)],1)])])],1):e._e(),t("base-view")],1)])},n=[],o=(a("96cf"),a("1da1")),r=a("1c1a"),s=a("df65"),l=a("962a"),c=a("c050"),u=a("47b5"),d={name:"HttpListen",components:{BaseView:r["a"],BasePageExtend:l["a"],BaseSelect:u["a"]},data:function(){return{validate:{},tableData:{tableItem:[]},m_oParams:s["a"].m_oParams,oCapbilitie:{},aProtocolType:[],oProtocolType:[],rowIndex:"",oParamsValid:{destIPOrHost:{required:!0},url:{required:!0,lengthRange:[1,128]},port:{required:!0,range:[1,65535]}},bShowTableItem:!1,oDetailInfoBackups:{}}},watch:{},created:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s["a"].initHttpListen().finally((function(){t.tableData.tableItem=s["a"].tableData.tableItem,t.oParamsValid.url.lengthRange=[1,s["a"].m_oCapbilities.oHttpTansParamCap.iUrlMaxLen],t.oParamsValid.port.range=[s["a"].m_oCapbilities.oHttpTansParamCap.iPortNoMin,s["a"].m_oCapbilities.oHttpTansParamCap.iPortNoMax],t.aProtocolType=s["a"].aProtocolType,t.oProtocolType=s["a"].oProtocolType,t.oCapbilitie=s["a"].m_oCapbilities}));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),methods:{clear:function(){this.tableData.tableItem[this.rowIndex]=this.oDetailInfoBackups,this.bShowTableItem=!1,this.$forceUpdate()},confirm:function(){this.validate.validateAll(),c["a"].validateTips(this.validate.getErrorReport())&&(this.bShowTableItem=!1)},getChannelDetail:function(e){e<0||(this.oDetailInfo=this.tableData.tableItem[e],this.oDetailInfoBackups=JSON.parse(JSON.stringify(this.oDetailInfo)),this.rowIndex=e,this.bShowTableItem=!0)},test:function(e){s["a"].testDest(e)},save:function(){s["a"].saveParams()}}},p=d,m=(a("ff85"),a("2877")),h=Object(m["a"])(p,i,n,!1,null,"2f53eca8",null);t["default"]=h.exports},b08b:function(e,t,a){"use strict";a("a1ee")},b195:function(e,t,a){"use strict";(function(e){a("96cf");var i=a("1da1"),n=a("1c1a"),o=a("962a"),r=a("c050"),s=a("9741"),l=a("210b"),c=a("c98f"),u=a("47b5");t["a"]={name:"HTTPS",components:{BaseView:n["a"],BasePageExtend:o["a"],BaseSelect:u["a"]},data:function(){return{validate:{},oCommon:s["a"],oCap:l["a"].m_oCap,oParams:l["a"].m_oParams,oDlgParams:l["a"].m_oDlgParams,oParamsValid:l["a"].m_oParamsValid,oRSAKeyLengthCap:l["a"].m_oRSAKeyLengthCap,bSupportManage:l["a"].bSupportManage,certificateSelectCap:l["a"].certificateSelectCap,certificateSelectParm:l["a"].certificateSelectParm,aInstallMode:[{value:"0",label:this.$t("createSelfCertificate")}],bEnableCancelCallback:!0,bShowCreate:!1,length63:63,length31:31,oAuth:{},authCap:{oSupportAuth:{bRtsp:!1}}}},watch:{"oParams.bEnableHttps":{handler:function(e){!e&&this.oCap.bSupportHttpsAutoJump&&(this.oParams.bEnableHttpsAutoJump=!1)},deep:!0}},created:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=this,l["a"].initHttps().finally((function(){t.oParams.szInstallMode="0",t.oRSAKeyLengthCap=l["a"].m_oRSAKeyLengthCap,t.bSupportManage=c["a"].oSecurityCap.bSupportCertificate,t.certificateSelectCap=l["a"].certificateSelectCap,t.certificateSelectParm=l["a"].certificateSelectParm,a.authCap=l["a"].authCap,a.oAuth=l["a"].oAuth}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{downLoadReq:function(t){l["a"].downLoadReq().then((function(){e(t.currentTarget).blur()}))},validatEmail:function(){""!==this.oDlgParams.szEmail?(this.oParamsValid.oEmail.required=!0,this.oParamsValid.oEmail.bSkipValid=!1):(this.oParamsValid.oEmail.required=!1,this.oParamsValid.oEmail.bSkipValid=!0)},checkCertificate:function(){var e=this;""===e.certificateSelectParm.clientCertificate&&""===e.certificateSelectParm.serverCertificate&&""===e.certificateSelectParm.CACertificate?(e.oParams.bInstalled=!1,e.oParams.bEnableHttps=!1,e.oParams.bSupportHttpsAutoJump=!1):e.oParams.bInstalled=!0},save:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["a"].save();case 2:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),removeCertificate:function(){this.oParams.bDiabledDeleteCer||l["a"].removeCertificate().then((function(){}))},uploadCertificate:function(){l["a"].uploadCertificate().then((function(){}))},exportSelfCert:function(){l["a"].exportSelfCert().then((function(){}))},removeCerReq:function(){l["a"].removeCerReq().then((function(){}))},browseFilePath:function(){l["a"].browseFilePath().then((function(){}))},create:function(e){this.oParams.iCreateType=e,this.bShowCreate=!0},cancelCallback:function(){this.bShowCreate=!1},confirm:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.validate.validateAll(),!r["a"].validateTips(this.validate.getErrorReport())){e.next=5;break}return e.next=4,l["a"].create(this.oParams.iCreateType);case 4:this.bShowCreate=!1;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),changeTLS1_0:function(){l["a"].changeTLS1_0(this.frush)},webOptionChange:function(){var e=this;"digest/basic"===this.oAuth.szWeb&&r["a"].confirm(this.$t("enableTLS1_0Tips"),null,(function(){e.oAuth.szWeb=e.oAuth.szRawWeb}))},WEBDigestAlgorithmChange:function(){var e=this;"MD5"!==this.oAuth.szWEBDigestAlgorithm&&r["a"].confirm(this.$t("authDigestAlgorithmTip"),(function(){e.oAuth.szRAWWEBDigestAlgorithm=e.oAuth.szWEBDigestAlgorithm}),(function(){e.oAuth.szWEBDigestAlgorithm=e.oAuth.szRAWWEBDigestAlgorithm}))}}}}).call(this,a("1157"))},b1d0:function(e,t,a){"use strict";(function(e){a("6b54"),a("a481"),a("7514"),a("ac6a"),a("5df3");var i=a("d4ec"),n=a("bee2"),o=a("7de8"),r=a("c050"),s=a("d09c"),l=a("f193"),c=a("8d94"),u=function(){function t(){Object(i["a"])(this,t),this.m_oCapbilities={szPasswordLength:"32",bSupport28181Switch:!1},this.m_oNeedReboot={b28181:!1},this.m_oParams={szSipServerID:"",oPassword:{szPassword:"",szPasswordConfirm:"",szPasswordDefault:""},szSipServerPort:"",szHeartbeatPeriod:"",szMxHeartBeatTimeout:"",bEnableAutoAddIpc:!1,b28181:!1}}return Object(n["a"])(t,[{key:"init28181Service",value:function(){var e=this;return new Promise((function(t){Promise.all([e.get28181ServiceCap(),e.get28181ServiceInfo()]).then((function(){t()}))}))}},{key:"get28181ServiceCap",value:function(){var t=this;return new Promise((function(a){var i={urlCGI:"service28181Cap",params:null,data:null,loading:!0};l["a"].get(i).then((function(i){var n=i.oResult,o=e(n).find("serverID").eq(0).attr("size");o=e(n).find("authPasswd").eq(0).attr("size"),o&&(t.m_oCapbilities.szPasswordLength=o),t.m_oCapbilities.bSupport28181Switch=!!e(n).find("enabled").length,a()}),(function(){a()}))}))}},{key:"get28181ServiceInfo",value:function(){var t=this;return new Promise((function(a){var i={urlCGI:"service28181",params:null,data:null,loading:!0};l["a"].get(i).then((function(i){var n=i.oResult;t.m_oParams.szSipServerID=o["a"].nodeValue(e(n),"serverID"),t.m_oParams.szSipServerPort=o["a"].nodeValue(e(n),"port"),t.m_oParams.szHeartbeatPeriod=o["a"].nodeValue(e(n),"liveTime"),t.m_oParams.szMxHeartBeatTimeout=o["a"].nodeValue(e(n),"heartbeatCount"),t.m_oParams.bEnableAutoAddIpc=o["a"].nodeValue(e(n),"autoAddIPC","b"),t.m_oParams.b28181=o["a"].nodeValue(n,"enabled","b"),t.m_oNeedReboot.b28181=o["a"].nodeValue(n,"enabled","b"),a()}),(function(){a()}))}))}},{key:"save",value:function(){var e="<?xml version='1.0' encoding='UTF-8'?><GB28181Service>";e+="<serverID>"+this.m_oParams.szSipServerID.replace(/</g,"&lt;")+"</serverID>",e+="<port>"+this.m_oParams.szSipServerPort+"</port>",this.m_oParams.oPassword.szPassword!==this.m_oParams.oPassword.szPasswordDefault&&(e+="<authPasswd>"+this.m_oParams.oPassword.szPassword.replace(/</g,"&lt;")+"</authPasswd>"),this.m_oCapbilities.bSupport28181Switch&&(e+="<enabled>"+this.m_oParams.b28181.toString()+"</enabled>"),e+="<liveTime>"+this.m_oParams.szHeartbeatPeriod+"</liveTime>",e+="<heartbeatCount>"+this.m_oParams.szMxHeartBeatTimeout+"</heartbeatCount>",e+="<autoAddIPC>"+this.m_oParams.bEnableAutoAddIpc.toString()+"</autoAddIPC>",e+="</GB28181Service>";var t=o["a"].parseXmlFromStr(e);if(this.m_oNeedReboot.b28181===this.m_oParams.b28181)return new Promise((function(e){var a={urlCGI:"service28181",data:t,loading:!0};l["a"].put(a).then((function(t){e(),s["a"].saveState(t.xhr)}),(function(t){e(),s["a"].saveState(t)}))}));r["a"].confirm(c["a"].t("updateRestartTip"),(function(){return new Promise((function(e){var a={urlCGI:"service28181",data:t,loading:!0};l["a"].put(a).then((function(t){e(),s["a"].saveState(t.xhr)}))}),(function(e){s["a"].saveState(e)}))}))}}]),t}();t["a"]=new u}).call(this,a("1157"))},b234:function(e,t,a){"use strict";a("a912")},b29a:function(e,t,a){"use strict";a("9ee0")},b2d6:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAPlJREFUOI2tk8FRw0AMRZ88FGDnkskVuwMKYG9UkHrirYcKOHlTAB1kcrW5MO5AHCIZ2FljZuDf1vr79Vdfhj9CSh/HXdcDiOoJSACqEg/zJf0oMO663i4BJBU5i+qjnQOQ1oQY6y5MTatT0w5j3YWV+jA1rbrDb7DiUHpSgad+rlwdCKoStwSc4y4qAJHbsIpvy2CchXeXE97q+2cVeQJes9KDqL7s5+vRhnsC+sqKQUXOW90dlkxaHKhI9Lj28/X4WyGwGbiLUnw5VgfuO7AlkMe9OFCRCIStRcq7S06ySAP+D3yuc/BGh/dLXxQoCMEtoQjw9eK/4QOv7YLpVWOqHAAAAABJRU5ErkJggg=="},b391:function(e,t,a){"use strict";a("9987")},b39a:function(e,t,a){var i=a("d3f4");e.exports=function(e,t){if(!i(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},b49a:function(e,t,a){},b4ad:function(e,t,a){"use strict";(function(e){a("7514");var i=a("d4ec"),n=a("bee2"),o=a("7de8"),r=a("d09c"),s=a("f193"),l=function(){function t(){Object(i["a"])(this,t),this.m_oParams={szVideoDSCP:"0",szEADSCP:"0",szManageDSCP:"0",oQosData:null}}return Object(n["a"])(t,[{key:"initQos",value:function(){return this.getQosInfo()}},{key:"getQosInfo",value:function(){var t=this,a=new Promise((function(a){var i={urlCGI:"networkQos",params:null,data:null,loading:!0};s["a"].get(i).then((function(i){var n=i.oResult;e(n).find("DSCP").each((function(a,i){"video"===o["a"].nodeValue(e(i),"trafficType")?t.m_oParams.szVideoDSCP=o["a"].nodeValue(e(i),"priorityValue"):"commandcontrol"===o["a"].nodeValue(e(i),"trafficType")?t.m_oParams.szEADSCP=o["a"].nodeValue(e(i),"priorityValue"):"devicemanagement"===o["a"].nodeValue(e(i),"trafficType")&&(t.m_oParams.szManageDSCP=o["a"].nodeValue(e(i),"priorityValue"))})),a()}),(function(){a()}))}));return a}},{key:"save",value:function(){var e="<?xml version='1.0' encoding='UTF-8'?><DSCPList><DSCP><id>1</id><enabled>true</enabled><priorityValue>"+this.m_oParams.szManageDSCP+"</priorityValue><trafficType>devicemanagement</trafficType></DSCP><DSCP><id>2</id><enabled>true</enabled><priorityValue>"+this.m_oParams.szEADSCP+"</priorityValue><trafficType>commandcontrol</trafficType></DSCP><DSCP><id>3</id><enabled>true</enabled><priorityValue>"+this.m_oParams.szVideoDSCP+"</priorityValue><trafficType>video</trafficType></DSCP></DSCPList>",t=o["a"].parseXmlFromStr(e);return new Promise((function(e,a){var i={urlCGI:"networkQosInfo",data:t,loading:!0};s["a"].put(i).then((function(t){r["a"].saveState(t.xhr),e(t)}),(function(e){r["a"].saveState(e),a(e)}))}))}}]),t}();t["a"]=new l}).call(this,a("1157"))},b511:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("cloudStorage"),"right-type":"text","b-lazy-loading":e.bLazyLoading}},[t("div",{staticClass:"cloud-page-wrapper",attrs:{slot:"content"},slot:"content"},[t("hm-scroll",[e.oServiceParam[e.aProcotolMap[e.oServiceParam.defaultVer.protocolVersion]]?t("div",{staticClass:"hm-index-list-item"},[t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("enable")}},[t("hm-switch",{model:{value:e.oServiceParam.security.enabled,callback:function(t){e.$set(e.oServiceParam.security,"enabled",t)},expression:"oServiceParam.security.enabled"}})],1),e.oCap.securityCap.bSupport?t("hm-cell",{attrs:{title:e.$t("protocolVersion")}},[t("base-select",{attrs:{title:e.$t("protocolVersion"),options:e.aProtocolVersions},model:{value:e.oServiceParam.defaultVer.protocolVersion,callback:function(t){e.$set(e.oServiceParam.defaultVer,"protocolVersion",t)},expression:"oServiceParam.defaultVer.protocolVersion"}})],1):e._e(),t("hm-cell",{class:{"cell-require":e.oParamsValid.oIPValid&&e.oParamsValid.oIPValid.required},attrs:{title:e.$t("serverIpAddr")}},[t("hm-input",{model:{value:e.oServiceParam[e.aProcotolMap[e.oServiceParam.defaultVer.protocolVersion]].ipAddress,callback:function(t){e.$set(e.oServiceParam[e.aProcotolMap[e.oServiceParam.defaultVer.protocolVersion]],"ipAddress",t)},expression:"oServiceParam[aProcotolMap[oServiceParam.defaultVer.protocolVersion]].ipAddress"}}),t("hm-validator",{attrs:{model:e.oServiceParam[e.aProcotolMap[e.oServiceParam.defaultVer.protocolVersion]].ipAddress,rules:e.oParamsValid.oIPValid,param:e.$t("serverIpAddr")}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oPortCheck&&e.oParamsValid.oPortCheck.required},attrs:{title:e.$t("serverPort")}},[t("hm-input",{model:{value:e.oServiceParam[e.aProcotolMap[e.oServiceParam.defaultVer.protocolVersion]].port,callback:function(t){e.$set(e.oServiceParam[e.aProcotolMap[e.oServiceParam.defaultVer.protocolVersion]],"port",t)},expression:"oServiceParam[aProcotolMap[oServiceParam.defaultVer.protocolVersion]].port"}}),t("hm-validator",{attrs:{model:e.oServiceParam[e.aProcotolMap[e.oServiceParam.defaultVer.protocolVersion]].port,rules:e.oParamsValid.oPortCheck,param:e.$t("serverPort")}})],1),"V1.0"==e.oServiceParam.defaultVer.protocolVersion?t("div",[t("hm-cell",{class:{"cell-require":e.oParamsValid.olength&&e.oParamsValid.olength.required},attrs:{title:e.$t("username")}},[t("hm-input",{attrs:{maxlength:e.userNameLength},model:{value:e.oServiceParam[e.aProcotolMap[e.oServiceParam.defaultVer.protocolVersion]].userName,callback:function(t){e.$set(e.oServiceParam[e.aProcotolMap[e.oServiceParam.defaultVer.protocolVersion]],"userName",t)},expression:"oServiceParam[aProcotolMap[oServiceParam.defaultVer.protocolVersion]].userName"}}),t("hm-validator",{attrs:{model:e.oServiceParam[e.aProcotolMap[e.oServiceParam.defaultVer.protocolVersion]].userName,rules:e.oParamsValid.olength,param:e.$t("username")}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oPassword&&e.oParamsValid.oPassword.required},attrs:{title:e.$t("password")}},[t("hm-input",{attrs:{type:"password",maxlength:e.passwordLength},model:{value:e.oPassword.szPassword,callback:function(t){e.$set(e.oPassword,"szPassword",t)},expression:"oPassword.szPassword"}}),t("hm-validator",{attrs:{model:e.oPassword.szPassword,rules:e.oParamsValid.oPassword,param:e.$t("password")}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oPasswordConfirm&&e.oParamsValid.oPasswordConfirm.required},attrs:{title:e.$t("confirmPassword")}},[t("hm-input",{attrs:{type:"password",maxlength:e.passwordLength},model:{value:e.oPassword.szPasswordConfirm,callback:function(t){e.$set(e.oPassword,"szPasswordConfirm",t)},expression:"oPassword.szPasswordConfirm"}}),t("hm-validator",{attrs:{model:e.oPassword.szPasswordConfirm,rules:e.oParamsValid.oPasswordConfirm,param:e.$t("confirmPassword")}})],1)],1):e._e(),"V2.0"==e.oServiceParam.defaultVer.protocolVersion?[t("hm-cell",{class:{"cell-require":e.oParamsValid.oAccessKeylength&&e.oParamsValid.oAccessKeylength.required},attrs:{title:1===e.iDeviceType?e.$t("accessKey"):e.$t("password")}},[t("hm-input",{attrs:{type:"password",maxlength:e.passwordLength},model:{value:e.oServiceParam[e.aProcotolMap[e.oServiceParam.defaultVer.protocolVersion]].accessKey,callback:function(t){e.$set(e.oServiceParam[e.aProcotolMap[e.oServiceParam.defaultVer.protocolVersion]],"accessKey",t)},expression:"oServiceParam[aProcotolMap[oServiceParam.defaultVer.protocolVersion]].accessKey"}}),t("hm-validator",{attrs:{model:e.oServiceParam[e.aProcotolMap[e.oServiceParam.defaultVer.protocolVersion]].accessKey,rules:e.oParamsValid.oAccessKeylength,param:1===e.iDeviceType?e.$t("accessKey"):e.$t("password")}})],1),1===e.iDeviceType?t("hm-cell",{class:{"cell-require":e.oParamsValid.oSecketKeylength&&e.oParamsValid.oSecketKeylength.required},attrs:{title:e.$t("securityKey")}},[t("hm-input",{attrs:{type:"password",maxlength:e.passwordLength},model:{value:e.oServiceParam[e.aProcotolMap[e.oServiceParam.defaultVer.protocolVersion]].secretKey,callback:function(t){e.$set(e.oServiceParam[e.aProcotolMap[e.oServiceParam.defaultVer.protocolVersion]],"secretKey",t)},expression:"oServiceParam[aProcotolMap[oServiceParam.defaultVer.protocolVersion]].secretKey"}}),t("hm-validator",{attrs:{model:e.oServiceParam[e.aProcotolMap[e.oServiceParam.defaultVer.protocolVersion]].secretKey,rules:e.oParamsValid.oSecketKeylength,param:e.$t("securityKey")}})],1):e._e(),0===e.iDeviceType?t("hm-cell",{class:{"cell-require":e.oParamsValid.oSecketKeylengthHD&&e.oParamsValid.oSecketKeylengthHD.required},attrs:{title:e.$t("securityKey")}},[t("hm-input",{attrs:{type:"password",maxlength:e.passwordLength},model:{value:e.oServiceParam[e.aProcotolMap[e.oServiceParam.defaultVer.protocolVersion]].secretKey,callback:function(t){e.$set(e.oServiceParam[e.aProcotolMap[e.oServiceParam.defaultVer.protocolVersion]],"secretKey",t)},expression:"oServiceParam[aProcotolMap[oServiceParam.defaultVer.protocolVersion]].secretKey"}}),t("hm-validator",{attrs:{model:e.oServiceParam[e.aProcotolMap[e.oServiceParam.defaultVer.protocolVersion]].secretKey,rules:e.oParamsValid.oSecketKeylengthHD,param:e.$t("securityKey")}})],1):e._e()]:e._e(),t("hm-cell",{class:{"cell-require":e.oParamsValid.oImagePollCheck&&e.oParamsValid.oImagePollCheck.required},attrs:{title:e.$t("vehicleDetectPicPoolID")}},[t("hm-input",{model:{value:e.oServiceParam[e.aProcotolMap[e.oServiceParam.defaultVer.protocolVersion]].vehicleDetectionID,callback:function(t){e.$set(e.oServiceParam[e.aProcotolMap[e.oServiceParam.defaultVer.protocolVersion]],"vehicleDetectionID",t)},expression:"oServiceParam[aProcotolMap[oServiceParam.defaultVer.protocolVersion]].vehicleDetectionID"}}),t("hm-validator",{attrs:{model:e.oServiceParam[e.aProcotolMap[e.oServiceParam.defaultVer.protocolVersion]].vehicleDetectionID,rules:e.oParamsValid.oImagePollCheck,param:e.$t("vehicleDetectPicPoolID")}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:"Image and Video Cloud"!==e.oServiceParam.defaultVer.protocolVersion,expression:"oServiceParam.defaultVer.protocolVersion !== 'Image and Video Cloud'"}]},[t("span",{staticClass:"label-test",on:{click:function(t){return e.testParam()}}},[e._v(e._s(e.$t("test")))])]),"Image and Video Cloud"==e.oServiceParam.defaultVer.protocolVersion?t("div",[t("hm-cell",{class:{"cell-require":e.oParamsValid.olength&&e.oParamsValid.olength.required},attrs:{title:e.$t("username")}},[t("hm-input",{attrs:{maxlength:e.userNameLength},model:{value:e.oServiceParam[e.aProcotolMap[e.oServiceParam.defaultVer.protocolVersion]].userName,callback:function(t){e.$set(e.oServiceParam[e.aProcotolMap[e.oServiceParam.defaultVer.protocolVersion]],"userName",t)},expression:"oServiceParam[aProcotolMap[oServiceParam.defaultVer.protocolVersion]].userName"}}),t("hm-validator",{attrs:{model:e.oServiceParam[e.aProcotolMap[e.oServiceParam.defaultVer.protocolVersion]].userName,rules:e.oParamsValid.olength,param:e.$t("username")}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oPassword&&e.oParamsValid.oPassword.required},attrs:{title:e.$t("password")}},[t("hm-input",{attrs:{type:"password",maxlength:e.passwordLength},model:{value:e.oPassword.szPassword,callback:function(t){e.$set(e.oPassword,"szPassword",t)},expression:"oPassword.szPassword"}}),t("hm-validator",{attrs:{model:e.oPassword.szPassword,rules:e.oParamsValid.oPassword,param:e.$t("password")}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oPasswordConfirm&&e.oParamsValid.oPasswordConfirm.required},attrs:{title:e.$t("confirmPassword")}},[t("hm-input",{attrs:{type:"password",maxlength:e.passwordLength},model:{value:e.oPassword.szPasswordConfirm,callback:function(t){e.$set(e.oPassword,"szPasswordConfirm",t)},expression:"oPassword.szPasswordConfirm"}}),t("hm-validator",{attrs:{model:e.oPassword.szPasswordConfirm,rules:e.oParamsValid.oPasswordConfirm,param:e.$t("confirmPassword")}})],1)],1):e._e(),"Image and Video Cloud"===e.oServiceParam.defaultVer.protocolVersion?t("hm-cell",{attrs:{title:e.$t("regStatus")}},[t("base-select",{attrs:{title:e.$t("regStatus"),options:e.aRegStatus,disabled:!0},model:{value:e.oServiceParam[e.aProcotolMap[e.oServiceParam.defaultVer.protocolVersion]].szRegStatus,callback:function(t){e.$set(e.oServiceParam[e.aProcotolMap[e.oServiceParam.defaultVer.protocolVersion]],"szRegStatus",t)},expression:"oServiceParam[aProcotolMap[oServiceParam.defaultVer.protocolVersion]].szRegStatus"}})],1):e._e()],2)],1)],1):e._e(),t("div",{staticClass:"hm-btn-group"},[e.bSupportCloudStorageServerParam&&"Image and Video Cloud"==e.oServiceParam.defaultVer.protocolVersion?t("hm-button",{on:{click:function(t){return e.getCloudParam()}}},[e._v(e._s(e.$t("getCloudParameters")))]):e._e(),t("hm-button",{attrs:{disabled:e.bNoSupport},on:{click:e.save}},[e._v(e._s(e.$t("save")))])],1)]),t("base-view")],1)])},n=[],o=(a("96cf"),a("1da1")),r=a("1c1a"),s=a("8dbf"),l=a("9741"),c=a("c050"),u=a("47b5"),d={name:"StorageManageCloud",components:{BaseView:r["a"],BaseSelect:u["a"]},data:function(){return{bLazyLoading:!1,validate:{},iDeviceType:l["a"].iDeviceType,oParamsValid:s["a"].m_oParamsValid,oPassword:s["a"].oPassword,oCap:s["a"].oValidCap,aProcotolMap:{"V1.0":"defaultVer","V2.0":"security","Image and Video Cloud":"imageCloud"},oServiceParam:s["a"],aProtocolVersions:s["a"].aProtocolVersions,bSupportCloudStorageServerParam:s["a"].bSupportCloudStorageServerParam,aRegStatus:[{value:"online",text:this.$t("onLine")},{value:"offline",text:this.$t("offLine")}],bNoSupport:!1,userNameLength:48,passwordLength:64}},watch:{"oServiceParam.defaultVer.protocolVersion":{handler:function(e){"V1.0"===e?(this.oParamsValid.oSecketKeylength.skipVerify=!0,this.oParamsValid.oAccessKeylength.skipVerify=!0,this.oParamsValid.olength.skipVerify=!1):(this.oParamsValid.oSecketKeylength.skipVerify=!1,this.oParamsValid.oAccessKeylength.skipVerify=!1,this.oParamsValid.olength.skipVerify=!0)},deep:!0}},created:function(){var e=this;s["a"].init().finally((function(){e.aProtocolVersions=s["a"].aProtocolVersions,e.bSupportCloudStorageServerParam=s["a"].bSupportCloudStorageServerParam,e.oServiceParam=s["a"]}))},methods:{getCloudParam:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s["a"].getCloudParam().then((function(){}));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),testParam:function(){this.validate.validateAll(),c["a"].validateTips(this.validate.getErrorReport())&&s["a"].testParam()},save:function(){var e=this;this.validate.validateAll(),c["a"].validateTips(this.validate.getErrorReport())&&(this.bLazyLoading=!0,s["a"].save().then((function(){e.bLazyLoading=!1})))}}},p=d,m=(a("a018"),a("2877")),h=Object(m["a"])(p,i,n,!1,null,"03e8bf40",null);t["default"]=h.exports},b53f:function(e,t,a){"use strict";a("09e3")},b54a:function(e,t,a){"use strict";a("386b")("link",(function(e){return function(t){return e(this,"a","href",t)}}))},b5b5:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wave-page"},[t("div",{staticClass:"wave",attrs:{id:"dvWave"}},[t("div",{staticClass:"baseLine",attrs:{id:"baseLine"}}),e._l(e.aSoundList,(function(a,i){return t("div",{key:a,staticClass:"sound-intensity"},[e.aRealTimeSoundIntensity[i]>e.iIntensityMin?t("div",{staticClass:"sound-intensity-block",style:{backgroundColor:e.aRealTimeSoundIntensity[i]>=e.iSoundSteepRiseIntensity?"#FD9F21":"#232522",height:e.aRealTimeSoundIntensity[i]+"px",margin:100-e.aRealTimeSoundIntensity[i]-1+"px 0 0 0"}}):t("div",{staticClass:"sound-intensity-block",style:{backgroundColor:"#FD9F21",height:"0px",margin:"100px 0 0 0"}})])}))],2)])},n=[],o=a("7424"),r=o["a"],s=(a("a6ab"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,null,null);t["default"]=l.exports},b5bd:function(e,t,a){"use strict";(function(e){a("6b54");var i=a("53ca"),n=(a("96cf"),a("1da1")),o=(a("7514"),a("f576"),a("28a5"),a("55dd"),a("d4ec")),r=a("bee2"),s=a("8d94"),l=a("d09c"),c=a("f193"),u=a("7de8"),d=a("768a"),p=a("c050"),m=a("1f20"),h={ipcNotActivated:s["a"].t("waitActive_name"),risk:s["a"].t("riskPwd"),weak:s["a"].t("weakPwd"),medium:s["a"].t("normalPwd"),strong:s["a"].t("goodPwd")},f=function(){function t(){Object(o["a"])(this,t),this.aCustomProtocolList=[],this.quickAddActivedNum=0,this.aProtocolOptions=[],this.aQuickAddListLoading=!1,this.deviceListLoading=!1,this.oCap={bShowMicConfig:!1,bShowSecurityActive:m["a"].m_oDeviceCapa.bSupportIPCActivatePassword},this.aQuickAddList=[],this.deviceResourceList=[],this.showDeviceList=[],this.alreadyGet=!1,this.bDisableAdd=!1}return Object(r["a"])(t,[{key:"sortIpAddress",value:function(e){return e.sort((function(e,t){var a=e.deviceIpAdd.split(".").map((function(e){return e.padStart(3,"0")})).join(""),i=t.deviceIpAdd.split(".").map((function(e){return e.padStart(3,"0")})).join("");return a-i})),e}},{key:"getOnlineList",value:function(){var t=this;return this.aQuickAddListLoading=!0,t.aQuickAddList.splice(0,t.aQuickAddList.length),t.quickAddActivedNum=0,new Promise((function(a){var i={urlCGI:"ipcSearch",params:{},data:null,loading:!0};return c["a"].get(i).then((function(i){var n=i.oResult;e(n).find("VideoSourceDescriptor").each((function(a,i){var n={};e(i).find("hostName").length>0?n["deviceIpAdd"]=u["a"].nodeValue(e(i),"hostName"):e(i).find("ipAddress").length>0&&(n["deviceIpAdd"]=u["a"].nodeValue(e(i),"ipAddress")),n["ipv6Address"]=u["a"].nodeValue(e(i),"ipv6Address"),n["id"]=u["a"].nodeValue(e(i),"id"),n["srcInputPortNums"]=u["a"].nodeValue(e(i),"srcInputPortNums"),n["proxyProtocol"]=u["a"].nodeValue(e(i),"proxyProtocol"),n["deviceModel"]=u["a"].nodeValue(e(i),"deviceModel"),n["managePortNo"]=u["a"].nodeValue(e(i),"managePortNo"),n["subnetMask"]=u["a"].nodeValue(e(i),"subnetMask"),n["macAddress"]=u["a"].nodeValue(e(i),"macAddress"),n["serialNumber"]=u["a"].nodeValue(e(i),"serialNumber"),n["firmwareVersion"]=u["a"].nodeValue(e(i),"firmwareVersion"),n["userName"]=u["a"].nodeValue(e(i),"userName"),n["password"]=u["a"].nodeValue(e(i),"password"),"GB28181"===u["a"].nodeValue(e(i),"proxyProtocol")&&(n["deviceIpAdd"]?n["deviceIpAdd"]=u["a"].nodeValue(e(i),"deviceID")+"("+n["deviceIpAdd"]+")":n["deviceIpAdd"]=u["a"].nodeValue(e(i),"deviceID"));var o="false"===u["a"].nodeValue(e(i),"activated")?s["a"].t("waitActive"):s["a"].t("onLine");n["state"]=o,t.quickAddActivedNum+=1,t.aQuickAddList.push(n)})),t.aQuickAddList=t.sortIpAddress(t.aQuickAddList),a()})).catch((function(){a()}))}))}},{key:"quickAddOneVideo",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(a,i,n,o,r){var d,m,h,f,v;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return d=this,m="<?xml version='1.0' encoding='utf-8'?><InputProxyChannel><id>0</id><quickAdd>true</quickAdd>",m+="<sourceInputPortDescriptor><proxyProtocol>"+a["proxyProtocol"]+"</proxyProtocol>",h=u["a"].checkAddressingType(a["deviceIpAdd"]).toLowerCase(),m+="<addressingFormatType>"+("hostname"===h?"hostname":"ipaddress")+"</addressingFormatType>",f="GB28181"===a["proxyProtocol"]?a["deviceIpAdd"].indexOf(")")>-1?a["deviceIpAdd"].split("(")[1].split(")")[0]:"":a["deviceIpAdd"],m+="hostname"===h?"<hostName>"+f+"</hostName>":"ipv6address"===h?"<ipv6Address>"+f+"</ipv6Address>":"<ipAddress>"+f+"</ipAddress>",m+="<managePortNo>"+a["managePortNo"]+"</managePortNo>",m+="<srcInputPort>1</srcInputPort>",m+="<userName></userName>",m+="<password></password>","GB28181"===a["proxyProtocol"]&&(m+="<deviceID>"+a["deviceIpAdd"].split("(")[0]+"</deviceID>"),m+="</sourceInputPortDescriptor></InputProxyChannel>",v=u["a"].parseXmlFromStr(m),e(v).find("userName").eq(0).text(a["userName"]),e(v).find("password").eq(0).text(a["password"]),t.abrupt("return",new Promise((function(e,t){var a={urlCGI:"addIpc",data:v,loading:!0};return c["a"].post(a).then((function(){i?o(null,r+1):(d.bDisableAdd=!1,p["a"].stateAlert(s["a"].t("addSuccess"),"success"),n&&n()),e()}),(function(e){i?o(e):(d.bDisableAdd=!1,l["a"].saveState(e)),t()}))})));case 17:case"end":return t.stop()}}),t,this)})));function a(e,a,i,n,o){return t.apply(this,arguments)}return a}()},{key:"getDeviceList",value:function(){var t=this;return this.deviceListLoading=!0,t.showDeviceList.splice(0,t.showDeviceList.length),new Promise((function(a){var n={urlCGI:"DigitalChannelStatus"};return c["a"].get(n).then((function(n){var o=n.oResult;e(o).find("InputProxyChannelStatus").each((function(a,n){var o={},r=parseInt(u["a"].nodeValue(e(n),"id"),10)-d["a"].m_iAnalogChNum,l="D"+r;o.channelNo=l;var c="",p=a+d["a"].m_iAnalogChNum;"object"===Object(i["a"])(d["a"].m_aChannelList[p])&&(c=d["a"].m_aChannelList[p].szName||"Channel "+r),o.cameraName=c;var m="";m="ipaddress"===u["a"].nodeValue(e(n),"addressingFormatType")?e(n).find("ipAddress").length>0?u["a"].nodeValue(e(n),"ipAddress"):u["a"].nodeValue(e(n),"ipv6Address"):u["a"].nodeValue(e(n),"hostName"),"GB28181"!==u["a"].nodeValue(e(n),"proxyProtocol")&&"OTAP"!==u["a"].nodeValue(e(n),"proxyProtocol")||(m=m?u["a"].nodeValue(e(n),"deviceID")+"("+m+")":u["a"].nodeValue(e(n),"deviceID")),o.ipAddr=m,o.deviceChanNo=u["a"].nodeValue(e(n),"srcInputPort"),o.managementPort=u["a"].nodeValue(e(n),"managePortNo");var f=u["a"].nodeValue(e(n),"SecurityStatus PasswordStatus"),v="";v=f?"invalid"===f?"N/A":h[f]||"":"-",o.securityStat=v;var b="";b="true"===u["a"].nodeValue(e(n),"online")?"true":u["a"].nodeValue(e(n),"chanDetectResult");var g=d["a"].transChanStatus(b);u["a"].nodeValue(e(n),"chanDetectStateCode")&&(g+="-0x"+parseInt(u["a"].nodeValue(e(n),"chanDetectStateCode"),10).toString(16)),o.stateTitle=g;var P=d["a"].transChanStatus(b);o.state=P||s["a"].$t("offLine"),o.protocol=u["a"].nodeValue(e(n),"proxyProtocol"),o.streamType=u["a"].nodeValue(e(n),"streamType"),o.userName=u["a"].nodeValue(e(n),"userName"),o.connect=u["a"].nodeValue(e(n),"connMode"),"HIKVISION"!==u["a"].nodeValue(e(n),"proxyProtocol")||"errorUserNameOrPasswd"!==b&&"userLocked"!==b||(o.id=parseInt(u["a"].nodeValue(e(n),"id"),10)),t.showDeviceList.push(o)})),sessionStorage.setItem("aChannelList",JSON.stringify(d["a"].m_aChannelList)),a()})).catch((function(){a()}))}))}},{key:"getDeviceChannelList",value:function(t){return new Promise((function(a,i){var n={urlCGI:"sourceCapability",data:t,loading:!0};return c["a"].post(n).then((function(t){var i=t.oResult,n=parseInt(u["a"].nodeValue(e(i),"videoInputNums"),10);a(n)}),(function(e){i(e)}))}))}},{key:"addIpc",value:function(e){return new Promise((function(t,a){var i={urlCGI:"addIpc",data:e,loading:!0};return c["a"].post(i).then((function(e){var a=e.oResult;t(a)}),(function(e){a(e)}))}))}},{key:"modifyIpc",value:function(e,t){return new Promise((function(a,i){var n={urlCGI:"modifyIpc",params:{channel:e},data:t,loading:!0};return c["a"].put(n).then((function(e){var t=e.oResult;a(t)}),(function(e){i(e)}))}))}},{key:"deleteChannel",value:function(e){return new Promise((function(t,a){var i={urlCGI:"deleteIpc",params:{channel:e},loading:!0};return c["a"].delete(i).then((function(e){var a=e.xhr;t({xhr:a})}),(function(e){a({xhr:e})}))}))}},{key:"getMaxChannelAddNum",value:function(){return new Promise((function(t,a){var i={urlCGI:"DigitalChannelInfo",loading:!0};return c["a"].get(i).then((function(a){var i=a.oResult,n=parseInt(e(i).find("InputProxyChannelList").eq(0).attr("size"),10);t(n)}),(function(e){a(e)}))}))}},{key:"getEquipmentCap",value:function(){var e=this;return new Promise((function(t,a){var i={urlCGI:"RacmCapa",loading:!0};return c["a"].get(i).then((function(a){var i=a.oResult;e.oCap.bSupportCheckRisk=u["a"].nodeValue(i,"isSupportCheckPassword","b"),t()}),(function(e){a(e)}))}))}},{key:"getIPCProtocolList",value:function(){return new Promise((function(t,a){var i={urlCGI:"sourceSupport",loading:!0};return c["a"].get(i).then((function(a){var i=a.oResult,n=[];e(i).find("MediaDeviceSource").each((function(t,a){var i={text:u["a"].nodeValue(e(a),"MediaDeviceMfgr"),value:u["a"].nodeValue(e(a),"MediaDeviceMfgr"),type:u["a"].nodeValue(e(a),"MediaDeviceModel")};n.push(i)})),t(n)}),(function(e){a(e)}))}))}},{key:"getCustomList",value:function(t){var a=this;return m["a"].m_oDeviceCapa.bSupportCustomProtocol?new Promise((function(e){e()})):new Promise((function(i,n){var o={urlCGI:"customProtocolInfo",loading:!0};return c["a"].get(o).then((function(n){var o=n.oResult;t&&e(o).find("customProtocol").each((function(t,i){a.aProtocolOptions[t]={},a.aProtocolOptions[t].id=u["a"].nodeValue(e(i),"id","i"),a.aProtocolOptions[t].value=u["a"].nodeValue(e(i),"protocalName"),a.aProtocolOptions[t].text=u["a"].nodeValue(e(i),"protocalName"),a.aProtocolOptions[t].port=u["a"].nodeValue(e(i),"streamPort"),a.aProtocolOptions[t].bThird=!0})),i(o)}),(function(e){n(e)}))}))}},{key:"getSingleChannelInfo",value:function(t){return new Promise((function(a,i){var n={urlCGI:"ChannelSingleInfo",params:{channel:t},loading:!0},o={bSupportIPCTiming:!1,bIpcTiming:!1,bCertificateValidation:!1,bDefaultAdminPortEnabled:!1};return c["a"].get(n).then((function(t){var i=t.oResult;o.bSupportIPCTiming=e(i).find("enableTiming").length>0,o.bIpcTiming=u["a"].nodeValue(i,"enableTiming","b"),o.bCertificateValidation=u["a"].nodeValue(i,"certificateValidationEnabled","b"),o.bDefaultAdminPortEnabled=u["a"].nodeValue(i,"defaultAdminPortEnabled","b"),a(o)}),(function(e){i(o),l["a"].saveState(e)}))}))}}]),t}();t["a"]=new f}).call(this,a("1157"))},b63b:function(e,t,a){"use strict";a("65ca")},b674:function(e,t,a){},b758:function(e,t,a){"use strict";(function(e){a("6b54"),a("a481"),a("7514"),a("28a5"),a("ac6a"),a("5df3"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("7de8"),s=a("c050"),l=a("d09c"),c=a("540a"),u=a("1f20"),d=a("f193"),p=a("8d94"),m=function(){function t(){Object(n["a"])(this,t),this.m_oParams=c["a"].m_oParams,this.m_oParamsValid=c["a"].m_oParamsValid,this.m_oWifiParams=c["a"].m_oWifiParams}return Object(o["a"])(t,[{key:"getDeviceCapa",value:function(){var e=this;return new Promise((function(t){u["a"].getNetworkCap().then((function(){c["a"].init(u["a"].m_oDeviceCapa),e.m_oCapbilities=c["a"].m_oCapbilities,e.m_oCapbilities.bSupportWLANAP=u["a"].m_oDeviceCapa.bSupportWLANAP,e.m_oCapbilities.bSupportWPS=u["a"].m_oDeviceCapa.bSupportWPS,t()}),(function(){t()}))}))}},{key:"initWifi",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getDeviceCapa();case 2:return e.abrupt("return",Promise.all([this.getWifiCap(),this.getWpsCap(),this.getWifiInfo(),this.getWpsInfo()]));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getWifiCap",value:function(){var t=this;return new Promise((function(a){var i={urlCGI:"wlanapCap",params:null,data:null,async:!1,loading:!0};d["a"].get(i).then((function(i){var n=i.oResult,o=r["a"].nodeAttr(n,"ssid","max","i");t.m_oParamsValid.oSSID.lengthRange[1]=o;var s=r["a"].nodeAttr(n,"securityMode","opt").split(","),l="",c=t.m_oCapbilities.aSecurityModeList;e.each(s,(function(e,t){l="disable"===t?"not-encrypted":t,c.push({text:l,value:t})}));var u=r["a"].nodeAttr(n,"algorithmType","opt").split(","),d=t.m_oCapbilities.aEncryptionTypeList;e.each(u,(function(e,t){d.push({text:t,value:t})})),t.m_oCapbilities.bSupportWorkMode=!!e(n).find("wifiApEnabled").length,t.m_oCapbilities.bSupportBridge=!!e(n).find("bridgingEnabled").length,t.m_oCapbilities.bSupportWifiChannel=!!e(n).find("WifiManualChannel").length,a()}),(function(){a()}))}))}},{key:"getWifiInfo",value:function(){var t=this;return new Promise((function(a){var i={urlCGI:"wlanap",params:null,data:null,async:!1,loading:!0};d["a"].get(i).then((function(i){var n=i.oResult;t.m_oParams.szWorkMode=r["a"].nodeValue(n,"wifiApEnabled","b")?"ap":"router",t.m_oWifiParams.szSSID=r["a"].nodeValue(e(n),"ssid"),t.m_oWifiParams.szSecurityMode=r["a"].nodeValue(e(n),"securityMode"),t.m_oParams.szEncryptionType=r["a"].nodeValue(e(n),"algorithmType")||"TKIP",t.m_oParams.aKey[0]=r["a"].nodeValue(e(n),"sharedKey"),t.m_oWifiParams.szArea=r["a"].nodeValue(e(n),"region"),t.m_oWifiParams.bEnableBridging=r["a"].nodeValue(e(n),"bridgingEnabled","b"),"true"===r["a"].nodeValue(e(n),"wifiAutoChannel","b")?t.m_oWifiParams.szWifiChannel="0":t.m_oWifiParams.szWifiChannel=r["a"].nodeValue(e(n),"channel"),t.getWifiChannelCap(t.m_oWifiParams.szArea),a()}),(function(){a()}))}))}},{key:"getWpsCap",value:function(){var e=this;return new Promise((function(t){var a={urlCGI:"wpsCap",data:null,loading:!0};d["a"].get(a).then(function(){var a=Object(i["a"])(regeneratorRuntime.mark((function a(i){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=i.oResult,e.m_oCapbilities.bSupportWpsEnable=2===r["a"].nodeAttr(n,"enable","opt").split(",").length,t();case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),(function(){t()}))}))}},{key:"getWpsInfo",value:function(){var t=this;return new Promise((function(a){var n={urlCGI:"wpsInfo",data:null,loading:!0};d["a"].get(n).then(function(){var n=Object(i["a"])(regeneratorRuntime.mark((function i(n){var o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:o=n.oResult,t.m_oParams.bEnableWps=r["a"].nodeValue(e(o),"enable","b"),a();case 3:case"end":return i.stop()}}),i)})));return function(e){return n.apply(this,arguments)}}(),(function(){a()}))}))}},{key:"getDevicePinCode",value:function(){var e=this;return new Promise((function(t){var a={urlCGI:"devicePinCode",data:null,loading:!0};d["a"].get(a).then((function(a){e.m_oParams.szPinCode=a.responseText,t()}),(function(){t()}))}))}},{key:"generatePinCode",value:function(){var e=this;return new Promise((function(t){var a={urlCGI:"generatePinCode",data:null,loading:!0};d["a"].get(a).then((function(){e.getDevicePinCode(),t()}),(function(){t()}))}))}},{key:"getWifiChannelCap",value:function(t){var a=this,i=this;return void 0===t&&(t="world"),new Promise((function(n){var o={urlCGI:"wlanRegionCap",data:null,loading:!0};d["a"].get(o).then((function(o){var r=o.oResult;a.m_oCapbilities.aWifiChannelList.length=0,a.m_oCapbilities.aAreaCountryList.length=0,e(r).find("WifiManualChannel").each((function(){var t=e(this).eq(0).find("region").eq(0).text(),a="default"===t?p["a"].t("defaultCountry"):p["a"].t(t);i.m_oCapbilities.aAreaCountryList.push({value:t,text:a})})),a.m_oCapbilities.aWifiChannelList.push({value:"0",text:p["a"].t("auto")}),e(r).find("WifiManualChannel").each((function(){if(e(this).eq(0).find("region").eq(0).text()===t){var a=e(this).eq(0).find("channel").eq(0).text(),n=a.split(".."),o=1*n[0],r=1*n[1];i.iMaxChannelId=r;for(var s=o;s<=r;s++)i.m_oCapbilities.aWifiChannelList.push({value:s+"",text:s+""});return!1}})),n()}),(function(){n()}))}))}},{key:"autoConnect",value:function(){var e=s["a"].wait(null,p["a"].t("connecting"));return new Promise((function(t){var a={urlCGI:"autoIpcConnect",data:null,loading:!0};d["a"].put(a).then((function(){e.close(),t()}),(function(){e.close(),s["a"].tip(p["a"].t("conectFail")),t()}))}))}},{key:"manualConnect",value:function(){var e="<?xml version='1.0' encoding='UTF-8'?><WpsApPincode><ssid>"+this.m_oWifiParams.szWPSSSID.replace(/</g,"&lt;").replace(/&(?!lt;|amp;|gt;|apos;|quot;)/g,"&amp;")+"</ssid><pinCode>"+this.m_oParams.szApPinCode.replace(/</g,"&lt;").replace(/&(?!lt;|amp;|gt;|apos;|quot;)/g,"&amp;")+"</pinCode></WpsApPincode>",t=r["a"].parseXmlFromStr(e),a=s["a"].wait(null,p["a"].t("connecting"));return new Promise((function(e,i){var n={urlCGI:"manualConnect",data:t,loading:!0};d["a"].put(n).then((function(){s["a"].tip(p["a"].t("connectSuccess")),a.close(),e()}),(function(e){l["a"].saveState(e),a.close(),i()}))}))}},{key:"setWifiInfo",value:function(){var e=this,t="",a="";u["a"].m_oDeviceCapa.bSupportWLANAP?(a="wlanap",t="<?xml version='1.0' encoding='UTF-8'?>",t+="<WirelessServerWithExternal>",this.m_oCapbilities.bSupportWorkMode&&(t+="<wifiApEnabled>"+("ap"===this.m_oParams.szWorkMode)+"</wifiApEnabled>"),t+="<ssid>"+this.m_oWifiParams.szSSID+"</ssid>",t+="<WirelessSecurity>",t+="<securityMode>"+this.m_oWifiParams.szSecurityMode+"</securityMode>","disable"!==this.m_oWifiParams.szSecurityMode&&(t+="<WPA><algorithmType>"+this.m_oParams.szEncryptionType+"</algorithmType>",t+="<sharedKey>"+this.m_oParams.aKey[0].replace(/</g,"&lt;")+"</sharedKey>",t+="<wpaKeyLength>"+this.m_oParams.aKey[0].length+"</wpaKeyLength></WPA>"),t+="</WirelessSecurity>",this.m_oCapbilities.bSupportBridge&&(t+="<bridgingEnabled>"+this.m_oWifiParams.bEnableBridging.toString()+"</bridgingEnabled>"),this.m_oCapbilities.bSupportWifiChannel&&(t+="<RegionInformation><wifiAutoChannel>","0"===this.m_oWifiParams.szWifiChannel?t+="true":t+="false",t+="</wifiAutoChannel><WifiManualChannel><region>"+this.m_oWifiParams.szArea+"</region>",t+="<channel>"+this.m_oWifiParams.szWifiChannel+"</channel></WifiManualChannel></RegionInformation>"),t+="</WirelessServerWithExternal>"):(a="wifiInfo",t="<?xml version='1.0' encoding='UTF-8'?><Wireless><enabled>true</enabled><channel>auto</channel>",t+="<ssid>"+this.m_oWifiParams.szSSID+"</ssid><wmmEnabled>false</wmmEnabled><WirelessSecurity><securityMode>"+this.m_oWifiParams.szSecurityMode+"</securityMode>","disable"!==this.m_oWifiParams.szSecurityMode&&(t+="<WPA><algorithmType>"+this.m_oParams.szEncryptionType+"</algorithmType>",t+="<sharedKey>"+this.m_oParams.aKey[0].replace(/</g,"&lt;")+"</sharedKey>",t+="<wpaKeyLength>"+this.m_oParams.aKey[0].length+"</wpaKeyLength></WPA>"),t+="</WirelessSecurity></Wireless>");var i=s["a"].wait(null,p["a"].t("waitTips")),n=r["a"].parseXmlFromStr(t);return new Promise((function(t,o){var r={urlCGI:a,data:n,loading:!0};d["a"].put(r).then((function(a){e.m_oCapbilities.bSupportWPS&&e.m_oCapbilities.bSupportWpsEnable?e.setWpsInfo():l["a"].saveState(a.xhr),i.close(),t(a)}),(function(e){i&&i.close(),o(e)}))}))}},{key:"setWpsInfo",value:function(){var e="<?xml version='1.0' encoding='UTF-8'?><WPS><enable>"+this.m_oParams.bEnableWps.toString()+"</enable></WPS>",t=r["a"].parseXmlFromStr(e);return new Promise((function(e,a){var i={urlCGI:"wpsInfo",data:t,loading:!0};d["a"].put(i).then((function(t){l["a"].saveState(t),e(t)}),(function(e){l["a"].saveState(e),a(e)}))}))}},{key:"save",value:function(){this.setWifiInfo()}}]),t}();t["a"]=new m}).call(this,a("1157"))},b77f:function(e,t,a){"use strict";a("b54a");var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"time-plan"},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("linkSetting")}},[e.link.normal.hide?e._e():t("hm-cell",{attrs:{"is-link":"",title:e.$t("normalLink")},nativeOn:{click:function(t){return e.showNormalModal.apply(null,arguments)}}}),e.link.alarm.bShow?t("hm-cell",{attrs:{"is-link":"",title:e.$t("linkAlarmOutput")},nativeOn:{click:function(t){return e.showAlarmModal.apply(null,arguments)}}}):e._e(),e.link.record.bShow?t("hm-cell",{attrs:{"is-link":"",title:e.$t("recordLink")},nativeOn:{click:function(t){return e.showRecordModal.apply(null,arguments)}}}):e._e(),e.link.audioLight.bShow?t("hm-cell",{attrs:{"is-link":"",title:e.$t("AudioLightlinkAlarmOutput")},nativeOn:{click:function(t){return e.showAudioLightModal.apply(null,arguments)}}}):e._e()],1),t("hm-modal",{staticClass:"custom-modal",attrs:{visible:e.showNormal,title:e.$t("normalLink"),"half-height":!0},on:{close:function(t){return e.closeModal("normal")}}},[t("div",{staticClass:"checkbox-group"},[t("hm-cell-group",[void 0!=e.link.normal.beep?t("div",[t("hm-checkbox",{attrs:{position:"left"},model:{value:e.link.normal.beep,callback:function(t){e.$set(e.link.normal,"beep",t)},expression:"link.normal.beep"}},[e._v("\n            "+e._s(e.$t("soundAlarm"))+"\n          ")])],1):e._e(),void 0!=e.link.normal.email?t("div",[t("hm-checkbox",{attrs:{position:"left"},model:{value:e.link.normal.email,callback:function(t){e.$set(e.link.normal,"email",t)},expression:"link.normal.email"}},[e._v("\n            "+e._s(e.$t("emailLink"))+"\n          ")])],1):e._e(),void 0!=e.link.normal.center?t("div",[t("hm-checkbox",{attrs:{position:"left"},model:{value:e.link.normal.center,callback:function(t){e.$set(e.link.normal,"center",t)},expression:"link.normal.center"}},[e._v("\n            "+e._s(e.$t("uploadCenter"))+"\n          ")])],1):e._e(),void 0!=e.link.normal.sip?t("div",[t("hm-checkbox",{attrs:{position:"left"},model:{value:e.link.normal.sip,callback:function(t){e.$set(e.link.normal,"sip",t)},expression:"link.normal.sip"}},[e._v("\n            "+e._s(e.$t("voiceAlarmToSIPPhone"))+"\n          ")])],1):e._e(),void 0!=e.link.normal.focus?t("div",[t("hm-checkbox",{attrs:{position:"left"},model:{value:e.link.normal.focus,callback:function(t){e.$set(e.link.normal,"focus",t)},expression:"link.normal.focus"}},[e._v("\n            "+e._s(e.$t("focus"))+"\n          ")])],1):e._e(),void 0!=e.link.normal.monitor?t("div",[t("hm-checkbox",{attrs:{position:"left"},model:{value:e.link.normal.monitor,callback:function(t){e.$set(e.link.normal,"monitor",t)},expression:"link.normal.monitor"}},[e._v("\n            "+e._s(e.$t("monitorAlarm"))+"\n          ")])],1):e._e(),void 0!=e.link.normal.ftp?t("div",[t("hm-checkbox",{attrs:{position:"left"},model:{value:e.link.normal.ftp,callback:function(t){e.$set(e.link.normal,"ftp",t)},expression:"link.normal.ftp"}},[e._v("\n            "+e._s(e.$t("uploadFTP"))+"\n          ")])],1):e._e(),void 0!=e.link.normal.cloud?t("div",[t("hm-checkbox",{attrs:{position:"left"},model:{value:e.link.normal.cloud,callback:function(t){e.$set(e.link.normal,"cloud",t)},expression:"link.normal.cloud"}},[e._v("\n            "+e._s(e.$t("uploadCloud"))+"\n          ")])],1):e._e(),void 0!=e.link.normal.osd?t("div",[t("hm-checkbox",{attrs:{position:"left"},model:{value:e.link.normal.osd,callback:function(t){e.$set(e.link.normal,"osd",t)},expression:"link.normal.osd"}},[e._v("\n            "+e._s(e.$t("osdShow"))+"\n          ")])],1):e._e(),void 0!=e.link.normal.trace?t("div",[t("hm-checkbox",{attrs:{position:"left"},model:{value:e.link.normal.trace,callback:function(t){e.$set(e.link.normal,"trace",t)},expression:"link.normal.trace"}},[e._v("\n            "+e._s(e.$t("linkageTracking"))+"\n          ")])],1):e._e(),void 0!=e.link.normal.lightAuido?t("div",[t("hm-checkbox",{attrs:{position:"left"},model:{value:e.link.normal.lightAuido,callback:function(t){e.$set(e.link.normal,"lightAuido",t)},expression:"link.normal.lightAuido"}},[e._v("\n            "+e._s(e.$t("audioLightAlarm"))+"\n          ")])],1):e._e(),void 0!=e.link.normal.whiteLight?t("div",[t("hm-checkbox",{attrs:{position:"left"},model:{value:e.link.normal.whiteLight,callback:function(t){e.$set(e.link.normal,"whiteLight",t)},expression:"link.normal.whiteLight"}},[e._v("\n            "+e._s(e.$t("whiteLightLink"))+"\n          ")])],1):e._e(),void 0!=e.link.normal.audio?t("div",[t("hm-checkbox",{attrs:{position:"left"},model:{value:e.link.normal.audio,callback:function(t){e.$set(e.link.normal,"audio",t)},expression:"link.normal.audio"}},[e._v("\n            "+e._s(e.$t("linkVideoOutput"))+"\n          ")])],1):e._e()])],1),t("div",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[t("div",{staticClass:"footer-top"},[t("hm-checkbox",{attrs:{position:"left","hollow-style":!0},on:{input:function(t){return e.changeLinkAll(e.oAll.bNormal)}},model:{value:e.oAll.bNormal,callback:function(t){e.$set(e.oAll,"bNormal",t)},expression:"oAll.bNormal"}},[e._v("\n          "+e._s(e.$t("selectAll"))+"\n        ")])],1),t("hm-button",{on:{click:function(){e.showNormal=!1}}},[e._v("\n        "+e._s(e.$t("ok"))+"\n      ")])],1)]),t("hm-modal",{staticClass:"custom-modal",attrs:{visible:e.showAlarm,"close-type":"right",title:e.$t("linkAlarmOutput"),"half-height":!0},on:{close:function(t){return e.closeModal("alarm")}}},[t("div",{staticClass:"checkbox-group"},[e._l(e.link.alarm.aAnalogAlarmId,(function(a,i){return t("div",{key:"AnalogAlarmId-"+i},[t("hm-checkbox",{attrs:{position:"left"},on:{input:function(t){return e.forceUpdate("alarm")}},model:{value:e.link.alarm.oInfo[a],callback:function(t){e.$set(e.link.alarm.oInfo,a,t)},expression:"link.alarm.oInfo[iId]"}},[e._v("\n          A->"+e._s(a)+"\n        ")])],1)})),e._l(e.link.alarm.aDigitalAlarmId,(function(a,i){return t("div",{key:"DigitalAlarmId-"+i},[t("hm-checkbox",{attrs:{position:"left"},on:{input:function(t){return e.forceUpdate("alarm")}},model:{value:e.link.alarm.oInfo[a],callback:function(t){e.$set(e.link.alarm.oInfo,a,t)},expression:"link.alarm.oInfo[iId]"}},[e._v("\n          "+e._s(e.getRecordId(a))+"\n        ")])],1)}))],2),t("div",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[t("div",{staticClass:"footer-top"},[t("hm-checkbox",{attrs:{position:"left","hollow-style":!0},on:{input:function(t){return e.changeAlarmAll(e.oAll.bAlarm)}},model:{value:e.oAll.bAlarm,callback:function(t){e.$set(e.oAll,"bAlarm",t)},expression:"oAll.bAlarm"}},[e._v("\n          "+e._s(e.$t("selectAll"))+"\n        ")])],1),t("hm-button",{on:{click:function(){e.showAlarm=!1}}},[e._v("\n        "+e._s(e.$t("ok"))+"\n      ")])],1)]),t("hm-modal",{staticClass:"custom-modal",attrs:{visible:e.showRecord,"close-type":"right",title:e.$t("recordLink"),"half-height":!0},on:{close:function(t){return e.closeModal("record")}}},[t("div",{staticClass:"checkbox-group"},[e._l(e.link.record.aAnalogChannelId,(function(a,i){return t("div",{key:"AnalogChannelId-"+i},[t("hm-checkbox",{attrs:{position:"left"},on:{input:function(t){return e.forceUpdate("record")}},model:{value:e.link.record.oInfo[a],callback:function(t){e.$set(e.link.record.oInfo,a,t)},expression:"link.record.oInfo[iId]"}},[e._v("\n          A"+e._s(a)+"\n        ")])],1)})),e._l(e.link.record.aDigitalChannelId,(function(a,i){return t("div",{key:"DigitalChannelId-"+i},[t("hm-checkbox",{attrs:{position:"left"},on:{input:function(t){return e.forceUpdate("record")}},model:{value:e.link.record.oInfo[a],callback:function(t){e.$set(e.link.record.oInfo,a,t)},expression:"link.record.oInfo[iId]"}},[e._v("\n          D"+e._s(a-e.link.record.iAnalogChannelNum)+"\n        ")])],1)}))],2),t("div",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[t("div",{staticClass:"footer-top"},[t("hm-checkbox",{attrs:{position:"left","hollow-style":!0},on:{input:function(t){return e.changeRecordAll(e.oAll.bRecord)}},model:{value:e.oAll.bRecord,callback:function(t){e.$set(e.oAll,"bRecord",t)},expression:"oAll.bRecord"}},[e._v("\n          "+e._s(e.$t("selectAll"))+"\n        ")])],1),t("hm-button",{on:{click:function(){e.showRecord=!1}}},[e._v("\n        "+e._s(e.$t("ok"))+"\n      ")])],1)]),t("hm-modal",{staticClass:"custom-modal",attrs:{visible:e.showAudioLight,"close-type":"right",title:e.$t("AudioLightlinkAlarmOutput"),"half-height":!0},on:{close:function(t){return e.closeModal("audioLight")}}},[t("div",{staticClass:"checkbox-group"},e._l(e.link.audioLight.aAudioByChannel,(function(i,n){return t("div",{key:n},[t("hm-checkbox",{attrs:{position:"left"},on:{input:function(t){return e.forceAudioLightUpdate(n)}},model:{value:i.bSelect,callback:function(t){e.$set(i,"bSelect",t)},expression:"item.bSelect"}},[t("div",{staticClass:"ipspeaker-dom"},[t("div",{staticClass:"left-content"},[i.bBoundRelation?t("img",{staticClass:"bond-img",attrs:{src:a("2a3b"),alt:""}}):e._e(),t("div",{staticClass:"device-name"},[e._v("\n                "+e._s(i.label)+"\n              ")])]),t("div",{staticClass:"right-content",on:{click:function(t){return e.chooseAlarmAudio(t,i)}}},[t("span",[e._v(e._s(i.szAudioName))]),t("hm-icon",{attrs:{name:"arrow"}})],1)])])],1)})),0),t("div",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[t("div",{staticClass:"footer-top"},[t("hm-checkbox",{attrs:{position:"left","hollow-style":!0},on:{input:function(t){return e.changeAudioLightAll(e.oAll.bAudioLight)}},model:{value:e.oAll.bAudioLight,callback:function(t){e.$set(e.oAll,"bAudioLight",t)},expression:"oAll.bAudioLight"}},[e._v("\n          "+e._s(e.$t("selectAll"))+"\n        ")])],1),t("hm-button",{on:{click:e.saveAudio}},[e._v("\n        "+e._s(e.$t("ok"))+"\n      ")])],1),t("base-select",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"select",attrs:{title:e.$t("pleaseSelect"),options:e.aAudioOptions},on:{change:e.changeAudio},model:{value:e.iAudioId,callback:function(t){e.iAudioId=t},expression:"iAudioId"}})],1)],1)},n=[],o=(a("ac6a"),a("47b5")),r={components:{BaseSelect:o["a"]},props:{link:{type:Object,default:function(){return{}},required:!0}},data:function(){return{bChecked:!0,oAll:{bNormal:!1,bAlarm:!1,bRecord:!1,bAudioLight:!1},showNormal:!1,showAlarm:!1,showRecord:!1,showAudioLight:!1,cacheData:{normal:{},alarm:{},record:{},audioLight:{}},aAudioOptions:[],iAudioId:0,szChildDevID:""}},watch:{"link.normal":{handler:function(){for(var e in this.$set(this.oAll,"bNormal",!0),this.link.normal)if(!this.link.normal[e]){this.$set(this.oAll,"bNormal",!1);break}},deep:!0}},mounted:function(){},methods:{chooseAlarmAudio:function(e,t){var a=this;e.preventDefault(),this.aAudioOptions=[{text:this.$t("none"),value:0}],t.CustomAudioList&&t.CustomAudioList.length&&t.CustomAudioList.forEach((function(e){return[a.aAudioOptions.push({text:e.customAudioName,value:e.customAudioID})]})),t.customAudioID&&(this.iAudioId=t.customAudioID),t.childDevID&&(this.szChildDevID=t.childDevID),this.$refs.select.showPicker()},initParam:function(){var e=!0,t=!0,a=!0;for(var i in this.link.normal)if(!this.link.normal[i]){e=!1;break}for(var n in this.$set(this.oAll,"bNormal",e),this.link.alarm.oInfo)if(!this.link.alarm.oInfo[n]){t=!1;break}for(var o in this.$set(this.oAll,"bAlarm",t),this.link.record.oInfo)if(!this.link.record.oInfo[o]){a=!1;break}this.$set(this.oAll,"bRecord",a)},closeModal:function(e){"normal"===e&&(this.$set(this.link,"normal",this.cacheData.normal),this.showNormal=!1),"alarm"===e&&(this.$set(this.link,"alarm",this.cacheData.alarm),this.showAlarm=!1),"record"===e&&(this.$set(this.link,"record",this.cacheData.record),this.showRecord=!1),"audioLight"===e&&(this.showAudioLight=!1)},showNormalModal:function(){var e=!0;for(var t in this.link.normal)if(!this.link.normal[t]){e=!1;break}this.$set(this.oAll,"bNormal",e),this.cacheData.normal=JSON.parse(JSON.stringify(this.link.normal)),this.showNormal=!0},showAlarmModal:function(){var e=!0;for(var t in this.link.alarm.oInfo)if(!this.link.alarm.oInfo[t]){e=!1;break}this.$set(this.oAll,"bAlarm",e),this.cacheData.alarm=JSON.parse(JSON.stringify(this.link.alarm)),this.showAlarm=!0},showRecordModal:function(){var e=!0;for(var t in this.link.record.oInfo)if(!this.link.record.oInfo[t]){e=!1;break}this.$set(this.oAll,"bRecord",e),this.cacheData.record=JSON.parse(JSON.stringify(this.link.record)),this.showRecord=!0},showAudioLightModal:function(){var e=this;this.link.audioLight.aAudioByChannel.length&&(this.link.audioLight.aAudioByChannel.forEach((function(t){if(t.bSelect=!1,e.link.audioLight.oInfo[t.type+"-"+t.value]&&(t.bSelect=!0),t.szAudioName="",t.CustomAudioList&&t.CustomAudioList.length){var a=t.CustomAudioList.filter((function(e){return t.customAudioID===e.customAudioID}));a.length?t.szAudioName=a[[0]].customAudioName:t.szAudioName=e.$t("none")}else t.szAudioName=e.$t("none")})),this.forceAudioLightUpdate()),this.showAudioLight=!0},getRecordId:function(e){return"D"+(Math.floor(parseInt(e/100,10))-this.link.alarm.iAnalogChannelNum)+"-> "+e%100},changeLinkAll:function(e){for(var t in this.link.normal)"undefined"!==typeof this.link.normal[t]&&this.$set(this.link.normal,t,e)},changeAlarmAll:function(e){for(var t in this.link.alarm.oInfo)"undefined"!==typeof this.link.alarm.oInfo[t]&&this.$set(this.link.alarm.oInfo,t,e)},changeRecordAll:function(e){for(var t in this.link.record.oInfo)"undefined"!==typeof this.link.record.oInfo[t]&&this.$set(this.link.record.oInfo,t,e)},changeAudioLightAll:function(e){this.link.audioLight.aAudioByChannel.length&&this.link.audioLight.aAudioByChannel.forEach((function(t){t.bSelect=e}))},forceUpdate:function(e){if("alarm"===e){for(var t in this.$set(this.oAll,"bAlarm",!0),this.link.alarm.oInfo)if(!this.link.alarm.oInfo[t]){this.$set(this.oAll,"bAlarm",!1);break}}else if("record"===e)for(var a in this.$set(this.oAll,"bRecord",!0),this.link.record.oInfo)if(!this.link.record.oInfo[a]){this.$set(this.oAll,"bRecord",!1);break}this.$forceUpdate()},forceAudioLightUpdate:function(){this.link.audioLight.aAudioByChannel.length&&(this.link.audioLight.aAudioByChannel.filter((function(e){return e.bSelect})).length===this.link.audioLight.aAudioByChannel.length?this.oAll.bAudioLight=!0:this.oAll.bAudioLight=!1),this.$forceUpdate()},changeAudio:function(e){var t=this;this.link.audioLight.aAudioByChannel.length&&this.link.audioLight.aAudioByChannel.forEach((function(a){a.childDevID===t.szChildDevID&&(a.customAudioID=e,a.szAudioName=t.aAudioOptions.filter((function(t){return t.value===e}))[0].text)}))},saveAudio:function(){var e=this;this.link.audioLight.aAudioByChannel.length&&this.link.audioLight.aAudioByChannel.forEach((function(t){e.link.audioLight.oInfo[t.type+"-"+t.value]=t.bSelect})),this.showAudioLight=!1}}},s=r,l=(a("fe77"),a("2877")),c=Object(l["a"])(s,i,n,!1,null,"5aa1de17",null);t["a"]=c.exports},b7c2:function(e,t,a){"use strict";var i=a("bee2"),n=a("d4ec"),o=a("8d94"),r=Object(i["a"])((function e(){Object(n["a"])(this,e),this.m_oColors={CMR:"#637DEC",MOTION:"#74B557",ALARM:"#B83F42",EDR:"#E58805",ALARMANDMOTION:"#B9E2FE",COMMAND:"#15B89B",SMART:"#F66D72",AllEvent:"#AA6FFE",SCENE1:"#637DEC",SCENE2:"#74B557",SCENE3:"#B83F42",SCENE4:"#E58805",POS:"#06ECFA",INTELLIGENT:"#EEDC82",disable:"#808080",autoscan:"#637DEC",framescan:"#74B557",randomscan:"#E58805",patrol:"#B9E2FE",pattern:"#15B89B",preset:"#F66D72",panoramascan:"#8C97CB",tiltscan:"#5F52A0",periodreboot:"#EC6941",periodadjust:"#419923",auxoutput:"#16A1E0",SCENE5:"#B9E2FE",SCENE6:"#15B89B",SCENE7:"#F66D72",SCENE8:"#AA6FFE"},this.m_aMergeType=["LineDetection","FieldDetection","AudioDetection","facedetection","regionEntrance","regionExiting","loitering","group","rapidMove","parking","unattendedBaggage","attendedBaggage","scenechangedetection","pir","wlsensor","callhelp","INTELLIGENT","vandalProofDetection","faceSnap","fireDetection","shipsDetection","thermometryEarlyWarning","thermometryAlarm","thermometryDiffAlarm","thermometryOffLineAlarm","unregisteredStreetVendor","dredgerDetection"],this.oTypeLan={CMR:o["a"].t("timing"),MOTION:o["a"].t("motion"),ALARM:o["a"].t("alarm"),EDR:o["a"].t("motionOrAlarm"),ALARMANDMOTION:o["a"].t("motionAndAlarm"),COMMAND:o["a"].t("command"),SMART:"Smart",AllEvent:o["a"].t("event"),POS:o["a"].t("pos"),SCENE1:o["a"].t("SceneDefault")+"1",SCENE2:o["a"].t("SceneDefault")+"2",SCENE3:o["a"].t("SceneDefault")+"3",SCENE4:o["a"].t("SceneDefault")+"4",disable:o["a"].t("off"),autoscan:o["a"].t("autoScan"),framescan:o["a"].t("frameScan"),randomscan:o["a"].t("randomScan"),patrol:o["a"].t("patrolScan"),pattern:o["a"].t("pattern"),preset:o["a"].t("preset"),panoramascan:o["a"].t("panoramaScan"),tiltscan:o["a"].t("tiltScan"),periodreboot:o["a"].t("domeReboot"),periodadjust:o["a"].t("domeAdjust"),auxoutput:o["a"].t("auxOutput"),LineDetection:o["a"].t("lineCrossDetect"),FieldDetection:o["a"].t("fieldDetectionType"),AudioDetection:o["a"].t("audioDetection"),facedetection:o["a"].t("faceDetection"),regionEntrance:o["a"].t("regionEntranceDetect"),regionExiting:o["a"].t("regionExitDetect"),loitering:o["a"].t("loiterDetect"),group:o["a"].t("peopleGatherDetect"),rapidMove:o["a"].t("fastMoveDetect"),parking:o["a"].t("parkDetect"),unattendedBaggage:o["a"].t("unattendedBaggageDetect"),attendedBaggage:o["a"].t("objectRemovalDetect"),scenechangedetection:o["a"].t("sceneChangeDetection"),pir:o["a"].t("pir"),wlsensor:o["a"].t("wlsensor"),callhelp:o["a"].t("callhelp"),INTELLIGENT:o["a"].t("intelligent"),vandalProofDetection:o["a"].t("vandalProofAlarm"),normal:o["a"].t("normal"),backlight:o["a"].t("backLight"),frontlight:o["a"].t("frontLight"),lowIllumination:o["a"].t("lowIllumination"),custom1:o["a"].t("custom")+"1",custom2:o["a"].t("custom")+"2",indoor:o["a"].t("indoor"),outdoor:o["a"].t("outdoor"),day:o["a"].t("day"),night:o["a"].t("night"),morning:o["a"].t("morning"),nightfall:o["a"].t("nightfall"),street:o["a"].t("street"),faceSnap:o["a"].t("faceSnap"),mode1:o["a"].t("mode")+"1",mode2:o["a"].t("mode")+"2",mode3:o["a"].t("mode")+"1",mode4:o["a"].t("mode")+"2"}}));t["a"]=new r},ba4c:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("exception"),"right-type":"text","show-save-button":!0,"save-button-disabled":e.oEventCap.bSupportModify,"save-text":e.$t("save"),"b-lazy-loading":e.bLazyLoading},on:{"save-handle":e.save}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"hm-index-list-item"},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("exceptionType")}},[t("base-select",{attrs:{title:e.$t("exceptionType"),options:e.oEventCap.aExceptionCap},on:{change:e.change},model:{value:e.oEventInfo.szException,callback:function(t){e.$set(e.oEventInfo,"szException",t)},expression:"oEventInfo.szException"}})],1)],1),e.bShowLink?t("base-link",{ref:"link",attrs:{link:e.oEventInfo.oLink}}):e._e()],1)])])},n=[],o=a("bcae"),r=o["a"],s=(a("1362"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"3c8726e4",null);t["default"]=l.exports},bab5:function(e,t,a){},badf:function(e,t,a){"use strict";a("6641")},bae6:function(e,t,a){},bbf5:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this;e._self._c;return e._m(0)},n=[function(){var e=this,t=e._self._c;return t("div",[t("div")])}],o=(a("7514"),a("a481"),a("4917"),a("28a5"),a("96cf"),a("1da1")),r=a("d4ec"),s=a("bee2"),l=a("c8d4"),c=a("7c25"),u=a("7de8"),d=a("ff32"),p=a("8d94"),m=a("2889"),h=a("24e5"),f=a("67a7"),v=a("9741"),b=a("6d3c"),g=function(){function e(t){Object(r["a"])(this,e),this.szUrl=t,this.oUser={szName:"",szPass:""},this.oPage={szPage:"",szParams:""}}return Object(s["a"])(e,[{key:"init",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.parseParams(),this.setLanguage(),e.next=4,this.goPage();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"changeLanguage",value:function(e){"zh_CN"===e&&(e="zh_CN"),p["a"].locale=e,l["a"].setItem("lang",e),p["a"].changeLanguage(e)}},{key:"setLanguage",value:function(){var e=(navigator.language||navigator.browserLanguage).toLowerCase(),t=e.substring(0,2);if("zh"===t){var a=e.split("-");2===a.length&&(t="".concat(a[0],"_").concat(a[1].toUpperCase()),"cn"===a[1]&&(t="zh_CN"))}this.changeLanguage(t)}},{key:"parseParams",value:function(){var e=this.szUrl,t=u["a"].getURIParam("user",e),a=u["a"].getURIParam("pass",e),i=u["a"].getURIParam("auth",e);if(i){i=c["a"].decodeBase64(i);var n=u["a"].parseNamePwd(i);t=n.szName,a=n.szPass}if(t&&a){this.oUser.szName=t,this.oUser.szPass=a;var o=u["a"].getURIParam("page",e),r=o,s="",l=o.match(/\[&?(.*?)\]/);null!==l&&(s=l[1],r=o.replace(l[0],"")),-1!==r.indexOf(".asp")&&(r=r.slice(0,r.indexOf(".asp"))),"paramconfig"===r&&(r="config"),this.oPage.szPage=r,this.oPage.szParams=s}else f["a"].push("/login")}},{key:"goPage",value:function(){var e=this;return new Promise((function(t){m["a"].login(e.oUser.szName,e.oUser.szPass).then((function(){e.oPage.szParams?(h["a"].commit("UPDATE_ROUTE","/".concat(e.oPage.szPage,"?").concat(e.oPage.szParams)),f["a"].push("/".concat(e.oPage.szPage,"?").concat(e.oPage.szParams))):(h["a"].commit("UPDATE_ROUTE","/".concat(e.oPage.szPage)),f["a"].push("/".concat(e.oPage.szPage))),t()}),(function(){f["a"].push("/login"),t()}))}))}}]),e}(),P=function(){function e(t){Object(r["a"])(this,e),this.szUrl=t,this.oUser={szName:"",szPass:""},this.oDevice={language:"zh",mode:"lan",videoMode:"plugin",DeviceInfo:{ip:"",httpPort:80},JumpType:"",dataProxyPath:"",page:"/home/config?t="+(new Date).getTime()}}return Object(s["a"])(e,[{key:"init",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.parseParams(),e.next=3,this.setLanguage();case 3:return e.next=5,this.goPage();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"parseParams",value:function(){var e,t,a=l["a"].getItem("userInfo");if(l["a"].removeItem("userInfo"),a||(a=""),a){a=c["a"].decodeBase64(a);var i=u["a"].parseNamePwd(a);e=i.szName,t=i.szPass}this.oUser.szName=e,this.oUser.szPass=t;var n=l["a"].getItem("deviceInfo");n&&(this.oDevice=JSON.parse(n)),this.oDevice.Mode&&(this.oDevice.mode=this.oDevice.Mode),this.oDevice.mode=this.oDevice.mode.toLowerCase(),"ezviz"===this.oDevice.mode&&(this.oDevice.dataProxyPath||(this.oDevice.dataProxyPath="/api/hikvision/"),this.oUser.szName="admin",this.oUser.szPass=""),this.oDevice.videoMode||("lan"===this.oDevice.mode?this.oDevice.videoMode="plugin":this.oDevice.videoMode="image"),"ehome"===this.oDevice.mode&&(this.oDevice.mode="isup"),"platform"!==this.oDevice.mode&&"isapi"!==this.oDevice.mode&&"ip"!==this.oDevice.mode||(this.oDevice.mode="ip"),l["a"].setItem("deviceInfo",JSON.stringify(this.oDevice)),d["a"].parseParams()}},{key:"changeLanguage",value:function(e){var t={zh:"zh_CN",en:"en_US",zh_CN:"zh_CN",en_US:"en_US"};e=t[e]?t[e]:e,p["a"].locale=e,l["a"].setItem("lang",e),p["a"].changeLanguage(e)}},{key:"setLanguage",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a,i,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.oDevice.language||l["a"].getItem("language"),!t){e.next=6;break}return e.next=4,new Promise((function(e,a){var i=[],o=b;o||a(),o.Languages&&(i=o.Languages),i.find((function(e){return e.value===t}))?(n.changeLanguage(t),console.log("szLanguage",t,i.find((function(e){return e.isDefault})).value)):n.changeLanguage(i.find((function(e){return e.isDefault})).value),e()}));case 4:e.next=10;break;case 6:a=(navigator.language||navigator.browserLanguage).toLowerCase(),t=a.substring(0,2),"zh"===t&&(i=a.split("-"),2===i.length&&(t="".concat(i[0],"_").concat(i[1].toUpperCase()),"cn"===i[1]&&(t="zh"))),this.changeLanguage(t);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"goPage",value:function(){var e=this;return new Promise((function(t){m["a"].registerDevice(v["a"].m_szHostName,v["a"].m_iHttpPort,location.protocol,!1);var a=e.oDevice.page?e.oDevice.page:"/home/config?t="+(new Date).getTime();if("Radar"===e.oDevice.JumpType&&(a="/intelligentRadar?nohead=true&nofoot=true"),"lan"===e.oDevice.mode||"ip"===e.oDevice.mode)m["a"].login(e.oUser.szName,e.oUser.szPass).then((function(){l["a"].setItem("disPatchLogin",e.oDevice.mode),l["a"].setItem("deviceInfo",JSON.stringify(e.oDevice)),h["a"].commit("UPDATE_ROUTE",a),f["a"].push(a),t()}),(function(){h["a"].commit("UPDATE_ROUTE","/portal/close"),f["a"].push("/portal/close"),t()}));else if("isup"===e.oDevice.mode||"ezviz"===e.oDevice.mode||"otap"===e.oDevice.mode){var i="admin";e.oUser.szName&&(i=e.oUser.szName),m["a"].noLogin(i).then((function(){l["a"].setItem("disPatchLogin",e.oDevice.mode),l["a"].setItem("deviceInfo",JSON.stringify(e.oDevice)),f["a"].push(a),h["a"].commit("UPDATE_ROUTE",a),t()}),(function(){h["a"].commit("UPDATE_ROUTE","/portal/close"),f["a"].push("/portal/close"),t()}))}}))}}]),e}(),S=function(){function e(){Object(r["a"])(this,e),this.oInstance=null}return Object(s["a"])(e,[{key:"init",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=decodeURI(document.URL),a=u["a"].getURIParam("type",t),"dispatch"===a?this.goDispatchURL(t):"dispatchConfig"===a&&this.goDispatchConfig(t),d["a"].init(),e.next=6,this.oInstance.init();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"goDispatchURL",value:function(e){this.oInstance=new g(e)}},{key:"goDispatchConfig",value:function(e){this.oInstance=new P(e)}}]),e}(),C=new S,y={created:function(){1!==window.dispatchInitFlag&&(C.init(),window.dispatchInitFlag=1)}},I=y,D=a("2877"),w=Object(D["a"])(I,i,n,!1,null,"743e58bb",null);t["default"]=w.exports},bc96:function(e,t,a){},bcae:function(e,t,a){"use strict";(function(e){a("b54a"),a("96cf");var i=a("1da1"),n=a("c502"),o=a("b77f"),r=a("47b5");t["a"]={components:{BaseLink:o["a"],BaseSelect:r["a"]},data:function(){return{value:"hDDFull",bEnableCancelCallback:!0,oChannel:{},oEventInfoTemp:{},bShowLink:!1,oEventCap:{aExceptionCap:[],bSupportModify:!1},oEventInfo:{szException:"",oLink:null},titleException:this.$t("hDDFull")}},watch:{"oEventInfo.szException":{handler:function(e){var t=this;e&&n["a"].init(e).finally(Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n["a"].getDetectLink();case 2:t.oEventInfo=n["a"].oEventInfo,t.oEventCap=n["a"].oEventCap,t.initLink();case 5:case"end":return e.stop()}}),e)}))))},deep:!0}},created:function(){var e=this;n["a"].getDetectCap().finally((function(){e.oEventCap=n["a"].oEventCap,e.oEventInfo=n["a"].oEventInfo}))},methods:{save:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.bLazyLoading=!0,e.next=3,n["a"].save();case 3:this.bLazyLoading=!1;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),initLink:function(){var t=this;this.bShowLink=!1,e.extend(!0,this.oEventInfoTemp,this.oEventInfo),this.bShowLink=!0,this.$nextTick((function(){t.$refs.link.linkData=t.oEventInfo.oLink,t.$refs.link.$forceUpdate()}))},change:function(e,t,a){this.titleException=a}}}}).call(this,a("1157"))},bcbc:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("RS-232"),"right-type":"text","show-save-button":!0,"b-lazy-loading":e.bLazyLoading,"save-text":e.$t("save")},on:{"save-handle":e.save}},[t("div",{staticClass:"rs232-page-wrapper",attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"hm-index-list-item"},[t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("baudRate")}},[t("base-select",{attrs:{options:e.aBaudRate,title:e.$t("baudRate")},model:{value:e.oSetting232Info.szBaudRate,callback:function(t){e.$set(e.oSetting232Info,"szBaudRate",t)},expression:"oSetting232Info.szBaudRate"}})],1),t("hm-cell",{attrs:{title:e.$t("dataBit")}},[t("base-select",{attrs:{options:e.aDataBit,title:e.$t("dataBit")},model:{value:e.oSetting232Info.szDataBit,callback:function(t){e.$set(e.oSetting232Info,"szDataBit",t)},expression:"oSetting232Info.szDataBit"}})],1),t("hm-cell",{attrs:{title:e.$t("stopBit")}},[t("base-select",{attrs:{options:e.aStopBit,title:e.$t("stopBit")},model:{value:e.oSetting232Info.szStopBit,callback:function(t){e.$set(e.oSetting232Info,"szStopBit",t)},expression:"oSetting232Info.szStopBit"}})],1),t("hm-cell",{attrs:{title:e.$t("parity")}},[t("base-select",{attrs:{options:e.aParity,title:e.$t("parity")},model:{value:e.oSetting232Info.szParity,callback:function(t){e.$set(e.oSetting232Info,"szParity",t)},expression:"oSetting232Info.szParity"}})],1),t("hm-cell",{attrs:{title:e.$t("flowCtrl")}},[t("base-select",{attrs:{options:e.oSetting232Info.aFlowCtrl,title:e.$t("flowCtrl")},model:{value:e.oSetting232Info.szFlowCtrl,callback:function(t){e.$set(e.oSetting232Info,"szFlowCtrl",t)},expression:"oSetting232Info.szFlowCtrl"}})],1),t("hm-cell",{attrs:{title:e.$t("usage")}},[t("base-select",{attrs:{options:e.oSetting232Info.aUsage,title:e.$t("usage")},model:{value:e.oSetting232Info.szUsage,callback:function(t){e.$set(e.oSetting232Info,"szUsage",t)},expression:"oSetting232Info.szUsage"}})],1)],1)],1)],1),t("base-view")],1)])},n=[],o=(a("96cf"),a("1da1")),r=a("1c1a"),s=a("c096"),l=a("97af"),c=a("47b5"),u={name:"RS232",components:{BaseView:r["a"],BasePage:l["a"],BaseSelect:c["a"]},data:function(){return{bLazyLoading:!1,validate:{},aBaudRate:s["a"]._aBaudRate,oSetting232Info:s["a"]._oSetting232Info,aDataBit:[{value:"5",text:"5"},{value:"6",text:"6"},{value:"7",text:"7"},{value:"8",text:"8"}],aStopBit:[{value:"1",text:"1"},{value:"2",text:"2"}],aParity:[{value:"none",text:this.$t("none")},{value:"even",text:this.$t("even")},{value:"odd",text:this.$t("odd")}]}},created:function(){s["a"].init().finally((function(){}))},methods:{save:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.bLazyLoading=!0,e.next=3,s["a"].set232Info();case 3:this.bLazyLoading=!1;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},d=u,p=(a("94f2"),a("2877")),m=Object(p["a"])(d,i,n,!1,null,"49cd1c4b",null);t["default"]=m.exports},bd20:function(e,t,a){},bd64:function(e,t,a){"use strict";a("ac6a"),a("5df3"),a("28a5"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("8d94"),s=a("d09c"),l=a("f193"),c=a("c050"),u=a("768a"),d={picture:r["a"].t("e_picture"),video:r["a"].t("shortVideo")},p=function(){function e(){Object(n["a"])(this,e),this.oParamsCap={bSupportSnapMode:!1,bSupportCaptureTime:!1,aSnapMode:[],bChannelSupport:!1},this.oEventInfo={oLink:null},this.oParams={bEnableEventArouse:!1,szSnapMode:"",aArouseTimes:[]},this.dataJson=null,this.timeJson=null}return Object(o["a"])(e,[{key:"getLink",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].getLinkageCap("ArouseTriggerCap").then((function(e){a.oEventInfo.oLink=e}));case 2:return t={urlCGI:"eventArouseLink",params:{channel:u["a"].m_iChannelId},data:null,loading:!0},e.abrupt("return",l["a"].get(t).then((function(e){u["a"].getLinkInfo(a.oEventInfo.oLink,e.oResult)}),(function(){})));case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setLink",value:function(){var e=this,t=new Promise(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a,i){var n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=u["a"].setLinkInfo(e.oEventInfo.oLink,"arouse",e.oParams.iChannelId),o={urlCGI:"eventArouseLink",params:{channel:u["a"].m_iChannelId},data:n,loading:!0},l["a"].put(o).then((function(e){a({xhr:e.xhr})}),(function(e){i({xhr:e.xhr})}));case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}());return t}},{key:"getEventArouseCap",value:function(){var e=this.oParamsCap;e.bChannelSupport=!1;var t=new Promise(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i={urlCGI:"eventArouseCap",params:{channel:u["a"].m_iChannelId},data:null,loading:!0},t.next=3,l["a"].get(i).then((function(t){e.bChannelSupport=!0;var i=t.oResult.Arouse;if(i&&i.mode){e.aSnapMode.length=0,e.bSupportSnapMode=!0;for(var n=i.mode["@opt"].split(","),o=0;o<n.length;o++)e.aSnapMode.push({text:d[n[o]]||n[o],value:n[o]})}a()}),(function(){a()}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return t}},{key:"getEventArouseInfo",value:function(){var e=this,t=new Promise(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a,i){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={urlCGI:"eventArouseInfo",params:{channel:u["a"].m_iChannelId},data:null,loading:!0},t.next=3,l["a"].get(n).then((function(t){e.dataJson=t.oResult;var i=e.oParamsCap,n=e.oParams,o=t.oResult.Arouse;o&&(n.bEnableEventArouse=o.enabled,i.bSupportSnapMode&&(n.szSnapMode=o.mode)),a()}),(function(e,t){i({xhr:t})}));case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}());return t}},{key:"getSchedule",value:function(){var e=this,t=this.oParams;t.aArouseTimes.length=0;var a=new Promise(function(){var a=Object(i["a"])(regeneratorRuntime.mark((function a(i){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={urlCGI:"eventArouseSchedule",params:{channel:u["a"].m_iChannelId},data:null,loading:!0},a.next=3,l["a"].get(n).then((function(a){e.timeJson=a.oResult;var n=a.oResult.Schedule;n&&n.TimeList&&(t.aArouseTimes=n.TimeList[0].TimeRange),i()}),(function(){i()}));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}());return a}},{key:"init",value:function(){var e=this;this.getEventArouseCap().then((function(){Promise.all([e.getEventArouseInfo(),e.getLink(),e.getSchedule()]).then((function(){e.oParams.aArouseTimes.length?e.oParamsCap.bSupportCaptureTime=!0:e.oParamsCap.bSupportCaptureTime=!1}),(function(e){s["a"].saveState(e.xhr)}))}))}},{key:"setEventArouseInfo",value:function(){var e=this,t=new Promise(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a,i){var n,o,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.oParamsCap,o=e.oParams,r=e.dataJson,r&&(r.Arouse.enabled=o.bEnableEventArouse,n.bSupportSnapMode&&(r.Arouse.mode=o.szSnapMode)),s={urlCGI:"eventArouseInfo",params:{channel:u["a"].m_iChannelId},data:r,loading:!0},l["a"].put(s).then((function(e){a({xhr:e.xhr})}),(function(e){i({xhr:e.xhr})}));case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}());return t}},{key:"setSchedule",value:function(){var e=this.oParams,t=this.timeJson;if(t){var a,n,o=[];for(a=0;a<e.aArouseTimes.length;a++)n=e.aArouseTimes[a],o.push({id:n.id,enabled:n.enabled,time:n.time});var r=t.Schedule.TimeList;for(a=0;a<r.length;a++)t.Schedule.TimeList[a].TimeRange=o}var s=new Promise(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(a,i){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n={urlCGI:"eventArouseSchedule",params:{channel:u["a"].m_iChannelId},data:t,loading:!0},l["a"].put(n).then((function(e,t){a({xhr:t})}),(function(e){i({xhr:e})}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());return s}},{key:"save",value:function(){for(var e=this.oParams,t=0,a=0,i=0;i<e.aArouseTimes.length-1;i++)if(e.aArouseTimes[i].enabled){t=this.transToSecond(e.aArouseTimes[i].time||"00:00:00");for(var n=i+1;n<e.aArouseTimes.length;n++)if(e.aArouseTimes[n].enabled){if(a=this.transToSecond(e.aArouseTimes[n].time||"00:00:00"),t===a)return c["a"].alert(r["a"].t("repeatTimePoint")),!1;if(a>t-300&&a<t+300)return c["a"].alert(r["a"].t("less5minTips")),!1}}var o=[this.setEventArouseInfo(),this.setLink()];this.oParams.aArouseTimes.length&&o.push(this.setSchedule()),Promise.all(o).then((function(e){s["a"].saveState(e[0].xhr)}),(function(e){s["a"].saveState(e.xhr)}))}},{key:"transToSecond",value:function(e){var t=0;if(!e)return 0;var a=e.split(":");return a&&a.length>=3?(0===parseInt(a[0],10)&&(a[0]="24"),t=3600*parseInt(a[0],10)+60*parseInt(a[1],10)+parseInt(a[2],10),t):0}}]),e}();t["a"]=new p},bef5:function(e,t,a){"use strict";(function(e){a("28a5"),a("7514"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("f193"),s=a("d09c"),l=a("7de8"),c=a("8d94"),u=function(){function t(){Object(n["a"])(this,t),this.oAudioParams={compressionType:"",samplingRate:"",audioStreamBit:"",audioInput:"LineIn",inputVolume:0,outputVolume:0,environmentNoiseFilter:"",oVoiceChangerData:null,bEnableVoiceChanger:!1,iVoiceChangerVolume:0,bMuteDuringPanTilt:!1,szAudioOutputType:""},this.oAudioCapa={bSupportMuteDuringPanTilt:!1,compressionTypes:[],audioInputs:[],samplingRates:[],audioStreamBits:[],bSupportComType:!1,bSupportAudioInput:!0,bSupportInputVol:!1,bSupportOutputVol:!1,bSupportENF:!1,bSupportSamplingRate:!1,bSupportBitRate:!1,bSupportVoiceChanger:!1,iVoiceChangerVolumeMin:0,iVoiceChangerVolumeMax:100,bSupportChannelList:!1,
//!_oDevice.m_oDeviceCapa.bOnlySupportAnalogChannel,
aAudioOutputType:[],bSupportAudioOutput:!1},this.oDynamicCapa={}}return Object(o["a"])(t,[{key:"getInfo",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getVideoCap(t);case 2:return e.next=4,this.getAudioCap(t);case 4:return e.next=6,this.getAudioInfo(t);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getVideoCap",value:function(t){var a=this;return new Promise(function(){var n=Object(i["a"])(regeneratorRuntime.mark((function i(n){var o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return o={urlCGI:"videoCapa",loading:!0,params:{channel:t,videoStream:"01"}},i.next=3,r["a"].get(o).then((function(t){var i=t.oResult;console.log("🚀 ~ VideoAudio ~ awaitHttp.get ~ xmlDoc:",i),e(i).find("VoiceChanger").length&&(a.oAudioCapa.bSupportVoiceChanger=e(i).find("VoiceChanger enabled").eq(0).text(),a.oAudioCapa.iVoiceChangerVolumeMin=l["a"].nodeAttr(i,"level","min","i"),a.oAudioCapa.iVoiceChangerVolumeMax=l["a"].nodeAttr(i,"level","max","i")),n()}),(function(){n()}));case 3:case"end":return i.stop()}}),i)})));return function(e){return n.apply(this,arguments)}}())}},{key:"getAudioCap",value:function(t){var a=this;return new Promise(function(){var n=Object(i["a"])(regeneratorRuntime.mark((function i(n){var o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return o={urlCGI:"audioCapa",loading:!0,params:{channel:t}},i.next=3,r["a"].get(o).then((function(t){var i={Speaker:c["a"].t("Speaker"),Close:c["a"].t("close"),LineOut:c["a"].t("LineOut"),selfAdaptive:c["a"].t("selfAdaptive"),doubleMic:c["a"].t("doubleMic"),wirelessPickUp:c["a"].t("wirelessPickUp"),networkPickUp:c["a"].t("networkPickUp")},o=t.oResult;if(e(o).find("audioCompressionType").length){a.oAudioCapa.bSupportComType=!0,a.oAudioCapa.compressionTypes.length=0;var r=e(o).find("audioCompressionType").eq(0).attr("opt").split(",");a.oAudioCapa.compressionTypes=r.map((function(e){return{value:e,text:e}}))}else a.oAudioCapa.bSupportComType=!1;if(e(o).find("audioInputType").length){a.oAudioCapa.bSupportAudioInput=!0,a.oAudioCapa.audioInputs.length=0;var s=e(o).find("audioInputType").eq(0).attr("opt").split(",");a.oAudioCapa.audioInputs=s.map((function(e){return{value:e,text:i[e]||e}}))}else a.oAudioCapa.bSupportAudioInput=!1;if(a.oAudioCapa.bSupportInputVol=e(o).find("speakerVolume").length>0,a.oAudioCapa.bSupportOutputVol=e(o).find("microphoneVolume").length>0,a.oAudioCapa.bSupportENF=e(o).find("noisereduce").length>0,e(o).find("audioOutputType").length>0){a.oAudioCapa.bSupportAudioOutput=!0,a.oAudioCapa.aAudioOutputType.length=0;var l=e(o).find("audioOutputType").eq(0).attr("opt").split(",");a.oAudioCapa.aAudioOutputType=l.map((function(e){return{value:e,text:i[e]||e}})),a.oAudioParams.szAudioOutputType=e(o).find("audioOutputType").eq(0).text()}else a.oAudioCapa.bSupportAudioOutput=!1;n()}),(function(){n()}));case 3:case"end":return i.stop()}}),i)})));return function(e){return n.apply(this,arguments)}}())}},{key:"setInfo",value:function(e){var t="<?xml version='1.0' encoding='UTF-8'?>\n        <TwoWayAudioChannel>\n            <id>".concat(e,"</id>\n            <enabled>true</enabled>\n            ").concat(this.oAudioCapa.bSupportComType?"<audioCompressionType>".concat(this.oAudioParams.compressionType,"</audioCompressionType>"):"","\n            ").concat(this.oAudioCapa.bSupportAudioInput?"<audioInputType>".concat(this.oAudioParams.audioInput,"</audioInputType>"):"","\n            ").concat(this.oAudioCapa.bSupportInputVol?"<speakerVolume>".concat(this.oAudioParams.inputVolume,"</speakerVolume>"):"","\n            ").concat(this.oAudioCapa.bSupportOutputVol?"<microphoneVolume>".concat(this.oAudioParams.outputVolume,"</microphoneVolume>"):"","\n           <noisereduce>").concat(this.oAudioParams.environmentNoiseFilter,"</noisereduce>\n            ").concat(this.oAudioCapa.bSupportBitRate?"<audioBitRate>".concat(this.oAudioParams.audioStreamBit,"</audioBitRate>"):"","\n            ").concat(this.oAudioCapa.bSupportSamplingRate?"<audioSamplingRate>".concat(this.oAudioParams.samplingRate,"</audioSamplingRate>"):"","\n            ").concat(this.oAudioCapa.bSupportAudioOutput?"<audioOutputType>".concat(this.oAudioParams.szAudioOutputType,"</audioOutputType>"):"","\n            ").concat(this.oAudioCapa.bSupportMuteDuringPanTilt?"<muteDuringPanTilt>".concat(this.oAudioParams.bMuteDuringPanTilt,"</muteDuringPanTilt>"):"","\n        </TwoWayAudioChannel>"),a=l["a"].parseXmlFromStr(t);return new Promise((function(t){var i={urlCGI:"audioInfo",loading:!0,params:{channel:e},data:a};r["a"].put(i).then((function(e){s["a"].saveState(e.xhr),t()}),(function(){t()}))}))}},{key:"getAudioInfo",value:function(t){var a=this;return new Promise(function(){var n=Object(i["a"])(regeneratorRuntime.mark((function i(n,o){var s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return s={urlCGI:"audioInfo",loading:!0,params:{channel:t}},i.next=3,r["a"].get(s).then((function(t){var i=e(t.oResult);i.find("audioCompressionType").length&&(a.oAudioParams.compressionType=i.find("audioCompressionType").eq(0).text()),i.find("audioInputType").length&&(a.oAudioParams.audioInput=i.find("audioInputType").eq(0).text()),i.find("speakerVolume").length&&(a.oAudioParams.inputVolume=parseInt(i.find("speakerVolume").eq(0).text(),10)+""),i.find("microphoneVolume").length&&(a.oAudioParams.outputVolume=parseInt(i.find("microphoneVolume").eq(0).text(),10)+""),i.find("audioSamplingRate").length&&(a.oAudioParams.samplingRate=i.find("audioSamplingRate").eq(0).text()),setTimeout((function(){i.find("audioBitRate")&&(a.oAudioParams.audioStreamBit=i.find("audioBitRate").eq(0).text())})),i.find("noisereduce").length&&(a.oAudioParams.environmentNoiseFilter="true"===i.find("noisereduce").eq(0).text()),i.find("audioOutputType").length&&(a.oAudioParams.szAudioOutputType=i.find("audioOutputType").eq(0).text()),i.find("muteDuringPanTilt").length>0&&(a.oAudioParams.bMuteDuringPanTilt="true"===i.find("muteDuringPanTilt").eq(0).text()),n()}),(function(){console.log("shibai"),o()}));case 3:case"end":return i.stop()}}),i)})));return function(e,t){return n.apply(this,arguments)}}())}},{key:"getAudioCapa",value:function(t){var a=this,n=this;return new Promise(function(){var o=Object(i["a"])(regeneratorRuntime.mark((function i(o){var s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return s={urlCGI:"audioDynamicCapa",loading:!0,params:{channel:t}},i.next=3,r["a"].get(s).then((function(t){a.oDynamicCapa={};var i=e(t.oResult),o=i.find("AudioDscriptor");e.each(o,(function(){var t=e(this).find("audioCompressionType").eq(0).text();n.oDynamicCapa[t]={},n.oDynamicCapa[t].capas=[],n.oDynamicCapa[t].defaultIndex=0,e(this).find("audioItem").each((function(a){var i=e(this).find("audioSamplingRate").eq(0).text();e(this).find("audioSamplingRate").eq(0).attr("default")&&(n.oDynamicCapa[t].defaultIndex=a);var o=e(this).find("audioBitRate").eq(0).attr("opt");o="undefined"===typeof o?"":o+"-"+e(this).find("audioBitRate").eq(0).text();var r=e(this).find("noisereduce").eq(0).text();n.oDynamicCapa[t].capas.push({samplingRate:i,audioBitRate:o,supportNoiseReduce:"true"===r})}))}))}),(function(){o()}));case 3:o();case 4:case"end":return i.stop()}}),i)})));return function(e){return o.apply(this,arguments)}}())}},{key:"getVideoInfo",value:function(e){var t=this;return new Promise(function(){var a=Object(i["a"])(regeneratorRuntime.mark((function a(i){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={urlCGI:"videoInfo",loading:!0,params:{channel:e,videoStream:"01"}},a.next=3,r["a"].get(n).then((function(e){t.oAudioParams.oVoiceChangerData=e,t.oAudioParams.bEnableVoiceChanger=l["a"].nodeValue(e,"VoiceChanger enabled","b"),t.oAudioParams.iVoiceChangerVolume=l["a"].nodeValue(e,"VoiceChanger level","i"),i()}));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}}]),t}();t["a"]=new u}).call(this,a("1157"))},c060:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("onvifName"),"left-type":"back","show-save-button":!0,"save-text":e.$t("save"),"b-lazy-loading":e.oParams.bLazyLoading},on:{"save-handle":e.save}},[t("div",{staticClass:"protocol-page-wrapper",attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"hm-index-list-item"},[t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[e.oParamsCap.bSupportSTDCGI?t("div",[t("hm-cell",{attrs:{title:e.$t("enableSTDCGI")}},[t("hm-switch",{model:{value:e.oParams.STDCGI.enabled,callback:function(t){e.$set(e.oParams.STDCGI,"enabled",t)},expression:"oParams.STDCGI.enabled"}})],1),e.oParamsCap.aSTDCGICap[0]?t("hm-cell",{attrs:{title:e.$t("STDCGIAuth")}},[t("base-select",{attrs:{title:e.$t("STDCGIAuth"),options:e.oParamsCap.aSTDCGICap},model:{value:e.oParams.STDCGI.auth,callback:function(t){e.$set(e.oParams.STDCGI,"auth",t)},expression:"oParams.STDCGI.auth"}})],1):e._e()],1):e._e(),e.oParamsCap.bSupportONVIF?t("div",[t("hm-cell",{attrs:{title:e.$t("enable")}},[t("hm-switch",{model:{value:e.oParams.onvif.enabled,callback:function(t){e.$set(e.oParams.onvif,"enabled",t)},expression:"oParams.onvif.enabled"}})],1),e.oParamsCap.bSupportONVIFInfo?t("hm-cell",{attrs:{title:e.$t("version")}},[t("hm-input",{attrs:{disabled:!0},model:{value:e.oParams.onvifVersion,callback:function(t){e.$set(e.oParams,"onvifVersion",t)},expression:"oParams.onvifVersion"}})],1):e._e(),e.oParamsCap.aONVIFCap[0]?t("hm-cell",{attrs:{title:e.$t("authentication")}},[t("base-select",{attrs:{title:e.$t("authentication"),options:e.oParamsCap.aONVIFCap},model:{value:e.oParams.onvif.auth,callback:function(t){e.$set(e.oParams.onvif,"auth",t)},expression:"oParams.onvif.auth"}})],1):e._e()],1):e._e(),e.oParamsCap.bSupportGenetec?t("hm-cell",{attrs:{title:e.$t("enableGenetec")}},[t("hm-switch",{model:{value:e.oParams.bGenetec,callback:function(t){e.$set(e.oParams,"bGenetec",t)},expression:"oParams.bGenetec"}})],1):e._e(),e.oParamsCap.bSupportISAPI&&0===e.oCommon.iDeviceType?t("hm-cell",{attrs:{title:e.$t("enableISAPI")}},[t("hm-switch",{attrs:{disabled:!0},model:{value:e.oParams.bISAPI,callback:function(t){e.$set(e.oParams,"bISAPI",t)},expression:"oParams.bISAPI"}})],1):e._e()],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("userList")}},[t("hm-cell",[t("div",{attrs:{slot:"title"},slot:"title"},[t("span",{staticClass:"label-test",on:{click:function(t){return e.add("add")}}},[e._v(e._s(e.$t("add")))])])]),t("CommonTable",{ref:"table",attrs:{data:e.showDatas,"btns-tips":e.btnsTips},on:{onCellClick:function(t){return e.modify("modify",t)},onSwipeBtnClick:e.onSwipeBtnClick}})],1)],1)],1),e.bShowUserList?t("div",{staticClass:"full-screen-display"},[t("base-page",{attrs:{title:e.$t("userList"),"left-type":"back"}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"swipe-wrapper"},[t("hm-scroll",[t("hm-swipe",[t("div",{staticClass:"table-list"},[t("transition-group",{attrs:{name:"swipe"}},e._l(e.tableData.tableItem,(function(a,i){return t("div",{key:a[2]},[t("hm-swipe-item",{ref:"swipeItem",refInFor:!0,staticClass:"item-swipe",attrs:{btns:e.btnsTips,index:i,"auto-shrink":e.bAutoShrink},on:{"btn-click":e.onSwipeBtnClick}},[t("hm-cell",{attrs:{center:"",title:"No."+(i+1),label:a[0],"is-link":""},nativeOn:{click:function(t){return e.modify("modify",a,i)}}})],1)],1)})),0)],1)]),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{attrs:{disabled:e.oParams.users.length>=e.oParamsCap.iMaxUsers},on:{click:function(t){return e.add("add")}}},[e._v(e._s(e.$t("add_name")))])],1)],1)],1)])])],1):e._e(),e.bShowAddOrMod?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:e.title,"enable-cancel-callback":e.bEnableCancelCallbackAM,"show-confirm":!1,"right-type":"modify"===e.type?"delete":""},on:{confirm:e.handleConfirm,cancelcallback:e.cancelCallbackAM}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"swipe-wrapper"},[t("hm-scroll",[t("advanced-onvif-user",{ref:"advancedOnvifUser",attrs:{"o-current-user":e.oCurrentUser,"show-pwd":e.showPwd,type:e.type},on:{changeUser:e.changeUser}}),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{on:{click:e.confirmAM}},[e._v(e._s(e.$t("save")))])],1)],1)],1)])])],1):e._e(),t("base-view")],1)])},n=[],o=a("03f6"),r=o["a"],s=(a("d5b6"),a("0abd"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"76e62740",null);t["default"]=l.exports},c08d:function(e,t,a){"use strict";a.r(t);a("386d");var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("netHDD"),"right-type":"text"}},[t("div",{staticClass:"hdd-wrapper",attrs:{slot:"content"},slot:"content"},[t("hm-scroll",[t("div",[e.oHDDInfo&&e.oHDDInfo.length?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("hdd")}},e._l(e.oHDDInfo,(function(a,i){return t("hm-cell",{key:i,attrs:{"is-link":"",title:e.$t("diskNo")+a[0],label:a[1]},nativeOn:{click:function(t){return e.getChannelDetail(i)}}})})),1):e._e(),t("hm-button",{on:{click:function(t){return e.save()}}},[e._v(e._s(e.$t("save")))]),e.aSupportMountType&&e.aSupportMountType.length?e._e():t("button",{staticClass:"search-button",attrs:{disabled:e.bSupportModify},on:{click:e.openSearch}},[e._v(e._s(e.$t("search1")))])],1)]),e.bShowTableItem?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:e.$t("hdd")+e.oDetailInfo[0],"enable-cancel-callback":!0,"sz-confirm":e.$t("ok"),"sz-cancel":e.$t("clear")},on:{cancelcallback:e.clear,confirm:e.confirm}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"item-wrapper"},[t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{class:{"cell-require":e.oParamsValid.serverAdd&&e.oParamsValid.serverAdd.required},attrs:{title:e.$t("serverAdd")}},[t("hm-input",{attrs:{placeholder:e.$t("serverAdd")},model:{value:e.oDetailInfo[1],callback:function(t){e.$set(e.oDetailInfo,1,t)},expression:"oDetailInfo[1]"}}),t("hm-validator",{attrs:{model:e.oDetailInfo[1],rules:e.oParamsValid.serverAdd,param:e.$t("serverAdd")}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.filePath&&e.oParamsValid.filePath.required},attrs:{title:e.$t("filePath")}},[t("hm-input",{attrs:{placeholder:e.$t("filePath")},model:{value:e.oDetailInfo[2],callback:function(t){e.$set(e.oDetailInfo,2,t)},expression:"oDetailInfo[2]"}}),t("hm-validator",{attrs:{model:e.oDetailInfo[2],rules:e.oParamsValid.filePath,param:e.$t("filePath")}})],1),t("hm-cell",{attrs:{title:e.$t("type")}},[t("base-select",{attrs:{title:e.$t("type"),options:e.aTypeList},on:{change:e.changetype},model:{value:e.oDetailInfo[3],callback:function(t){e.$set(e.oDetailInfo,3,t)},expression:"oDetailInfo[3]"}})],1)],1),e.aSupportMountType&&e.aSupportMountType.length?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("nasMountType")}},[t("base-select",{attrs:{title:e.$t("nasMountType"),options:e.aSupportMountType},on:{change:e.changeMountType},model:{value:e.oDetailParam.mountType,callback:function(t){e.$set(e.oDetailParam,"mountType",t)},expression:"oDetailParam.mountType"}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.userName&&e.oParamsValid.userName.required},attrs:{title:e.$t("username")}},[t("hm-input",{attrs:{disabled:"SMB/CIFS"!==e.oDetailParam.mountType,placeholder:e.$t("username")},model:{value:e.oDetailParam.userName,callback:function(t){e.$set(e.oDetailParam,"userName",t)},expression:"oDetailParam.userName"}}),t("hm-validator",{attrs:{disabled:"SMB/CIFS"!==e.oDetailParam.mountType,model:e.oDetailParam.userName,rules:e.oParamsValid.userName,param:e.$t("username")}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.password&&e.oParamsValid.password.required},attrs:{title:e.$t("password")}},[t("hm-input",{attrs:{disabled:"SMB/CIFS"!==e.oDetailParam.mountType,type:"password",placeholder:e.$t("password")},model:{value:e.oDetailParam.password,callback:function(t){e.$set(e.oDetailParam,"password",t)},expression:"oDetailParam.password"}}),t("hm-validator",{attrs:{disabled:"SMB/CIFS"!==e.oDetailParam.mountType,model:e.oDetailParam.password,rules:e.oParamsValid.password,param:e.$t("password")}})],1)],1):e._e()],1),e.aSupportMountType&&e.aSupportMountType.length?t("hm-button",{on:{click:function(t){return e.test(e.oDetailInfo[0]-1)}}},[e._v(e._s(e.$t("test")))]):e._e()],1)])])],1):e._e(),e.bShowSearch?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:e.$t("search1"),"enable-cancel-callback":!0},on:{cancelcallback:e.cancelSearchCallBack,confirm:e.searchConfirm}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"swipe-wrapper"},[t("hm-validator-group",{attrs:{result:e.searchValidate}},[t("hm-cell",{attrs:{title:e.$t("type")}},[t("base-select",{attrs:{title:e.$t("type"),options:e.searchType},model:{value:e.typeTemp,callback:function(t){e.typeTemp=t},expression:"typeTemp"}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.serverAdd&&e.oParamsValid.serverAdd.required},attrs:{title:e.$t("serverAdd")}},[t("hm-input",{attrs:{placeholder:e.$t("serverAdd")},model:{value:e.serverAddTemp,callback:function(t){e.serverAddTemp=t},expression:"serverAddTemp"}}),t("hm-validator",{attrs:{model:e.serverAddTemp,rules:e.oParamsValid.serverAdd,param:e.$t("serverAdd")}})],1)],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("filePath")}},[t("hm-checkbox-group",{attrs:{options:e.searchOptions},model:{value:e.searchList,callback:function(t){e.searchList=t},expression:"searchList"}})],1),t("hm-button",{attrs:{disabled:e.bSupportModify},on:{click:function(t){return e.search(e.typeTemp,e.serverAddTemp)}}},[e._v(e._s(e.$t("search1")))])],1)])])],1):e._e(),t("base-view")],1)])},n=[],o=(a("ac6a"),a("a481"),a("53ca")),r=(a("96cf"),a("1da1")),s=a("1c1a"),l=a("78f8"),c=a("962a"),u=a("7de8"),d=a("d09c"),p=a("9741"),m=a("c050"),h=a("1f20"),f=a("47b5"),v={name:"StorageNfs",components:{BaseView:s["a"],BasePageExtend:c["a"],BaseSelect:f["a"]},data:function(){return{validate:{},searchValidate:{},oParamsValid:{userName:{lengthRange:[1,32]},password:{lengthRange:[1,16]},serverAdd:{required:!0,ip:!0,unicast:!0},filePath:{required:!0,lengthRange:[1,128]}},bShowTableItem:!1,oDetailParam:{mountType:"NFS",userName:"",password:""},bShowSearch:!1,serverAddTemp:"",typeTemp:"",bSupportModify:!1,searchList:[],searchOptions:[],iDetailIndex:-1,oHDDInfo:[],oDetailInfo:[1,"","","NFS",""],aSupportMountType:[],searchType:[{text:"NAS",value:"NFS"},{text:"IP SAN",value:"iSCSI"}]}},computed:{},watch:{},created:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return h["a"].getClusterCap().then((function(){t.bSupportModify=3===h["a"].m_oDeviceCapa.iCmNetDiskType})),e.next=3,l["a"].init().then((function(){t.oHDDInfo=l["a"].aItems,t.aSupportMountType=l["a"].aSupportMountType,t.aNasParam=l["a"].aNasParam,t.aTypeList=l["a"].aTypeList,t.typeTemp=t.searchType[0].value}));case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),methods:{cancelSearchCallBack:function(){this.bShowSearch=!1},openSearch:function(){this.bShowSearch=!0,this.searchOptions=[],this.searchList=[]},search:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!m["a"].validateTips(this.searchValidate.getErrorReport())){e.next=8;break}if(a){e.next=5;break}m["a"].tip(this.$t("required"),this.$t("serverAdd")),e.next=8;break;case 5:return e.next=7,l["a"].search(t,a);case 7:this.searchOptions=l["a"].searchOptions;case 8:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),searchConfirm:function(){this.bShowSearch=!1;for(var e=0;e<this.searchList.length;e++)for(var t=0;t<8;t++)if(""===this.oHDDInfo[t][1]&&""===this.oHDDInfo[t][2]){this.oHDDInfo[t][1]=this.serverAddTemp,this.oHDDInfo[t][2]=this.searchList[e],this.oHDDInfo[t][3]=this.typeTemp;break}},changetype:function(e){this.oDetailInfo[3]=e,this.$forceUpdate()},changeMountType:function(e){this.oDetailParam.mountType=e,this.$forceUpdate()},deepClone:function(e){var t=e.constructor===Object?{}:[];for(var a in e)e.hasOwnProperty(a)&&(e[a]&&"object"===Object(o["a"])(e[a])?(t[a]=e[a].constructor===Object?{}:[],t[a]=this.deepClone(e[a])):t[a]=e[a]);return t},clear:function(){var e=this;this.oDetailInfo[1]="",this.oDetailInfo[2]="",this.oDetailInfo[3]="NFS",this.oDetailParam={mountType:"NFS",password:"",userName:""},this.$forceUpdate(),setTimeout((function(){e.bShowTableItem=!1}),300)},confirm:function(){this.validate.validateAll(),m["a"].validateTips(this.validate.getErrorReport())&&(this.bShowTableItem=!1)},getChannelDetail:function(e){e<0||(this.oDetailInfo=this.oHDDInfo[e],this.oDetailParam=this.aNasParam[e],this.bShowTableItem=!0)},test:function(e){if(""!==this.oHDDInfo[e][1]&&""!==this.oHDDInfo[e][2]&&m["a"].validateTips(this.validate.getErrorReport())){var t=this.oHDDInfo,a="<?xml version='1.0' encoding='UTF-8'?><nasTestDescription>";return u["a"].isIPv4Address(t[e][1])?(a+="<addressingFormatType>ipaddress</addressingFormatType>",a+="<ipAddress>"+t[e][1]+"</ipAddress>"):u["a"].isIPv6Address(t[e][1])?(a+="<addressingFormatType>ipaddress</addressingFormatType>",a+="<ipv6Address>"+t[e][1]+"</ipv6Address>"):(a+="<addressingFormatType>hostname</addressingFormatType>",a+="<hostname>"+t[e][1]+"</hostname>"),a+="<path>"+t[e][2].replace(/</g,"&lt;")+"</path>",a+="<nasType>NFS</nasType>",this.aSupportMountType.length>0&&(a+="<mountType>"+this.aNasParam[e].mountType+"</mountType>","SMB/CIFS"===this.aNasParam[e].mountType&&(a+="<userName>"+this.aNasParam[e].userName.replace(/</g,"&lt;")+"</userName>",this.aNasParam[e].password!==p["a"].m_szDefaultPwd&&(a+="<password>"+this.aNasParam[e].password.replace(/</g,"&lt;")+"</password>"))),a+="</nasTestDescription>",d["a"].test("nasTest",{},u["a"].parseXmlFromStr(a))}},save:function(){var e=this,t=[];this.oHDDInfo.forEach((function(a,i){for(var n=0;n<e.oHDDInfo.length;n++){var o=e.oHDDInfo[n];if(i!==n&&a[1].length>0&&a[2].length>0&&a[1]===o[1]&&a[2]===o[2]){t=[i,n];break}}})),t.length?m["a"].stateAlert(this.$t("nasNoSame")):l["a"].save()}}},b=v,g=(a("a807"),a("2877")),P=Object(g["a"])(b,i,n,!1,null,"fced3ed0",null);t["default"]=P.exports},c096:function(e,t,a){"use strict";(function(e){a("6b54"),a("28a5"),a("7514"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("768a"),s=a("7de8"),l=a("d09c"),c=a("8d94"),u=a("f193"),d=function(){function t(){Object(n["a"])(this,t),this._aBaudRate=[{text:50,value:50},{text:75,value:75},{text:110,value:110},{text:150,value:150},{text:300,value:300},{text:600,value:600},{text:1200,value:1200},{text:2400,value:2400},{text:4800,value:4800},{text:9600,value:9600},{text:19200,value:19200},{text:38400,value:38400},{text:57600,value:57600},{text:76800,value:76800},{text:115200,value:115200}],this._oSetting232Info={oXmlDoc:null,szId:"",szBaudRate:"",szDataBit:"5",szStopBit:"1",szParity:"none",aFlowCtrl:["none","software","hardware"],szFlowCtrl:"none",aUsage:["console","transparent"],szUsage:"console"}}return Object(o["a"])(t,[{key:"init",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getSerialPorts();case 3:return e.next=5,this.get232Capa();case 5:return e.next=7,this.get232Info();case 7:e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](0);case 11:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getSerialPorts",value:function(){var t=this,a={urlCGI:"serialPorts",params:{},data:null,loading:!0};return u["a"].get(a).then((function(a){var i=a.oResult,n=e(i).find("SerialPort");e.each(n,(function(){if("RS232"===s["a"].nodeValue(this,"serialPortType"))return t._oSetting232Info.szId=s["a"].nodeValue(this,"id"),!1}))}),(function(e){l["a"].getState(e)}))}},{key:"get232Capa",value:function(){var t=this,a={urlCGI:"rs232Capa",params:{serialPort:t._oSetting232Info.szId},data:null,loading:!0};return u["a"].get(a).then((function(a){var i=a.oResult;t._oSetting232Info.aFlowCtrl.length=0;var n=["none","hardware","software"],o=[c["a"].t("none"),c["a"].t("hwFlowCtrl"),c["a"].t("swFlowCtrl")];if(e(i).find("flowCtrl").length>0){var l=e(i).find("flowCtrl").eq(0).attr("opt").split(",");if(l)for(var u=-1,d=0;d<l.length;d++)u=e.inArray(e.trim(l[d]),n),u>=0&&t._oSetting232Info.aFlowCtrl.push({value:n[u],text:o[u]})}if(e(i).find("baudRate").length>0){t._aBaudRate.length=0;var p=e(i).find("baudRate").eq(0).attr("opt").split(",");p.length>0&&"NOT_AVALIABLE"!==p[0]&&e.each(p,(function(){t._aBaudRate.push({value:this.toString(),text:this})}))}if(e(i).find("workMode").length>0){var m=s["a"].nodeAttr(i,"workMode","opt").split(",");e.each(m,(function(t,a){m[t]=e.trim(a)})),r["a"].createNgOptions(m,["console","transparentChannel"],["console","transparent"],t._oSetting232Info.aUsage)}}))}},{key:"get232Info",value:function(){var t=this,a={urlCGI:"rs232Info",params:{serialPort:t._oSetting232Info.szId},data:null,loading:!0};return u["a"].get(a).then((function(a){var i=a.oResult;t._oSetting232Info.oXmlDoc=i,t._oSetting232Info.szBaudRate=s["a"].nodeValue(i,"baudRate"),t._oSetting232Info.szDataBit=s["a"].nodeValue(i,"dataBits"),t._oSetting232Info.szStopBit=s["a"].nodeValue(i,"stopBits"),t._oSetting232Info.szParity=s["a"].nodeValue(i,"parityType"),e(i).find("flowCtrl").length>0&&(t._oSetting232Info.szFlowCtrl=s["a"].nodeValue(i,"flowCtrl")),e(i).find("workMode").length>0&&(t._oSetting232Info.szUsage=s["a"].nodeValue(i,"workMode"))}),(function(e){l["a"].getState(e)}))}},{key:"set232Info",value:function(){var t=this,a=t._oSetting232Info.oXmlDoc;e(a).find("baudRate").eq(0).text(t._oSetting232Info.szBaudRate),e(a).find("dataBits").eq(0).text(t._oSetting232Info.szDataBit),e(a).find("parityType").eq(0).text(t._oSetting232Info.szParity),e(a).find("stopBits").eq(0).text(t._oSetting232Info.szStopBit),e(a).find("workMode").eq(0).text(t._oSetting232Info.szUsage),e(a).find("flowCtrl").eq(0).text(t._oSetting232Info.szFlowCtrl);var i={urlCGI:"rs232Info",params:{serialPort:t._oSetting232Info.szId},data:a,loading:!0},n=new Promise((function(e){return u["a"].put(i).then((function(t){e(),l["a"].saveState(t.xhr)}),(function(t){e(),l["a"].saveState(t)}))}));return n}}]),t}();t["a"]=new d}).call(this,a("1157"))},c1ae:function(e,t,a){"use strict";(function(e){a("6b54"),a("28a5"),a("7514"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("f193"),s=a("8d94"),l=a("7de8"),c=a("1f20"),u=a("d09c"),d=a("42e7"),p=a("c050"),m=a("9741"),h=function(){function t(){Object(n["a"])(this,t),this.oXmlDoc=null,this.verifyResult={},this.oPnpXmlDoc=null,this.oExtensionXmlDoc=null,this.m_aTimes=[],this.m_oParams={szStorageMode:"quota",iLocalDiskNum:0,bSptSetAttribute:0===m["a"].iDeviceType,iNetDiskNum:0,iCurRowIndex:-1,iCheckNum:0,bSptQuota:c["a"].m_oDeviceCapa.bSupporttQuota,szFreeImgQuota:"0GB",szFreeVideoQuota:"0GB",szTotalImgQuota:"0GB",szTotalVideoQuota:"0GB",iImgQuotaRatio:0,iVideoQuotaRatio:0,HDDQuotaXML:null,bSptUnlock:!1,tableData:{tableItem:[],iSelectIndex:0,tablecheckbox:[]},szUnlockPsw:"",bFrameExtractingEnabled:!0,szConfFrameExtracting:"",iLifetimeStatus:0,szDiskMode:"singleDisk"},this.m_oCapbilities={bSupportHDiskIP:!1,bSupportRecordReconstruction:!1,bSupportAllReconstruction:!1,bNVR:0===m["a"].iDeviceType},this.oButtonsControl={bDisableFromat:!0,bDisableRebuildVideo:!0,bDisableRebuildAll:!0},this.aItems=[],this.oTable=null,this.oWaitDlg=null,this.percent=0}return Object(o["a"])(t,[{key:"initParams",value:function(){d["a"].init(!1),this.aItems=[],this.m_oParams.aTableHead=d["a"].header}},{key:"initStorageManageHarddisk",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].getQuotaCap();case 2:return e.next=4,c["a"].getClusterCap();case 4:return e.next=6,c["a"].isEnableHoliday();case 6:if(this.m_oParams.bSptQuota=c["a"].m_oDeviceCapa.bSupporttQuota,this.m_oCapbilities.bSupportHDiskIP=c["a"].m_oDeviceCapa.bSupportHDiskIP,!this.m_oParams.bSptQuota){e.next=11;break}return e.next=11,this.getQuotaInfo();case 11:return e.next=13,this.getStorageExtraInfo();case 13:return e.next=15,this.getStorageCap();case 15:return e.next=17,this.getHddInfo();case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getQuotaInfo",value:function(){var t=this;return new Promise((function(a){var i={urlCGI:"quota",params:null,data:null,loading:!0};r["a"].get(i).then((function(i){var n=i.oResult,o="GB";t.m_oParams.HDDQuotaXML=n,t.m_oParams.szFreeImgQuota=(parseInt(e(n).find("freePictureQuota").eq(0).text(),10)/1024).toFixed(2)+o,t.m_oParams.szFreeVideoQuota=(parseInt(e(n).find("freeVideoQuota").eq(0).text(),10)/1024).toFixed(2)+o,t.m_oParams.szTotalImgQuota=(parseInt(e(n).find("totalPictureVolume").eq(0).text(),10)/1024).toFixed(2)+o,t.m_oParams.szTotalVideoQuota=(parseInt(e(n).find("totalVideoVolume").eq(0).text(),10)/1024).toFixed(2)+o,t.m_oParams.iImgQuotaRatio=parseInt(e(n).find("pictureQuotaRatio").eq(0).text(),10),t.m_oParams.iVideoQuotaRatio=parseInt(e(n).find("videoQuotaRatio").eq(0).text(),10),a()}),(function(){a()}))}))}},{key:"getStorageExtraInfo",value:function(){var e=this;return new Promise((function(t){var a={urlCGI:"storageExtraInfo",params:null,data:null,loading:!0};r["a"].get(a).then((function(a){var i=a.oResult;e.m_oParams.szDiskMode=l["a"].nodeValue(i,"diskMode"),t()}),(function(){t()}))}))}},{key:"getStorageCap",value:function(){var t=this;return new Promise((function(a){var i={urlCGI:"storageCapabilities",params:null,data:null,loading:!0};r["a"].get(i).then((function(i){var n=i.oResult;if(e(n).find("supportDataReconstruction").length>0){var o=e(n).find("supportDataReconstruction").eq(0).attr("opt").split(",");t.m_oCapbilities.bSupportRecordReconstruction=-1!==e.inArray("record",o),t.m_oCapbilities.bSupportAllReconstruction=-1!==e.inArray("all",o)}a()}),(function(){a()}))}))}},{key:"getHddInfo",value:function(){var t=this,a=this.m_oParams,i={urlCGI:"storage",params:null,data:null,loading:!0};return r["a"].get(i).then((function(i){var n=i.oResult;a.szStorageMode=l["a"].nodeValue(n,"workMode"),a.iLocalDiskNum=e(n).find("hdd").length,a.iNetDiskNum=e(n).find("nas").length,t.aItems=[];for(var o=[],r=0;r<a.iLocalDiskNum;r++)o=[],o[0]=l["a"].nodeValue(e(n).find("hdd").eq(r),"id"),o[1]=(parseInt(l["a"].nodeValue(e(n).find("hdd").eq(r),"capacity","i"),10)/1024).toFixed(2)+"GB",o[2]=(parseInt(l["a"].nodeValue(e(n).find("hdd").eq(r),"freeSpace","i"),10)/1024).toFixed(2)+"GB",o[3]=l["a"].nodeValue(e(n).find("hdd").eq(r),"status"),o[4]=l["a"].nodeValue(e(n).find("hdd").eq(r),"hddType"),o[5]=l["a"].nodeValue(e(n).find("hdd").eq(r),"property"),o[6]=l["a"].nodeValue(e(n).find("hdd").eq(r),"ipAddress"),o[7]="",o[8]=l["a"].nodeValue(e(n).find("hdd").eq(r),"hddName"),o[11]=!0,("SATA"===o[4]&&"RAID"!==a.szDiskMode||"Virtual Disk"===o[4])&&t.aItems.push(o);for(var s=0;s<a.iNetDiskNum;s++)o=[],o[0]=l["a"].nodeValue(e(n).find("nas").eq(s),"id"),o[1]=(parseInt(l["a"].nodeValue(e(n).find("nas").eq(s),"capacity","i"),10)/1024).toFixed(2)+"GB",o[2]=(parseInt(l["a"].nodeValue(e(n).find("nas").eq(s),"freeSpace","i"),10)/1024).toFixed(2)+"GB",o[3]=l["a"].nodeValue(e(n).find("nas").eq(s),"status"),o[4]=l["a"].nodeValue(e(n).find("nas").eq(s),"nasType"),o[5]=l["a"].nodeValue(e(n).find("nas").eq(s),"property"),o[6]=l["a"].nodeValue(e(n).find("nas").eq(s),"ipAddress"),o[7]="",o[8]=l["a"].nodeValue(e(n).find("nas").eq(s),"addressingFormatType"),o[10]=l["a"].nodeValue(e(n).find("nas").eq(s),"path"),o[11]=!1,t.aItems.push(o);for(var c=0;c<a.iLocalDiskNum;c++)o=[],o[0]=l["a"].nodeValue(e(n).find("hdd").eq(c),"id"),o[1]=(parseInt(l["a"].nodeValue(e(n).find("hdd").eq(c),"capacity","i"),10)/1024).toFixed(2)+"GB",o[2]=(parseInt(l["a"].nodeValue(e(n).find("hdd").eq(c),"freeSpace","i"),10)/1024).toFixed(2)+"GB",o[3]=l["a"].nodeValue(e(n).find("hdd").eq(c),"status"),o[4]=l["a"].nodeValue(e(n).find("hdd").eq(c),"hddType"),o[5]=l["a"].nodeValue(e(n).find("hdd").eq(c),"property"),o[6]=l["a"].nodeValue(e(n).find("hdd").eq(c),"ipAddress"),o[7]="",o[8]=l["a"].nodeValue(e(n).find("hdd").eq(c),"hddName"),o[11]=!0,"SATA"!==o[4]&&"Virtual Disk"!==o[4]&&t.aItems.push(o);t.initTable(),a.iCheckNum=0,a.iCurRowIndex=-1}))}},{key:"initTable",value:function(){this.m_oParams.tableData={tableItem:this.aItems,iSelectIndex:0,tablecheckbox:[]}}},{key:"getCheckedRows",value:function(e,t){var a=[];return a.push(e.tableItem[t]||e.tableItem),a}},{key:"formatDisks",value:function(e,t){for(var a,i=this,n=this.getCheckedRows(this.m_oParams.tableData,e),o=0;o<n.length;o++){if(a=n[o].data,"notexist"===a[3]||"offline"===a[3]||"reparing"===a[3])return void p["a"].tip(s["a"].t("rebuildingErrorTips"));if("RO"===a[5])return void p["a"].tip(s["a"].t("formatRo"));if("initializing"===a[3])return void p["a"].tip(s["a"].t("formatInit"))}n.length>0&&p["a"].confirm(s["a"].t("formatDiskTips"),null,(function(){i.oWaitDlg=p["a"].wait(null,s["a"].t("formattingWait")),i.formatDisk(0,t)}))}},{key:"encrypteFormatDisks",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=this.getCheckedRows(this.m_oParams.tableData,t),n=0;case 2:if(!(n<a.length)){e.next=16;break}if(i=a[n],"RO"!==i[5]){e.next=7;break}return p["a"].tip(s["a"].t("formatRo")),e.abrupt("return");case 7:if("initializing"!==i[3]){e.next=10;break}return p["a"].tip(s["a"].t("formatInit")),e.abrupt("return");case 10:if("encrypteFormatDisks"!==i[3]){e.next=13;break}return p["a"].tip(s["a"].t("lockedHdd")),e.abrupt("return");case 13:n++,e.next=2;break;case 16:if(!(a.length>0)){e.next=19;break}return e.next=19,p["a"].confirm(s["a"].t("formatDiskTips"));case 19:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"formatDisk",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a,i,n,o,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=this,i=this.getCheckedRows(this.m_oParams.tableData,t),n=i,"notexist"!==n[0][3]&&"offline"!==n[0][3]&&"reparing"!==n[0][3]){e.next=9;break}return e.next=6,p["a"].confirm(s["a"].t("formatDiskTips"));case 6:return e.next=8,p["a"].tip(s["a"].t("rebuildingErrorTips"));case 8:return e.abrupt("return");case 9:if("RO"!==n[0][5]){e.next=15;break}return e.next=12,p["a"].confirm(s["a"].t("formatDiskTips"));case 12:return e.next=14,p["a"].tip(s["a"].t("formatRo"));case 14:return e.abrupt("return");case 15:if("initializing"!==n[0][3]){e.next=21;break}return e.next=18,p["a"].confirm(s["a"].t("formatDiskTips"));case 18:return e.next=20,p["a"].tip(s["a"].t("formatInit"));case 20:return e.abrupt("return");case 21:if(!(i.length>0)){e.next=32;break}return e.next=24,p["a"].confirm(s["a"].t("formatDiskTips"));case 24:return e.next=26,p["a"].wait(s["a"].t("formattingWait"));case 26:this.oWaitDlg=e.sent,o="formatHdd",i[0][11]||(o="formatNas"),l={urlCGI:o,params:{disk:i[0][0],param_ex:" "},processData:!1,data:null},r["a"].put(l).then((function(){console.log("success")}),(function(e){a.m_oParams.tableData.tableItem[0][7]=u["a"].saveState(e,"",void 0,!0)})),a.getFormattingProgress(t);case 32:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getFormattingProgress",value:function(t){var a=this,i=this,n=this.getCheckedRows(this.m_oParams.tableData,t),o="formatHddStatus";n[0][11]||(o="formatNasStatus");var s={urlCGI:o,params:{disk:n[0][0],param_ex:" "},data:null,loading:!0};return r["a"].get(s).then((function(n){var o=n.oResult;i.percent=e(o).find("percent")[0].innerHTML;var r=l["a"].nodeValue(o,"formating","b");console.log(a.m_oParams.tableData.tableItem),i.m_oParams.tableData.tableItem[t][7]=l["a"].nodeValue(o,"percent","i")+"%",r?setTimeout((function(){i.getFormattingProgress(t)}),1e3):setTimeout((function(){i.oWaitDlg.close()}),200)}),(function(){setTimeout((function(){i.getFormattingProgress(t)}),1e3)}))}},{key:"setLocalHardDiskInfo",value:function(){for(var t=this,a="<?xml version='1.0' encoding='UTF-8'?><HolidaySchedule><ScheduleBlock><ScheduleBlockGUID>{00000000-0000-0000-0000-000000000000}</ScheduleBlockGUID><ScheduleBlockType>www.std-cgi.com/racm/schedule/ver10</ScheduleBlockType>",i=0;i<this.m_aTimes[7].length;i++)a+="<ScheduleAction><id>"+(i+1)+"</id>",a+="<ScheduleActionStartTime><TimeOfDay>"+this.m_aTimes[7][i].sTime+"</TimeOfDay></ScheduleActionStartTime>",a+="<ScheduleActionEndTime><TimeOfDay>"+this.m_aTimes[7][i].eTime+"</TimeOfDay></ScheduleActionEndTime>",a+="<ScheduleDSTEnable>false</ScheduleDSTEnable><Description>nothing</Description>",a+="<Actions><Record>true</Record><Log>false</Log><SaveImg>false</SaveImg>",a+="<ActionRecordingMode>"+this.m_aTimes[7][i].type+"</ActionRecordingMode></Actions></ScheduleAction>";a+="</ScheduleBlock></HolidaySchedule>";for(var n="<TrackSchedule><ScheduleBlockList><ScheduleBlock><ScheduleBlockGUID>{00000000-0000-0000-0000-000000000000}</ScheduleBlockGUID><ScheduleBlockType>www.std-cgi.com/racm/schedule/ver10</ScheduleBlockType>",o=1,r=0;r<7;r++)for(var s=0;s<this.m_aTimes[r].length;s++)n+="<ScheduleAction><id>"+(o++).toString()+"</id>",n+="<ScheduleActionStartTime><DayOfWeek>"+this.oDayReverse[r]+"</DayOfWeek>",n+="<TimeOfDay>"+this.m_aTimes[r][s].sTime+"</TimeOfDay></ScheduleActionStartTime>",n+="<ScheduleActionEndTime><DayOfWeek>"+this.oDayReverse[r]+"</DayOfWeek>",n+="<TimeOfDay>"+this.m_aTimes[r][s].eTime+"</TimeOfDay></ScheduleActionEndTime>",n+="<ScheduleDSTEnable>false</ScheduleDSTEnable><Description>nothing</Description>",n+="<Actions><Record>true</Record><Log>false</Log><SaveImg>false</SaveImg>",n+="<ActionRecordingMode>"+this.m_aTimes[r][s].type+"</ActionRecordingMode></Actions></ScheduleAction>";n+="</ScheduleBlock></ScheduleBlockList></TrackSchedule>";var u=l["a"].createXml();u.appendChild(u.createProcessingInstruction("xml","version='1.0' encoding='utf-8'"));for(var d=u.createElement("TrackList"),p=0;p<this.m_oCopyTo.length;p++)if(this.m_oCopyTo[p].value){var m=this.oXmlDoc;e(m).find("id").eq(0).text(this.m_oCopyTo[p].id+"01"),e(m).find("Channel").eq(0).text(this.m_oCopyTo[p].id+"01"),e(m).find("SrcChannel").eq(0).text(this.m_oCopyTo[p].id),e(m).find("SrcUrl").eq(0).text("rtsp://localhost/ISAPI/Streaming/channels/10"+this.m_oParams.szStreamType),e(m).find("Duration").eq(0).text("P"+this.m_oParams.szExpiredTime+"DT0H");var h=e(m).find("CustomExtensionList").eq(0);h.find("enableSchedule").eq(0).text(this.m_oParams.bEnablePlan.toString()),h.find("SaveAudio").eq(0).text(this.m_oParams.bRecordAudio.toString()),h.find("RedundancyRecord").eq(0).text(this.m_oParams.bRedundant.toString()),h.find("PreRecordTimeSeconds").eq(0).text(this.m_oParams.szPreRecord),h.find("PostRecordTimeSeconds").eq(0).text(this.m_oParams.szRecordDelay),c["a"].m_oDeviceCapa.bEnableHoliday&&(e(m).find("HolidaySchedule").eq(0).remove(),e(l["a"].parseXmlFromStr(a)).children().clone().insertAfter(e(m).find("CustomExtensionList").eq(0).find("PreRecordTimeSeconds").eq(0))),e(m).find("TrackSchedule").length>0&&e(m).find("TrackSchedule").eq(0).remove(),e(l["a"].parseXmlFromStr(n)).children().clone().insertAfter(e(m).find("SrcDescriptor").eq(0)),d.appendChild(e(m).find("Track").clone().get(0))}if(u.appendChild(d),"7"===this.m_oParams.szStreamType){for(var f=e(u).find("Track").length,v=f-1;v>=0;v--)e(e(u).find("Track").eq(v).clone()).insertAfter(e(u).find("Track").eq(v));e(u).find("Track").each((function(a){if((a+1)%2!==0)e(t).find("SrcUrl").eq(0).text("rtsp://localhost/ISAPI/Streaming/channels/101");else{var i=Math.floor(parseInt(e(u).find("Track").eq(a-1).find("id").eq(0).text(),10)/100);e(t).find("id").eq(0).text(i+"02"),e(t).find("Channel").eq(0).text(i+"02"),e(t).find("SrcUrl").eq(0).text("rtsp://localhost/ISAPI/Streaming/channels/102")}}))}return u}},{key:"createElement",value:function(e){var t={urlCGI:"trackInfo",params:null,data:e,loading:!0};return r["a"].put(t)}},{key:"setDiskInfo",value:function(){if(-1!==this.m_oParams.tableData.iSelectIndex)if("quota"!==this.m_oParams.szStorageMode&&"extract"!==this.m_oParams.szStorageMode){var e=this.m_oParams.tableData.tableItem[this.m_oParams.tableData.iSelectIndex];e[11]?this.setLocalHardDiskInfo():this.setNetHardDiskInfo(this.m_oParams.iCurRowIndex)}else p["a"].tip(s["a"].t("hddNotEdit"))}},{key:"setNetHardDiskInfo",value:function(){var e=this.m_oParams.tableData.tableItem[this.m_oParams.tableData.iSelectIndex],t="<?xml version='1.0' encoding='UTF-8'?><nas><id>"+e[0]+"</id>";t+="<addressingFormatType>"+e[8]+"</addressingFormatType>","hostName"===e[8]?t+="<hostname>"+e[6]+"</hostname>":t+="<ipAddress>"+e[6]+"</ipAddress>",t+="<portNo>0</portNo><nasType>"+e[4]+"</nasType><path>"+e[10]+"</path>",t+="<property>"+e[5]+"</property></nas>";var a=l["a"].parseXmlFromStr(t),i={urlCGI:"nasProperty",params:{disk:e[0]},processData:!1,data:a,loading:!0};return r["a"].put(i)}},{key:"rebuild",value:function(e,t){var a=this,n=this,o={DataReconstruction:{}},l="";"video"===e?(l="rebuildVideoTips",o.DataReconstruction.dataType="record"):"all"===e&&(l="rebuildAllTips",o.DataReconstruction.dataType="all");var c,d=this.getCheckedRows(n.m_oParams.tableData,t);console.log(d);for(var m=0;m<d.length;m++)if(c=d[m],"notexist"===c[3]||"offline"===c[3]||"reparing"===c[3])return void p["a"].tip(s["a"].t("rebuildingErrorTips"));d.length>0&&p["a"].confirm(s["a"].t(l),Object(i["a"])(regeneratorRuntime.mark((function e(){var i,c,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(i=[],c=0;c<d.length;c++)i.push(parseInt(d[c][0],10));return"RAID"===n.m_oParams.szDiskMode?o.DataReconstruction.IRAID=i:o.DataReconstruction.diskID=i,e.next=5,p["a"].confirm(s["a"].t(l));case 5:return e.next=7,p["a"].wait(s["a"].t("rebuildWait"));case 7:a.oWaitDlg=e.sent,m={urlCGI:"dataReconstruction",params:null,processData:!1,data:o,loading:!0},r["a"].put(m).then((function(){n.getRebuildProgress(t)}),(function(e){a.oWaitDlg.close(),u["a"].saveState(e)}));case 10:case"end":return e.stop()}}),e)}))))}},{key:"getRebuildProgress",value:function(t){var a=this,i=this,n=this.getCheckedRows(i.m_oParams.tableData,t),o={urlCGI:"dataReconstructionProgress",params:null,data:null,loading:!0};r["a"].get(o).then((function(t){if(console.log("bbb",t),t.oResult.ProgressLists.length<=0){for(var o=0;o<n.length;o++)i.m_oParams.tableData.tableItem[o][7]="100%";a.oWaitDlg.close(),p["a"].tip(s["a"].t("rebuildSuccess")),setTimeout((function(){i.getHddInfo().then((function(){}))}),1e3)}else e.each(t.ProgressLists,(function(e,t){i.m_oParams.tableData.tableItem[e][7]=t.progress+"%"})),setTimeout((function(){i.getRebuildProgress()}),1e3)}),(function(){setTimeout((function(){i.getRebuildProgress()}),1e3)}),(function(){}))}},{key:"tableCheckChangeCallBack",value:function(t){var a=this,i=[];e.each(t,(function(e,t){t&&i.push(e)})),a.oButtonsControl.bDisableFromat=i.length<=0,a.oButtonsControl.bDisableRebuildVideo=i.length<=0,a.oButtonsControl.bDisableRebuildAll=i.length<=0}}]),t}();t["a"]=new h}).call(this,a("1157"))},c1ba:function(e,t,a){"use strict";a("61fd")},c237:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("whiteLightAlarmOut"),"b-lazy-loading":e.bLazyLoading,"left-type":"back"}},[t("div",{staticClass:"whiteLightAlarmOut-page-wrapper",attrs:{slot:"content"},slot:"content"},[t("hm-scroll",[t("div",{staticClass:"hm-index-list-item"},[t("hm-validator-group",{staticClass:"custom-cell-group",attrs:{result:e.validate,title:" "}},[t("hm-cell-group",[t("div",{directives:[{name:"show",rawName:"v-show",value:e.bSupportByChannel,expression:"bSupportByChannel"}]},[t("channel-list",{ref:"channel",attrs:{"o-channel":e.oChannel,"show-type":"tab"}})],1),t("hm-cell",{class:{"cell-require":e.oInputDataValid&&e.oInputDataValid.required},attrs:{title:e.$t("twinkleTime")+"("+e.$t("seconds")+")"}},[t("hm-input",{model:{value:e.oParams.durationTime,callback:function(t){e.$set(e.oParams,"durationTime",t)},expression:"oParams.durationTime"}}),t("hm-validator",{attrs:{model:e.oParams.durationTime,rules:e.oInputDataValid,param:e.$t("twinkleTime")+"("+e.$t("seconds")+")"}})],1),t("hm-cell",{attrs:{title:e.$t("twinkleFrequency")}},[t("base-select",{attrs:{title:e.$t("twinkleFrequency"),options:e.oCap.oFrequency.aList},model:{value:e.oParams.frequency,callback:function(t){e.$set(e.oParams,"frequency",t)},expression:"oParams.frequency"}})],1),t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("brightness")}},[t("hm-input",{staticClass:"slider-input",attrs:{maxlength:3,disabled:!0,type:"number"},model:{value:e.oParams.brightness,callback:function(t){e.$set(e.oParams,"brightness",t)},expression:"oParams.brightness"}})],1),t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("hm-slider",{staticClass:"slider-wrapper",attrs:{min:e.oCap.oBrightness.iMin,max:e.oCap.oBrightness.iMax},model:{value:e.oParams.brightness,callback:function(t){e.$set(e.oParams,"brightness",t)},expression:"oParams.brightness"}})],1)],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("armSchedulePlan")}},[t("hm-cell",{attrs:{"is-link":"",title:e.$t("armSchedulePlan")},nativeOn:{click:function(t){return e.showArmSchedule()}}})],1)],1)],1),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{on:{click:function(t){return e.save()}}},[e._v("\n          "+e._s(e.$t("save"))+"\n        ")])],1)]),e.bShowSchedule?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:e.$t("armSchedule"),"show-footer":!0,"enable-cancel-callback":e.bEnableCancelCallback},on:{delete:e.deleteAll,cancelcallback:e.cancelcallback,confirm:e.confirm}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"swipe-wrapper time-plan-padding swipe-wrapper-show-footer"},[t("hm-scroll",[t("time-plan",{ref:"timePlan",attrs:{"times-data":e.aTimes,holiday:e.oCap.bHoliday}})],1)],1)])])],1):e._e()],1)])},n=[],o=a("71ee"),r=o["a"],s=(a("e05e"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"390dbc08",null);t["default"]=l.exports},c26b:function(e,t,a){"use strict";var i=a("86cc").f,n=a("2aeb"),o=a("dcbc"),r=a("9b43"),s=a("f605"),l=a("4a59"),c=a("01f9"),u=a("d53b"),d=a("7a56"),p=a("9e1e"),m=a("67ab").fastKey,h=a("b39a"),f=p?"_s":"size",v=function(e,t){var a,i=m(t);if("F"!==i)return e._i[i];for(a=e._f;a;a=a.n)if(a.k==t)return a};e.exports={getConstructor:function(e,t,a,c){var u=e((function(e,i){s(e,u,t,"_i"),e._t=t,e._i=n(null),e._f=void 0,e._l=void 0,e[f]=0,void 0!=i&&l(i,a,e[c],e)}));return o(u.prototype,{clear:function(){for(var e=h(this,t),a=e._i,i=e._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete a[i.i];e._f=e._l=void 0,e[f]=0},delete:function(e){var a=h(this,t),i=v(a,e);if(i){var n=i.n,o=i.p;delete a._i[i.i],i.r=!0,o&&(o.n=n),n&&(n.p=o),a._f==i&&(a._f=n),a._l==i&&(a._l=o),a[f]--}return!!i},forEach:function(e){h(this,t);var a,i=r(e,arguments.length>1?arguments[1]:void 0,3);while(a=a?a.n:this._f){i(a.v,a.k,this);while(a&&a.r)a=a.p}},has:function(e){return!!v(h(this,t),e)}}),p&&i(u.prototype,"size",{get:function(){return h(this,t)[f]}}),u},def:function(e,t,a){var i,n,o=v(e,t);return o?o.v=a:(e._l=o={i:n=m(t,!0),k:t,v:a,p:i=e._l,n:void 0,r:!1},e._f||(e._f=o),i&&(i.n=o),e[f]++,"F"!==n&&(e._i[n]=o)),e},getEntry:v,setStrong:function(e,t,a){c(e,t,(function(e,a){this._t=h(e,t),this._k=a,this._l=void 0}),(function(){var e=this,t=e._k,a=e._l;while(a&&a.r)a=a.p;return e._t&&(e._l=a=a?a.n:e._t._f)?u(0,"keys"==t?a.k:"values"==t?a.v:[a.k,a.v]):(e._t=void 0,u(1))}),a?"entries":"values",!a,!0),d(t)}}},c31c:function(e,t,a){"use strict";(function(e){a("96cf");var i=a("1da1"),n=a("1c1d"),o=a("6458"),r=a("962a"),s=a("bd64"),l=a("768a"),c=a("47b5");t["a"]={name:"EventArouse",components:{BasePageExtend:r["a"],Link:n["a"],ChannelList:o["a"],BaseSelect:c["a"]},data:function(){return{oChannel:{id:1},oEventlinkInfo:s["a"].oEventInfo,oEventlinkInfoSec:{},bSupportLink:!1,bEnableCancelCallback:!0,bArouseTimes:!1,oParams:s["a"].oParams,oParamsCap:s["a"].oParamsCap}},watch:{"oChannel.id":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t>0&&t!==a&&(l["a"].m_iChannelId=t,s["a"].init());case 1:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),immediate:!0,deep:!0}},methods:{changeSchedule:function(e){var t=this;this.changeScheduleTimePicker||(this.changeScheduleTimePicker=this.$createDateTimePicker({min:[0,0,0],max:[23,59,59],value:new Date,startColumn:"hour",columnCount:3,format:{hour:"hh "+this.$t("hours"),minute:"mm "+this.$t("minutes"),second:"ss "+this.$t("seconds")},onSelect:function(a){var i=parseInt(a.getHours(),10)<10?"0"+a.getHours():a.getHours(),n=parseInt(a.getMinutes(),10)<10?"0"+a.getMinutes():a.getMinutes(),o=parseInt(a.getSeconds(),10)<10?"0"+a.getSeconds():a.getSeconds(),r=i+":"+n+":"+o;t.oParams.aArouseTimes[e].time=r,t.changeScheduleTimePicker.remove(),t.changeScheduleTimePicker=null},onCancel:function(){t.changeScheduleTimePicker.remove(),t.changeScheduleTimePicker=null}})),this.changeScheduleTimePicker.show()},showArouseTimes:function(){this.bArouseTimes=!0},cancelCallbackTime:function(){this.bArouseTimes=!1},confirmTime:function(){this.bArouseTimes=!1},showLink:function(){e.extend(!0,this.oEventlinkInfoSec,this.oEventlinkInfo),this.bSupportLink=!0},cancelCallbackLink:function(){e.extend(!0,this.oEventlinkInfo,this.oEventlinkInfoSec),this.bSupportLink=!1},confirmLink:function(){e.extend(!0,this.oEventlinkInfoSec,this.oEventlinkInfo),this.bSupportLink=!1},save:function(){s["a"].save()}}}}).call(this,a("1157"))},c34e:function(e,t,a){"use strict";a("1f31")},c3f5:function(e,t,a){},c437:function(e,t,a){var i,n,o=a("e1f4"),r=a("2366"),s=0,l=0;function c(e,t,a){var c=t&&a||0,u=t||[];e=e||{};var d=e.node||i,p=void 0!==e.clockseq?e.clockseq:n;if(null==d||null==p){var m=o();null==d&&(d=i=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==p&&(p=n=16383&(m[6]<<8|m[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),f=void 0!==e.nsecs?e.nsecs:l+1,v=h-s+(f-l)/1e4;if(v<0&&void 0===e.clockseq&&(p=p+1&16383),(v<0||h>s)&&void 0===e.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,l=f,n=p,h+=122192928e5;var b=(1e4*(268435455&h)+f)%4294967296;u[c++]=b>>>24&255,u[c++]=b>>>16&255,u[c++]=b>>>8&255,u[c++]=255&b;var g=h/4294967296*1e4&268435455;u[c++]=g>>>8&255,u[c++]=255&g,u[c++]=g>>>24&15|16,u[c++]=g>>>16&255,u[c++]=p>>>8|128,u[c++]=255&p;for(var P=0;P<6;++P)u[c+P]=d[P];return t||r(u)}e.exports=c},c492:function(e,t,a){"use strict";(function(e){a("7514"),a("96cf");var i=a("1da1"),n=a("1f20"),o=a("37b5"),r=a("f193"),s=a("7de8");t["a"]={name:"ADVANCED",data:function(){return{oBasicCap:{},aMenu:[{menu:[]}],bSupportAdvancedService:!1,bSupportHttpListen:!1}},created:function(){var e=this;this.init().finally((function(){n["a"].m_oDeviceCapa.bSupportHttps&&e.aMenu[0].menu.push({path:"",name:"https",label:e.$t("HTTP(S)"),value:"",cap:!0}),e.oBasicCap.bSupportMulticast&&e.aMenu[0].menu.push({path:"",name:"Multicast",label:e.$t("multicastConfig"),value:"",cap:!0});var t=o["a"].m_oCapa.bSupportSRTSP&&o["a"].m_oCapa.bSupportSRTPVideoDestPortNo&&o["a"].m_oCapa.bSupportSRTSPAudioDestPortNo;t&&e.aMenu[0].menu.push({path:"",name:"SRTP",label:"SRTP",value:"",cap:!0}),e.aMenu[0].menu.push({path:"",name:"RTSP",label:"RTSP",value:"",cap:!0}),n["a"].m_oDeviceCapa.m_bSupportRtmp&&e.aMenu[0].menu.push({path:"",name:"rtmp",label:e.$t("rtmpConfig"),value:"",cap:!0}),n["a"].m_oDeviceCapa.oNpq&&n["a"].m_oDeviceCapa.oNpq.bSupport&&e.aMenu[0].menu.push({path:"",name:"smoothStream",label:e.$t("instantPreviews"),value:"",cap:!0}),n["a"].m_oDeviceCapa.bSupportWifi&&e.aMenu[0].menu.push({path:"",name:"WifiIpc",label:e.$t("Wi-Fi"),value:"",cap:!0}),(n["a"].m_oDeviceCapa.bSupportWebSocket||n["a"].m_oDeviceCapa.bSupportWebSocketS)&&e.aMenu[0].menu.push({path:"",name:"webSocket",label:"WebSocket(s)",value:"",cap:!0}),n["a"].m_oDeviceCapa.bSupportNetworkOther&&e.aMenu[0].menu.push({path:"",name:"other",label:e.$t("other"),value:"",cap:!0}),n["a"].m_oDeviceCapa.bSupportUpnp&&e.aMenu[0].menu.push({path:"",name:"NAT",label:e.$t("portMap"),value:"",cap:!0})}))},methods:{init:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getAdminAccesses();case 2:return e.next=4,n["a"].getNetworkCap();case 4:return e.next=6,n["a"].getintegrateProtocolCap();case 6:return e.next=8,n["a"].getWifiEnhancementCap();case 8:return e.next=10,n["a"].getWifiStreamAdaptionCap();case 10:return e.next=12,this.getHttpHostsCap();case 12:return e.next=14,o["a"].initMulticast(1);case 14:return e.next=16,n["a"].getDeviceCapa().then((function(){t.oBasicCap=n["a"].m_oDeviceCapa}));case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),goMenu:function(e){var t={};e.name?t.name=e.name:t.path=e.path,this.$router.push(t)},getAdminAccesses:function(){var t=this,a=this,i=new Promise((function(i){var n={urlCGI:"portInfo",params:{},data:null,loading:!0};r["a"].get(n).then((function(n){var o=n.oResult;a.oXmlDoc=o;var r="",l=["dev_manage","websocket","websockets","sdk_over_tls","tls1_0enable","tls1_1enable","tls1_2enable"];e(o).find("AdminAccessProtocol").each((function(a,i){r=s["a"].nodeValue(e(i),"protocol").toLowerCase(),e.inArray(r,l)>-1&&e(i).find("enabled").length&&(t.bSupportAdvancedService=!0),"https"===r&&(e(i).find("TLS1_1Enable").length||e(i).find("TLS1_2Enable").length)&&e(i).find("enabled").length&&(t.bSupportAdvancedService=!0)})),i()}),(function(){t.bSupportAdvancedService=!1,i()}))}));return i},getHttpHostsCap:function(){var e=this,t=new Promise((function(t){var a={urlCGI:"httpHostsCap",params:{},data:null,loading:!0};r["a"].get(a).then((function(){e.bSupportHttpListen=!0,t()}),(function(){e.bSupportHttpListen=!1,t()}))}));return t}}}}).call(this,a("1157"))},c4d0:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"log-list"},[t("hm-scroll",[t("div",{staticClass:"hm-index-list-item"},[t("hm-cell-group",{staticClass:"custom-cell-group"},e._l(e.logData.oLogList.tableItem,(function(a,i){return t("hm-cell",{key:i,attrs:{"is-link":"",title:a.major+" - "+a.minor,label:a.time},nativeOn:{click:function(t){return e.onItemClick(a)}}})})),1)],1)])],1)},n=[],o={name:"MaintainLogList",props:{logData:{type:Object,default:function(){return{}},required:!0}},data:function(){return{logList:this.logData}},methods:{onItemClick:function(e){e&&this.$emit("showLogDetails",e)}}},r=o,s=(a("d53e"),a("0e17"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"77393d66",null);t["default"]=l.exports},c4f8:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"timing-capture-record"},[t("hm-scroll",[t("div",{staticClass:"hm-index-list-item"},[t("channel-list",{ref:"channel",attrs:{"o-channel":e.oChannel}}),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:0===e.oCapbilities.sCurrentTapIndex,expression:"oCapbilities.sCurrentTapIndex === 0"}],attrs:{title:e.$t("dutyPlan")}},[t("hm-switch",{model:{value:e.oParams.bEnabled,callback:function(t){e.$set(e.oParams,"bEnabled",t)},expression:"oParams.bEnabled"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapbilities.bSupportRecordEnabled&&1===e.oCapbilities.sCurrentTapIndex,expression:"oCapbilities.bSupportRecordEnabled && oCapbilities.sCurrentTapIndex === 1"}],attrs:{title:e.$t("dutyPlan")}},[t("hm-switch",{model:{value:e.oParams.bRecordEnabled,callback:function(t){e.$set(e.oParams,"bRecordEnabled",t)},expression:"oParams.bRecordEnabled"}})],1)],1),t("hm-cell-group",{directives:[{name:"show",rawName:"v-show",value:e.oCapbilities.bSupportCapture,expression:"oCapbilities.bSupportCapture"}],staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{"is-link":"",title:e.$t("snapshotSchedule")},nativeOn:{click:function(t){return e.showScheduleCapture()}}})],1),t("hm-cell-group",{directives:[{name:"show",rawName:"v-show",value:e.oCapbilities.bSupportRecord,expression:"oCapbilities.bSupportRecord"}],staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{"is-link":"",title:e.$t("recordSchedule")},nativeOn:{click:function(t){return e.showScheduleRecord()}}})],1)],1),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{on:{click:function(t){return e.save()}}},[e._v("\n        "+e._s(e.$t("save"))+"\n      ")])],1)]),e.bShowScheduleCapture?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:e.$t("snapshotSchedule"),"show-footer":!0,"enable-cancel-callback":e.bEnableCancelCallback},on:{delete:e.deleteAllCapture,cancelcallback:e.cancelcallbackCapture,confirm:e.confirmCapture}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"swipe-wrapper time-plan-padding swipe-wrapper-show-footer"},[t("hm-scroll",[t("time-plan",{ref:"timePlanCapture",attrs:{"times-data":e.aTimes_Capture,holiday:e.bHoliday,"is-param":e.isParamCap}})],1)],1)])])],1):e._e(),e.bShowScheduleRecord?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:e.$t("recordSchedule"),"show-footer":!0,"enable-cancel-callback":e.bEnableCancelCallback},on:{delete:e.deleteAllRecord,cancelcallback:e.cancelcallbackRecord,confirm:e.confirmRecord}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"swipe-wrapper time-plan-padding swipe-wrapper-show-footer"},[t("hm-scroll",[t("time-plan",{ref:"timePlanRecord",attrs:{"times-data":e.aTimes_Record,holiday:e.bHoliday,"is-param":e.isParamRec}})],1)],1)])])],1):e._e()],1)},n=[],o=a("3e97"),r=o["a"],s=(a("c1ba"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"321401e0",null);t["default"]=l.exports},c502:function(e,t,a){"use strict";a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("7de8"),s=a("f193"),l=a("9741"),c=a("768a"),u=a("d09c"),d=a("1f20"),p=a("8d94"),m=function(){function e(){Object(n["a"])(this,e),this.oEventInfo={szException:"",oLink:null},this.oEventCap={aExceptionCap:[],bSupportModify:!1},this.oParams={oData:null}}return Object(o["a"])(e,[{key:"init",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=this,a.oEventInfo.szException=t,e.next=4,c["a"].initDeviceParams(this.oEventCap,!1,!1,!0);case 4:return e.abrupt("return",a.getDetectLink());case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getDetectCap",value:function(){var e=this;e.oEventCap.aExceptionCap.length=0;var t=e.oEventCap.aExceptionCap,a={urlCGI:"eventCap",params:{},data:null,loading:!0};return s["a"].get(a).then((function(a){var i=a.oResult;r["a"].nodeValue(i,"isSupportHDFull","b")&&t.push({value:"diskfull",text:p["a"].t("hDDFull")}),r["a"].nodeValue(i,"isSupportHDError","b")&&t.push({value:"diskerror",text:p["a"].t("hDDError")}),r["a"].nodeValue(i,"isSupportNicBroken","b")&&t.push({value:"nicbroken",text:p["a"].t("networkDisconnected")}),r["a"].nodeValue(i,"isSupportIpConflict","b")&&t.push({value:"ipconflict",text:p["a"].t("ipAddrConflicted")}),r["a"].nodeValue(i,"isSupportIllAccess","b")&&t.push({value:"illaccess",text:p["a"].t("illegalLogin")}),r["a"].nodeValue(i,"isSupportViException","b")&&t.push({value:"badvideo",text:p["a"].t("videoSignalException")}),r["a"].nodeValue(i,"isSupportViMismatch","b")&&t.push({value:"videomismatch",text:p["a"].t("videoStandardMismatch")}),r["a"].nodeValue(i,"isSupportRecordException","b")&&t.push({value:"recordingfailure",text:p["a"].t("recordCaptureException")}),r["a"].nodeValue(i,"isSupportViResMismatch","b")&&t.push({value:"resolutionmismatch",text:p["a"].t("resolutionMismatch")}),r["a"].nodeValue(i,"isSupportRaidException","b")&&t.push({value:"raidfailure",text:p["a"].t("virtualDiskException")}),r["a"].nodeValue(i,"isSupportSpareException","b")&&t.push({value:"spareException",text:p["a"].t("hotSpareException")}),r["a"].nodeValue(i,"isSupportPoePowerException","b")&&t.push({value:"poePowerException",text:p["a"].t("poEPowerException")}),r["a"].nodeValue(i,"isSupportPOCException","b")&&t.push({value:"POCException",text:p["a"].t("POCException")}),r["a"].nodeValue(i,"isSupportSysStorFull","b")&&t.push({value:"sysstorfull",text:p["a"].t("sysstorfull")}),r["a"].nodeValue(i,"isSupportVersionAbnormal","b")&&t.push({value:"versionabnormal",text:p["a"].t("versionabnormal")}),r["a"].nodeValue(i,"isSupportNodeOffline","b")&&t.push({value:"nodeoffline",text:p["a"].t("nodeoffline")}),r["a"].nodeValue(i,"isSupportRecordCycleAbnormal","b")&&t.push({value:"recordcycleabnormal",text:p["a"].t("recordCycleAbnormal")}),r["a"].nodeValue(i,"isSupportIpcTransferAbnormal","b")&&t.push({value:"ipctransferabnormal",text:p["a"].t("ipctransferabnormal")}),r["a"].nodeValue(i,"isSupportVoltageInstable","b")&&t.push({value:"voltageinstable",text:p["a"].t("powerFluctuation")}),r["a"].nodeValue(i,"isSupportPTLocking","b")&&t.push({value:"PTLocking",text:p["a"].t("PTLocking")}),d["a"].m_oDeviceCapa.bSupportHighHDTemperature&&t.push({value:"highHDTemperature",text:p["a"].t("highHDTemperature")}),d["a"].m_oDeviceCapa.bSupportLowHDTemperature&&t.push({value:"lowHDTemperature",text:p["a"].t("lowHDTemperature")}),d["a"].m_oDeviceCapa.bSupportHDImpact&&t.push({value:"hdImpact",text:p["a"].t("hdImpact")}),d["a"].m_oDeviceCapa.bSupportHDBadBlock&&t.push({value:"hdBadBlock",text:p["a"].t("hdBadBlock")}),d["a"].m_oDeviceCapa.bSupportLogException&&t.push({value:"logException",text:p["a"].t("logException")}),d["a"].m_oDeviceCapa.bSupportSevereHDFailure&&t.push({value:"severeHDFailure",text:p["a"].t("severeHDFailure")}),e.oEventInfo.szException=t[0].value}))}},{key:"getDetectLink",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,a="DiskfullTriggerCap",i=t.oEventInfo.szException,"diskerror"===i?a="DiskerrorTriggerCap":"nicbroken"===i?a="NicbrokenTriggerCap":"ipconflict"===i?a="IpconflictTriggerCap":"illaccess"===i?a="IllaccesTriggerCap":"sysstorfull"===i?a="SysStorFullCap":"versionabnormal"===i?a="VersionAbnormalCap":"nodeoffline"===i?a="NodeOfflineCap":"recordcycleabnormal"===i?a="RecordCycleAbnormalCap":"ipctransferabnormal"===i?a="IpcTransferAbnormalCap":"recordingfailure"===i&&d["a"].m_oDeviceCapa.bSupportTriggerCapCheck?a="RecordExceptionTriggerCap":"voltageinstable"===i?a="voltageInstableTriggerCap":"PTLocking"===i&&(a="PTLockingTriggerCap"),e.next=6,c["a"].getLinkageCap(a).then((function(e){t.oEventInfo.oLink=e}));case 6:return d["a"].m_oDeviceCapa.bSupportTriggerCapCheck||0!==l["a"].iDeviceType||(t.oEventInfo.oLink.normal.beep=!1,t.oEventInfo.oLink.normal.email=!1,"nicbroken"!==i&&"ipconflict"!==i&&(t.oEventInfo.oLink.normal.center=!1)),n={urlCGI:"linkInfo",params:{param:t.oEventInfo.szException},data:null,loading:!0},e.abrupt("return",s["a"].get(n).then((function(e){var a=e.oResult;c["a"].getLinkInfo(t.oEventInfo.oLink,a)})));case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var e=this,t=c["a"].setLinkInfo(e.oEventInfo.oLink,e.oEventInfo.szException),a={urlCGI:"linkInfo",params:{param:e.oEventInfo.szException},data:t,loading:!0};return new Promise((function(e){s["a"].put(a).then((function(t){e(),u["a"].saveState(t.xhr)}),(function(t){e(),u["a"].saveState(t)}))}))}}]),e}();t["a"]=new m},c56e:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("FTP"),"left-type":"back","b-lazy-loading":e.bLazyLoading}},[t("div",{staticClass:"ftp",attrs:{slot:"content"},slot:"content"},[t("hm-scroll",[t("hm-validator-group",{attrs:{result:e.verifyResult}},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapbilities.bSptSetEnable,expression:"oCapbilities.bSptSetEnable"}],attrs:{title:e.$t("enableFtp")}},[t("hm-switch",{model:{value:e.oParams.bEnableFtp,callback:function(t){e.$set(e.oParams,"bEnableFtp",t)},expression:"oParams.bEnableFtp"}})],1),e.oCapbilities.bSupportSSL?t("hm-cell",{attrs:{title:e.$t("ftpProtocol")}},[t("base-select",{attrs:{options:e.options,title:e.$t("ftpProtocol")},model:{value:e.oParams.szFtpProtocol,callback:function(t){e.$set(e.oParams,"szFtpProtocol",t)},expression:"oParams.szFtpProtocol"}})],1):e._e(),t("hm-cell",{class:{"cell-require":e.oParamsValid.oFtpAddr&&e.oParamsValid.oFtpAddr.required},attrs:{title:e.$t("serverAdd")}},[t("hm-input",{attrs:{placeholder:e.$t("serverAdd")},model:{value:e.oParams.szAddress,callback:function(t){e.$set(e.oParams,"szAddress",t)},expression:"oParams.szAddress"}}),t("hm-validator",{attrs:{model:e.oParams.szAddress,rules:e.oParamsValid.oFtpAddr,param:e.$t("serverAdd")}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oFtpPort&&e.oParamsValid.oFtpPort.required},attrs:{title:e.$t("port")}},[t("hm-input",{attrs:{placeholder:e.$t("port")},model:{value:e.oParams.szPortNo,callback:function(t){e.$set(e.oParams,"szPortNo",t)},expression:"oParams.szPortNo"}}),t("hm-validator",{attrs:{model:e.oParams.szPortNo,rules:e.oParamsValid.oFtpPort,param:e.$t("port")}})],1),e.oCapbilities.bSupportAnnoyftp&&e.oCapbilities.bShowAnnoyftp?t("div",[t("hm-cell",{attrs:{title:e.$t("anonymous")}},[t("hm-switch",{model:{value:e.oParams.bAnnoyftp,callback:function(t){e.$set(e.oParams,"bAnnoyftp",t)},expression:"oParams.bAnnoyftp"}})],1)],1):e._e(),e.oCapbilities.bSupportAnnoyftp&&e.oCapbilities.bShowAnnoyftp&&e.oParams.bAnnoyftp?e._e():t("hm-cell",{class:{"cell-require":e.oParamsValid.oUserName&&e.oParamsValid.oUserName.required},attrs:{title:e.$t("username")}},[t("hm-input",{attrs:{disabled:e.oParams.bAnnoyftp},model:{value:e.oParams.szUserName,callback:function(t){e.$set(e.oParams,"szUserName",t)},expression:"oParams.szUserName"}}),t("hm-validator",{attrs:{model:e.oParams.szUserName,rules:e.oParamsValid.oUserName,param:e.$t("username")}})],1),e.oCapbilities.bSupportAnnoyftp&&e.oCapbilities.bShowAnnoyftp&&e.oParams.bAnnoyftp?e._e():t("hm-cell",{class:{"cell-require":e.oParamsValid.oPassword&&e.oParamsValid.oPassword.required},attrs:{title:e.$t("password")}},[t("hm-input",{attrs:{type:"password",disabled:e.oParams.bAnnoyftp},on:{focus:function(t){return e.clear(0)}},model:{value:e.oParams.oPassword.szPassword,callback:function(t){e.$set(e.oParams.oPassword,"szPassword",t)},expression:"oParams.oPassword.szPassword"}}),t("hm-validator",{attrs:{model:e.oParams.oPassword.szPassword,rules:e.oParamsValid.oPassword,disabled:e.oParams.bAnnoyftp,param:e.$t("password")}})],1),e.oCapbilities.bSupportAnnoyftp&&e.oCapbilities.bShowAnnoyftp&&e.oParams.bAnnoyftp?e._e():t("hm-cell",{class:{"cell-require":e.oParamsValid.oPasswordConfirm&&e.oParamsValid.oPasswordConfirm.required},attrs:{title:e.$t("pwdConfirm")}},[t("hm-input",{attrs:{type:"password",disabled:e.oParams.bAnnoyftp},on:{focus:function(t){return e.clear(1)}},model:{value:e.oParams.oPassword.szPasswordConfirm,callback:function(t){e.$set(e.oParams.oPassword,"szPasswordConfirm",t)},expression:"oParams.oPassword.szPasswordConfirm"}}),t("hm-validator",{attrs:{model:e.oParams.oPassword.szPasswordConfirm,rules:e.oParamsValid.oPasswordConfirm,disabled:e.oParams.bAnnoyftp,param:e.$t("pwdConfirm")}})],1),t("hm-cell",{attrs:{title:e.$t("directoryStructure")}},[t("base-select",{attrs:{options:e.optionsDirectoryStructure,title:e.$t("directoryStructure")},model:{value:e.oParams.szPathDepth,callback:function(t){e.$set(e.oParams,"szPathDepth",t)},expression:"oParams.szPathDepth"}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:"0"!==e.oParams.szPathDepth,expression:"oParams.szPathDepth!=='0'"}]},[t("hm-cell",{attrs:{title:e.$t("parentDirectory")}},[t("base-select",{attrs:{options:e.optionsParentDirectory,title:e.$t("parentDirectory"),disabled:"0"===e.oParams.szPathDepth},model:{value:e.oParams.szTopDirNameRule,callback:function(t){e.$set(e.oParams,"szTopDirNameRule",t)},expression:"oParams.szTopDirNameRule"}})],1),"customize"===e.oParams.szTopDirNameRule&&"0"!==e.oParams.szPathDepth?t("hm-cell",{class:{"cell-require":e.oParamsValid.oPathNameFirst&&e.oParamsValid.oPathNameFirst.required},attrs:{title:e.$t("directoryName")}},[t("hm-input",{model:{value:e.oParams.szTopDirName,callback:function(t){e.$set(e.oParams,"szTopDirName",t)},expression:"oParams.szTopDirName"}}),t("hm-validator",{attrs:{model:e.oParams.szTopDirName,rules:e.oParamsValid.oPathNameFirst,param:e.$t("parentDirectory")}})],1):e._e()],1),t("div",{directives:[{name:"show",rawName:"v-show",value:"2"===e.oParams.szPathDepth,expression:"oParams.szPathDepth==='2'"}]},[t("hm-cell",{attrs:{title:e.$t("childDirectory")}},[t("base-select",{attrs:{options:e.optionsChildDirectory,title:e.$t("parentDirectory"),disabled:"2"!==e.oParams.szPathDepth},model:{value:e.oParams.szSubDirNameRule,callback:function(t){e.$set(e.oParams,"szSubDirNameRule",t)},expression:"oParams.szSubDirNameRule"}})],1),"customize"===e.oParams.szSubDirNameRule&&"2"===e.oParams.szPathDepth?t("hm-cell",{class:{"cell-require":e.oParamsValid.oPathNameSecond&&e.oParamsValid.oPathNameSecond.required},attrs:{title:e.$t("directoryName")}},[t("hm-input",{model:{value:e.oParams.szSubDirName,callback:function(t){e.$set(e.oParams,"szSubDirName",t)},expression:"oParams.szSubDirName"}}),t("hm-validator",{attrs:{model:e.oParams.szSubDirName,rules:e.oParamsValid.oPathNameSecond,param:e.$t("childDirectory")}})],1):e._e()],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.oCapbilities.aInterval.length,expression:"oCapbilities.aInterval.length"}]},[t("hm-cell",{attrs:{title:e.$t("picArchivingInterval")}},[t("base-select",{attrs:{options:e.oCapbilities.aInterval,title:e.$t("picArchivingInterval")},model:{value:e.oParams.iArchivingInterval,callback:function(t){e.$set(e.oParams,"iArchivingInterval",t)},expression:"oParams.iArchivingInterval"}})],1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.oCapbilities.bSptPicNamePrefix,expression:"oCapbilities.bSptPicNamePrefix"}]},[t("hm-cell",{attrs:{title:e.$t("picNamePrefix")}},[t("base-select",{attrs:{options:e.optionsPic,title:e.$t("picNamePrefix")},model:{value:e.oParams.szPicNamePrefixMode,callback:function(t){e.$set(e.oParams,"szPicNamePrefixMode",t)},expression:"oParams.szPicNamePrefixMode"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:"prefix"===e.oParams.szPicNamePrefixMode,expression:"'prefix' === oParams.szPicNamePrefixMode"}],class:{"cell-require":e.oParamsValid.oPicNamePrefix&&e.oParamsValid.oPicNamePrefix.required},attrs:{title:e.$t("prefix")}},[t("hm-input",{model:{value:e.oParams.szPicNamePrefix,callback:function(t){e.$set(e.oParams,"szPicNamePrefix",t)},expression:"oParams.szPicNamePrefix"}}),t("hm-validator",{attrs:{model:e.oParams.szPicNamePrefix,rules:e.oParamsValid.oPicNamePrefix,param:e.$t("picNamePrefix")}})],1)],1),t("hm-cell",{attrs:{title:e.$t("uploadPicture")}},[t("hm-switch",{attrs:{disabled:!e.oCapbilities.bSptSetUploadPic},model:{value:e.oParams.bUploadPic,callback:function(t){e.$set(e.oParams,"bUploadPic",t)},expression:"oParams.bUploadPic"}})],1),t("hm-cell",[t("span",{staticClass:"label-test",on:{click:function(t){return e.testFTP()}}},[e._v(e._s(e.$t("test")))])]),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{on:{click:e.save}},[e._v(e._s(e.$t("save")))])],1)],1)],1)],1)],1)])},n=[],o=(a("96cf"),a("1da1")),r=a("4598"),s=a("c050"),l=a("47b5"),c={components:{BaseSelect:l["a"]},data:function(){return{verifyResult:{},oParams:{},m_oParams:r["a"].m_oParams,oCapbilities:{aInterval:[]},oParamsValid:{},options:[{value:"false",text:"FTP"},{value:"true",text:"SFTP"}],optionsDirectoryStructure:[{value:"0",text:this.$t("useRootDirectory")},{value:"1",text:this.$t("useParentDirectory")},{value:"2",text:this.$t("useChildDirectory")}],optionsParentDirectory:[{value:"devName",text:this.$t("useDeviceName")},{value:"devId",text:this.$t("useDeviceNumber")},{value:"devIp",text:this.$t("useDeviceIP")},{value:"customize",text:this.$t("custom")}],optionsChildDirectory:[{value:"chanName",text:this.$t("useCameraName")},{value:"chanId",text:this.$t("useCameraNumber")},{value:"customize",text:this.$t("custom")}],optionsPic:[{value:"default",text:this.$t("default")},{value:"prefix",text:this.$t("customPrefix")}]}},computed:{bLazyLoading:function(){return r["a"].m_oParams.bLoading}},watch:{"oParams.szTopDirNameRule":{handler:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"customize"===t&&"0"!==this.oParams.szPathDepth?(r["a"].m_oParamsValid.oPathNameFirst.skipVerify=!1,r["a"].m_oParamsValid.oPathNameFirst.required=!0):(r["a"].m_oParamsValid.oPathNameFirst.skipVerify=!0,r["a"].m_oParamsValid.oPathNameFirst.required=!1);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0},"oParams.szSubDirNameRule":{handler:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"customize"===t&&"2"===this.oParams.szPathDepth?(r["a"].m_oParamsValid.oPathNameSecond.skipVerify=!1,r["a"].m_oParamsValid.oPathNameSecond.required=!0):(r["a"].m_oParamsValid.oPathNameSecond.skipVerify=!0,r["a"].m_oParamsValid.oPathNameSecond.required=!1);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0},"oParams.szPathDepth":{handler:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"0"===t?(r["a"].m_oParamsValid.oPathNameFirst.skipVerify=!0,r["a"].m_oParamsValid.oPathNameSecond.skipVerify=!0):"1"===t?("customize"===this.oParams.szTopDirNameRule?r["a"].m_oParamsValid.oPathNameFirst.skipVerify=!1:r["a"].m_oParamsValid.oPathNameFirst.skipVerify=!0,r["a"].m_oParamsValid.oPathNameSecond.skipVerify=!0):("customize"===this.oParams.szTopDirNameRule?r["a"].m_oParamsValid.oPathNameFirst.skipVerify=!1:r["a"].m_oParamsValid.oPathNameFirst.skipVerify=!0,"customize"===this.oParams.szSubDirNameRule?r["a"].m_oParamsValid.oPathNameSecond.skipVerify=!1:r["a"].m_oParamsValid.oPathNameSecond.skipVerify=!0);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0},"oParams.bAnnoyftp":{handler:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t?(r["a"].m_oParamsValid.oUserName.skipVerify=!0,r["a"].m_oParamsValid.oUserName.required=!1,this.oParams.oPassword.skipVerify=!0,r["a"].m_oParamsValid.oPassword.required=!1,r["a"].m_oParamsValid.oPasswordConfirm.required=!1):(r["a"].m_oParamsValid.oUserName.skipVerify=!1,r["a"].m_oParamsValid.oUserName.required=!0,this.oParams.oPassword.skipVerify=!1,r["a"].m_oParamsValid.oPassword.required=!0,r["a"].m_oParamsValid.oPasswordConfirm.required=!0);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0},"oParams.szPicNamePrefixMode":{handler:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"prefix"===t?(r["a"].m_oParamsValid.oPicNamePrefix.skipVerify=!1,r["a"].m_oParamsValid.oPicNamePrefix.required=!0):(r["a"].m_oParamsValid.oPicNamePrefix.skipVerify=!0,r["a"].m_oParamsValid.oPicNamePrefix.required=!1);case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0},"oParams.szFtpProtocol":{handler:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"true"===t?(this.oParams.bAnnoyftp=!1,r["a"].m_oCapbilities.bShowAnnoyftp=!1):r["a"].m_oCapbilities.bShowAnnoyftp=!0;case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0}},created:function(){this.init(),console.log("params",this.oParams),console.log("capbility",this.oCapbilities)},methods:{init:function(){var e=this;this.oParams={oPassword:{}},r["a"].initFtp().finally((function(){e.oCapbilities=r["a"].m_oCapbilities,e.oParams=r["a"].m_aFtpParams[0],e.oParamsValid=r["a"].m_oParamsValid,console.log("params",e.oParams),console.log("capbility",e.oCapbilities)}))},changeFtp:function(e){this.oParams=r["a"].m_aFtpParams[e],this.oParams=r["a"].m_aFtpParams[e]},testFTP:function(){r["a"].testFTP(this.oParams)},save:function(){this.verifyResult.validateAll(),s["a"].validateTips(this.verifyResult.getErrorReport())&&r["a"].saveParams()},clear:function(e){r["a"].clear(e)}}},u=c,d=(a("eb91"),a("2877")),p=Object(d["a"])(u,i,n,!1,null,"ff32fd3a",null);t["default"]=p.exports},c587:function(e,t,a){"use strict";(function(e){a("ac6a"),a("7514"),a("f576"),a("28a5"),a("55dd"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("8d94"),s=a("d09c"),l=a("f193"),c=a("7de8"),u=a("768a"),d=a("c050"),p=a("1f20"),m={risk:r["a"].t("password_strength_risk"),weak:r["a"].t("password_strength_weak"),medium:r["a"].t("password_strength_medium"),strong:r["a"].t("password_strength_strong")},h=function(){function t(){Object(n["a"])(this,t),this.aCustomProtocolList=[],this.quickAddActivedNum=0,this.aProtocolOptions=[],this.aQuickAddListLoading=!1,this.deviceListLoading=!1,this.devicePageC={page_size:300,currentPage:1,totalNo:0,page_sizes:[30,60,90]},this.oCap={bShowMicConfig:!1,bShowSecurityActive:p["a"].m_oDeviceCapa.bSupportIPCActivatePassword},this.aQuickAddList=[],this.deviceResourceList=[],this.showDeviceList=[],this.alreadyGet=!1,this.bDisableAdd=!1}return Object(o["a"])(t,[{key:"init",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p["a"].getDeviceCapa();case 2:this.oCap.bShowSecurityActive=p["a"].m_oDeviceCapa.bSupportIPCActivatePassword;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"sortIpAddress",value:function(e){return e.sort((function(e,t){var a=e.deviceIpAdd.split(".").map((function(e){return e.padStart(3,"0")})).join(""),i=t.deviceIpAdd.split(".").map((function(e){return e.padStart(3,"0")})).join("");return a-i})),e}},{key:"getOnlineList",value:function(){var t=this;return this.aQuickAddListLoading=!0,t.aQuickAddList.splice(0,t.aQuickAddList.length),t.quickAddActivedNum=0,new Promise((function(a){var i={urlCGI:"ipcSearch",params:{},data:null,loading:!0};return l["a"].get(i).then((function(i){var n=i.oResult;e(n).find("VideoSourceDescriptor").each((function(a,i){var n={};e(i).find("hostName").length>0?n["deviceIpAdd"]=c["a"].nodeValue(e(i),"hostName"):e(i).find("ipAddress").length>0&&(n["deviceIpAdd"]=c["a"].nodeValue(e(i),"ipAddress")),n["ipv6Address"]=c["a"].nodeValue(e(i),"ipv6Address"),n["id"]=c["a"].nodeValue(e(i),"id"),n["srcInputPortNums"]=c["a"].nodeValue(e(i),"srcInputPortNums"),n["proxyProtocol"]=c["a"].nodeValue(e(i),"proxyProtocol"),n["deviceModel"]=c["a"].nodeValue(e(i),"deviceModel"),n["managePortNo"]=c["a"].nodeValue(e(i),"managePortNo"),n["subnetMask"]=c["a"].nodeValue(e(i),"subnetMask"),n["macAddress"]=c["a"].nodeValue(e(i),"macAddress"),n["serialNumber"]=c["a"].nodeValue(e(i),"serialNumber"),n["firmwareVersion"]=c["a"].nodeValue(e(i),"firmwareVersion"),n["userName"]=c["a"].nodeValue(e(i),"userName"),n["password"]=c["a"].nodeValue(e(i),"password"),"GB28181"===c["a"].nodeValue(e(i),"proxyProtocol")&&(n["deviceIpAdd"]?n["deviceIpAdd"]=c["a"].nodeValue(e(i),"deviceID")+"("+n["deviceIpAdd"]+")":n["deviceIpAdd"]=c["a"].nodeValue(e(i),"deviceID"));var o="false"===c["a"].nodeValue(e(i),"activated")?r["a"].t("waitActive"):r["a"].t("onLine");n["state"]=o,t.quickAddActivedNum+=1,t.aQuickAddList.push(n)})),t.aQuickAddList=t.sortIpAddress(t.aQuickAddList),a()})).catch((function(){a()}))}))}},{key:"getDeviceResource",value:function(e){var t={searchID:c["a"].creatUUID(31),childDevIDList:e,rc:"Video",searchResultPosition:1,maxResults:1e3};e.length||delete t.childDevIDList;var a=[];return new Promise((function(e){var i={urlCGI:"searchChildDevResourcesStatus",data:t,loading:!0};return l["a"].post(i).then((function(t){var i=t.oResult;i.matchResults&&i.matchResults.forEach((function(e){e.indexList&&e.indexList.forEach((function(t){var i={childDevIndex:t.childDevIndex,added:"added"===t.status,childDevID:e.childDevID};"added"===t.status&&(i.index=t.index),a.push(i)}))})),e(a)}))}))}},{key:"quickAddOneVideo",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a,i,n,o,u){var p,m,h,f,v;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return p=this,m="<?xml version='1.0' encoding='utf-8'?><InputProxyChannel><id>0</id><quickAdd>true</quickAdd>",m+="<sourceInputPortDescriptor><proxyProtocol>"+a["proxyProtocol"]+"</proxyProtocol>",h=c["a"].checkAddressingType(a["deviceIpAdd"]).toLowerCase(),m+="<addressingFormatType>"+("hostname"===h?"hostname":"ipaddress")+"</addressingFormatType>",f="GB28181"===a["proxyProtocol"]?a["deviceIpAdd"].indexOf(")")>-1?a["deviceIpAdd"].split("(")[1].split(")")[0]:"":a["deviceIpAdd"],m+="hostname"===h?"<hostName>"+f+"</hostName>":"ipv6address"===h?"<ipv6Address>"+f+"</ipv6Address>":"<ipAddress>"+f+"</ipAddress>",m+="<managePortNo>"+a["managePortNo"]+"</managePortNo>",m+="<srcInputPort>1</srcInputPort>",m+="<userName></userName>",m+="<password></password>","GB28181"===a["proxyProtocol"]&&(m+="<deviceID>"+a["deviceIpAdd"].split("(")[0]+"</deviceID>"),m+="</sourceInputPortDescriptor></InputProxyChannel>",v=c["a"].parseXmlFromStr(m),e(v).find("userName").eq(0).text(a["userName"]),e(v).find("password").eq(0).text(a["password"]),t.abrupt("return",new Promise((function(e,t){var a={urlCGI:"addIpc",data:v,loading:!0};return l["a"].post(a).then((function(){i?o(null,u+1):(p.bDisableAdd=!1,d["a"].stateAlert(r["a"].t("addSuccess"),"success"),n&&n()),e()}),(function(e){i?o(e):(p.bDisableAdd=!1,s["a"].saveState(e)),t()}))})));case 17:case"end":return t.stop()}}),t,this)})));function a(e,a,i,n,o){return t.apply(this,arguments)}return a}()},{key:"getDeviceList",value:function(e){var t=this,a=this;return e&&(this.devicePageC.currentPage=e),this.deviceListLoading=!0,a.showDeviceList.splice(0,a.showDeviceList.length),new Promise((function(e){var i={urlCGI:"searchChildDevice",data:{pageSize:t.devicePageC.page_size,pageIndex:t.devicePageC.currentPage,deviceClass:"encodeDevice"}};return l["a"].post(i).then((function(i){var n=i.oResult;a.devicePageC.totalNo=parseInt(n.totalMatches||0,10);var o=n.childList.map((function(e){return e.childDevID}));a.deviceResourceList.length=0,a.addDeviceResourceDlg(o).finally((function(){a.deviceListLoading=!1,n.childList.forEach((function(e){var i={deviceID:e.childDevID,state:e.connected?r["a"].t("onLine"):r["a"].t("offline"),childStatus:u["a"].transChanStatus(e.childStatus),serialNum:e.serialNumber,version:e.version,oChanLink:""};e.tags.forEach((function(n){switch(n.Key){case"childDescription":i.deviceName=n.Value||"IPCamera 01";break;case"ipv4Address":i.address=n.Value;break;case"ipv6Address":i.address=n.Value;break;case"hostname":i.address=n.Value;break;case"passwordStrength":i.passwordStrength=m[n.Value]||"";break;case"portNo":i.portNo=n.Value;break;case"protocol":i.protocol=n.Value;break;case"accessProtocolType":i.protocol=n.Value;break;case"customProtocolID":i.protocol=t.aProtocolOptions.find((function(e){return e&&e.id===n.Value})).value||i.protocol;break;case"streamProtocolType":i.streamProtocolType=n.Value;break;case"certificateValidationEnabled":i.certificateValidationEnabled=n.Value;break;case"deviceID":i.GBDeviceID=n.Value;break;case"IOInput":i.IOInput=n.Value||0;break;case"IOOutput":i.IOOutput=n.Value||0;break;case"username":i.username=n.Value;break;case"batteryPower":i.batteryPower=n.Value,i.channelId=a.deviceResourceList.filter((function(t){return e.childDevID===t.childDevID}))[0].index||-1,i.channelId>0&&(i.isSolarDevice=!0);break;case"childDevWEBUrl":i.oChanLink=n.Value||"";break;case"POEDevice":i.isPoe=n.Value||!1;break;default:break}})),i.isSolarDevice||(i.isSolarDevice=!1),i.isPoe||(i.isPoe=!1),e.connected?i.alarmInputOrOutput=(i.IOInput||0)+"/"+(i.IOOutput||0):i.alarmInputOrOutput="--";var n=0,o=0,s=[];a.deviceResourceList.forEach((function(t){t.childDevID===e.childDevID&&(s.push({childDevID:t.childDevID,childDevIndex:t.childDevIndex,index:t.index,added:"added"===t.status}),o++,"added"===t.status&&n++)})),i.deviceResourceList=s,i.addedOrAll=n+"/"+o,a.showDeviceList.push(i)}))})),e()})).catch((function(){e()}))}))}},{key:"addDeviceResourceDlg",value:function(e){var t=this,a={searchID:c["a"].creatUUID(31),childDevIDList:e,rc:"Video",searchResultPosition:1,maxResults:1e3};return e.length||delete a.childDevIDList,t.deviceResourceList.length=0,new Promise((function(e,i){var n={urlCGI:"searchChildDevResourcesStatus",data:a,loading:!0};return l["a"].post(n).then((function(a){var i=a.oResult;i.matchResults&&i.matchResults.forEach((function(e){e.indexList&&e.indexList.forEach((function(a){var i={childDevIndex:a.childDevIndex,status:a.status,childDevID:e.childDevID};"added"===a.status&&(i.index=a.index),t.deviceResourceList.push(i)}))})),e()}),(function(e){i(e)}))}))}},{key:"addDeviceResource",value:function(e,t){var a={childDevID:e,rcList:[{rc:"Video",indexList:[]}]};return t.forEach((function(e){a.rcList[0].indexList.push({index:e})})),new Promise((function(e,t){var i={urlCGI:"addChildDeviceResources",data:a,loading:!0};return l["a"].post(i).then((function(a){var i=a.oResult;1===i.errorCode?e(1):t(a.xhr),e()}),(function(e){t(e)}))}))}},{key:"saveDefaultPassword",value:function(e){var t="<?xml version='1.0' encoding='UTF-8'?><IPCActivatePasswd>";t+="<password>"+e+"</password>",t+="</IPCActivatePasswd>";var a=c["a"].parseXmlFromStr(t);return new Promise((function(e,t){var i={urlCGI:"IPCActivatePwd",data:a,loading:!0};return l["a"].put(i).then((function(t){s["a"].saveState(t.xhr),e()}),(function(e){t(),s["a"].saveState(e)}))}))}},{key:"getEquipmentCap",value:function(){return new Promise((function(e,t){var a={urlCGI:"getChildDeviceCap",loading:!0};return l["a"].get(a).then((function(t){var a=t.oResult;e(a)}),(function(e){t(e)}))}))}},{key:"doDeleteDevice",value:function(e,t){var a={delchildlist:[]};return e?a.delchildlist=[{childDevID:e.deviceID}]:t.forEach((function(e){a.delchildlist.push({childDevID:e.deviceID})})),new Promise((function(e,t){var i={urlCGI:"removeChildDevice",data:a,loading:!0};return l["a"].post(i).then((function(t){var a=t.oResult,i=t.xhr;1===a.statusCode?d["a"].stateAlert(r["a"].t("deleteSuccess_msg"),"success"):s["a"].saveState(i),e()}),(function(e){t(e),s["a"].saveState(e)}))}))}},{key:"ipTest",value:function(t){var a="<?xml version='1.0' encoding='UTF-8'?><pingTestDescription>";a+="<ipAddress>"+t+"</ipAddress>",a+="</pingTestDescription>";var i=c["a"].parseXmlFromStr(a);return new Promise((function(t,a){var n={urlCGI:"ipTest",data:i,loading:!0};return l["a"].post(n).then((function(a){var i=a.oResult,n=c["a"].nodeValue(e(i),"status");switch(n){case"used":d["a"].stateAlert(r["a"].t("connectSuccess"),"success");break;case"not used":d["a"].stateAlert(r["a"].t("testFailed_msg"),"failed");break;default:break}t()}),(function(e){a(e),s["a"].saveState(e)}))}))}},{key:"getCustomList",value:function(t){var a=this;return new Promise((function(i,n){var o={urlCGI:"customProtocolInfo",loading:!0};return l["a"].get(o).then((function(n){var o=n.oResult;t&&e(o).find("customProtocol").each((function(t,i){a.aProtocolOptions[t]={},a.aProtocolOptions[t].id=c["a"].nodeValue(e(i),"id","i"),a.aProtocolOptions[t].value=c["a"].nodeValue(e(i),"protocalName"),a.aProtocolOptions[t].text=c["a"].nodeValue(e(i),"protocalName"),a.aProtocolOptions[t].port=c["a"].nodeValue(e(i),"streamPort"),a.aProtocolOptions[t].bThird=!0})),i(o)}),(function(e){n(e),s["a"].saveState(e)}))}))}},{key:"micConfigConfirm",value:function(e){return new Promise((function(t,a){var i={urlCGI:"authorizeMicAcquisitionParam",data:e,loading:!0};return l["a"].put(i).then((function(e){s["a"].saveState(e.xhr),t()}),(function(e){a(e),s["a"].saveState(e)}))}))}},{key:"getMicConfig",value:function(){var e=this;return new Promise((function(t){var a={urlCGI:"authorizeMicAcquisitionParam",loading:!0};return l["a"].get(a).then((function(a){e.oCap.bShowMicConfig=!0,t(a.oResult["audioEnabled"]||!1)}))}))}},{key:"deleteDeviceResource",value:function(e){var t={rc:"Video",indexList:[]};return e.forEach((function(e){t.indexList.push({index:e})})),new Promise((function(e,a){var i={urlCGI:"deleteChildDeviceResources",data:t,loading:!0};return l["a"].put(i).then((function(t){var i=t.oResult;1===i.errorCode?e(1):a(t.xhr),e()}),(function(e){a(e)}))}))}}]),t}();t["a"]=new h}).call(this,a("1157"))},c5a5:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"device-container"},[t("base-page",{attrs:{title:e.$t("configuration"),"left-type":"custom","show-back-button":!0},on:{"left-handle":e.goBack}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"config"},e._l(e.aMenu,(function(a,i){return t("div",{key:i,staticClass:"content"},[a.title?t("div",{staticClass:"title"},[e._v(e._s(a.title))]):e._e(),t("div",{staticClass:"menu"},[e._l(a.menu,(function(a,i){return[a.cap?t("hm-cell",{key:i,class:a.label===e.$t("update")&&e.oCaps.bHaveNewVersion?"color-red":a.isLink?"green-link":"",attrs:{center:"",title:a.label,"is-link":!a.isLink,value:a.value},nativeOn:{click:function(t){return e.goMenu(a)}}}):e._e()]}))],2)])})),0),t("router-view")],1)])],1)},n=[],o=(a("4f7f"),a("5df3"),a("1c4c"),a("6762"),a("2fdb"),a("20d6"),a("ac6a"),a("96cf"),a("1da1")),r=a("1f20"),s=a("9741"),l=a("c98f"),c=a("97af"),u=a("d09c"),d=a("7de8"),p={name:"Config",beforeRouteEnter:function(e,t,a){s["a"].init().then((function(){a()}))},components:{BasePage:c["a"]},data:function(){return{bSupportMotion:!1,bSupportChildDeviceManage:!1,szCurrentConfigMenu:"networkConfig",aMenu:[{title:this.$t("system"),menu:[{path:"",name:"systemSetting",label:this.$t("systemSettings"),value:"",cap:!0},{path:"",name:"userManagement",label:this.$t("userManagement"),value:"",cap:!0}]},{title:this.$t("network"),menu:[{path:"",name:"BasicNetCfg",label:this.$t("networkSettings"),value:"",cap:!0},{path:"",name:"advancedNetCfg",label:this.$t("netService"),value:"",cap:!0},{path:"",name:"devAccess",label:this.$t("devAccess"),value:"",cap:!0}]},{title:"",menu:[{path:"",name:"videoAudio",label:this.$t("videoOrAudio"),value:"",cap:!0}]},{title:"",menu:[{path:"",name:"Image",label:this.$t("image"),value:"",cap:!0}]},{title:this.$t("storage"),menu:[{path:"",name:"ManageStorage",label:this.$t("storageManagement"),value:"",cap:!0},{path:"",name:"RecordPlan",label:this.$t("scheduleSettings"),value:"",cap:!0}]},{title:this.$t("event"),menu:[{path:"",name:"CommonEvent",label:this.$t("basicEvent"),value:"",cap:!0},{path:"",name:"alarmConf",label:this.$t("alarmConf"),value:"",cap:!0},{path:"",name:"smartEvent",label:this.$t("smartEvent"),value:"",cap:!0}]},{title:this.$t("operations"),menu:[{path:"",name:"maintain",label:this.$t("maintenance"),value:"",cap:!0},{path:"",name:"security",label:this.$t("security"),value:"",cap:!0}]}],aConfigMenu:[{name:this.$t("system"),value:"system",icon:"icon-system_gray",children:[{name:this.$t("systemSettings"),value:"systemSetting",path:"/home/config/systemSetting/basicInfo"},{name:this.$t("maintenance"),value:"maintenance",path:"/home/config/maintain/maintainUpgrade"},{name:this.$t("security"),value:"security",path:"/home/config/security/NoSupportSecurity"},{name:this.$t("userManagement"),value:"userManagement",path:"/home/config/userManagement/userCenter"}]},{name:this.$t("network"),value:"network",icon:"icon-network_gray",children:[{name:this.$t("basicSettings"),value:"basicSettings",path:"/home/config/basicNetCfg/TCPIP"},{name:this.$t("advancedSettings"),value:"advancedSettings",path:"/home/config/advancedNetCfg/SmoothStream"}]},{name:this.$t("videoOrAudio"),value:"videoOrAudio",icon:"icon-audio_gray",children:[{name:this.$t("videoOrAudio"),value:"videoOrAudio",path:"/home/config/videoAudio/video"}]},{name:this.$t("image"),value:"image",icon:"icon-image_gray",children:[{name:this.$t("image"),value:"image",path:"/home/config/image/displaySettings"}]},{name:this.$t("event"),value:"event",icon:"icon-Event_gray",children:[{name:this.$t("basicEvent"),value:"basicEvent",path:"/home/config/commonEvent/eventMotion"},{name:this.$t("smartEvent"),value:"smartEvent",path:"/home/config/smartEvent/smartLineDetection"}]},{name:this.$t("storage"),value:"storage",icon:"icon-storage_gray",children:[{name:this.$t("scheduleSettings"),value:"scheduleSettings",path:"/home/config/recordCfg/RecordPlan/planRecord"},{name:this.$t("storageManagement"),value:"storageManagement",path:"/home/config/recordCfg/ManageStorage/Management"}]},{name:this.$t("deviceAccess_name"),value:"deviceAccess",icon:"icon-storage_gray",children:[{name:this.$t("device_name"),value:"device",path:"/home/config/deviceAccess/device/device"}]}],disabled:!0,loop:!1,autoPlay:!1,showDots:!1,slideOptions:{listenScroll:!0,probeType:3,directionLockThreshold:0},title:"",oChannel:{id:1},bPlatform:!1,bDisPatchLogin:sessionStorage.getItem("disPatchLogin"),bSupportDeviceGroupMgr:!1,bSupportSmart:!1}},created:function(){this.bPlatform=d["a"].checkIsPlatform(),l["a"].getCapablities(),this.$route.query.screenWidth&&this.$store.commit("setScreenWidth",this.$route.query.screenWidth),l["a"].getSecurityCap()},mounted:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return window["filterRouter"]=function(e){t.filterRouter(e)},window["showRouter"]=function(e){t.showRouter(e)},window["setRightNavigation"]=function(e){t.title=e},e.next=5,r["a"].getDeviceCapa().then((function(){if(t.bSupportMotion=r["a"].m_oDeviceCapa.bSupportMotion||0===s["a"].iDeviceType,t.bSupportIPFilter=r["a"].m_oDeviceCapa.bSupportIPFilter&&1===s["a"].iDeviceType,t.bSupportLowPowerConsumption=(r["a"].m_oDeviceCapa.bSupportConsumptionMode||r["a"].m_oDeviceCapa.bSupportImageCapture||r["a"].m_oDeviceCapa.bSupportScheduledRecordUpload)&&0!==s["a"].iDeviceType,t.bSupportChildDeviceManage=r["a"].m_oDeviceCapa.bSupportChildDeviceManage,t.bSupportDeviceGroupMgr=r["a"].m_oDeviceCapa.bSupportDeviceGroupMgr,t.bSupportSmart=r["a"].m_oDeviceCapa.bSupportAudioDection||r["a"].m_oDeviceCapa.bSupportDefousDection||r["a"].m_oDeviceCapa.bSupportSceneChangeDetection||r["a"].m_oDeviceCapa.bSupportFaceDect||r["a"].m_oDeviceCapa.bSupportLineDection||r["a"].m_oDeviceCapa.bSupportFieldDection||r["a"].m_oDeviceCapa.bSupportRegionEntrance||r["a"].m_oDeviceCapa.bSupportRegionExit||r["a"].m_oDeviceCapa.bSupportLoiter||r["a"].m_oDeviceCapa.bSupportGroup||r["a"].m_oDeviceCapa.bSupportRapidMove||r["a"].m_oDeviceCapa.bSupportPark||r["a"].m_oDeviceCapa.bSupportUnattendedBaggage||r["a"].m_oDeviceCapa.bSupportAttendedBaggage,t.bSupportSmart||t.aMenu.forEach((function(e){e.title===t.$t("event")&&e.menu.pop()})),t.bSupportMotion||t.aConfigMenu.forEach((function(e,a){e.name===t.$t("event")&&(t.aConfigMenu[a].children=[{name:t.$t("basicEvent"),path:"/home/config/commonEvent/exception"},{name:t.$t("smartEvent"),path:"/home/config/smartEvent/smartLineDetection"}])})),0===s["a"].iDeviceType){var e=t.aMenu.findIndex((function(e){return e.title===t.$t("storage")}));t.aMenu.splice(e,0,{title:"",menu:[{path:"",name:"device",label:t.$t("deviceManage"),value:"",cap:0===s["a"].iDeviceType&&t.bSupportChildDeviceManage},{path:"",name:"deviceConfig",label:t.$t("deviceConfig"),value:"",cap:0===s["a"].iDeviceType&&t.bSupportChildDeviceManage},{path:"",name:"channelManage",label:t.$t("channelManage"),value:"",cap:0===s["a"].iDeviceType&&(!t.bSupportChildDeviceManage||!t.bSupportDeviceGroupMgr)},{path:"",name:"analogChannel",label:t.$t("analogChannel"),value:"",cap:0===s["a"].iDeviceType&&r["a"].m_oDeviceCapa.bSupportAnalogChan}]})}else t.filterRouter(["deviceAccess"]);if(t.bSupportLowPowerConsumption){var a={title:t.$t("lowPowerConsum"),menu:[]};r["a"].m_oDeviceCapa.bSupportConsumptionMode&&a.menu.push({path:"",name:"consumptionMode",label:t.$t("consumptionMode"),value:"",cap:!0}),r["a"].getEventArouseCap(1).then((function(){r["a"].m_oDeviceCapa.bSupportEventArouse&&a.menu.push({path:"",name:"eventArouse",label:t.$t("timeArouse"),value:"",cap:!0})})),(r["a"].m_oDeviceCapa.bSupportImageCapture||r["a"].m_oDeviceCapa.bSupportScheduledRecordUpload)&&a.menu.push({path:"",name:"timingCaptureRecord",label:t.$t("dutyPlan"),value:"",cap:!0}),t.aMenu.push(a)}t.$forceUpdate()}));case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),methods:{del:function(e){var t=this;this.aConfigMenu.children.forEach((function(a,i){a.name===e&&t.aConfigMenu.children.splice(i,1)}))},filterRouter:function(e){var t=this;e.length&&(this.$store.commit("setHideMenu",e),e.includes("storageManageConfig")&&this.aConfigMenu.forEach((function(e,a){e.name===t.$t("storage")&&t.aConfigMenu[a].children.forEach((function(e,i){e.name===t.$t("storageManagement")&&t.aConfigMenu[a].children.splice(i,1)}))})),e.includes("image")&&this.aConfigMenu.forEach((function(e,a){"image"===e.value&&t.aConfigMenu.splice(a,1)})),e.includes("deviceAccess")&&this.aConfigMenu.forEach((function(e,a){"deviceAccess"===e.value&&t.aConfigMenu.splice(a,1)})),e.includes("userManagement")&&this.aConfigMenu.forEach((function(e,a){"system"===e.value&&t.aConfigMenu[a].children.forEach((function(e,i){"userManagement"===e.value&&t.aConfigMenu[a].children.splice(i,1)}))})))},createdTem:function(){var e=navigator.userAgent,t=e.indexOf("Android")>-1||e.indexOf("Linux")>-1;t?window.app.rightNavigationClicked():window.webkit.messageHandlers.app.postMessage({cmd:"rightNavigationClicked"})},back:function(){var e=navigator.userAgent,t=e.indexOf("Android")>-1||e.indexOf("Linux")>-1;t?window.app.onJsBackPressed():window.webkit.messageHandlers.onJsBackPressed.postMessage("")},backToView:function(){this.$router.push({name:"Config"})},goBack:function(){this.bPlatform?d["a"].onJsBackPressed():this.$router.back()},dedupe:function(e){return Array.from(new Set(e))},showRouter:function(e){var t=this;if(e.length){var a=[],i=[],n=[];e.forEach((function(e){e.root&&a.push(e.root),e.child&&i.push(e.child),e.detail&&n.push(e.detail)})),this.$store.commit("setShowRouter",n),a=this.dedupe(a),i=this.dedupe(i);var o=[];this.aConfigMenu.forEach((function(e,t){if(a.includes(e.value)){var n=e.children;e.children=[],n.forEach((function(t){i.includes(t.value)&&e.children.push(t)}))}else o.push(t)})),o=o.reverse(),o.forEach((function(e){t.aConfigMenu.splice(e,1)}))}},goMenu:function(e){var t={};e.name?t.name=e.name:t.path=e.path,"reboot"===e.name?this.reStart():this.$router.push(t)},reStart:function(){u["a"].restart()}}},m=p,h=(a("cf27"),a("2877")),f=Object(h["a"])(m,i,n,!1,null,"0260f66e",null);t["default"]=f.exports},c64e:function(e,t,a){var i=a("e1f4"),n=a("2366");function o(e,t,a){var o=t&&a||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null),e=e||{};var r=e.random||(e.rng||i)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t)for(var s=0;s<16;++s)t[o+s]=r[s];return t||n(r)}e.exports=o},c68d:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("OSDSettings"),"right-type":"text","show-save-button":!0,"save-text":e.$t("save"),"b-lazy-loading":e.oOsdParams.bLazyLoading},on:{"save-handle":e.save}},[t("div",{staticClass:"image-content",attrs:{slot:"content"},slot:"content"},[t("div",[t("channel-list",{attrs:{"o-channel":e.oChannel,"show-type":"tab"}}),e.bLandscapeMode?e._e():t("div",{staticClass:"plugin-small"},[t("plugin-wind",{attrs:{mode:"textoverlay","o-channel":e.oChannel,hide:e.bPluginHide},on:{"play-success":e.playSuccess}})],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",[t("div",{attrs:{slot:"title"},slot:"title"},[t("span",{staticClass:"blue-button",on:{click:function(t){return e.draw()}}},[e._v(e._s(e.$t("modify")))])])])],1),t("div",{staticClass:"hm-index-list-item"},[t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("show")}},[t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oOSDCapa.bSupportDisplayName,expression:"oOSDCapa.bSupportDisplayName"}],attrs:{title:e.$t("displayChannelName")}},[t("hm-switch",{nativeOn:{change:function(t){return e.changeOSDInfo()}},model:{value:e.oOsdParams.bDisplayName,callback:function(t){e.$set(e.oOsdParams,"bDisplayName",t)},expression:"oOsdParams.bDisplayName"}})],1),t("hm-cell",{class:{"cell-require":e.oInputValid.oOSDValid&&e.oInputValid.oOSDValid.required},attrs:{title:e.$t("cameraName")}},[t("hm-input",{attrs:{disabled:!e.oOsdParams.bDisplayName,placeholder:e.$t("cameraName")},on:{input:function(t){return e.changeOSDInfo()}},model:{value:e.oOsdParams.cameraName,callback:function(t){e.$set(e.oOsdParams,"cameraName",t)},expression:"oOsdParams.cameraName"}})],1),t("hm-validator",{attrs:{model:e.oOsdParams.cameraName,rules:e.oInputValid.oOSDValid,param:e.$t("cameraName")}}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.oOSDCapa.bSupportOSDTime,expression:"oOSDCapa.bSupportOSDTime"}]},[t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oOSDCapa.bSupportDateFormat,expression:"oOSDCapa.bSupportDateFormat"}],attrs:{title:e.$t("displayDate")}},[t("hm-switch",{nativeOn:{change:function(t){return e.changeOSDInfo()}},model:{value:e.oOsdParams.bDisplayDate,callback:function(t){e.$set(e.oOsdParams,"bDisplayDate",t)},expression:"oOsdParams.bDisplayDate"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oOSDCapa.bSupportDisplayBatteryPower,expression:"oOSDCapa.bSupportDisplayBatteryPower"}],attrs:{title:e.$t("displayBatteryPower")}},[t("hm-switch",{model:{value:e.oOsdParams.bDisplayBatteryPower,callback:function(t){e.$set(e.oOsdParams,"bDisplayBatteryPower",t)},expression:"oOsdParams.bDisplayBatteryPower"}})],1),e.oOSDCapa.bSupportOSDTime?t("div",[t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oOSDCapa.bSupportTimeFormat,expression:"oOSDCapa.bSupportTimeFormat"}],attrs:{title:e.$t("timeFormat")}},[t("base-select",{attrs:{title:e.$t("timeFormat"),options:e.oTimeFormatList},on:{change:e.changeOSDInfo},model:{value:e.oOsdParams.timeFormat,callback:function(t){e.$set(e.oOsdParams,"timeFormat",t)},expression:"oOsdParams.timeFormat"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oOSDCapa.bSupportDateFormat,expression:"oOSDCapa.bSupportDateFormat"}],attrs:{title:e.$t("dateFormat")}},[t("base-select",{attrs:{title:e.$t("dateFormat"),options:e.oOSDCapa.dateFormats,disabled:!e.oOsdParams.bDisplayDate},on:{change:e.changeOSDInfo},model:{value:e.oOsdParams.dateFormat,callback:function(t){e.$set(e.oOsdParams,"dateFormat",t)},expression:"oOsdParams.dateFormat"}})],1)],1):e._e(),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oOSDCapa.bSupportDisplayWeek,expression:"oOSDCapa.bSupportDisplayWeek"}],attrs:{title:e.$t("displayWeek")}},[t("hm-switch",{attrs:{disabled:!e.oOSDCapa.bSupportDisplayWeekSet||!e.oOsdParams.bDisplayDate},nativeOn:{change:function(t){return e.changeOSDInfo()}},model:{value:e.oOsdParams.bDisplayWeek,callback:function(t){e.$set(e.oOsdParams,"bDisplayWeek",t)},expression:"oOsdParams.bDisplayWeek"}})],1)],1)],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("formatConfiguration")}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.oOSDCapa.bSupportOSDTime,expression:"oOSDCapa.bSupportOSDTime"}]},[t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oOSDCapa.bSupportDisplayMode,expression:"oOSDCapa.bSupportDisplayMode"}],attrs:{title:e.$t("displayMode")}},[t("base-select",{attrs:{title:e.$t("displayMode"),options:e.oOSDCapa.displayModes},model:{value:e.oOsdParams.displayMode,callback:function(t){e.$set(e.oOsdParams,"displayMode",t)},expression:"oOsdParams.displayMode"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oOSDCapa.bSupportOSDSize,expression:"oOSDCapa.bSupportOSDSize"}],attrs:{title:e.$t("OSDSize")}},[t("base-select",{attrs:{title:e.$t("OSDSize"),options:e.oOSDCapa.OSDSizes},model:{value:e.oOsdParams.OSDSize,callback:function(t){e.$set(e.oOsdParams,"OSDSize",t)},expression:"oOsdParams.OSDSize"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oOSDCapa.bSupportOSDColor,expression:"oOSDCapa.bSupportOSDColor"}],attrs:{title:e.$t("fontColor")}},[t("base-select",{attrs:{title:e.$t("fontColor"),options:e.oOSDCapa.OSDColorModes},model:{value:e.oOsdParams.OSDColorMode,callback:function(t){e.$set(e.oOsdParams,"OSDColorMode",t)},expression:"oOsdParams.OSDColorMode"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:"customize"===e.oOsdParams.OSDColorMode,expression:"oOsdParams.OSDColorMode === 'customize'"}]},[t("div",{staticClass:"color-picker"},[t("el-color-picker",{attrs:{predefine:e.predefineColors},model:{value:e.oOsdParams.OSDColor,callback:function(t){e.$set(e.oOsdParams,"OSDColor",t)},expression:"oOsdParams.OSDColor"}})],1)]),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oOSDCapa.oAlignment&&e.oOSDCapa.oAlignment.bSupport,expression:"oOSDCapa.oAlignment && oOSDCapa.oAlignment.bSupport"}],attrs:{title:e.$t("alignment")}},[t("base-select",{attrs:{title:e.$t("alignment"),options:e.oOSDCapa.oAlignment.aList},on:{change:function(t){return e.changeAliment()}},model:{value:e.oOsdParams.szAlignment,callback:function(t){e.$set(e.oOsdParams,"szAlignment",t)},expression:"oOsdParams.szAlignment"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:"GB"==e.oOsdParams.szAlignment,expression:"oOsdParams.szAlignment == 'GB'"}],attrs:{title:e.$t("minBoundary")}},[t("base-select",{attrs:{title:e.$t("minBoundary"),options:e.MinBoundary},model:{value:e.oOsdParams.boundary,callback:function(t){e.$set(e.oOsdParams,"boundary",t)},expression:"oOsdParams.boundary"}})],1)],1)]),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("textOverLay")}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.oOSDCapa.bSupportOSDTime,expression:"oOSDCapa.bSupportOSDTime"}]},[t("hm-cell",[t("hm-button",{staticClass:"label-test-osd",attrs:{disabled:e.oOsdParams.textOverlayList.length>=e.oOSDCapa.iTextOverlayMax},on:{click:e.addTextOverlayList}},[e._v(e._s(e.$t("add")))])],1),t("hm-swipe",[t("div",{staticClass:"table-list"},[t("transition-group",{attrs:{name:"swipe"}},e._l(e.oOsdParams.textOverlayList,(function(a,i){return t("div",{key:a},[t("hm-swipe-item",{ref:"swipeItem",refInFor:!0,staticClass:"item-swipe",attrs:{btns:e.btnsTips,index:i,"auto-shrink":e.bAutoShrink},on:{"btn-click":e.onSwipeBtnClick}},[t("hm-cell",{attrs:{title:i+1}},[t("hm-input",{on:{input:function(t){return e.changeOSDInfo()}},model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"textOverlay.value"}})],1)],1),t("hm-validator",{attrs:{model:a.value,rules:e.oInputValid.oTextOverlayValid,param:a.name}})],1)})),0)],1)])],1)])],1)],1)],1),e.bLandscapeMode?t("div",{staticClass:"full-screen-display"},[t("new-base-page-extend-rotate",{attrs:{title:e.$t("modifyOsdPosition"),"enable-cancel-callback":e.bEnableCancelCallback,"show-draw-polygon":!1,"show-clear-polygon":!1},on:{cancelcallback:e.cancelLandscapeMode,confirm:e.confirmLandscapeMode}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"plugin-small-ex"},[t("plugin-wind",{attrs:{mode:"textoverlay","o-channel":e.oChannel,hide:e.bPluginHide},on:{"play-success":e.playSuccess}})],1)])])],1):e._e(),t("base-view")],1)])},n=[],o=a("16b4"),r=o["a"],s=(a("2e65"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"8fdcbe24",null);t["default"]=l.exports},c6ec:function(e,t,a){},c78b:function(e,t,a){"use strict";(function(e){a("6b54"),a("a481"),a("28a5"),a("7514"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("7de8"),s=a("d09c"),l=a("8d94"),c=a("9741"),u=a("1f20"),d=a("f193"),p=function(){function t(){Object(n["a"])(this,t),this._oService={bHardware:!1,bSoftware:!1},this._oHardwareService={oXmlDoc:null,oIRLight:{bShow:!1,bEnabled:!1},oSupplyLight:{bShow:!1,bEnabled:!1},oABF:{bShow:!1,bEnabled:!1},oStatusLED:{bShow:!1,bEnabled:!1},oAutoDefog:{bShow:!1,bEnabled:!1},oHighTemperatureProtection:{bShow:!1,bEnabled:!1,bTemperatureType:!1,aTemperatureType:[],szTemperatureType:""},oEmmc:{bShow:!1,bSptEMMCProtection:!1,bSptConfLiftTime:!1,bSptConfLiftTimeTips:!1,bEnabledEMMCProtection:!1,iLifetimeStatus:0,iLifeTimePromptValue:95},oSnapLight:{bShow:!1,bEnabled:!1}},this._oSoftwareService={oLiveViewConnection:{bShow:!1,szValue:""},oThirdStream:{bShow:!1,szPrompt:"",bEnabled:!1},oMotionDetect:{bShow:!1,szPrompt:"",bEnabled:!1}},this.oPreviewLinkFilter={required:!0,range:[0,20],skipVerify:!0},this.oXhr=null,this._emmcLifeUsed=""}return Object(o["a"])(t,[{key:"init",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r["a"].waitAll([this.getHardwareServiceCap(),this.getSoftwareServiceCap(),this.getSoftwareServicePreviewLinkNumCap(),this.getHardwareService(),this.getSoftwareService(),this.getSoftwareServicePreviewLinkNum(),this.getEmmc()]));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getHardwareServiceCap",value:function(){var t=this,a={urlCGI:"hardwareCap",params:{},data:null,loading:!0};return d["a"].get(a).then((function(a){var i=a.oResult;if(e(i).find("HighTemperatureProtection").length>0){if(t._oHardwareService.oHighTemperatureProtection.bShow=!0,e(i).find("HighTemperatureProtection temperatureType").length>0){t._oHardwareService.oHighTemperatureProtection.bTemperatureType=!0;var n=r["a"].nodeAttr(i,"HighTemperatureProtection temperatureType","opt").split(",");t._oHardwareService.oHighTemperatureProtection.aTemperatureType=n}}else t._oHardwareService.oHighTemperatureProtection.bShow=!1}))}},{key:"getSoftwareServiceCap",value:function(){var t=this,a={urlCGI:"softwareServiceCapa",params:{channel:1},data:null,loading:!0};return d["a"].get(a).then((function(a){var i=a.oResult;t._oSoftwareService.oThirdStream.bShow=e(i).find("ThirdStream").length>0,t._oSoftwareService.oMotionDetect.bShow=e(i).find("MotionDetect").length>0,t._oSoftwareService.oThirdStream.bShow&&(t._oSoftwareService.oThirdStream.szPrompt=l["a"].t("thirdStreamPrompt"+r["a"].nodeAttr(i,"thirdStreamPrompt","opt").replace(/\D*/,""))),t._oSoftwareService.oMotionDetect.bShow&&(t._oSoftwareService.oMotionDetect.szPrompt=l["a"].t("motionDetectPrompt"+r["a"].nodeAttr(i,"MotionDetectrompt","opt").replace(/\D*/,"")))}),(function(){t._oSoftwareService.oThirdStream.bShow=!1,t._oSoftwareService.oMotionDetect.bShow=!1}))}},{key:"getSoftwareServicePreviewLinkNumCap",value:function(){var t=this,a=0===c["a"].iDeviceType,i=0===a?"previewLinkNumCapaEx":"previewLinkNumCapa",n=0===a?null:{channel:1},o={urlCGI:i,params:n,data:null,loading:!0};return d["a"].get(o).then((function(a){var i=a.oResult;t.oPreviewLinkFilter.range[0]=parseInt(e(i).find("maxLinkNum").attr("min"),10),t.oPreviewLinkFilter.range[1]=parseInt(e(i).find("maxLinkNum").attr("max"),10)}))}},{key:"getHardwareService",value:function(){var t=this,a={urlCGI:"service",params:{},data:null,loading:!0};return d["a"].get(a).then((function(a){var i=a.oResult;t._oHardwareService.oXmlDoc=i,t._oService.bHardware=!0;var n=e(i).find("IrLightSwitch");n.length>0&&0===n.eq(0).find("irLight").length&&0===n.eq(0).find("isSupportAdvanced").length?(t._oHardwareService.oIRLight.bShow=!0,t._oHardwareService.oIRLight.bEnabled="open"===e(i).find("mode").eq(0).text()):t._oHardwareService.oIRLight.bShow=!1,e(i).find("SupplementLight").length>0?(t._oHardwareService.oSupplyLight.bShow=!0,t._oHardwareService.oSupplyLight.bEnabled="true"===e(i).find("SupplementLight").eq(0).find("enabled").text()):t._oHardwareService.oSupplyLight.bShow=!1,e(i).find("ABF").length>0?(t._oHardwareService.oABF.bShow=!0,t._oHardwareService.oABF.bEnabled="true"===e(i).find("ABF").eq(0).find("enabled").eq(0).text()):t._oHardwareService.oABF.bShow=!1,e(i).find("LED").length>0?(t._oHardwareService.oStatusLED.bShow=!0,t._oHardwareService.oStatusLED.bEnabled="true"===e(i).find("LED").eq(0).find("enabled").eq(0).text()):t._oHardwareService.oStatusLED.bShow=!1,e(i).find("Defog").length>0?(t._oHardwareService.oAutoDefog.bShow=!0,t._oHardwareService.oAutoDefog.bEnabled="true"===e(i).find("Defog").eq(0).find("enabled").eq(0).text()):t._oHardwareService.oAutoDefog.bShow=!1,e(i).find("captureWithSupplimentLightEnabled").length>0?(t._oHardwareService.oSnapLight.bShow=!0,t._oHardwareService.oSnapLight.bEnabled=r["a"].nodeValue(i,"captureWithSupplimentLightEnabled","b")):t._oHardwareService.oSnapLight.bShow=!1;var o=!1;for(var s in t._oHardwareService)if("oXmlDoc"!==s&&t._oHardwareService[s].bShow){o=!0;break}o||(t._oService.bHardware=!1)}),(function(){t._oHardwareService.oXmlDoc=null,t._oService.bHardware=!1}))}},{key:"getSoftwareService",value:function(){var e=this,t={urlCGI:"softwareService",params:{channel:1},data:null,loading:!0};return d["a"].get(t).then((function(t){var a=t.oResult;e._oService.bSoftware=!0,e._oSoftwareService.oThirdStream.bEnabled=r["a"].nodeValue(a,"ThirdStream enabled","b"),e._oSoftwareService.oMotionDetect.bEnabled=r["a"].nodeValue(a,"MotionDetect enabled","b")}),(function(){e._oSoftwareService.oThirdStream.bEnabled=!1,e._oSoftwareService.oMotionDetect.bEnabled=!1}))}},{key:"getSoftwareServicePreviewLinkNum",value:function(){var t=this,a={urlCGI:"previewLinkNum",params:{},data:null,loading:!0};return d["a"].get(a).then((function(a){var i=a.oResult;t._oService.bSoftware=!0,t._oSoftwareService.oLiveViewConnection.bShow=!0,t._oSoftwareService.oLiveViewConnection.szValue=e(i).find("maxLinkNum").text(),t.oPreviewLinkFilter.skipVerify=!1}),(function(){t._oSoftwareService.oThirdStream.bShow||t._oSoftwareService.oMotionDetect.bShow?t._oService.bSoftware=!0:t._oService.bSoftware=!1,t._oSoftwareService.oLiveViewConnection.bShow=!1,t.oPreviewLinkFilter.skipVerify=!0}))}},{key:"getEmmc",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.getEmmcCap();case 3:if(!t._oHardwareService.oEmmc.bShow){e.next=13;break}if(e.t0=t._oHardwareService.oEmmc.bShow,!e.t0){e.next=8;break}return e.next=8,t.getEmmcInfo();case 8:if(e.t1=t._oHardwareService.oEmmc.bShow,!e.t1){e.next=12;break}return e.next=12,t.getEmmcStatus();case 12:t._oService.bHardware=!0;case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getEmmcCap",value:function(){var t=this;if(u["a"].m_oDeviceCapa.bSupportEmmc){var a={urlCGI:"emmcCap",params:{},data:null,loading:!0};return d["a"].get(a).then((function(a){var i=a.oResult,n={};n.bSptEMMCProtection=!!i.EmmcInfoCap.enabled,i.EmmcInfoCap.EmmcStatusCap&&(n.bSptConfLiftTime=!!i.EmmcInfoCap.EmmcStatusCap.lifetimeStatus),n.bSptConfLiftTimeTips=!1,i.EmmcInfoCap.lifeTimePromptValue&&(n.bSptConfLiftTimeTips=!0,t._tipEmmcLimited=l["a"].t("tipEmmcLimited").replace("%s",i.EmmcInfoCap.lifeTimePromptValue)),n.bSptEMMCProtection||n.bSptConfLiftTime||n.bSptConfLiftTimeTips?n.bShow=!0:n.bShow=!1,e.extend(t._oHardwareService.oEmmc,n)}))}}},{key:"getEmmcInfo",value:function(){var e=this,t={urlCGI:"emmcInfo",params:{},data:null,loading:!0};return d["a"].get(t).then((function(t){var a=t.oResult;a.EmmcInfo.enabled&&(e._oHardwareService.oEmmc.bEnabledEMMCProtection=a.EmmcInfo.enabled)}))}},{key:"getEmmcStatus",value:function(){var e=this,t={urlCGI:"emmcStatus",params:{},data:null,loading:!0};return d["a"].get(t).then((function(t){var a=t.oResult;a.EmmcStatus&&(e._oHardwareService.oEmmc.iLifetimeStatus=a.EmmcStatus.lifetimeStatus,e._emmcLifeUsed=l["a"].t("emmcLifeUsed").replace("%s",a.EmmcStatus.lifetimeStatus))}))}},{key:"setHardwareService",value:function(){var t=this;if(t._oHardwareService.oEmmc.bShow&&t._oHardwareService.oEmmc.bSptEMMCProtection){var a=t.setEmmcInfo();if(null!==a)return void s["a"].saveState(a)}if(null!==t._oHardwareService.oXmlDoc)return e(t._oHardwareService.oXmlDoc).find("IrLightSwitch").length>0&&e(t._oHardwareService.oXmlDoc).find("IrLightSwitch").eq(0).find("mode").eq(0).text(t._oHardwareService.oIRLight.bEnabled?"open":"close"),e(t._oHardwareService.oXmlDoc).find("SupplementLight").length>0&&e(t._oHardwareService.oXmlDoc).find("SupplementLight").eq(0).find("enabled").eq(0).text(t._oHardwareService.oSupplyLight.bEnabled.toString()),e(t._oHardwareService.oXmlDoc).find("ABF").length>0&&e(t._oHardwareService.oXmlDoc).find("ABF").eq(0).find("enabled").eq(0).text(t._oHardwareService.oABF.bEnabled.toString()),e(t._oHardwareService.oXmlDoc).find("LED").length>0&&e(t._oHardwareService.oXmlDoc).find("LED").eq(0).find("enabled").eq(0).text(t._oHardwareService.oStatusLED.bEnabled.toString()),e(t._oHardwareService.oXmlDoc).find("Defog").length>0&&e(t._oHardwareService.oXmlDoc).find("Defog").eq(0).find("enabled").eq(0).text(t._oHardwareService.oAutoDefog.bEnabled.toString()),e(t._oHardwareService.oXmlDoc).find("captureWithSupplimentLightEnabled").length>0&&e(t._oHardwareService.oXmlDoc).find("captureWithSupplimentLightEnabled").eq(0).text(t._oHardwareService.oSnapLight.bEnabled.toString()),new Promise((function(e){var a={urlCGI:"service",params:{},data:t._oHardwareService.oXmlDoc,loading:!0};d["a"].put(a).then((function(a){t._oService.bSoftware,t.oXhr=a.xhr,e()}),(function(a){t.oXhr=a,e()}))}));t.setSoftwareService()}},{key:"setSoftwareService",value:function(){var e=this;if(e._oService.bSoftware&&e._oSoftwareService.oLiveViewConnection.bShow){var t="<?xml version='1.0' encoding='UTF-8'?><PreviewLinkNum><maxLinkNum>".concat(e._oSoftwareService.oLiveViewConnection.szValue,"</maxLinkNum></PreviewLinkNum>"),a=r["a"].parseXmlFromStr(t),i={urlCGI:"previewLinkNum",params:{},data:a,loading:!0};d["a"].put(i).then((function(e){s["a"].saveState(e.xhr)}))}if(e._oSoftwareService.oThirdStream.bShow||e._oSoftwareService.oMotionDetect.bShow){var n="<SoftwareService>";e._oSoftwareService.oThirdStream.bShow&&(n+="<ThirdStream><enabled>"+e._oSoftwareService.oThirdStream.bEnabled.toString()+"</enabled></ThirdStream>"),e._oSoftwareService.oMotionDetect.bShow&&(n+="<MotionDetect><enabled>"+e._oSoftwareService.oMotionDetect.bEnabled.toString()+"</enabled></MotionDetect>"),n+="</SoftwareService>";var o=r["a"].parseXmlFromStr(n),l={urlCGI:"softwareService",params:{channel:1},data:o,loading:!0};d["a"].put(l).then((function(e){s["a"].saveState(e.xhr)}))}}},{key:"setEmmcInfo",value:function(){var e=this,t=null,a={EmmcInfo:{enabled:e._oHardwareService.oEmmc.bEnabledEMMCProtection}},i={urlCGI:"emmcInfo",params:{},data:a,loading:!0};return d["a"].put(i).then((function(){}),(function(e){t=e})),t}},{key:"save",value:function(){var e=this;null!==e._oHardwareService.oXmlDoc?e.setHardwareService().then((function(){e._oService.bSoftware&&(e._oSoftwareService.oLiveViewConnection.bShow||e._oSoftwareService.oThirdStream.bShow||e._oSoftwareService.oMotionDetect.bShow)?e.setSoftwareService():s["a"].saveState(e.oXhr)}),(function(e){s["a"].saveState(e)})):e.setHardwareService()}}]),t}();t["a"]=new p}).call(this,a("1157"))},c7f5:function(e,t,a){"use strict";a.r(t);a("6b54");var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("ipAddrFilter"),"right-type":"text"}},[t("div",{staticClass:"securityIPFilter-page-wrapper",attrs:{slot:"content"},slot:"content"},[t("hm-scroll",[t("div",{staticClass:"hm-index-list-item"},[t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("enable")}},[t("hm-switch",{model:{value:e.oIPFilterInfo.bEnabled,callback:function(t){e.$set(e.oIPFilterInfo,"bEnabled",t)},expression:"oIPFilterInfo.bEnabled"}})],1),t("hm-cell",{attrs:{title:e.$t("FilterType")}},[t("base-select",{attrs:{title:e.$t("FilterType"),options:e.aType},model:{value:e.oIPFilterInfo.szType,callback:function(t){e.$set(e.oIPFilterInfo,"szType",t)},expression:"oIPFilterInfo.szType"}})],1)],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("ipAddr")}},[t("hm-cell",[t("div",{attrs:{slot:"title"},slot:"title"},[t("span",{staticClass:"blue-button",on:{click:e.addIp}},[e._v(e._s(e.$t("add")))])])]),t("hm-swipe",[t("transition-group",{attrs:{name:"swipe"}},e._l(e.oTableData,(function(a,i){return t("div",{key:a.id},[t("hm-swipe-item",{ref:"swipeItem",refInFor:!0,staticClass:"item-swipe",attrs:{btns:e.btnsTips,index:i,"auto-shrink":!0},on:{"btn-click":e.onSwipeBtnClick}},[t("hm-cell",{attrs:{title:(i+1).toString()}},[t("hm-input",{attrs:{placeholder:e.$t("ipFilterTip")},model:{value:a.ip,callback:function(t){e.$set(a,"ip",t)},expression:"item.ip"}})],1)],1)],1)})),0)],1)],1)],1)],1),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{on:{click:e.save}},[e._v(e._s(e.$t("save")))])],1)])],1)])},n=[],o=(a("6762"),a("ac6a"),a("254e")),r=a("c050"),s=a("47b5"),l={name:"SecurityIPFilter",components:{BaseSelect:s["a"]},data:function(){return{validate:{},oIPFilterInfo:o["a"]._oIPFilterInfo,oBtnDisabled:o["a"]._oBtnDisabled,oAddIP:o["a"].oAddIP,oTableData:[],oIPValid:o["a"].oIPValid,iMaxIPNum:o["a"]._iMaxIPNum,oTemp:{},aType:[{value:"allow",text:this.$t("allowed")},{value:"deny",text:this.$t("forbidden")}],bEnableCancelCallback:!0,bShowIp:!1,bAutoShrink:!0,btnsTips:[{action:"delete",text:this.$t("delete"),color:"#ff3a32"}],showDelete:!1,shrink:"",startX:"",startY:""}},created:function(){var e=this;o["a"].init().finally((function(){o["a"].tableData.forEach((function(t){e.oTableData.push(t)}))}))},methods:{deleteAll:function(){var e=this;r["a"].confirm(this.$t("confirmToDeleteAll"),(function(){e.oTableData=[]}),(function(){}))},onSwipeBtnClick:function(){this.removeIp()},addIp:function(){var e=[];this.oTableData.forEach((function(t){e.push(t.id)}));var t=0;while(e.length>0){if(!e.includes(t))break;t++}this.oTableData.unshift({ip:"",id:t})},removeIp:function(e){var t=this;r["a"].confirm(this.$t("confirmToDeleteIP"),(function(){t.oTableData.splice(e,1)}),(function(){}))},saveJudge:function(){var e=this,t=!0,a=[],i=/^(2[0-1][0-9]|22[0-3]|1[0-1][0-9]|12[0-6]|12[8-9]|1[3-9][0-9]|[1-9]{1}[0-9]{1}|[1-9])\.(25[0-5]|2[0-4][0-9]|[1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\.(25[0-5]|2[0-4][0-9]|[1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\.(25[0-4]|2[0-4][0-9]|[1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9])$/;return this.oTableData.length&&this.oTableData.forEach((function(n){if(n.ip){var o=i.test(n.ip);o||(r["a"].stateAlert(e.$t("ipAddrError")),t=!1),a.includes(n.ip)||a.push(n.ip)}else r["a"].stateAlert(e.$t("ipNull")),t=!1})),a.length!==this.oTableData.length&&t&&(r["a"].stateAlert(this.$t("ipExist")),t=!1),t},save:function(){var e=this.saveJudge();e&&o["a"].save(this.oTableData)}}},c=l,u=(a("f535"),a("2877")),d=Object(u["a"])(c,i,n,!1,null,null,null);t["default"]=d.exports},c824:function(e,t,a){"use strict";a("c3f5")},c98f:function(e,t,a){"use strict";(function(e){a("28a5"),a("7514"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("f193"),s=a("7de8"),l=function(){function t(){Object(n["a"])(this,t),this.oParamCap={},this.oSecurityCap={hadGet:!1,oSptIrreversibleEncrypt:!1,salt:"",bSptUserCheck:!1,bSptGuidExport:!1,bSptQACfg:!1,iMaxQANum:3,bSptOnlineUser:!1,bSupportDeviceSelfSignCertExport:!1,iSecurityVersion:1,iKeyIterateNum:0,oHttpsKeyLen:{}}}return Object(o["a"])(t,[{key:"getCapablities",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r["a"].initChannelInfo();case 2:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getSecurityCap",value:function(t){var a=this,n=!1,o=null;t&&(n=!0,o={username:t});var l={urlCGI:"securityCap",queryObject:n,processData:!0,params:{},data:o,loading:!0};return new Promise(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(i){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r["a"].get(l).then((function(t){var n=t.oResult;a.oSecurityCap.hadGet=!0,a.oSecurityCap.iKeyIterateNum=s["a"].nodeValue(n,"keyIterateNum","i"),a.oSecurityCap.oIrreversibleEncrypt={bSupport:"true"===e(n).find("isIrreversible").text(),salt:e(n).find("salt").text(),cloudSensitiveInfoEncryptType:e(n).find("cloudSensitiveInfoEncryptType").text()},a.oSecurityCap.iSecurityVersion=0,a.oSecurityCap.iSecurityVersion&&(a.oSecurityCap.bSptUserCheck=s["a"].nodeValue(n,"isSupportUserCheck","b")),a.oSecurityCap.bSptGuidExport=s["a"].nodeValue(n,"isSupportGUIDFileDataExport","b"),a.oSecurityCap.bSptQACfg=s["a"].nodeValue(n,"isSupportSecurityQuestionConfig","b"),a.oSecurityCap.bSupportSecurityEmailConfig=!1,a.oSecurityCap.bSptOnlineUser=s["a"].nodeValue(n,"isSupportOnlineUser","b")||s["a"].nodeValue(n,"isSupportGetOnlineUserListSC","b"),a.oSecurityCap.bSupportONVIFUser=s["a"].nodeValue(n,"isSupportONVIFUserManagement","b"),a.oSecurityCap.bSupportONVIFInfo=s["a"].nodeValue(n,"isSupportOnvifInfo","b"),a.oSecurityCap.oDeviceParamFileEncrypt={bSupportImport:s["a"].nodeValue(n,"isSupportConfigFileImport","b"),bSupportExport:s["a"].nodeValue(n,"isSupportConfigFileExport","b"),iMaxEncrypt:s["a"].nodeAttr(n,"cfgFileSecretKeyLenLimit","max","i"),iMinEncrypt:s["a"].nodeAttr(n,"cfgFileSecretKeyLenLimit","min","i")},a.oSecurityCap.oHttpsKeyLen={bSupport:e(n).find("RSAKeyLength").length>0,szDefault:s["a"].nodeAttr(n,"RSAKeyLength","def"),aOptions:e(n).find("RSAKeyLength").length>0?s["a"].nodeAttr(n,"RSAKeyLength","opt").split(","):[]},a.oSecurityCap.oWebCap={aOptions:e(n).find("WebCertificateCap").length>0?s["a"].nodeAttr(n,"WebCertificateCap CertificateType","opt").split(","):["basic","digest"],aWEBDigestAlgorithm:e(n).find("algorithmType").length?s["a"].nodeAttr(n,"algorithmType","opt").split(","):[],bWEBDigestAlgorithm:!!e(n).find("algorithmType").length},a.oSecurityCap.oSptIrreversibleEncrypt=s["a"].nodeValue(n,"isIrreversible","b"),a.oSecurityCap.salt=s["a"].nodeValue(n,"salt"),a.oSecurityCap.bSupportONVIFUser=s["a"].nodeValue(n,"isSupportONVIFUserManagement","b"),a.oSecurityCap.bSupportONVIFInfo=s["a"].nodeValue(n,"isSupportOnvifInfo","b"),a.oSecurityCap.bSupportIPCActivatePassword=s["a"].nodeValue(n,"supportIPCActivatePassword","b"),a.oSecurityCap.bSupportUnloginPermissionConfig=s["a"].nodeValue(n,"isSupportUnloggedUserPermissionConfig","b"),a.oSecurityCap.bSupportUserNamePasswordCheckUpgrade=s["a"].nodeValue(n,"isSupportUserNamePasswordCheckUpgrade","b"),a.oSecurityCap.bSupportImageURlCertificate=s["a"].nodeValue(n,"isSupportPictureURlCertificate","b"),a.oSecurityCap.bSupportDeviceCertificatesManagement=s["a"].nodeValue(n,"isSupportDeviceCertificatesManagement","b"),a.oSecurityCap.bSupportDeviceSelfSignCertExport=s["a"].nodeValue(n,"isSupportDeviceSelfSignCertExport","b"),a.oSecurityCap.bSupportDoubleVerification=s["a"].nodeValue(n,"DoubleVerificationCap isSupportUsersConfig","b"),a.oSecurityCap.bSupportDoubVerPerCfg=s["a"].nodeValue(n,"DoubleVerificationCap isSupportUsersPermissionConfig","b"),a.oSecurityCap.oSecurityAdvanced={oSecurityEnhanced:{bSupport:s["a"].nodeValue(n,"SecurityAdvanced securityEnhanced","b")},oTimeOutExit:{bSupport:s["a"].nodeValue(n,"SecurityAdvanced noOperationEnabled","b")||e(n).find("SecurityAdvanced noOperationTime").length,oEnable:{bSupport:s["a"].nodeValue(n,"SecurityAdvanced noOperationEnabled","b")},oTimeOut:{bSupport:!!e(n).find("SecurityAdvanced noOperationTime").length,iMax:s["a"].nodeAttr(n,"SecurityAdvanced noOperationTime","max","i"),iMin:s["a"].nodeAttr(n,"SecurityAdvanced noOperationTime","min","i")}},oDigestStatus:{bSupport:s["a"].nodeValue(n,"isSupportDigestStatus","b")}},a.oSecurityCap.bLoginLock=s["a"].nodeValue(n,"issupIllegalLoginLock","b"),a.oSecurityCap.oWrongNumber={bSupport:!!e(n).find("maxIllegalLoginTimes").length,iMax:s["a"].nodeAttr(n,"maxIllegalLoginTimes","max","i"),iMin:s["a"].nodeAttr(n,"maxIllegalLoginTimes","min","i")},a.oSecurityCap.oLockTime={bSupport:!!e(n).find("maxIllegalLoginLockTime").length,iMax:s["a"].nodeAttr(n,"maxIllegalLoginLockTime","max","i"),iMin:s["a"].nodeAttr(n,"maxIllegalLoginLockTime","min","i")},a.oSecurityCap.bSupportCertificate=s["a"].nodeValue(n,"isSupportCertificateCustomID","b"),i()}),(function(){a.oSecurityCap.hadGet=!0,a.oSecurityCap.iSecurityVersion=0,i()}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}]),t}();t["a"]=new l}).call(this,a("1157"))},cb79:function(e,t,a){"use strict";a("a776")},cc03:function(e,t,a){"use strict";(function(e){a("96cf");var i=a("1da1"),n=a("1c1a"),o=a("9741"),r=a("2b88"),s=a("6458"),l=a("666d"),c=a("962a"),u=a("23d7"),d=a("de4d"),p=a("1f20"),m=a("47b5");t["a"]={name:"Display",components:{BaseView:n["a"],BasePageExtend:c["a"],TimePlan:u["a"],ChannelList:s["a"],PluginWind:r["a"],BaseSelect:m["a"]},data:function(){return{scrollY:0,scrollEvents:["scroll"],bAutoShrink:!0,b1:0,bImgRestore:!1,linkPresetShow:!1,oScheduleShow:!1,bPluginHide:!1,bSupportPTZ:!1,oCapbilities:{},iDeviceType:o["a"].iDeviceType,displayParamSwitch:"noSwitch",oChannel:{},oSceneCap:{},oCapa:{},oParams:{},oNoSupportList:{},oShow:{},oImgLan:{szExposureType:"",szShutter:"",szBLCName:""},oParamsSwitch:{},aTimes:[],aTimesTemp:[],displayParamSwitchOptions:[],aPreset:[],bRecordSchedule:!1,bEnableCancelCallback:!0,oDayNightModesMap:[{value:"auto",text:this.$t("autoSwitch")},{value:"schedule",text:this.$t("scheduledSwitch")}],oDayNightCommonMap:[{value:"common",text:this.$t("common")},{value:"day",text:this.$t("day")},{value:"night",text:this.$t("night")}],oScheduleTypeList:[{value:"day",text:this.$t("day")},{value:"night",text:this.$t("night")}],aDisplayScene:[{value:"standard",text:this.$t("standard")},{value:"indoor",text:this.$t("indoor")},{value:"outdoor",text:this.$t("outdoor")},{value:"dimLight",text:this.$t("dimLight")}],aEnable:[{value:"true",text:this.$t("on")},{value:"false",text:this.$t("off")}],aGrayScale:[{value:"outdoor",text:"[0-255]"},{value:"indoor",text:"[16-235]"}],aPIrisMode:[{value:"MANUAL",text:this.$t("manual")},{value:"AUTO",text:this.$t("automatic")}]}},watch:{"oChannel.id":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,a){var i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t>-1)){e.next=6;break}return d["a"].oDisplayInfo.iChannelId=t,e.next=4,p["a"].getImageCap(t);case 4:this.bImgRestore=p["a"].m_oDeviceCapa.bSupportImgRestore,this.inintInfo();case 6:if(!(t>0&&t!==a)){e.next=10;break}return l["a"].oChannel.id=t,e.next=10,l["a"].init(t).finally((function(){i.oParamsSwitch=l["a"].m_oParams,i.oCapbilities=l["a"].m_oCapbilities,!0===i.oParamsSwitch.oPreset.bEnabled?i.displayParamSwitch="preset":!0===i.oParamsSwitch.oSchedule.bEnabled?i.displayParamSwitch="schedule":!0===i.oParamsSwitch.oMonth.bEnabled&&(i.displayParamSwitch="month"),i.aTimes=i.oParamsSwitch.oMonth.aTimes,i.aPreset=i.oParamsSwitch.oPreset.aPresets.map((function(e){return{text:e.id,value:e.id}})),i.displayParamSwitchOptions.length=0,i.displayParamSwitchOptions.push({text:i.$t("noSwitch"),value:"noSwitch"}),i.oCapbilities.oPreset&&i.oCapbilities.oPreset.bSupport&&i.displayParamSwitchOptions.push({text:i.$t("linkPreset"),value:"preset"}),i.oCapbilities.oSchedule&&i.oCapbilities.oSchedule.bSupport&&i.displayParamSwitchOptions.push({text:i.$t("scheduledSwitch"),value:"schedule"}),i.oCapbilities.oMonth&&i.oCapbilities.oMonth.bSupport&&i.displayParamSwitchOptions.push({text:i.$t("scheduledSwitch"),value:"month"})}));case 10:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),immediate:!0,deep:!0},"oParams.oISP.szISPMode":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a||!this.oParams.oISP.bSupport||t===a){e.next=5;break}return this.oParams.oISP.szScheduleType="schedule"!==t?"":"day",e.next=4,d["a"].setISPMode();case 4:this.switchDayOrNight();case 5:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),deep:!0},"oParams.szExposureType":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a&&d["a"].mutex();case 1:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),deep:!0},"oParams.szVideoStandard":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t&&(this.oParams.szVideoFormat="50hz"===t?"PAL":"NTSC");case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0}},created:function(){this.oChannel={id:1}},methods:{scrollHandler:function(e){var t=e.y;this.scrollY=-t},changePreset:function(){l["a"].changePreset()},clickDisplayParamSwitch:function(e){this.linkPresetShow="preset"===e,this.oScheduleShow="schedule"===e},changeDisplayParamSwitch:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.oParamsSwitch.oPreset.bEnabled="preset"===t,this.oParamsSwitch.oSchedule.bEnabled="schedule"===t,this.oParamsSwitch.oMonth.bEnabled="month"===t,this.oParamsSwitch.oPreset&&this.oParamsSwitch.oPreset.bEnabled&&this.oParamsSwitch.oSchedule.bEnabled&&("preset"===t?this.oParamsSwitch.oSchedule.bEnabled=!1:this.oParamsSwitch.oPreset.bEnabled=!1),this.oCapbilities.oDisabled&&!this.oCapbilities.oDisabled.bSupport&&(this.oParamsSwitch.oPreset.bEnabled||this.oParamsSwitch.oSchedule.bEnabled||("preset"===t?this.oParamsSwitch.oPreset.bEnabled=!0:this.oParamsSwitch.oSchedule.bEnabled=!0)),e.next=7,l["a"].save(this.oChannel.id);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),showScheduleTimePicker:function(e){var t=this,a=this,i=this.oCapbilities.aScenes.map((function(e){return{text:t.$t(e),value:e}})),n=[];i.length&&n.push({title:this.$t("scheduleType"),data:[i],selectedIndex:[0]}),n.push({is:"hm-date-time-picker",title:this.$t("startTime"),min:[0,0,0],max:[23,59,59],value:new Date,startColumn:"hour",columnCount:3,format:{hour:"hh",minute:"mm",second:"ss"}},{is:"hm-date-time-picker",title:this.$t("endTime"),min:[0,0,0],max:[23,59,59],value:new Date,startColumn:"hour",columnCount:3,format:{hour:"hh",minute:"mm",second:"ss"}}),this.scheduleTimePicker=this.$createSegmentPicker({data:n,onSelect:function(i){var n="",o="",r="indoor",s="",l="",c="";s=parseInt(i[1].getHours(),10)<10?"0"+i[1].getHours():i[1].getHours(),l=parseInt(i[1].getMinutes(),10)<10?"0"+i[1].getMinutes():i[1].getMinutes(),c=parseInt(i[1].getSeconds(),10)<10?"0"+i[1].getSeconds():i[1].getSeconds(),n=s+":"+l+":"+c,s=parseInt(i[2].getHours(),10)<10?"0"+i[2].getHours():i[2].getHours(),l=parseInt(i[2].getMinutes(),10)<10?"0"+i[2].getMinutes():i[2].getMinutes(),c=parseInt(i[2].getSeconds(),10)<10?"0"+i[2].getSeconds():i[2].getSeconds(),o=s+":"+l+":"+c,r=i[0][0],t.$set(a.oParamsSwitch.oSchedule.aTimes[e],"szBeginTime",n),t.$set(a.oParamsSwitch.oSchedule.aTimes[e],"szEndTime",o),t.$set(a.oParamsSwitch.oSchedule.aTimes[e],"szScene",r)},onNext:function(e){0!==e&&1!==e||t.scheduleTimePicker.$updateProps({data:n})}}),this.scheduleTimePicker.show()},showTimePicker:function(e){var t=this,a=this,i=this.oCapbilities.aScenes.map((function(e){return{text:t.$t(e),value:e}})),n=[];i.length&&n.push({title:this.$t("scheduleType"),data:[i],selectedIndex:[0]}),n.push({is:"hm-date-time-picker",title:this.$t("startTime"),min:[0,0,0],max:[23,59,59],value:new Date,startColumn:"hour",columnCount:3,format:{hour:"hh",minute:"mm",second:"ss"}},{is:"hm-date-time-picker",title:this.$t("endTime"),min:[0,0,0],max:[23,59,59],value:new Date,startColumn:"hour",columnCount:3,format:{hour:"hh",minute:"mm",second:"ss"}}),this.timePicker=this.$createSegmentPicker({data:n,onSelect:function(i){var n="",o="",r="indoor",s="",l="",c="";s=parseInt(i[1].getHours(),10)<10?"0"+i[1].getHours():i[1].getHours(),l=parseInt(i[1].getMinutes(),10)<10?"0"+i[1].getMinutes():i[1].getMinutes(),c=parseInt(i[1].getSeconds(),10)<10?"0"+i[1].getSeconds():i[1].getSeconds(),n=s+":"+l+":"+c,s=parseInt(i[2].getHours(),10)<10?"0"+i[2].getHours():i[2].getHours(),l=parseInt(i[2].getMinutes(),10)<10?"0"+i[2].getMinutes():i[2].getMinutes(),c=parseInt(i[2].getSeconds(),10)<10?"0"+i[2].getSeconds():i[2].getSeconds(),o=s+":"+l+":"+c,r=i[0][0],t.$set(a.oParamsSwitch.oPreset.oPresetInfo.aTimes[e],"szBeginTime",n),t.$set(a.oParamsSwitch.oPreset.oPresetInfo.aTimes[e],"szEndTime",o),t.$set(a.oParamsSwitch.oPreset.oPresetInfo.aTimes[e],"szScene",r)},onNext:function(e){0!==e&&1!==e||t.timePicker.$updateProps({data:n})}}),this.timePicker.show()},showSchedule:function(){this.aTimesTemp=e.extend(!0,[],this.aTimes),this.bRecordSchedule=!0},cancelcallback:function(){this.bRecordSchedule=!1,this.aTimes=e.extend(!0,[],this.aTimesTemp)},confirm:function(){this.bRecordSchedule=!1,this.aTimes=this.$refs.timePlan.timesData,l["a"].save(this.oChannel.id)},deleteAll:function(){this.aTimesTemp=e.extend(!0,[],this.aTimes);for(var t=0,a=this.aTimes.length;t<a;t++)this.aTimes[t]=[];this.$refs.timePlan.timesData=this.aTimes,this.$refs.timePlan.$forceUpdate()},saveSwitch:function(e){l["a"].save(e),this.linkPresetShow=!1,this.linkPresetShow=!1},cancelCallbackArmSchedule:function(){this.oScheduleShow=!1},cancelCallbackLink:function(){this.linkPresetShow=!1},confirmLink:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["a"].save(this.oChannel.id);case 2:this.linkPresetShow=!1;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),confirmArmSchedule:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["a"].save(this.oChannel.id);case 2:this.oScheduleShow=!1;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),restoreDefault:function(){d["a"].restoreDefault()},setColor:function(){d["a"].setColor()},setSharpness:function(){d["a"].setSharpness()},setFFC:function(){d["a"].setFFC()},setExposure:function(){d["a"].setExposure()},setIris:function(){d["a"].setIris()},setShutter:function(){d["a"].setShutter()},setGain:function(){d["a"].setGain()},setDSS:function(){d["a"].setDSS()},setExpComp:function(){d["a"].setExpComp()},setFocus:function(){d["a"].setFocus()},setIRLight:function(){d["a"].setIRLight()},setSupply:function(){d["a"].setSupply()},setWhiteBalance:function(){d["a"].setWhiteBalance()},setNoiseReduce:function(){d["a"].setNoiseReduce()},setDehaze:function(){d["a"].setDehaze()},setEIS:function(){d["a"].setEIS()},setOIS:function(){d["a"].setOIS()},setChromaSuppress:function(){d["a"].setChromaSuppress()},setGammaCorrect:function(){d["a"].setGammaCorrect()},setIllEnhance:function(){d["a"].setIllEnhance()},changeOSDInfo:function(){d["a"].changeOSDInfo()},setPalettes:function(){d["a"].setPalettes()},setDDE:function(){d["a"].setDDE()},setBrightnessSudden:function(){d["a"].setBrightnessSudden()},setLaser:function(){d["a"].setLaser()},setImageFlip:function(){d["a"].setImageFlip()},setCorridor:function(){d["a"].setCorridor()},setScene:function(){d["a"].setScene()},setVideoStandard:function(){d["a"].setVideoStandard()},setCaptureMode:function(){d["a"].setCaptureMode()},setLensDistorCorrect:function(){d["a"].setLensDistorCorrect()},setEPTZ:function(){d["a"].setEPTZ()},setDistorCorrect:function(){d["a"].setDistorCorrect()},setLensInit:function(){d["a"].setLensInit()},setZoomLimit:function(){d["a"].setZoomLimit()},setLocalOutput:function(){d["a"].setLocalOutput()},changeScene:function(){d["a"].changeScene()},setImageEnhancement:function(){d["a"].setImageEnhancement()},switchDayOrNight:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d["a"].getDisplayCap();case 2:return e.next=4,d["a"].getDisplayInfo();case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),inintInfo:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d["a"].getAllImgInfo();case 2:return e.next=4,p["a"].getImageCap(this.oChannel.id);case 4:return e.next=6,p["a"].getPTZCtrlCap();case 6:if(this.bSupportPTZ=p["a"].m_oDeviceCapa.bPTZ||p["a"].m_oDeviceCapa.bIPZoom,this.bSupportPTZWithPreview=p["a"].m_oDeviceCapa.bSupportPTZWithPreview,this.oSceneCap=d["a"].oSceneCap,this.oCapa=d["a"].oDisplayCap,this.oParams=d["a"].oDisplayInfo,this.oNoSupportList=d["a"].oNoSupportList,this.oShow=d["a"].oShow,this.oImgLan.szExposureType="irisMode",this.oImgLan.szShutter="exposureTime",this.bSupportPTZ?(this.oImgLan.szExposureType="exposureType",this.oImgLan.szShutter="shutter",this.oImgLan.szBLCName="BLC"):this.oImgLan.szBLCName="BLCArea",this.bSupportDisplayParamSwitch=d["a"].bSupportDisplayParamSwitch,!this.bSupportDisplayParamSwitch){e.next=20;break}return e.next=20,d["a"].get();case 20:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),setBLC:function(){d["a"].setBLC()},setWDR:function(){d["a"].setWDR()},save:function(){d["a"].saveInfo()},changeMountScene:function(){"noSwitch"!==this.displayParamSwitch?(this.oParams.szMountScene=this.oParams.szMountSceneCopy,this.$createDialog({type:"alert",title:"",content:this.$t("disPlaySwitchTip")}).show()):d["a"].setMountScene().then((function(){}),(function(){}))},changeSchedule:function(e){var t=this;this.changeScheduleTimePicker||(this.changeScheduleTimePicker=this.$createDateTimePicker({min:[0,0,0],max:[23,59,59],value:new Date,startColumn:"hour",columnCount:3,format:{hour:"hh "+this.$t("hours"),minute:"mm "+this.$t("minutes"),second:"ss "+this.$t("seconds")},onSelect:function(a){var i=parseInt(a.getHours(),10)<10?"0"+a.getHours():a.getHours(),n=parseInt(a.getMinutes(),10)<10?"0"+a.getMinutes():a.getMinutes(),o=parseInt(a.getSeconds(),10)<10?"0"+a.getSeconds():a.getSeconds(),r=i+":"+n+":"+o;e?t.oParams.oISP.szBeginTime=r:t.oParams.oISP.szEndTime=r,d["a"].setISPMode(),t.changeScheduleTimePicker.remove(),t.changeScheduleTimePicker=null},onCancel:function(){t.changeScheduleTimePicker.remove(),t.changeScheduleTimePicker=null}})),this.changeScheduleTimePicker.show()},setSupplyTimePicker:function(e){var t=this;this.changeSupplyTimePicker||(this.changeSupplyTimePicker=this.$createDateTimePicker({min:[0,0,0],max:[23,59,59],value:new Date,startColumn:"hour",columnCount:3,format:{hour:"hh "+this.$t("hours"),minute:"mm "+this.$t("minutes"),second:"ss "+this.$t("seconds")},onSelect:function(a){var i=parseInt(a.getHours(),10)<10?"0"+a.getHours():a.getHours(),n=parseInt(a.getMinutes(),10)<10?"0"+a.getMinutes():a.getMinutes(),o=parseInt(a.getSeconds(),10)<10?"0"+a.getSeconds():a.getSeconds(),r=i+":"+n+":"+o;e?t.oParams.szSupplyStartTime=r:t.oParams.szSupplyEndTime=r,d["a"].setSupply(),t.changeSupplyTimePicker.remove(),t.changeSupplyTimePicker=null},onCancel:function(){t.changeSupplyTimePicker.remove(),t.changeSupplyTimePicker=null}})),this.changeScheduleTimePicker.show()},setIrcutFilterTimePicker:function(e){var t=this;this.changeIrcutTimePicker||(this.changeIrcutTimePicker=this.$createDateTimePicker({min:[0,0,0],max:[23,59,59],value:new Date,startColumn:"hour",columnCount:3,format:{hour:"hh "+this.$t("hours"),minute:"mm "+this.$t("minutes"),second:"ss "+this.$t("seconds")},onSelect:function(a){var i=parseInt(a.getHours(),10)<10?"0"+a.getHours():a.getHours(),n=parseInt(a.getMinutes(),10)<10?"0"+a.getMinutes():a.getMinutes(),o=parseInt(a.getSeconds(),10)<10?"0"+a.getSeconds():a.getSeconds(),r=i+":"+n+":"+o;e?t.oParams.szIrcutFilterStartTime=r:t.oParams.szIrcutFilterEndTime=r,d["a"].setIrcutFilter(),t.changeIrcutTimePicker.remove(),t.changeIrcutTimePicker=null},onCancel:function(){t.changeIrcutTimePicker.remove(),t.changeIrcutTimePicker=null}})),this.changeIrcutTimePicker.show()},setIrcutFilter:function(){d["a"].setIrcutFilter()},changeScheduleType:function(){this.switchDayOrNight()},changeBLCName:function(){d["a"].setBLC()},changeWDRMode:function(){d["a"].setWDR()},changeHLC:function(){d["a"].setHLC()},playSuccess:function(){this.$nextTick(Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))))}}}}).call(this,a("1157"))},cc03b:function(e,t,a){"use strict";(function(e){var i=a("53ca"),n=(a("5df3"),a("4f7f"),a("2909")),o=(a("ac6a"),a("4917"),a("a481"),a("28a5"),a("7514"),a("96cf"),a("1da1")),r=a("d4ec"),s=a("bee2"),l=a("8d94"),c=a("d09c"),u=a("f193"),d=a("7de8"),p=a("768a"),m=a("08d4"),h=a("1f20"),f=a("9741"),v=function(){function t(){Object(r["a"])(this,t),this.oChannel={id:0},this.oVideoParams={bLazyLoading:!1,cabac:"true",videoType:"0",resolution:"1920*1080P",resolutionInit:"0",bitrateType:"vbr",videoQuality:"90",frameRate:"",maxBitrateTemp:"1024",maxBitrate:"1024",videoEncoding:"H.264",profile:"Main",iFrameInterval:"100",svc:"true",smoothing:"50",szWD1:"false",smartCode:"false",smartCodeLast:"false",inputResolution:"",compressionType:"",iAverageBitrate:0,streamType:"01",bEnableRegCrop:!1,bEnableLowBitrate:!1},this.oVideoCapa={resolutions:[],frameRates:[],videoQualitys:[],videoEncodings:[],profiles:[],maxBitrates:[],minIntervalFrameI:1,maxIntervalFrameI:400,minRate:0,minVbrRate:0,maxRate:16384,maxVbrRate:0,bSupportSVC:!1,bSupportVideoAudio:!0,bSupportProfile:!1,bSupportIFrame:!1,bSupportSmoothing:!1,bSupportTransCode:h["a"].m_oDeviceCapa.bSupportTransCode,bSupportCABAC:!1,bSupportBitrateType:!0,bSupportThirdStream:!1,bSupportEvent:!0,bSupportSetvideoType:!0,bSupportEnableWD1:!1,aSupportStream:[],bSupportInputResolution:!1,bSupportBitrateSelect:!1,bChannelSupport:!0,bDisabledSmartCode:!1,bSupportAudio:!1,compressionTypes:[],szPromptType:"",bChannelSupport28181:!0,bSupportSmartCodeWithoutReStart:!1},this.oShowCapa={bSmartCode264:!1,bSmartCode265:!1,bMaxBitrate:!1,bAverageVideoBitrate:!1},this.oDisabledCapa={bFrameInterval:!1,bSVC:!1,bProfile:!1,bMaxBitrate:!1,bBitrateType:!1,bVideoQuality:!1},this.oEncodingCapa={},this.oSpeedUpParams={bOriSmartSpeedUp:!1,bSmartSpeedUp:!1,bSupportSpeedUp:!1,bReboot:!1},this.m_oParamsValid={oBitrateValid:{range:{value:{min:this.oVideoCapa.minRate,max:this.oVideoCapa.maxRate}}},oIFrameValid:{range:{value:{min:this.oVideoCapa.minIntervalFrameI,max:this.oVideoCapa.maxIntervalFrameI}}},oAverageBitrateValid:{range:{value:{min:32,max:this.oVideoCapa.maxRate}}}},this.m_oNParamsValid={oBitrateValid:[this.oVideoCapa.minRate,this.oVideoCapa.maxRate],oIFrameValid:[this.oVideoCapa.minIntervalFrameI,this.oVideoCapa.maxIntervalFrameI],oAverageBitrateValid:[32,this.oVideoCapa.maxRate]},this.m_oXmlDoc=null,this.oWd1Xml=null,this.aCopy=[]}return Object(s["a"])(t,[{key:"getInfo",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,h["a"].getDeviceCapa();case 2:return this.oVideoCapa.bSupportTransCode=h["a"].m_oDeviceCapa.bSupportTransCode,e.next=5,this.getVideoCapa();case 5:return e.next=7,this.getVideoDynamicCapa();case 7:return e.next=9,this.getVideoInfo();case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getEventCapa",value:function(e){var t=this,a=new Promise(function(){var a=Object(o["a"])(regeneratorRuntime.mark((function a(i){var n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={urlCGI:"eventVideoCapa",params:{channel:e},data:null,loading:!0},a.next=3,u["a"].get(n).then((function(){t.oVideoCapa.bSupportEvent=!0}),(function(){t.oVideoCapa.bSupportEvent=!1}));case 3:if(!(e>p["a"].m_iAnalogChNum)){a.next=13;break}if("01"!==t.oVideoParams.streamType){a.next=13;break}o=0;case 6:if(!(o<p["a"].m_aDigitalChId.length)){a.next=13;break}if(e!==p["a"].m_aDigitalChId[o]){a.next=10;break}return"GB28181"===p["a"].m_aDigitalProtocol[o]?t.oVideoCapa.bChannelSupport28181=!1:t.oVideoCapa.bChannelSupport28181=!0,a.abrupt("break",13);case 10:o++,a.next=6;break;case 13:i();case 14:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}());return a}},{key:"getStreamChannels",value:function(){var t=this,a=new Promise(function(){var a=Object(o["a"])(regeneratorRuntime.mark((function a(i){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={urlCGI:"StreamChannels",params:null,data:null,loading:!0},a.next=3,u["a"].get(n).then((function(a){var n=a.oResult,o=t.oVideoCapa.aSupportStream;o.length=0;var r=["01","02","03","04","05","06","07","08","09"],s=[];e(n).find("StreamingChannel").each((function(){d["a"].nodeValue(this,"customStreamEnable","b")||s.push(d["a"].nodeValue(this,"id"))})),e.each(r,(function(a){o[a]=-1!==e.inArray(t.oChannel.id+r[a],s)})),t.oVideoCapa.bSupportThirdStream=!0===o[2];var l=parseInt(t.oVideoParams.streamType,10);t.oVideoCapa.aSupportStream[l-1]||(t.oVideoParams.streamType="01"),i()}),(function(){var e=t.oVideoCapa.aSupportStream;e.length=0,e[0]=!0,e[1]=!0,t.oVideoCapa.bSupportThirdStream=!1;var a=parseInt(t.oVideoParams.streamType,10);t.oVideoCapa.aSupportStream[a-1]||(t.oVideoParams.streamType="01"),i()}));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}());return a}},{key:"getAverageVideoBitrateDef",value:function(){var e=0,t="<?xml version='1.0' encoding='UTF-8'?>";t+="<StreamingDescriptor>",t+="<VbrAverageCapDynamicLinkTo>",t+="<streamType>"+this.oVideoParams.streamType+"</streamType>",t+="<codeType>"+("H.264"===this.oVideoParams.videoEncoding?"smart264":"smart265")+"</codeType>",t+="<videoQualityControlType>"+this.oVideoParams.bitrateType+"</videoQualityControlType>",t+="<vbrUpperCap>"+this.oVideoParams.maxBitrate+"</vbrUpperCap>",t+="</VbrAverageCapDynamicLinkTo>",t+="</StreamingDescriptor>";var a=this,i=new Promise(function(){var i=Object(o["a"])(regeneratorRuntime.mark((function i(n){var o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return o={urlCGI:"dynamicCapWithCondition",params:{channel:a.oChannel.id,videoStream:a.oVideoParams.streamType},data:t,loading:!0},i.next=3,u["a"].post(o).then((function(t){var i=t.oResult;e=d["a"].nodeValue(i,"vbrAverageCap","i"),a.oVideoParams.iAverageBitrate=e,n()}),(function(){n()}));case 3:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}());return i}},{key:"getVideoCapa",value:function(){var t=this,a=this;this.oVideoCapa.bDisabledSmartCode=!1,this.oVideoParams.smartCode="false",this.oVideoParams.smartCodeLast="false";var i="videoCapa";"03"===this.oVideoParams.streamType&&0===f["a"].iDeviceType&&(i="eventVideoCapa",this.oVideoCapa.bDisabledSmartCode=!0);var n=new Promise(function(){var n=Object(o["a"])(regeneratorRuntime.mark((function n(o){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r={urlCGI:i,params:{channel:t.oChannel.id,videoStream:t.oVideoParams.streamType},data:null,loading:!0},n.next=3,u["a"].get(r).then((function(t){var i=t.oResult;a.oVideoCapa.bChannelSupport=!0;var n="";n=e(i).find("videoScanType").length>0?e(i).find("videoScanType").eq(0).attr("opt").split(","):"";var o=!1,r="";e(i).find("videoResolutionName").length>0&&(o=!0,r=e(i).find("videoResolutionName").eq(0).attr("opt").split(",")),a.oVideoCapa.resolutions.length=0;for(var s=e(i).find("videoResolutionWidth").eq(0).attr("opt").split(","),c=e(i).find("videoResolutionHeight").eq(0).attr("opt").split(","),u=0;u<s.length;u++)if("1920"===s[u]&&"1080"===c[u]||"1280"===s[u]&&"720"===c[u])if(""!==n)for(var p=0;p<n.length;p++)"progressive"===n[p]?a.oVideoCapa.resolutions.push({text:s[u]+"*"+c[u]+"P",value:s[u]+"*"+c[u]+"P"}):"interlaced"===n[p]&&a.oVideoCapa.resolutions.push({text:s[u]+"*"+c[u]+"I",value:s[u]+"*"+c[u]+"I"});else a.oVideoCapa.resolutions.push({text:s[u]+"*"+c[u],value:s[u]+"*"+c[u]});else"0"===s[u]&&"0"===c[u]?a.oVideoCapa.resolutions.push({text:l["a"].t("auto"),value:l["a"].t("auto")}):o&&"none"!==r[u]?a.oVideoCapa.resolutions.push({text:r[u],value:s[u]+"*"+c[u]}):a.oVideoCapa.resolutions.push({text:s[u]+"*"+c[u],value:s[u]+"*"+c[u]});a.oVideoCapa.frameRates.length=0;for(var m=e(i).find("maxFrameRate").eq(0).attr("opt").split(","),h=0,v=0;v<m.length;v++)h=parseInt(m[v],10),h>=100?h/=100:h=h>0?"1/"+Math.floor(100/h):l["a"].t("fullFrameRate"),a.oVideoCapa.frameRates.push({text:h,value:m[v]});var b="";if(e(i).find("fixedQuality").eq(0).attr("opt")&&(b=e(i).find("fixedQuality").eq(0).attr("opt").split(",")),b.length>0){a.oVideoCapa.videoQualitys.length=0;var g=["lowest","lower","low","medium","higher","highest"];e.each(b,(function(e,t){a.oVideoCapa.videoQualitys.push({text:l["a"].t(g[e]),value:t})}))}if(a.oVideoCapa.bSupportBitrateType=!1,e(i).find("videoQualityControlType").length>0&&e(i).find("videoQualityControlType").eq(0).attr("opt").split(",").length>1&&(a.oVideoCapa.bSupportBitrateType=!0),a.oVideoCapa.maxBitrates.length=0,void 0!==e(i).find("constantBitRate").eq(0).attr("opt")){a.oVideoCapa.bSupportBitrateSelect=!0;var P=e(i).find("constantBitRate").eq(0).attr("opt").split(",");if(P.length>0){for(var S=0;S<P.length;S++)a.oVideoCapa.maxBitrates.push({value:P[S],text:P[S]});a.oVideoCapa.minRate=parseInt(P[0],10),a.oVideoCapa.maxRate=parseInt(P[P.length-1],10)}}else a.oVideoCapa.bSupportBitrateSelect=!1,a.oVideoCapa.minRate=parseInt(e(i).find("constantBitRate").eq(0).attr("min"),10),a.oVideoCapa.maxRate=parseInt(e(i).find("constantBitRate").eq(0).attr("max"),10);if(e(i).find("vbrUpperCap").length>0&&(a.oVideoCapa.minVbrRate=parseInt(e(i).find("vbrUpperCap").eq(0).attr("min"),10),a.oVideoCapa.maxVbrRate=parseInt(e(i).find("vbrUpperCap").eq(0).attr("max"),10)),a.m_oParamsValid.oBitrateValid.range.value.min=a.oVideoCapa.minRate,a.m_oParamsValid.oBitrateValid.range.value.max=a.oVideoCapa.maxRate,a.m_oParamsValid.oAverageBitrateValid.range.value.max=a.oVideoCapa.maxRate,"vbr"===e(i).find("videoQualityControlType").eq(0).text().toLowerCase()&&(a.m_oParamsValid.oBitrateValid.range.value.min=a.oVideoCapa.minVbrRate,a.m_oParamsValid.oBitrateValid.range.value.max=a.oVideoCapa.maxVbrRate),e(i).find("Audio").length>0){if(a.oVideoCapa.bSupportVideoAudio=!0,e(i).find("Audio").eq(0).find("enabled").attr("opt").split(",").length<=1?a.oVideoCapa.bSupportSetvideoType=!1:a.oVideoCapa.bSupportSetvideoType=!0,e(i).find("audioCompressionType").length>0){a.oVideoCapa.compressionTypes.length=0;for(var C=e(i).find("audioCompressionType").eq(0).attr("opt").split(","),y=0;y<C.length;y++)a.oVideoCapa.compressionTypes.push(C[y])}a.oVideoCapa.bSupportAudio=d["a"].nodeValue(e(i).find("Audio").eq(0),"supportAudioConfig","b")}else a.oVideoCapa.bSupportVideoAudio=!1,a.oVideoCapa.bSupportSetvideoType=!1;e(i).find("SVC").length>0?(a.oVideoCapa.bSupportSVC=!0,e(i).find("SVCMode").length>0?a.oVideoCapa.bSupportSVCMode=!0:a.oVideoCapa.bSupportSVCMode=!1):(a.oVideoCapa.bSupportSVC=!1,a.oVideoCapa.bSupportSVCMode=!1),a.oVideoCapa.videoEncodings.length=0,a.oEncodingCapa={};var I=e(i).find("videoCodecType").eq(0).attr("opt").split(","),D=["Baseline","Main","High"],w=["basicProfile","mainProfile","highProfile"];if(0===f["a"].iDeviceType)if(e.each(I,(function(e,t){a.oVideoCapa.videoEncodings.push(t),a.oEncodingCapa[t]={aProfiles:[],szDefProfile:"",bSupportSVC:!1,bSupportCBRSmooth:!1,bSupportVBRSmooth:!1,oSmartCodec:{bSupport:!1,aReadOnlyParams:[]},oAverageVideoBitrate:{bSupportConstant:!1,bSupportVariable:!1},oMaxBitrate:{bSupportConstant:!0,bSupportVariable:!0},oConstantBitrate:{aSupportParams:[],aHideParams:[]},oVariableBitrate:{aSupportParams:[],aHideParams:[]}}})),e(i).find("Video").eq(0).find("H264Profile").length>0){a.oVideoCapa.bSupportProfile=!0;var T=e(i).find("Video").eq(0).find("H264Profile").eq(0).attr("opt").split(",");a.oVideoCapa.profiles.length=0;for(var k=0;k<T.length;k++){var x=e.inArray(T[k],D);a.oVideoCapa.profiles.push({text:l["a"].t(w[x]),value:T[k]})}}else a.oVideoCapa.bSupportProfile=!1;1===f["a"].iDeviceType&&e.each(I,(function(t,n){if(a.oVideoCapa.videoEncodings.push(n),a.oEncodingCapa[n]={aProfiles:[],szDefProfile:"",bSupportSVC:!1,bSupportCBRSmooth:!1,bSupportVBRSmooth:!1,oSmartCodec:{bSupport:!1,aReadOnlyParams:[]},oAverageVideoBitrate:{bSupportConstant:!1,bSupportVariable:!1},oMaxBitrate:{bSupportConstant:!0,bSupportVariable:!0},oConstantBitrate:{aSupportParams:[],aHideParams:[]},oVariableBitrate:{aSupportParams:[],aHideParams:[]}},"H.264"===n){if(e(i).find("Video").eq(0).find("H264Profile").length>0){for(var o=e(i).find("Video").eq(0).find("H264Profile").eq(0).attr("opt").split(","),r=0;r<o.length;r++){var s=e.inArray(o[r],D);a.oEncodingCapa[n].aProfiles.push({text:l["a"].t(w[s]),value:o[r]})}a.oEncodingCapa[n].szDefProfile=d["a"].nodeValue(i,"H264Profile")}a.oVideoCapa.bSupportSVC&&(a.oEncodingCapa[n].bSupportSVC=!0)}else if("H.265"===n){if(e(i).find("Video").eq(0).find("H265Profile").length>0){for(var c=e(i).find("Video").eq(0).find("H265Profile").eq(0).attr("opt").split(","),u=0;u<c.length;u++){var p=e.inArray(c[u],D);a.oEncodingCapa[n].aProfiles.push({text:l["a"].t(w[p]),value:c[u]})}a.oEncodingCapa[n].szDefProfile=d["a"].nodeValue(i,"H265Profile"),a.oVideoCapa.bSupportSVC&&(a.oEncodingCapa[n].bSupportSVC=!0)}}else if("SVAC"===n){if(e(i).find("Video").eq(0).find("SVACProfile").length>0){for(var m=e(i).find("Video").eq(0).find("SVACProfile").eq(0).attr("opt").split(","),h=0;h<m.length;h++){var f=e.inArray(m[h],D);a.oEncodingCapa[n].aProfiles.push({text:l["a"].t(w[f]),value:m[h]})}a.oEncodingCapa[n].szDefProfile=d["a"].nodeValue(i,"SVACProfile")}a.oVideoCapa.bSupportSVC&&(a.oEncodingCapa[n].bSupportSVC=!0)}})),e(i).find("Video").eq(0).find("GovLength").length>0&&(a.oVideoCapa.bSupportIFrame=!0,a.oVideoCapa.minIntervalFrameI=parseInt(e(i).find("Video").eq(0).find("GovLength").eq(0).attr("min"),10),a.oVideoCapa.maxIntervalFrameI=parseInt(e(i).find("Video").eq(0).find("GovLength").eq(0).attr("max"),10),a.m_oParamsValid.oIFrameValid.range.value.min=a.oVideoCapa.minIntervalFrameI,a.m_oParamsValid.oIFrameValid.range.value.max=a.oVideoCapa.maxIntervalFrameI),e(i).find("enableCABAC").length>0?a.oVideoCapa.bSupportCABAC=!0:a.oVideoCapa.bSupportCABAC=!1,e(i).find("smoothing").length>0?(a.oVideoCapa.bSupportSmoothing=!0,a.oVideoCapa.minSmooth=parseInt(e(i).find("smoothing").eq(0).attr("min"),10),a.oVideoCapa.maxSmooth=parseInt(e(i).find("smoothing").eq(0).attr("max"),10)):a.oVideoCapa.bSupportSmoothing=!1,a.oVideoCapa.bSupportSmartCodeWithoutReStart=d["a"].nodeValue(e(i),"isSupportSmartCodeWithoutReStart","b")}),(function(){a.oVideoCapa.bChannelSupport=!1}));case 3:o();case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());return n}},{key:"getVideoDynamicCapa",value:function(){var t=this,a=new Promise(function(){var a=Object(o["a"])(regeneratorRuntime.mark((function a(i){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={urlCGI:"videoDynamicCapa",params:{channel:t.oChannel.id,videoStream:t.oVideoParams.streamType},data:null,loading:!0},a.next=3,u["a"].get(n).then((function(a){var n=a.oResult;if(t.oVideoCapa.bSupportSmoothing||e(n).find("smoothing").length>0?t.oVideoCapa.bSupportSmoothing=!0:t.oVideoCapa.bSupportSmoothing=!1,1===f["a"].iDeviceType)for(var o=0;o<t.oVideoCapa.videoEncodings.length;o++){var r=t.oVideoCapa.videoEncodings[o];"H.264"!==r&&"H.265"!==r||(t.oEncodingCapa[r].bSupportCBRSmooth="true"===e(n).find("CBRCap").eq(0).find("isSupportSmooth").eq(0).text(),t.oEncodingCapa[r].bSupportVBRSmooth="true"===e(n).find("VBRCap").eq(0).find("isSupportSmooth").eq(0).text())}e(n).find("CodecParamDscriptor").each((function(){var a="";if(a=e(this).find("videoCodecType").length>0?d["a"].nodeValue(e(this),"videoCodecType"):"H.264",void 0!==t.oEncodingCapa[a]){var i=t.oEncodingCapa[a].oSmartCodec;if(i.bSupport=!!e(this).find("SmartCodecCap").length,i.bSupport&&(i.aReadOnlyParams=d["a"].nodeAttr(e(this),"readOnlyParams","opt").split(",")),e(this).find("BitrateType").length>0){var n=t.oEncodingCapa[a].oConstantBitrate;if(n.aSupportParams=d["a"].nodeAttr(e(this),"Constant support","opt").split(","),n.aHideParams=d["a"].nodeAttr(e(this),"Constant hiddenAbility","opt").split(","),n=t.oEncodingCapa[a].oVariableBitrate,n.aSupportParams=d["a"].nodeAttr(e(this),"Variable support","opt").split(","),n.aHideParams=d["a"].nodeAttr(e(this),"Variable hiddenAbility","opt").split(","),1===f["a"].iDeviceType){var o=t.oEncodingCapa[a].oAverageVideoBitrate;-1!==e.inArray("averageVideoBitrate",n.aSupportParams)?o.bSupportVariable=!0:o.bSupportVariable=!1}}}})),t.oVideoCapa.szPromptType=d["a"].nodeAttr(n,"smart264EnabledPrompt","opt"),i()}),(function(){i()}));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}());return a}},{key:"mutex",value:function(){var t=this.oDisabledCapa,a=this.oShowCapa,i=this.oVideoParams,n=this.oVideoCapa,o=this.oEncodingCapa;if(e.each(t,(function(e){t[e]=!1})),e.each(a,(function(e){a[e]=!1})),0===i.iNPQPolicy||1===i.iNPQPolicy||2===i.iNPQPolicy?t.bMaxBitrateByNPQ=!0:t.bMaxBitrateByNPQ=!1,"true"===i.smartCode){var r=o[i.videoEncoding].oMaxBitrate;("vbr"!==i.bitrateType||r.bSupportVariable)&&("cbr"!==i.bitrateType||r.bSupportConstant)||(t.bMaxBitrate=!0)}n.minRate===n.maxRate&&(t.bMaxBitrate=!0),("cbr"===i.bitrateType||n.videoQualitys.length<=1)&&(t.bVideoQuality=!0);var s=o[i.videoEncoding].oSmartCodec;if("H.264"===i.videoEncoding?a.bSmartCode264=s.bSupport:"H.265"===i.videoEncoding&&(a.bSmartCode265=s.bSupport),a.bSmartCodec=s.bSupport,a.bSmartCodec&&"true"===i.smartCode){e.each(s.aReadOnlyParams,(function(e,a){switch(a){case"keyFrameInterval":t.bFrameInterval=!0;break;case"Profile":t.bProfile=!0;break;case"SVC":t.bSVC=!0;break;case"BitrateType":t.bBitrateType=!0;break;case"fixedQuality":t.bVideoQuality=!0;break;default:break}}));var l=o[i.videoEncoding].oAverageVideoBitrate;("vbr"===i.bitrateType&&l.bSupportVariable||"cbr"===i.bitrateType&&l.bSupportConstant)&&(a.bAverageVideoBitrate=!0)}if(n.minIntervalFrameI===n.maxIntervalFrameI&&(t.bFrameInterval=!0),n.bSupportBitrateType&&("vbr"===i.bitrateType?o[i.videoEncoding].bSupportVBRSmooth?n.bSupportSmoothing=!0:n.bSupportSmoothing=!1:o[i.videoEncoding].bSupportCBRSmooth?n.bSupportSmoothing=!0:n.bSupportSmoothing=!1),i.bEnableRegCrop||n.resolutions.length<=1||0===i.iNPQPolicy||2===i.iNPQPolicy?t.bResolution=!0:t.bResolution=!1,0===i.iNPQPolicy||1===i.iNPQPolicy||2===i.iNPQPolicy?t.bFrameRate=!0:t.bFrameRate=!1,o[i.videoEncoding].aProfiles.length>0){n.bSupportProfile=!0,n.profiles.length=0,n.profiles=o[i.videoEncoding].aProfiles.concat();var c=[];e.each(o[i.videoEncoding].aProfiles,(function(){c.push(this.value)})),-1===e.inArray(i.profile,c)&&(i.profile=c[0])}else n.bSupportProfile=!1;o[i.videoEncoding].bSupportSVC?n.bSupportSVC=!0:n.bSupportSVC=!1,a.bSupportLbr&&i.bEnableLowBitrate&&(t.bBitrateType=!0,t.bVideoQuality=!0,t.bFrameRate=!0,t.bProfile=!0,t.bFrameInterval=!0,t.bSVC=!0)}},{key:"getVideoInfo",value:function(){var t=this,a="videoInfo";"03"===this.oVideoParams.streamType&&0===f["a"].iDeviceType&&(a="eventVideoInfo",this.oVideoCapa.bDisabledSmartCode=!0);var i=new Promise(function(){var i=Object(o["a"])(regeneratorRuntime.mark((function i(n){var o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return o={urlCGI:a,params:{channel:t.oChannel.id,videoStream:t.oVideoParams.streamType},data:null,loading:!0},i.next=3,u["a"].get(o).then((function(a){var i=a.oResult;if(t.m_oXmlDoc=i,e(i).find("Audio").length>0){var n=e(i).find("Audio").eq(0).find("enabled").eq(0).text();t.oVideoParams.videoType="true"===n?"1":"0",e(i).find("audioCompressionType").length>0&&(t.oVideoParams.compressionType=e(i).find("audioCompressionType").eq(0).text())}else t.oVideoParams.videoType="0";var o="",r=e(i).find("videoResolutionWidth").eq(0).text(),s=e(i).find("videoResolutionHeight").eq(0).text();o="1920"===r&&"1080"===s||"1280"===r&&"720"===s?e(i).find("videoScanType").length>0?"progressive"===e(i).find("videoScanType").eq(0).text()?r+"*"+s+"P":r+"*"+s+"I":r+"*"+s:"0"===r&&"0"===s?l["a"].t("auto"):r+"*"+s,t.oVideoParams.resolution=o,t.oVideoParams.resolutionInit=o,t.oVideoParams.frameRate=e(i).find("maxFrameRate").eq(0).text(),t.oVideoParams.bitrateType=e(i).find("videoQualityControlType").eq(0).text().toLowerCase(),t.oVideoParams.videoQuality=e(i).find("fixedQuality").eq(0).text(),"cbr"===t.oVideoParams.bitrateType?t.oVideoParams.maxBitrate=e(i).find("constantBitRate").eq(0).text():t.oVideoParams.maxBitrate=e(i).find("vbrUpperCap").eq(0).text(),t.oVideoParams.maxBitrateTemp=t.oVideoParams.maxBitrate,t.oVideoParams.videoEncoding=e(i).find("videoCodecType").eq(0).text(),e(i).find("Video").eq(0).find(t.oVideoParams.videoEncoding.replace(/[.]/g,"")+"Profile").length>0&&(t.oVideoParams.profile=e(i).find("Video").eq(0).find(t.oVideoParams.videoEncoding.replace(/[.]/g,"")+"Profile").eq(0).text()),e(i).find("Video").eq(0).find("GovLength").length>0&&(t.oVideoParams.iFrameInterval=e(i).find("Video").eq(0).find("GovLength").eq(0).text()),e(i).find("enableCABAC").length>0&&(t.oVideoParams.cabac=e(i).find("enableCABAC").eq(0).text()),e(i).find("SVC").length>0&&(t.oVideoParams.svc=e(i).find("SVC").eq(0).find("enabled").eq(0).text(),"true"===t.oVideoParams.svc&&"auto"===e(i).find("SVC").eq(0).find("SVCMode").eq(0).text()&&(t.oVideoParams.svc="auto")),e(i).find("SmartCodec").length>0?(t.oVideoParams.smartCode=d["a"].nodeValue(e(i).find("SmartCodec").eq(0),"enabled"),t.oVideoParams.iAverageBitrate=d["a"].nodeValue(e(i),"vbrAverageCap","i"),t.oVideoParams.smartCodeLast=t.oVideoParams.smartCode):t.oVideoParams.smartCode="false",e(i).find("smoothing").length>0&&(t.oVideoParams.smoothing=parseInt(e(i).find("smoothing").eq(0).text(),10)),t.autoAdaptive()}),(function(e){c["a"].saveState(e)}));case 3:n();case 4:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}());return i}},{key:"getWD1Info",value:function(t){var a=this,i=new Promise(function(){var i=Object(o["a"])(regeneratorRuntime.mark((function i(n){var r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!(t<=p["a"].m_iAnalogChNum)){i.next=7;break}return r={urlCGI:"AnalogChannelInfo",params:null,data:null,loading:!0},i.next=4,u["a"].get(r).then(function(){var i=Object(o["a"])(regeneratorRuntime.mark((function i(n){var o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:o=n.oResult,a.oWd1Xml=o,e(o).find("VideoInputChannel").eq(t-1).find("enableWD1").length>0?(a.oVideoCapa.bSupportEnableWD1=!0,a.oVideoParams.szWD1=d["a"].nodeValue(e(o).find("VideoInputChannel").eq(t-1),"enableWD1")):a.oVideoCapa.bSupportEnableWD1=!1,e(o).find("VideoInputChannel").eq(t-1).find("resDesc").length>0?(a.oVideoCapa.bSupportInputResolution=!0,a.oVideoParams.inputResolution=e(o).find("VideoInputChannel").eq(t-1).find("resDesc").text()):a.oVideoCapa.bSupportInputResolution=!1;case 4:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}());case 4:n(),i.next=10;break;case 7:a.oVideoCapa.bSupportEnableWD1=!1,a.oVideoCapa.bSupportInputResolution=!1,n();case 10:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}());return i}},{key:"getIntelligentBoostCap",value:function(e){var t=this,a=new Promise(function(){var a=Object(o["a"])(regeneratorRuntime.mark((function a(i){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={urlCGI:"intelligentBoostCap",params:{channel:e},data:null,loading:!0},a.next=3,u["a"].get(n).then(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=a.oResult,t.oSpeedUpParams.bSupportSpeedUp=d["a"].nodeValue(n,"enabled","b"),t.oSpeedUpParams.bReboot=d["a"].nodeValue(n,"reboot","b"),i();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(){i()}));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}());return a}},{key:"getIntelligentBoost",value:function(e){var t=this,a=new Promise(function(){var a=Object(o["a"])(regeneratorRuntime.mark((function a(i){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={urlCGI:"intelligentBoost",params:{channel:e},data:null,loading:!0},a.next=3,u["a"].get(n).then(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=a.oResult,t.oSpeedUpParams.bSmartSpeedUp=d["a"].nodeValue(n,"enabled","b"),t.oSpeedUpParams.bOriSmartSpeedUp=d["a"].nodeValue(n,"enabled","b"),i();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(){i()}));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}());return a}},{key:"autoAdaptive",value:function(){var t=this.oVideoParams,a=this.oDisabledCapa,i=this.oShowCapa,n=this.oEncodingCapa;if(e.each(a,(function(e){a[e]=!1})),e.each(i,(function(e){i[e]=!1})),i.bMaxBitrate=!0,"undefined"!==typeof n[t.videoEncoding]){var o=n[t.videoEncoding].oSmartCodec;if("H.264"===t.videoEncoding?i.bSmartCode264=o.bSupport:"H.265"===t.videoEncoding&&(i.bSmartCode265=o.bSupport),o.bSupport&&"true"===t.smartCode){e.each(o.aReadOnlyParams,(function(e,t){switch(t){case"videoQualityControlType":a.bBitrateType=!0;break;case"fixedQuality":a.bVideoQuality=!0;break;case"keyFrameInterval":a.bFrameInterval=!0;break;case"Profile":a.bProfile=!0;break;case"SVC":a.bSVC=!0;break;default:break}}));var r=null;"vbr"===t.bitrateType?r=n[t.videoEncoding].oVariableBitrate:"cbr"===t.bitrateType&&(r=n[t.videoEncoding].oConstantBitrate),r&&(e.each(r.aSupportParams,(function(e,t){switch(t){case"averageVideoBitrate":i.bAverageVideoBitrate=!0;break;case"videoBitrate":i.bMaxBitrate=!0;break;default:break}})),e.each(r.aHideParams,(function(e,t){switch(t){case"averageVideoBitrate":i.bAverageVideoBitrate=!1;break;case"videoBitrate":i.bMaxBitrate=!1;break;default:break}}))),i.bAverageVideoBitrate&&(t.maxBitrate=t.maxBitrateTemp)}}}},{key:"getSpeedUp",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getIntelligentBoostCap(t);case 2:return e.next=4,this.getIntelligentBoost(t);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"changeBitRate",value:function(){}},{key:"showRebootTip",value:function(){}},{key:"back",value:function(){var e=navigator.userAgent,t=e.indexOf("Android")>-1||e.indexOf("Linux")>-1,a=!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);t&&window.app.onJsBackPressed(),a&&window.webkit.messageHandlers.onJsBackPressed.postMessage("")}},{key:"saveParams",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.oVideoParams.bLazyLoading=!0,!this.oSpeedUpParams.bOriSmartSpeedUp||!this.oSpeedUpParams.bSupportSpeedUp){e.next=10;break}return e.next=4,this.saveSpeedUp();case 4:t=e.sent,a=c["a"].needReboot(t),a&&this.oSpeedUpParams.bReboot||(this.getSpeedUp(),this.getInfo()),this.oVideoParams.bLazyLoading=!1,e.next=11;break;case 10:this.save();case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"saveSpeedUp",value:function(){var e="<?xml version='1.0' encoding='utf-8'?><IntelligentBoost><enabled>"+this.oSpeedUpParams.bSmartSpeedUp+"</enabled></IntelligentBoost>",t={urlCGI:"intelligentBoost",params:{channel:this.oChannel.id},data:d["a"].parseXmlFromStr(e),loading:!0};return u["a"].put(t).then(Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),(function(e){c["a"].saveState(e)}))}},{key:"genXML",value:function(){m["a"].init(this.m_oXmlDoc);var e=m["a"];e.removeNode("id"),"03"===this.oVideoParams.streamType&&0===f["a"].iDeviceType?e.insert("id:"+this.oChannel.id+"01"):e.insert("id:"+this.oChannel.id+this.oVideoParams.streamType),e.removeNode("Video");var t=e.createNode("Video");if(e.insert(t),e.insert("enabled:true",t),this.oChannel.id<=p["a"].m_iAnalogChNum||"03"===this.oVideoParams.streamType?e.insert("videoInputChannelID:"+this.oChannel.id,t):e.insert("dynVideoInputChannelID:"+this.oChannel.id,t),e.insert("videoCodecType:"+this.oVideoParams.videoEncoding,t),this.oVideoParams.resolution===l["a"].t("auto"))e.insert("videoResolutionWidth:0",t),e.insert("videoResolutionHeight:0",t);else{var a=this.oVideoParams.resolution.split("*");e.insert("videoResolutionWidth:"+a[0],t),"1920*1080P"===this.oVideoParams.resolution||"1920*1080I"===this.oVideoParams.resolution||"1280*720P"===this.oVideoParams.resolution||"1280*720I"===this.oVideoParams.resolution?("P"===this.oVideoParams.resolution.substring(this.oVideoParams.resolution.length-1)?e.insert("videoScanType:progressive",t):"I"===this.oVideoParams.resolution.substring(this.oVideoParams.resolution.length-1)&&e.insert("videoScanType:interlaced",t),e.insert("videoResolutionHeight:"+a[1].substring(0,a[1].length-1),t)):e.insert("videoResolutionHeight:"+a[1],t)}if(e.insert("videoQualityControlType:"+this.oVideoParams.bitrateType,t),"cbr"===this.oVideoParams.bitrateType?e.insert("constantBitRate:"+this.oVideoParams.maxBitrate,t):(e.insert("fixedQuality:"+this.oVideoParams.videoQuality,t),e.insert("vbrUpperCap:"+this.oVideoParams.maxBitrate,t)),e.insert("maxFrameRate:"+this.oVideoParams.frameRate,t),e.insert("GovLength:"+this.oVideoParams.iFrameInterval,t),this.oVideoCapa.bSupportProfile&&e.insert(this.oVideoParams.videoEncoding.replace(/[.]/g,"")+"Profile:"+this.oVideoParams.profile,t),this.oVideoCapa.bSupportSVC){var i=e.createNode("SVC");e.insert(i,t),"false"===this.oVideoParams.svc?e.insert("enabled:false",i):(e.insert("enabled:true",i),this.oVideoCapa.bSupportSVCMode&&e.insert("SVCMode:"+("true"===this.oVideoParams.svc?"manual":"auto"),i))}if(this.oVideoCapa.bSupportSmoothing&&e.insert("smoothing:"+this.oVideoParams.smoothing,t),this.oShowCapa.bSmartCode264||this.oShowCapa.bSmartCode265){var n=e.createNode("SmartCodec");e.insert("enabled:"+this.oVideoParams.smartCode,n),e.insert(n,t),this.oShowCapa.bAverageVideoBitrate&&e.insert("vbrAverageCap:"+this.oVideoParams.iAverageBitrate,t)}return this.oVideoCapa.bSupportVideoAudio&&("1"===this.oVideoParams.videoType?e.setNodeValue("Audio->enabled","true"):e.setNodeValue("Audio->enabled","false"),this.oVideoCapa.bSupportAudio&&e.setNodeValue("Audio->audioCompressionType",this.oVideoParams.compressionType)),this.oVideoCapa.bSupportCABAC&&e.setNodeValue("enableCABAC",this.oVideoParams.cabac),e}},{key:"saveCopy",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(a,r){var s,c=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(this.aCopy.length>1)){t.next=5;break}return t.delegateYield(regeneratorRuntime.mark((function t(){var i,s,m,h,f,v,b,g,P=function(e){return function(t,a){s.push(e),m.push(a),"bitRateExceedLimited"===d["a"].nodeValue(t,"subStatusCode")&&(i=!0)}};return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=!1,s=[],m=[],h=regeneratorRuntime.mark((function t(i,n){var o,s,l,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(o=c.aCopy[i],!o.bCheck||o.bDisable){t.next=17;break}return"03"===c.oVideoParams.streamType?a.setNodeValue("id",o.id+"01"):a.setNodeValue("id",o.id+c.oVideoParams.streamType),a.setNodeValue("Video->videoInputChannelID",o.id),s={urlCGI:r,params:{channel:o.id,videoStream:c.oVideoParams.streamType},data:null,loading:!0},t.next=7,u["a"].put(s).then((function(){}),(function(){P(o.name)}));case 7:if(!(c.oChannel.id<=p["a"].m_iAnalogChannelNum&&c.oVideoCapa.bSupportEnableWD1)){t.next=17;break}return l="<?xml version='1.0' encoding='UTF-8'?><VideoInputChannel><id>"+o.id+"</id><inputPort>"+o.id+"</inputPort>",l+="<videoInputEnabled>"+e(c.oWd1Xml).find("videoInputEnabled").eq(o.id-1).text()+"</videoInputEnabled>",l+="<name>"+e(c.oWd1Xml).find("name").eq(o.id-1).text()+"</name>",l+="<videoFormat>"+e(c.oWd1Xml).find("videoFormat").eq(o.id-1).text()+"</videoFormat>",l+="<enableWD1>"+c.oVideoParams.szWD1+"</enableWD1></VideoInputChannel>",m=d["a"].parseXmlFromStr(l),s={urlCGI:"AnalogChannelSingleInfo",params:{channel:o.id},data:m,loading:!0},t.next=17,u["a"].put(s).then((function(){}),(function(){P(o.name)}));case 17:case"end":return t.stop()}}),t)})),f=0,v=c.aCopy.length;case 5:if(!(f<v)){t.next=10;break}return t.delegateYield(h(f,v),"t0",7);case 7:f++,t.next=5;break;case 10:if(s=Object(n["a"])(new Set(s)),b="",s.length&&(b=l["a"].t("setParamFailed")+s.join(", ")),!i){t.next=17;break}return g={urlCGI:"streamingStatus",params:null,data:null,loading:!0},t.next=17,u["a"].get(g).then(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.oResult,i=d["a"].nodeValue(a,"bitRateCapacity"),n=d["a"].nodeValue(a,"bitRateCapacity","i")-d["a"].nodeValue(a,"usedBitRate","i"),b+=" "+l["a"].t("bitRateExceedLimitedTip",[i,n]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 17:return t.abrupt("return",{v:{szError:b,aXhr:m}});case 18:case"end":return t.stop()}}),t)}))(),"t0",2);case 2:if(s=t.t0,"object"!==Object(i["a"])(s)){t.next=5;break}return t.abrupt("return",s.v);case 5:case"end":return t.stop()}}),t,this)})));function a(e,a){return t.apply(this,arguments)}return a}()},{key:"save",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(a){var i,n,r,s,l,m,h,v,b,g=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=this,null===this.m_oXmlDoc){t.next=26;break}return n="videoInfo","03"===this.oVideoParams.streamType&&0===f["a"].iDeviceType&&(n="eventVideoInfo"),r=this.genXML(),s="",l=[],m={urlCGI:n,params:{channel:i.oChannel.id,videoStream:i.oVideoParams.streamType},data:r.m_oXmlDoc,loading:!0},t.next=10,u["a"].put(m).then(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i.oVideoParams.smartCodeLast=i.oVideoParams.smartCode,e.abrupt("return",t.xhr);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){g.oVideoParams.bLazyLoading=!1,c["a"].saveState(e)}));case 10:if(h=t.sent,l.push(h),!(i.oChannel.id<=p["a"].m_iAnalogChNum&&this.oVideoCapa.bSupportEnableWD1)){t.next=24;break}return v="<?xml version='1.0' encoding='UTF-8'?><VideoInputChannel><id>"+i.oChannel.id+"</id><inputPort>"+i.oChannel.id+"</inputPort>",v+="<videoInputEnabled>"+e(this.oWd1Xml).find("videoInputEnabled").eq(i.oChannel.id-1).text()+"</videoInputEnabled>",v+="<name>"+e(this.oWd1Xml).find("name").eq(i.oChannel.id-1).text()+"</name>",v+="<videoFormat>"+e(this.oWd1Xml).find("videoFormat").eq(i.oChannel.id-1).text()+"</videoFormat>",v+="<enableWD1>"+this.oVideoParams.szWD1+"</enableWD1></VideoInputChannel>",b=d["a"].parseXmlFromStr(v),m={urlCGI:"AnalogChannelSingleInfo",params:{channel:i.oChannel.id},data:b,loading:!0},t.next=22,u["a"].get(m).then(Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),(function(e){c["a"].saveState(e)}));case 22:h=t.sent,l.push(h);case 24:this.oSpeedUpParams.bSupportSpeedUp&&l.push(this.saveSpeedUp()),Promise.all(l).then(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:g.oVideoParams.bLazyLoading=!1,a||t.forEach((function(e){a=a||c["a"].needReboot(e)})),g.saveCopy(r,n).then((function(e){e&&e.szError?c["a"].saveState(e.aXhr[0],e.szError):a||c["a"].saveState(t[0])}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){g.oVideoParams.bLazyLoading=!1,c["a"].saveState(e[0],s)}));case 26:case"end":return t.stop()}}),t,this)})));function a(e){return t.apply(this,arguments)}return a}()},{key:"initCopyParams",value:function(e){this.aCopy.length=0;for(var t=0;t<p["a"].m_aChannelList.length;t++)p["a"].m_aChannelList[t].bOnline&&this.aCopy.push({id:p["a"].m_aChannelList[t].iId,name:p["a"].m_aChannelList[t].szName,bCheck:p["a"].m_aChannelList[t].iId===parseInt(e,10),bDisable:p["a"].m_aChannelList[t].iId===parseInt(e,10)})}}]),t}();t["a"]=new v}).call(this,a("1157"))},cc29:function(e,t,a){},cd29:function(e,t,a){},cd2e:function(e,t,a){"use strict";(function(e){a("b54a"),a("c5f6"),a("96cf");var i=a("1da1"),n=(a("28a5"),a("ac6a"),a("6458")),o=a("1c1a"),r=a("962a"),s=a("3616"),l=a("2b88"),c=a("23d7"),u=a("1f20"),d=a("419c"),p=a("b77f"),m=a("47b5");t["a"]={name:"SmartFieldDetection",components:{ChannelList:n["a"],BaseView:o["a"],BasePageExtend:r["a"],NewBasePageExtendRotate:s["a"],PluginWind:l["a"],TimePlan:c["a"],BaseLink:p["a"],BaseSelect:m["a"]},data:function(){return{bEnableCancelCallback:!0,bSupportChannelCap:!1,bShowAreaSet:!1,bShowSchedule:!1,bShowArmSchedule:!1,bShowLink:!1,bShowTypes:!1,bLandscapeMode:!1,szDrawMode:"",oChannel:{},oEventCap:d["a"].oEventCap,oEventInfo:d["a"].oEventInfo,oTempEventInfo:{},sType:""}},computed:{bSupportDtectionTargetOthers:function(){var e=!1;return this.oEventCap.aDectList.forEach((function(t){if("others"===t.value)return e=!0,!0})),e},bLazyLoading:function(){return d["a"].oEventInfo.bLoading}},watch:{$route:function(e,t){var a=this,i=-1;if(e.name!==t.name){var n=this.$route.path.split("/"),o=n[n.length-1];console.log("🚀 ~ szType:",o),this.sType=o,i=this.$route.query.channelID,d["a"].init(i,o).finally((function(){a.oEventCap=d["a"].oEventCap,a.oEventInfo=d["a"].oEventInfo})),this.oChannel.id=i}else e.query.channelID!==t.query.channelID&&(i=this.$route.query.channelID,this.oChannel.id=i)},"oChannel.id":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a,i,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t>-1&&(a=this.$route.path.split("/"),i=a[a.length-1],this.sType=i,d["a"].init(t,i).finally((function(){n.oEventCap=d["a"].oEventCap,n.oEventInfo=d["a"].oEventInfo,n.initLink()})));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),immediate:!0,deep:!0},"oEventInfo.iFieldId":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t>0)){e.next=3;break}return e.next=3,d["a"].changeField();case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0}},created:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].getDeviceCapa().then(Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.$route.query&&t.$route.query.channelID,t.oChannel={id:Number(a)||1},t.bSupportChannelCap=u["a"].m_oDeviceCapa.bSupportChannelEventCap;case 3:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),methods:{chooseFiled:function(e){this.oEventInfo.iFieldId=e.value},changePreset:function(){u["a"].goPreset(this.oChannel.id,this.oEventInfo.oPreset.iPresetID)},initLink:function(){var t=this;this.bShowLink=!1,e.extend(!0,this.oTempEventInfo,this.oEventInfo),this.bShowLink=!0,this.$nextTick((function(){t.$refs.link.linkData=t.oEventInfo.oLink,t.$refs.link.$forceUpdate()}))},save:function(){d["a"].save()},confirmArmSchedule:function(){this.oEventInfo.oScheduleTimes=this.$refs.timePlan.timesData,this.bShowSchedule=!1},deleteAll:function(){for(var e=0,t=this.oEventInfo.oScheduleTimes.length;e<t;e++)this.oEventInfo.oScheduleTimes[e]=[];this.$refs.timePlan.timesData=this.oEventInfo.oScheduleTimes,this.$refs.timePlan.$forceUpdate()},confirmAreaSet:function(){this.bShowAreaSet=!1},confirmLandscapeMode:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.bLandscapeMode=!1,this.szDrawMode="",e.next=4,d["a"].updateRegionInfo();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),cancelLandscapeMode:function(){this.bLandscapeMode=!1},confirmLink:function(){this.bShowLink=!1},cancelCallbackArmSchedule:function(){e.extend(!0,this.oEventInfo,this.oTempEventInfo),this.bShowSchedule=!1},cancelCallbackAreaSet:function(){e.extend(!0,this.oEventInfo,this.oTempEventInfo),this.bShowAreaSet=!1},cancelCallbackLink:function(){e.extend(!0,this.oEventInfo,this.oTempEventInfo),this.bShowLink=!1},showAreaSet:function(){this.bShowAreaSet=!0,e.extend(!0,this.oTempEventInfo,this.oEventInfo),d["a"].setDrawStatus(!1)},showArmSchedule:function(){e.extend(!0,this.oTempEventInfo,this.oEventInfo),this.bShowSchedule=!0},showLink:function(){var t=this;e.extend(!0,this.oTempEventInfo,this.oEventInfo),this.bShowLink=!0,this.$nextTick((function(){t.$refs.link.linkData=t.oEventInfo.oLink,t.$refs.link.$forceUpdate()}))},enterFullScreen:function(){var t=this;this.bLandscapeMode=!0,this.$nextTick((function(){var a=t.$store.state.globeStore.screenWidth?t.$store.state.globeStore.screenWidth:window.screen.height;e("#main_plugin").height(window.screen.width),e("#main_plugin").width(a)}))},clearPolygon:function(){this.szDrawMode="",d["a"].clear()},drawPolygon:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d["a"].updateRegionInfo();case 2:d["a"].setMinFilter(),d["a"].setMaxFilter(),this.szDrawMode="drawWarnLine",d["a"].draw();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),addMinFilter:function(){this.szDrawMode="addMinFilter",d["a"].addMinFilter()},addMaxFilter:function(){this.szDrawMode="addMaxFilter",d["a"].addMaxFilter()},draw:function(){var t=this;this.bShowAreaSet=!1,this.bLandscapeMode=!0,this.szDrawMode="drawWarnLine",this.$nextTick((function(){var a=t.$store.state.globeStore.screenWidth?t.$store.state.globeStore.screenWidth:window.screen.height;e("#main_plugin").height(window.screen.width),e("#main_plugin").width(a)}))},clear:function(){d["a"].clear()},playSuccess:function(){var e=this;this.$nextTick(Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.bLandscapeMode){t.next=6;break}"drawWarnLine"===e.szDrawMode?d["a"].draw():d["a"].setRegionInfo(),"addMaxFilter"===e.szDrawMode?d["a"].addMaxFilter():d["a"].setMaxFilter(),"addMinFilter"===e.szDrawMode?d["a"].addMinFilter():d["a"].setMinFilter(),t.next=11;break;case 6:return d["a"].setRegionInfo(),d["a"].setMinFilter(),d["a"].setMaxFilter(),t.next=11,d["a"].setDrawStatus(!1);case 11:case"end":return t.stop()}}),t)}))))},initEvent:function(){d["a"].initEvent()}}}}).call(this,a("1157"))},cd6f:function(e,t,a){"use strict";(function(e){a("6b54"),a("28a5"),a("7514"),a("ac6a"),a("5df3");var i=a("d4ec"),n=a("bee2"),o=a("7de8"),r=a("d09c"),s=a("c98f"),l=a("f193"),c=function(){function t(){Object(i["a"])(this,t),this.m_oParamsCap={bSupportSTDCGI:!1,bSupportONVIF:!1,bSupportGenetec:!1,bSupportISAPI:!1,aSTDCGICap:[],aONVIFCap:[],bSupportONVIFUsers:s["a"].oSecurityCap.bSupportONVIFUser,bSupportONVIFInfo:s["a"].oSecurityCap.bSupportONVIFInfo,iMaxUsers:32},this.showPwd=!1,this.m_oParams={bLazyLoading:!1,onvif:{enabled:!1,auth:""},STDCGI:{enabled:!1,auth:""},users:[],bGenetec:!1,bISAPI:!1,iCurrentUser:-1},this.oCurrentUser={id:0,userName:"",password:{},userType:"mediaUser"},this.m_oNeedReboot={ONVIFEnabled:!1,STDCGIEnabled:!1,GenetecEnabled:!1,ISAPIEnabled:!1},this.oXhr={successXhr:null,errorXhr:null,restartXhr:null},this.m_oXmlDoc=null,this.m_oGenetcXmlDoc=null,this.tableData={tableItem:[],iSelectIndex:-1},this.verifyResult={},this.certificateTypeMap={digest:"Digest","digest/WSSE":"Digest&ws-username token",WSSE:"ws-username token"}}return Object(n["a"])(t,[{key:"username",value:function(){var e=!0,t="";return{bValid:e,szError:t}}},{key:"initProtocol",value:function(){var e=this;this.szAuthName={mediaUser:"mediaUser",operator:"operator",administrator:"administrator"};var t=new Promise((function(t){Promise.all([e.getProtocolCap(),e.getGenetec(),e.getProtocol(),e.getUserInfoCap(),e.getUserInfo()]).then((function(){t()}),(function(e){r["a"].saveState(e),t()}))}));return t}},{key:"getProtocolCap",value:function(){var t=this,a=new Promise((function(a){var i={urlCGI:"integrateProtocolCap",params:{},data:null,loading:!0};l["a"].get(i).then((function(i){var n=i.oResult;t.m_oParamsCap.bSupportSTDCGI=e(n).find("CGI").length>0,t.m_oParamsCap.bSupportONVIF=e(n).find("ONVIF").length>0,t.m_oParamsCap.bSupportISAPI=e(n).find("ISAPI").length>0,t.m_oParamsCap.aSTDCGICap=o["a"].nodeAttr(n,"CGI certificateType","opt").split(",");var r=[];o["a"].nodeAttr(n,"ONVIF certificateType","opt").split(",").forEach((function(e){r.push({text:t.certificateTypeMap[e],value:e})})),t.m_oParamsCap.aONVIFCap=r,a()}),(function(e){a(e)}))}));return a}},{key:"getGenetec",value:function(){var e=this,t=new Promise((function(t){var a={urlCGI:"integrateGenetec",params:{},data:null,loading:!0};l["a"].get(a).then((function(a){var i=a.oResult;e.m_oParamsCap.bSupportGenetec=!0,e.m_oGenetcXmlDoc=i,e.m_oNeedReboot.GenetecEnabled=o["a"].nodeValue(i,"enabled","b"),e.m_oParams.bGenetec=o["a"].nodeValue(i,"enabled","b"),t()}),(function(){e.m_oParamsCap.bSupportGenetec=!1,t()}))}));return t}},{key:"getProtocol",value:function(){var e=this,t=new Promise((function(t){var a={urlCGI:"integrateProtocol",params:{},data:null,loading:!0};l["a"].get(a).then((function(a){e.m_oXmlDoc=a.oResult;var i=a.oResult;e.m_oParams.onvif.enabled=o["a"].nodeValue(i,"ONVIF enable","b"),e.m_oParams.onvif.auth=o["a"].nodeValue(i,"ONVIF certificateType"),e.m_oParams.STDCGI.enabled=o["a"].nodeValue(i,"CGI enable","b"),e.m_oParams.STDCGI.auth=o["a"].nodeValue(i,"CGI certificateType"),e.m_oParams.bISAPI=o["a"].nodeValue(i,"ISAPI enable","b"),e.m_oNeedReboot.ONVIFEnabled=o["a"].nodeValue(i,"ONVIF enable","b"),e.m_oNeedReboot.STDCGIEnabled=o["a"].nodeValue(i,"CGI enable","b"),e.m_oNeedReboot.ISAPIEnabled=o["a"].nodeValue(i,"ISAPI enable","b"),t()}),(function(){t()}))}));return t}},{key:"getUserInfoCap",value:function(){var e=this,t=new Promise((function(t){var a={urlCGI:"onvifUsersCap",params:{},data:null,loading:!0};l["a"].get(a).then((function(a){var i=a.oResult;e.m_oParamsCap.iMaxUsers=o["a"].nodeValue(i,"userMaxNumber","i"),t()}),(function(){t()}))}));return t}},{key:"getUserInfo",value:function(){var t=this,a=new Promise((function(a){var i={urlCGI:"onvifUsers",params:{},data:null,loading:!0};l["a"].get(i).then((function(i){var n=i.oResult;t.m_oParams.users.length=0,e(n).find("User").each((function(e,a){t.m_oParams.users.push({id:o["a"].nodeValue(a,"id"),userName:o["a"].nodeValue(a,"userName"),userType:o["a"].nodeValue(a,"userType")})})),a()}),(function(){a()}))}));return a}},{key:"getONVIFInfo",value:function(){var e=this,t=new Promise((function(t){var a={urlCGI:"onvifInfo",params:{},data:null,loading:!0};l["a"].get(a).then((function(a){var i=a.oResult;e.m_oParams.onvifVersion=o["a"].nodeValue(i,"onvifVersion"),t()}),(function(){t()}))}));return t}},{key:"refreshTable",value:function(){var t=this,a=[];e.each(this.m_oParams.users,(function(e){a[e]=[],a[e][0]=t.m_oParams.users[e].userName,a[e][1]=t.szAuthName[t.m_oParams.users[e].userType],a[e][2]=t.m_oParams.users[e].id})),this.tableData.tableItem=a}},{key:"save",value:function(){this.saveuser()}},{key:"saveuser",value:function(){var t=this,a=t.m_oParams,i=t.m_oXmlDoc;a.bLazyLoading=!0,t.m_oParamsCap.bSupportONVIF&&(e(i).find("ONVIF").eq(0).find("enable").eq(0).text(a.onvif.enabled.toString()),e(i).find("ONVIF").eq(0).find("certificateType").eq(0).text(a.onvif.auth)),t.m_oParamsCap.bSupportSTDCGI&&(e(i).find("CGI").eq(0).find("enable").eq(0).text(a.STDCGI.enabled.toString()),e(i).find("CGI").eq(0).find("certificateType").eq(0).text(a.STDCGI.auth)),t.m_oParamsCap.bSupportISAPI&&e(i).find("ISAPI").eq(0).find("enable").eq(0).text(a.bISAPI.toString());var n={urlCGI:"integrateProtocol",params:{},data:i,loading:!0};l["a"].put(n).then((function(e){a.bLazyLoading=!1,r["a"].saveState(e.xhr)}),(function(e){a.bLazyLoading=!1,r["a"].saveState(e)}))}}]),t}();t["a"]=new c}).call(this,a("1157"))},cda2:function(e,t,a){},cdaf:function(e,t,a){"use strict";(function(e){a("6b54"),a("7514");var i=a("d4ec"),n=a("bee2"),o=a("7de8"),r=a("d09c"),s=a("f193"),l=function(){function t(){Object(i["a"])(this,t),this.oStreamOverlay={enabled:!1},this.oChannel={id:0},this.bNoSupport=!1}return Object(n["a"])(t,[{key:"getInfo",value:function(t){var a=this,i={urlCGI:"dualVCA",params:{channel:t},data:null,loading:!0};return s["a"].get(i).then((function(t){var i=t.oResult;a.oStreamOverlay.enabled="true"===e(i).find("enabled").eq(0).text(),a.bNoSupport=!1}),(function(e){a.bNoSupport=!0,a.oStreamOverlay.enabled=!1,r["a"].getState(e)}))}},{key:"setInfo",value:function(e){var t="<?xml version='1.0' encoding='UTF-8' ?><DualVCA><enabled>"+this.oStreamOverlay.enabled.toString()+"</enabled></DualVCA>",a=o["a"].parseXmlFromStr(t),i={urlCGI:"dualVCA",params:{channel:e},data:a,loading:!0};return new Promise((function(e){s["a"].put(i).then((function(t){e(),r["a"].saveState(t.xhr)}),(function(t){e(),r["a"].saveState(t)}))}))}}]),t}();t["a"]=new l}).call(this,a("1157"))},cdd6:function(e,t,a){"use strict";a("bae6")},ce74:function(e,t,a){},cf07:function(e,t,a){"use strict";(function(e){a("96cf");var i=a("1da1"),n=a("2e42"),o=a("c050"),r=a("9741"),s=a("47b5");t["a"]={name:"DDNT",components:{BaseSelect:s["a"]},data:function(){return{bLazyLoading:!1,validate:{},oDDNSInfo:n["a"]._oDDNSInfo,oCapbilities:n["a"].m_oCapbilities,oParamsValid:n["a"].m_oParamsValid,bSkipValid:!1}},watch:{"oDDNSInfo.bEnableDdns":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:1===r["a"].iDeviceType&&this.changeInputValid(),t?this.updatedPassword():(this.oParamsValid.oPasswordConfirm.required=!1,this.oParamsValid.oPasswordConfirm.confirmPass=!0);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0},"oDDNSInfo.szDdnsType":{handler:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n["a"].m_oParamsInit.szDdnsType===a?(i=this.oDDNSInfo.bEnableDdns,e.extend(this.oDDNSInfo,n["a"].m_oParamsInit),this.oDDNSInfo.bEnableDdns=i):e.extend(this.oDDNSInfo,{szServerAddress:"",szDomain:"",szUserName:"",oPassword:{szPassword:"",szPasswordConfirm:"",szPasswordDefault:""}}),this.initValid(),"CCTVDDNS"===this.oDDNSInfo.szDdnsType?this.oDDNSInfo.szServerAddress="cctvddns.net":"SafireDNS"===this.oDDNSInfo.szDdnsType&&(this.oDDNSInfo.szServerAddress="safiredns.com");case 3:case"end":return t.stop()}}),t,this)})));function a(e){return t.apply(this,arguments)}return a}(),deep:!0},"oDDNSInfo.oPassword.szPassword":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.updatedPassword();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),deep:!0},"oDDNSInfo.oPassword.szPasswordConfirm":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.updatedPassword();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),deep:!0}},created:function(){var e=this;n["a"].initDDNS().finally((function(){e.initValid()}))},methods:{initValid:function(){0===r["a"].iDeviceType?(this.oParamsValid.oServerAddr.required=!1,this.oParamsValid.oDomain.required=!1,this.oParamsValid.oUserName.required=!1,this.oParamsValid.oPassword.required=!1,this.oParamsValid.oPasswordConfirm.required=!1,this.oParamsValid.oDomain.hiddns=!1,this.bSkipValid=!0,"IPServer"===this.oDDNSInfo.szDdnsType||"dyndns"===this.oDDNSInfo.szDdnsType.toLowerCase()||"NoIpDns"===this.oDDNSInfo.szDdnsType||"PeanutHall"===this.oDDNSInfo.szDdnsType||"HiDDNS"===this.oDDNSInfo.szDdnsType&&(this.oParamsValid.oDomain.hiddns=!0),this.updatedPassword()):1===r["a"].iDeviceType&&this.changeInputValid()},changeInputValid:function(){var e=n["a"]._oDDNSInfo;e.bEnableDdns?(this.oParamsValid.oServerAddr.required=!0,this.oParamsValid.oDomain.required=!0,this.oParamsValid.oUserName.required=!0,this.oParamsValid.oPassword.required=!0,this.oParamsValid.oPasswordConfirm.required=!0,this.oParamsValid.oDomain.hiddns=!1,this.bSkipValid=!1,"IPServer"===e.szDdnsType?(this.oParamsValid.oDomain.required=!1,this.oParamsValid.oUserName.required=!1,this.oParamsValid.oPassword.required=!1,this.oParamsValid.oPasswordConfirm.required=!1,this.bSkipValid=!0):"dyndns"===e.szDdnsType.toLowerCase()||"NO-IP"===e.szDdnsType||"NoIpDns"===e.szDdnsType||("PeanutHall"===e.szDdnsType?(this.oParamsValid.oServerAddr.required=!1,this.oParamsValid.oDomain.required=!1):"HiDDNS"===e.szDdnsType&&(this.oParamsValid.oDomain.hiddns=!0,this.oParamsValid.oUserName.required=!1,this.oParamsValid.oPassword.required=!1,this.oParamsValid.oPasswordConfirm.required=!1,this.bSkipValid=!0)),this.updatedPassword()):(this.oParamsValid.oServerAddr.required=!1,this.oParamsValid.oDomain.required=!1,this.oParamsValid.oUserName.required=!1,this.oParamsValid.oPassword.required=!1,this.oParamsValid.oPasswordConfirm.required=!1,this.oParamsValid.oDomain.hiddns=!1,this.bSkipValid=!0)},updatedPassword:function(){var e=this;this.oDDNSInfo.oPassword.szPassword!==this.oDDNSInfo.oPassword.szPasswordConfirm?(this.oParamsValid.oPasswordConfirm.required=!0,this.oParamsValid.oPasswordConfirm.confirmPass=function(){return e.oDDNSInfo.oPassword.szPasswordConfirm===e.oDDNSInfo.oPassword.szPassword}):(this.oParamsValid.oPasswordConfirm.required=!1,this.oParamsValid.oPasswordConfirm.confirmPass=!0)},save:function(e){var t=this;this.validate.validateAll(),o["a"].validateTips(this.validate.getErrorReport())&&(this.bLazyLoading=!0,n["a"].save(e).then((function(){t.bLazyLoading=!1})))}}}}).call(this,a("1157"))},cf27:function(e,t,a){"use strict";a("af8b")},cffc1:function(e,t,a){"use strict";(function(e){a("c5f6"),a("b54a"),a("96cf");var i=a("1da1"),n=a("6458"),o=a("7fd1"),r=a("b77f"),s=a("962a"),l=a("1f20"),c=a("23d7"),u=a("c050");t["a"]={components:{ChannelList:n["a"],BasePageExtend:s["a"],TimePlan:c["a"],BaseLink:r["a"]},data:function(){return{validate:{},oInputDataValid:o["a"].m_oParamsValid,oEventInfo:{},oEventInfoTemp:{},oEventCap:{},oEventCapTemp:{},oParams:{},oParamsTemp:{},aTimes:o["a"].oEventInfo.oScheduleTimes,aTimesTemp:[],min:0,bSupportChannelCap:!1,bShowLink:!1,bEnableCancelCallback:!0,bShowSchedule:!1,oChannel:{id:-1},bShowNotSupport:!1}},computed:{bLazyLoading:function(){return o["a"].oEventInfo.bLoading}},watch:{"oChannel.id":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t>-1&&o["a"].init(t,this.bSupportChannelCap).finally((function(){a.oParams=o["a"].oParams,a.oEventInfo=o["a"].oEventInfo,a.oEventCap=o["a"].oEventCap,a.bShowNotSupport=!a.oEventCap.bChannelSupport||!a.oEventCap.bSupportRule&&!a.oEventCap.bSupportSchedule&&!a.oEventCap.bSupportLink,a.initLink()}));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),immediate:!0,deep:!0}},created:function(){this.init()},methods:{initLink:function(){var t=this;this.bShowLink=!1,e.extend(!0,this.oEventInfoTemp,this.oEventInfo),this.bShowLink=!0,this.$nextTick((function(){t.$refs.link&&(t.$refs.link.linkData=t.oEventInfo.oLink,t.$refs.link.$forceUpdate())}))},init:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,l["a"].getDeviceCapa().then(Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=a.$route.query&&a.$route.query.channelID,a.oChannel={id:Number(t)||1},a.bSupportChannelCap=l["a"].m_oDeviceCapa.bSupportChannelEventCap;case 3:case"end":return e.stop()}}),e)}))));case 3:o["a"].init(t.oChannel.id,this.bSupportChannelCap).then((function(){o["a"].getDetectLink(),a.oParams=o["a"].oParams,a.oEventInfo=o["a"].oEventInfo,a.oEventCap=o["a"].oEventCap,a.bShowNotSupport=!a.oEventCap.bChannelSupport||!a.oEventCap.bSupportRule&&!a.oEventCap.bSupportSchedule&&!a.oEventCap.bSupportLink,a.aTimes=a.oEventInfo.oScheduleTimes,a.initLink()}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),showLink:function(){e.extend(!0,this.oEventInfoTemp,this.oEventInfo),this.bShowLink=!0},showSchedule:function(){e.extend(!0,this.oEventInfoTemp,this.oEventInfo),e.extend(!0,this.oEventCapTemp,this.oEventCap),e.extend(!0,this.oParamsTemp,this.oParams),this.aTimesTemp=JSON.parse(JSON.stringify(this.aTimes)),this.bShowSchedule=!0},cancelCallbackLink:function(){e.extend(!0,this.oEventInfo,this.oEventInfoTemp),this.bShowLink=!1},confirmLink:function(){this.bShowLink=!1},save:function(){this.validate.validateAll(),u["a"].validateTips(this.validate.getErrorReport())&&o["a"].save()},cancelCallbackArmSchedule:function(){e.extend(!0,this.oEventInfo,this.oEventInfoTemp),e.extend(!0,this.oEventCap,this.oEventCapTemp),this.aTimes=[],this.aTimes=JSON.parse(JSON.stringify(this.aTimesTemp)),this.oEventInfo.oScheduleTimes=this.aTimes,e.extend(!0,this.oParams,this.oParamsTemp),this.bShowSchedule=!1},confirmArmSchedule:function(){this.bShowSchedule=!1,this.aTimes=this.$refs.timePlan.timesData,this.oEventInfo.oScheduleTimes=this.aTimes},deleteAll:function(){for(var e=0,t=this.oEventInfo.oScheduleTimes.length;e<t;e++)this.oEventInfo.oScheduleTimes[e]=[];this.$refs.timePlan.timesData=this.oEventInfo.oScheduleTimes,this.$refs.timePlan.$forceUpdate()}}}}).call(this,a("1157"))},d0b8:function(e,t,a){},d198:function(e,t,a){},d19f:function(e,t,a){"use strict";a("84ae")},d232:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("portMap"),"right-type":"text","show-save-button":!0,"save-text":e.$t("save"),"b-lazy-loading":e.bLazyLoading},on:{"save-handle":e.save}},[t("div",{staticClass:"nat-page-wrapper",attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"hm-index-list-item"},[t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("enableUPnP")}},[t("hm-switch",{model:{value:e.oNATInfo.bEnableUpnp,callback:function(t){e.$set(e.oNATInfo,"bEnableUpnp",t)},expression:"oNATInfo.bEnableUpnp"}})],1),e.oCapbilities.bFriendlyName?t("hm-cell",{staticClass:"item-name",class:{"cell-require":e.oParamsValid.oNameValid&&e.oParamsValid.oNameValid.required},attrs:{title:e.$t("friendlyName")}},[t("hm-input",{attrs:{indicator:!1},model:{value:e.oNATInfo.szFriendlyName,callback:function(t){e.$set(e.oNATInfo,"szFriendlyName",t)},expression:"oNATInfo.szFriendlyName"}}),t("hm-validator",{attrs:{model:e.oNATInfo.szFriendlyName,rules:e.oParamsValid.oNameValid,param:e.$t("friendlyName")}})],1):e._e(),t("hm-cell",{attrs:{title:e.$t("portMapType")}},[t("base-select",{attrs:{title:e.$t("portMapType"),options:e.aNatTypeList,disabled:!e.oNATInfo.bEnableUpnp},model:{value:e.oNATInfo.szNatType,callback:function(t){e.$set(e.oNATInfo,"szNatType",t)},expression:"oNATInfo.szNatType"}})],1)],1),t("hm-cell-group",{staticClass:"custom-cell-group min-height-64-cell",attrs:{title:e.$t("portMapList")}},e._l(e.oPortList,(function(a,i){return t("hm-cell",{key:i,attrs:{"is-link":"",title:a.portType,label:a.externalPort},nativeOn:{click:function(t){return e.onItemClick(a)}}})})),1)],1)],1),t("hm-modal",{attrs:{visible:e.bShowPortDetails,title:e.$t("portDetails"),"half-height":!0},on:{close:e.cancelCallback}},[t("hm-scroll",{staticClass:"model-content"},[t("port-details",{ref:"portDetails",attrs:{"port-details-data":e.oPortDetails,"port-status":e.odistable.value},on:{changePort:e.changePort}})],1),t("div",{staticClass:"footer"},[t("hm-button",{on:{click:e.confirm}},[e._v(e._s(e.$t("ok")))])],1)],1)],1)])},n=[],o=(a("96cf"),a("1da1")),r=a("960a"),s=a("c050"),l=a("3e23"),c=a("47b5"),u={name:"PORT",components:{PortDetails:l["default"],BaseSelect:c["a"]},data:function(){return{bLazyLoading:!1,validate:{},oNATInfo:r["a"].m_oParams,oCapbilities:r["a"].m_oCap,oParamsValid:r["a"].m_oParamsValid,oPortList:r["a"].aItems,oPortDetails:null,aNatTypeList:[{value:"auto",text:this.$t("automatic")},{value:"manual",text:this.$t("manual")}],odistable:{value:!1},bEnableCancelCallback:!0,bEnableShowTips:!1,bShowPortDetails:!1,upExternalPortData:"",checked:!1}},watch:{"oNATInfo.szNatType":{handler:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"auto"===t?this.odistable.value=!0:"manual"===t&&(this.odistable.value=!1);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0}},created:function(){var e=this,t=this;r["a"].initUpnp().finally((function(){t.oPortList=r["a"].aItems,"auto"===e.oNATInfo.szNatType?e.odistable.value=!0:"manual"===e.oNATInfo.szNatType&&(e.odistable.value=!1)}))},methods:{onItemClick:function(e){e&&(this.oPortDetails=e,"active"===this.oPortDetails.state?this.oPortDetails.status=this.$t("valid"):"inactive"===this.oPortDetails.state?this.oPortDetails.status=this.$t("invalid"):"conflict"===this.oPortDetails.state&&(this.oPortDetails.status=this.$t("portConflict")),this.bShowPortDetails=!0)},cancelCallback:function(){this.bShowPortDetails=!1},confirm:function(){this.$refs.portDetails.changePort(),this.checked&&(this.oPortDetails.externalPort=this.upExternalPortData,this.bShowPortDetails=!1)},changePort:function(e,t){this.checked=e,e&&(this.upExternalPortData=t)},closeExpand:function(){this.autoExpand=!1},save:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.validate.validateAll(),!s["a"].validateTips(this.validate.getErrorReport())){e.next=6;break}return this.bLazyLoading=!0,e.next=5,r["a"].save();case 5:this.bLazyLoading=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},d=u,p=(a("96c8"),a("f1d2"),a("2877")),m=Object(p["a"])(d,i,n,!1,null,"489c80d3",null);t["default"]=m.exports},d234:function(e,t,a){"use strict";a("e8bd")},d30d:function(e,t,a){"use strict";a("155d")},d499:function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"base-page-rotate",class:e.type},[t("header",{staticClass:"header"},[t("div",{staticClass:"hm-picker-choose border-bottom-1px"},[t("span",{staticClass:"hm-picker-cancel-extend",on:{click:e.back}},[e._v(e._s(e.$t("cancel")))]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.showClearOnePloyon,expression:"showClearOnePloyon"}],staticClass:"hm-picker-clearone-extend",on:{click:e.clearOnePolygon}},[e._v(e._s(e.$t("deleteSelectRegion")))]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.showClearPloyon,expression:"showClearPloyon"}],staticClass:"hm-picker-clear-extend",on:{click:e.clearPolygon}},[e._v(e._s(e.$t("clearRegion")))]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.showDrawPloyon,expression:"showDrawPloyon"}],staticClass:"hm-picker-draw-extend",on:{click:e.drawPolygon}},[e._v(e._s(e.$t("drawArea")))]),t("span",{staticClass:"hm-picker-confirm-extend",on:{click:e.confirm}},[e._v(e._s(e.$t("ok")))])])]),t("div",{staticClass:"wrapper",class:{"flow-y-hidden":e.isIOS,"flow-y-auto":!e.isIOS}},[t("main",{staticClass:"content"},[e._t("content",(function(){return[e._v("\n        "+e._s(e.content)+"\n      ")]}))],2)]),t("header",{staticClass:"footer"},[t("div",{staticClass:"hm-picker-choose border-bottom-1px"},[t("div",{staticClass:"hm-picker-title-group"},[t("h1",{staticClass:"hm-picker-title-extend"},[e._v("\n          "+e._s(e.title)+"\n        ")])])])])])},n=[],o=(a("96cf"),a("1da1")),r=(a("4917"),"confirm"),s="cancelcallback",l="drawPolygon",c="clearPolygon",u="clearOnePolygon",d=navigator.userAgent,p={props:{title:{type:String,default:"",required:!0},type:{type:String,default:""},content:{type:String,default:""},enableCancelCallback:{type:Boolean,default:!1},showDrawPloyon:{type:Boolean,default:!1},showClearOnePloyon:{type:Boolean,default:!1},showClearPloyon:{type:Boolean,default:!1}},data:function(){return{isIOS:!1}},created:function(){this.isIOS=!!d.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)||-1!==d.indexOf("AppleWebKit")||-1!==d.indexOf("iPhone")||-1!==d.indexOf("iPad")},methods:{back:function(){this.enableCancelCallback?this.$emit(s):this.$router.back(),this.fullScreenTip(!1)},confirm:function(){this.$emit(r),this.fullScreenTip(!1)},drawPolygon:function(){this.$emit(l),this.fullScreenTip(!0)},clearOnePolygon:function(){this.$emit(u),this.fullScreenTip(!0)},clearPolygon:function(){this.$emit(c),this.fullScreenTip(!0)},fullScreenTip:function(e){this.$nextTick(Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:document.getElementsByClassName("hm-dialog")[0]&&document.getElementsByClassName("hm-dialog")[0].lastChild&&document.getElementsByClassName("hm-dialog")[0].lastChild.childNodes[0]&&(a=document.getElementsByClassName("hm-dialog")[0].lastChild.childNodes[0],e?a.style.transform="matrix(6.12323e-17, -1, 1, 6.12323e-17, -121.8, -64)":a&&a.style&&(a.style.transform="matrix(1, 0, 0, 1, -128, -58)"));case 1:case"end":return t.stop()}}),t)}))))}}},m=p,h=(a("d234"),a("2877")),f=Object(h["a"])(m,i,n,!1,null,"3e6a9967",null);t["a"]=f.exports},d4b7:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("recordSchedule"),"b-lazy-loading":e.oParams.bLazyLoading,"right-type":"text"}},[t("div",{staticClass:"plan-record-content",attrs:{slot:"content"},slot:"content"},[t("hm-scroll",[t("div",{staticClass:"hm-index-list-item"},[t("channel-list",{ref:"channel",attrs:{"o-channel":e.oChannel}}),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("recordSchedule")}},[t("hm-cell",{attrs:{title:e.$t("enable")}},[t("hm-switch",{model:{value:e.oParams.bEnablePlan,callback:function(t){e.$set(e.oParams,"bEnablePlan",t)},expression:"oParams.bEnablePlan"}})],1)],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("recordParam")}},[e.oCapbilities.bSupportLocalButtonRecordControl?e._e():t("hm-cell",{attrs:{title:e.$t("preRecordTime")}},[t("base-select",{attrs:{title:e.$t("preRecordTime"),options:e.m_oCapTimes.preRecordTimeList},model:{value:e.oParams.szPreRecord,callback:function(t){e.$set(e.oParams,"szPreRecord",t)},expression:"oParams.szPreRecord"}})],1),e.oCapbilities.bSupportPostRecordTimeSeconds&&!e.oCapbilities.bSupportLocalButtonRecordControl?t("hm-cell",{attrs:{title:e.$t("recordDelay")}},[t("base-select",{attrs:{title:e.$t("recordDelay"),options:e.m_oCapTimes.recordDelayList},model:{value:e.oParams.szRecordDelay,callback:function(t){e.$set(e.oParams,"szRecordDelay",t)},expression:"oParams.szRecordDelay"}})],1):e._e()],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{"is-link":"",title:e.$t("recordSchedule")},nativeOn:{click:function(t){return e.showSchedule()}}})],1),t("div",{staticClass:"hm-btn-group record-button"},[t("hm-button",{attrs:{light:!0},on:{click:function(t){return e.copyTo()}}},[e._v("\n            "+e._s(e.$t("copyTo"))+"\n          ")]),t("hm-button",{on:{click:function(t){return e.save(e.aTimes)}}},[e._v("\n            "+e._s(e.$t("save"))+"\n          ")])],1)],1)]),e.bRecordSchedule?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:e.$t("recordSchedule"),"show-footer":!0,"enable-cancel-callback":e.bEnableCancelCallback},on:{delete:e.deleteAll,cancelcallback:e.cancelcallback,confirm:e.confirm}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"swipe-wrapper time-plan-padding swipe-wrapper-show-footer"},[t("hm-scroll",[t("time-plan",{ref:"timePlan",attrs:{"times-data":e.aTimes,holiday:e.oCapbilities.bHoliday,types:e.oCapbilities.aRecordType}})],1)],1)])])],1):e._e(),t("hm-modal",{staticClass:"custom-modal",attrs:{visible:e.showCopy,title:e.$t("copyTo"),"half-height":!0},on:{close:e.close}},[t("div",{staticClass:"channel-content"},[t("div",{staticClass:"select-content"},[t("hm-checkbox-group",{attrs:{options:e.channelList,position:"left"},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}})],1)]),t("div",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[t("div",{staticClass:"footer-top"},[t("hm-checkbox",{attrs:{position:"left","hollow-style":!0},on:{input:e.selectAll},model:{value:e.allChecked,callback:function(t){e.allChecked=t},expression:"allChecked"}},[e._v("\n            "+e._s(e.$t("selectAll"))+"\n          ")]),t("div",{staticClass:"selected-num"},[e._v("\n            "+e._s("".concat(e.$t("hadChoose"),"(").concat(e.checkList.length,")"))+"\n          ")])],1),t("hm-button",{attrs:{disabled:1===e.checkList.length},on:{click:e.copySchedule}},[e._v("\n          "+e._s(e.$t("ok"))+"\n        ")])],1)])],1)])},n=[],o=a("e5d7"),r=o["a"],s=(a("1327"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"5c4f0e7f",null);t["default"]=l.exports},d4ce:function(e,t,a){},d53e:function(e,t,a){"use strict";a("9275")},d5b6:function(e,t,a){"use strict";a("3303")},d5f9:function(e,t,a){"use strict";a("c6ec")},d618:function(e,t,a){"use strict";a("031b")},d63a:function(e,t,a){},d6ca:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("ddns"),"right-type":"text","show-save-button":!0,"save-text":e.$t("save"),"b-lazy-loading":e.bLazyLoading},on:{"save-handle":e.save}},[t("div",{staticClass:"ddns-page-wrapper",attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"hm-index-list-item"},[t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("enable")}},[t("hm-switch",{model:{value:e.oDDNSInfo.bEnableDdns,callback:function(t){e.$set(e.oDDNSInfo,"bEnableDdns",t)},expression:"oDDNSInfo.bEnableDdns"}})],1),t("hm-cell",{attrs:{title:e.$t("ddnsType")}},[t("base-select",{attrs:{title:e.$t("ddnsType"),options:e.oCapbilities.aDDNSList,disabled:!e.oDDNSInfo.bEnableDdns},model:{value:e.oDDNSInfo.szDdnsType,callback:function(t){e.$set(e.oDDNSInfo,"szDdnsType",t)},expression:"oDDNSInfo.szDdnsType"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapbilities.bSupportCountry&&"HiDDNS"===e.oDDNSInfo.szDdnsType,expression:"oCapbilities.bSupportCountry && oDDNSInfo.szDdnsType === 'HiDDNS'"}],attrs:{title:e.$t("locality")}},[t("base-select",{attrs:{title:e.$t("locality"),options:e.oCapbilities.aRegionList,disabled:!e.oDDNSInfo.bEnableDdns},model:{value:e.oDDNSInfo.szRegion,callback:function(t){e.$set(e.oDDNSInfo,"szRegion",t)},expression:"oDDNSInfo.szRegion"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapbilities.bSupportCountry&&"HiDDNS"===e.oDDNSInfo.szDdnsType&&e.oDDNSInfo.bEnableCountry,expression:"oCapbilities.bSupportCountry && oDDNSInfo.szDdnsType === 'HiDDNS' && oDDNSInfo.bEnableCountry"}],attrs:{title:e.$t("country")}},[t("base-select",{attrs:{title:e.$t("country"),options:e.oCapbilities.aCountryList,disabled:!e.oDDNSInfo.bEnableDdns||"Withcctv"===e.oDDNSInfo.szDdnsType},model:{value:e.oDDNSInfo.szCountry,callback:function(t){e.$set(e.oDDNSInfo,"szCountry",t)},expression:"oDDNSInfo.szCountry"}})],1),"PeanutHall"!==e.oDDNSInfo.szDdnsType?t("hm-cell",{class:{"cell-require":e.oParamsValid.oServerAddr&&e.oParamsValid.oServerAddr.required},attrs:{title:e.$t("serverAdd")}},[t("hm-input",{attrs:{disabled:!e.oDDNSInfo.bEnableDdns||"HiDDNS"===e.oDDNSInfo.szDdnsType&&e.oCapbilities.bSupportCountry&&"0"!==e.oDDNSInfo.szCountry},model:{value:e.oDDNSInfo.szServerAddress,callback:function(t){e.$set(e.oDDNSInfo,"szServerAddress",t)},expression:"oDDNSInfo.szServerAddress"}}),t("hm-validator",{attrs:{model:e.oDDNSInfo.szServerAddress,rules:e.oParamsValid.oServerAddr,param:e.$t("serverAdd"),maxlength:64}})],1):e._e(),"PeanutHall"!==e.oDDNSInfo.szDdnsType?t("hm-cell",{class:{"cell-require":e.oParamsValid.oDomain&&e.oParamsValid.oDomain.required},attrs:{title:e.$t("deviceDomain")}},[t("hm-input",{attrs:{disabled:!e.oDDNSInfo.bEnableDdns||"IPServer"===e.oDDNSInfo.szDdnsType},model:{value:e.oDDNSInfo.szDomain,callback:function(t){e.$set(e.oDDNSInfo,"szDomain",t)},expression:"oDDNSInfo.szDomain"}}),t("hm-validator",{attrs:{model:e.oDDNSInfo.szDomain,rules:e.oParamsValid.oDomain,param:e.$t("deviceDomain"),maxlength:64}})],1):e._e(),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapbilities.bSupportPort,expression:"oCapbilities.bSupportPort"}],attrs:{title:e.$t("port")}},[t("hm-input",{attrs:{disabled:!0},model:{value:e.oDDNSInfo.iPort,callback:function(t){e.$set(e.oDDNSInfo,"iPort",t)},expression:"oDDNSInfo.iPort"}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oUserName&&e.oParamsValid.oUserName.required},attrs:{title:e.$t("username")}},[t("hm-input",{attrs:{disabled:!e.oDDNSInfo.bEnableDdns||"Withcctv"===e.oDDNSInfo.szDdnsType||"IPServer"===e.oDDNSInfo.szDdnsType||"HiDDNS"===e.oDDNSInfo.szDdnsType},model:{value:e.oDDNSInfo.szUserName,callback:function(t){e.$set(e.oDDNSInfo,"szUserName",t)},expression:"oDDNSInfo.szUserName"}}),t("hm-validator",{attrs:{model:e.oDDNSInfo.szUserName,rules:e.oParamsValid.oUserName,param:e.$t("username"),maxlength:32,disabled:e.bSkipValid}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oPassword&&e.oParamsValid.oPassword.required},attrs:{title:e.$t("password")}},[t("hm-input",{attrs:{placeholder:e.$t("password"),type:"password",disabled:!e.oDDNSInfo.bEnableDdns||"Withcctv"===e.oDDNSInfo.szDdnsType||"IPServer"===e.oDDNSInfo.szDdnsType||"HiDDNS"===e.oDDNSInfo.szDdnsType},model:{value:e.oDDNSInfo.oPassword.szPassword,callback:function(t){e.$set(e.oDDNSInfo.oPassword,"szPassword",t)},expression:"oDDNSInfo.oPassword.szPassword"}}),t("hm-validator",{attrs:{model:e.oDDNSInfo.oPassword.szPassword,rules:e.oParamsValid.oPassword,param:e.$t("password"),disabled:e.bSkipValid}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oPasswordConfirm&&e.oParamsValid.oPasswordConfirm.required},attrs:{title:e.$t("confirmPassword")}},[t("hm-input",{attrs:{type:"password",disabled:!e.oDDNSInfo.bEnableDdns||"Withcctv"===e.oDDNSInfo.szDdnsType||"IPServer"===e.oDDNSInfo.szDdnsType||"HiDDNS"===e.oDDNSInfo.szDdnsType},model:{value:e.oDDNSInfo.oPassword.szPasswordConfirm,callback:function(t){e.$set(e.oDDNSInfo.oPassword,"szPasswordConfirm",t)},expression:"oDDNSInfo.oPassword.szPasswordConfirm"}}),t("hm-validator",{attrs:{model:e.oDDNSInfo.oPassword.szPasswordConfirm,rules:e.oParamsValid.oPasswordConfirm,param:e.$t("confirmPassword"),disabled:e.bSkipValid}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapbilities.bSupportStatus,expression:"oCapbilities.bSupportStatus"}],attrs:{title:e.$t("state")}},[t("base-select",{attrs:{title:e.$t("state"),options:e.oCapbilities.aStatus,disabled:!0},model:{value:e.oDDNSInfo.szDdnsStatus,callback:function(t){e.$set(e.oDDNSInfo,"szDdnsStatus",t)},expression:"oDDNSInfo.szDdnsStatus"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapbilities.bSupportDdnsTest,expression:"oCapbilities.bSupportDdnsTest"}]},[t("hm-button",{on:{click:function(t){return e.save(1)}}},[e._v(e._s(e.$t("test")))])],1)],1)],1)],1)])])},n=[],o=a("cf07"),r=o["a"],s=(a("e95e"),a("6618"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"8f95d054",null);t["default"]=l.exports},d790:function(e,t,a){},d995:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("ROI"),"right-type":"text","show-save-button":!e.bLandscapeMode,"save-text":e.$t("save"),"b-lazy-loading":e.bLazyLoading},on:{"save-handle":e.save}},[t("div",{staticClass:"roi-page-wrapper",attrs:{slot:"content"},slot:"content"},[t("div",[t("channel-list",{attrs:{"o-channel":e.oChannel,"show-type":"tab"}}),e.bLandscapeMode?e._e():t("div",{staticClass:"plugin-small"},[t("plugin-wind",{attrs:{mode:"motiondetect","o-channel":e.oChannel,hide:e.bPluginHide},on:{"play-success":e.playSuccess}})],1),t("div",[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",[t("div",{attrs:{slot:"title"},slot:"title"},[t("span",{staticClass:"blue-button",on:{click:function(t){return e.draw()}}},[e._v(e._s(e.$t("drawRules")))])])])],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("streamType"),"V-show":"oRoiCapa.bSupportStream"}},[t("hm-cell",{attrs:{title:e.$t("streamType")}},[t("base-select",{attrs:{title:e.$t("streamType"),options:e.oRoiCapa.aSupportStream},model:{value:e.oRoiParams.streamType,callback:function(t){e.$set(e.oRoiParams,"streamType",t)},expression:"oRoiParams.streamType"}})],1)],1),t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("fixedRegion")}},[t("hm-cell",{attrs:{title:e.$t("regionNo")}},[t("base-select",{attrs:{title:e.$t("regionNo"),options:e.oRoiCapa.regionNos},model:{value:e.oRoiParams.regionNo,callback:function(t){e.$set(e.oRoiParams,"regionNo",t)},expression:"oRoiParams.regionNo"}})],1),t("hm-cell",{attrs:{title:e.$t("enable")}},[t("hm-switch",{model:{value:e.oRoiParams.enableFixedROI,callback:function(t){e.$set(e.oRoiParams,"enableFixedROI",t)},expression:"oRoiParams.enableFixedROI"}})],1),t("hm-cell",{attrs:{title:e.$t("roiLevel")}},[t("base-select",{attrs:{title:e.$t("roiLevel"),options:e.oRoiCapa.fixedROILevels},model:{value:e.oRoiParams.fixedROILevel,callback:function(t){e.$set(e.oRoiParams,"fixedROILevel",t)},expression:"oRoiParams.fixedROILevel"}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oRegionName&&e.oParamsValid.oRegionName.required},attrs:{title:e.$t("regionName")}},[t("hm-input",{attrs:{placeholder:e.$t("pleaseEnter")},model:{value:e.oRoiParams.regionName,callback:function(t){e.$set(e.oRoiParams,"regionName",t)},expression:"oRoiParams.regionName"}})],1),t("hm-validator",{attrs:{model:e.oRoiParams.regionName,rules:e.oParamsValid.oRegionName,param:e.$t("regionName")}})],1)],1),t("hm-cell-group",{directives:[{name:"show",rawName:"v-show",value:e.oRoiCapa.bSupportFaceTrack||e.oRoiCapa.bSupportPlateTrack||e.oRoiCapa.bSupportTargetTrack,expression:"oRoiCapa.bSupportFaceTrack || oRoiCapa.bSupportPlateTrack || oRoiCapa.bSupportTargetTrack"}],attrs:{title:e.$t("dynamicRegion")}},[t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oRoiCapa.bSupportFaceTrack,expression:"oRoiCapa.bSupportFaceTrack"}],attrs:{title:e.$t("enable")}},[t("hm-switch",{model:{value:e.oRoiParams.enableFaceTrack,callback:function(t){e.$set(e.oRoiParams,"enableFaceTrack",t)},expression:"oRoiParams.enableFaceTrack"}})],1),t("hm-cell",{attrs:{title:e.$t("roiLevel")}},[t("base-select",{attrs:{title:e.$t("roiLevel"),options:e.oRoiCapa.faceTrackLevels},model:{value:e.oRoiParams.faceTrackLevel,callback:function(t){e.$set(e.oRoiParams,"faceTrackLevel",t)},expression:"oRoiParams.faceTrackLevel"}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.oRoiCapa.bSupportPlateTrack,expression:"oRoiCapa.bSupportPlateTrack"}]},[t("hm-cell",{attrs:{title:e.$t("enable")}},[t("hm-switch",{model:{value:e.oRoiParams.enableLicPlateTrack,callback:function(t){e.$set(e.oRoiParams,"enableLicPlateTrack",t)},expression:"oRoiParams.enableLicPlateTrack"}})],1),t("hm-cell",{attrs:{title:e.$t("roiLevel")}},[t("base-select",{attrs:{title:e.$t("roiLevel"),options:e.oRoiCapa.plateTrackLevels},model:{value:e.oRoiParams.plateTrackLevel,callback:function(t){e.$set(e.oRoiParams,"plateTrackLevel",t)},expression:"oRoiParams.plateTrackLevel"}})],1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.oRoiCapa.bSupportTargetTrack,expression:"oRoiCapa.bSupportTargetTrack"}]},[t("hm-cell",{attrs:{title:e.$t("enable")}},[t("hm-switch",{model:{value:e.oRoiParams.enableTargetTrack,callback:function(t){e.$set(e.oRoiParams,"enableTargetTrack",t)},expression:"oRoiParams.enableTargetTrack"}})],1),t("hm-cell",{attrs:{title:e.$t("roiLevel")}},[t("base-select",{attrs:{title:e.$t("roiLevel"),options:e.oRoiCapa.targetTrackLevels},model:{value:e.oRoiParams.targetTrackLevel,callback:function(t){e.$set(e.oRoiParams,"targetTrackLevel",t)},expression:"oRoiParams.targetTrackLevel"}})],1)],1)],1)],1)],1),e.bLandscapeMode?t("div",{staticClass:"full-screen-display"},[t("new-base-page-extend-rotate",{attrs:{title:e.$t("drawGridTip"),"enable-cancel-callback":e.bEnableCancelCallback},on:{cancelcallback:e.cancelLandscapeMode,confirm:e.confirmLandscapeMode,clearPolygon:e.clear,drawPolygon:e.drawRegion}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"plugin-small-ex"},[t("plugin-wind",{attrs:{mode:"motiondetect","o-channel":e.oChannel,hide:e.bPluginHide},on:{"play-success":e.playSuccess}})],1)])])],1):e._e(),t("base-view")],1)])},n=[],o=a("42f9"),r=o["a"],s=(a("cdd6"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"cc81764e",null);t["default"]=l.exports},daee:function(e,t,a){"use strict";var i=a("f193"),n=a("d09c"),o={},r={getEmailCap:function(){return new Promise((function(e,t){var a={urlCGI:"emailCap",params:null,data:null,loading:!0};i["a"].get(a).then((function(t){e(t)}),(function(e){n["a"].saveState(e),t(e)}))}))},getEmailInfo:function(){return new Promise((function(e,t){var a={urlCGI:"email",params:null,data:null,loading:!0,bSecurity:!0};i["a"].get(a).then((function(t){e(t.oResult)}),(function(e){n["a"].saveState(e),t(e)}))}))},getEmailInfoEncrypt:function(){return new Promise((function(e,t){var a={urlCGI:"emailEncrypt",params:null,data:null,loading:!0,bSecurity:!0};i["a"].get(a).then((function(t){e(t.oResult)}),(function(e){n["a"].saveState(e),t(e)}))}))},save:function(e,t){e.state;return new Promise((function(e,a){i["a"].put(t).then((function(t){n["a"].saveState(t.xhr),e(t)}),(function(e){n["a"].saveState(e),a(e)}))}))}},s={},l={};t["a"]={namespaced:!0,state:o,actions:r,mutations:s,getters:l}},db97f:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("videoTamper"),"left-type":"back","show-save-button":!0,"save-text":e.$t("save"),"b-lazy-loading":e.bLazyLoading},on:{"save-handle":e.save}},[t("div",{staticClass:"videoTamper-page-wrapper",attrs:{slot:"content"},slot:"content"},[t("channel-list",{attrs:{"o-channel":e.oChannel,"show-type":"tab"}}),e.bLandscapeMode?e._e():t("div",{staticClass:"plugin-small"},[t("plugin-wind",{attrs:{mode:"motiondetect","o-channel":e.oChannel,hide:e.bPluginHide},on:{"play-success":e.playSuccess}})],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("enable")}},[t("hm-switch",{model:{value:e.oEventInfo.bEnableEvent,callback:function(t){e.$set(e.oEventInfo,"bEnableEvent",t)},expression:"oEventInfo.bEnableEvent"}})],1),t("hm-cell",[t("div",{attrs:{slot:"title"},slot:"title"},[t("span",{staticClass:"blue-button",on:{click:function(t){return e.draw()}}},[e._v(e._s(e.$t("drawRules")))])])])],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("basicParam")}},[t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("sensitivity")+"："+e.oEventInfo.iSensitive}}),t("hm-cell",{staticClass:"slider-wrapper-cell"},[t("mt-range",{staticClass:"slider-wrapper",attrs:{step:e.oEventCap.oSliderCap.iStep,min:e.oEventCap.oSliderCap.iMin,max:e.oEventCap.oSliderCap.iMax},model:{value:e.oEventInfo.iSensitive,callback:function(t){e.$set(e.oEventInfo,"iSensitive",t)},expression:"oEventInfo.iSensitive"}})],1)],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("armSchedulePlan")}},[t("hm-cell",{attrs:{"is-link":"",title:e.$t("armSchedulePlan")},nativeOn:{click:function(t){return e.showArmSchedule()}}})],1),e.bShowLink?t("base-link",{ref:"link",attrs:{link:e.oEventInfo.oLink}}):e._e(),e.bShowSchedule?t("div",{staticClass:"full-screen-display"},[t("BasePageExtend",{attrs:{title:e.$t("armSchedule"),"show-footer":!0,"enable-cancel-callback":e.bEnableCancelCallback},on:{cancelcallback:e.cancelCallbackArmSchedule,confirm:e.confirmArmSchedule,delete:e.deleteAll}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"time-plan-padding swipe-wrapper-show-footer"},[t("hm-scroll",[t("time-plan",{ref:"timePlan",attrs:{"times-data":e.oEventInfo.oScheduleTimes,holiday:e.oEventCap.bSupportHoliday,"show-types":e.bShowTypes}})],1)],1)])])],1):e._e(),e.bLandscapeMode?t("div",{staticClass:"full-screen-display"},[t("NewBasePageExtendRotate",{attrs:{title:e.$t("drawGridTip"),"enable-cancel-callback":e.bEnableCancelCallback},on:{cancelcallback:e.cancelLandscapeMode,confirm:e.confirmLandscapeMode,clearPolygon:e.clear,drawPolygon:e.drawRegion}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"plugin-small-ex"},[t("plugin-wind",{attrs:{mode:"motiondetect","o-channel":e.oChannel,hide:e.bPluginHide},on:{"play-success":e.playSuccess}})],1)])])],1):e._e()],1)])},n=[],o=a("867b"),r=o["a"],s=(a("5624"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"6e3521d4",null);t["default"]=l.exports},dba4:function(e,t,a){},dbe3:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"mode-page-wrapper"},[t("hm-scroll",[e.oCap.oWorkMode.bSupport?t("hm-cell-group",{attrs:{title:e.$t("consumptionMode")}},[t("hm-cell",{attrs:{title:e.$t("mode")}},[t("base-select",{attrs:{title:e.$t("mode"),options:e.oCap.oWorkMode.aWorkMode},model:{value:e.workMode,callback:function(t){e.workMode=t},expression:"workMode"}})],1)],1):e._e(),e.oCap.oSleepSetting.bSupport&&"sleepOrWakeup"!==e.workMode?t("hm-cell-group",{attrs:{title:e.$t("sleepCfg")}},[t("hm-cell",{attrs:{title:e.$t("enablePowrSleep")}},[t("hm-switch",{model:{value:e.timeSleep,callback:function(t){e.timeSleep=t},expression:"timeSleep"}})],1)],1):e._e(),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{on:{click:e.save}},[e._v("\n        "+e._s(e.$t("save"))+"\n      ")])],1)],1)],1)},n=[],o=(a("ac6a"),a("96cf"),a("1da1")),r=a("f193"),s=a("d09c"),l=a("c050"),c=a("47b5"),u={name:"PowerConsumptionMode",components:{BaseSelect:c["a"]},data:function(){return{oCap:{oWorkMode:{bSupport:!1,aWorkMode:[]},oSleepSetting:{bSupport:!1}},oParams:{},originalWorkMode:"",workMode:"",timeSleep:!1}},created:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getModeCap();case 2:this.getModeParams();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{getModeCap:function(){var e=this,t={fullPowerConsumption:this.$t("fullPowerConsumption"),lowPowerConsumption:this.$t("lowPowerConsumption"),lowPower:this.$t("lowPowerConsumption"),sleepOrWakeup:this.$t("sleepConsumption")},a={urlCGI:"ConsumptionModeCap",data:null,loading:!0};return r["a"].get(a).then((function(a){var i=a.oResult.ConsumptionMode;i.devWorkMode&&(e.oCap.oWorkMode.bSupport=!0,i.devWorkMode["@opt"].forEach((function(a){e.oCap.oWorkMode.aWorkMode.push({text:t[a]||a,value:a})}))),i.Sleep&&(e.oCap.oSleepSetting.bSupport=!0)}))},getModeParams:function(){var e=this,t={urlCGI:"ConsumptionModeInfo",data:null,loading:!0};r["a"].get(t).then((function(t){e.oParams=t.oResult,e.oCap.oWorkMode.bSupport&&(e.workMode=e.oParams.ConsumptionMode.devWorkMode,e.originalWorkMode=e.workMode),e.oCap.oSleepSetting.bSupport&&(e.timeSleep=e.oParams.ConsumptionMode.Sleep.enabled)}))},setModeParams:function(e){var t=this;this.oCap.oWorkMode.bSupport&&(this.oParams.ConsumptionMode.devWorkMode=this.workMode),this.oCap.oSleepSetting.bSupport&&(this.oParams.ConsumptionMode.Sleep.enabled=this.timeSleep);var a={urlCGI:"ConsumptionModeInfo",data:this.oParams,loading:!0};r["a"].put(a).then((function(a){"restart"===e?s["a"].restartNoTip():(t.originalWorkMode=t.workMode,s["a"].saveState(a.xhr))}),(function(e){s["a"].saveState(e)}))},save:function(){var e=this;this.originalWorkMode!==this.workMode&&"sleepOrWakeup"!==this.workMode?l["a"].confirm(this.$t("consumptionModeRestart"),(function(){e.setModeParams("restart")}),(function(){e.workMode=e.originalWorkMode})):this.setModeParams()}}},d=u,p=(a("6794"),a("2877")),m=Object(p["a"])(d,i,n,!1,null,"152bbba8",null);t["default"]=m.exports},dc5e:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wifi-wrapper"},[t("hm-scroll",[t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",{staticClass:"cell-group"},[t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapbilities.bSupportBridge,expression:"oCapbilities.bSupportBridge"}],attrs:{title:e.$t("enableBridging")}},[t("hm-switch",{model:{value:e.oWifiParams.bEnableBridging,callback:function(t){e.$set(e.oWifiParams,"bEnableBridging",t)},expression:"oWifiParams.bEnableBridging"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapbilities.bSupportWLANAP&&e.oCapbilities.bSupportWorkMode,expression:"oCapbilities.bSupportWLANAP && oCapbilities.bSupportWorkMode"}],attrs:{title:e.$t("workMode")}},[t("base-select",{attrs:{title:e.$t("workMode"),options:e.aWorkMode},model:{value:e.oParams.szWorkMode,callback:function(t){e.$set(e.oParams,"szWorkMode",t)},expression:"oParams.szWorkMode"}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oSSID&&e.oParamsValid.oSSID.required},attrs:{title:"SSID"}},[t("hm-input",{model:{value:e.oWifiParams.szSSID,callback:function(t){e.$set(e.oWifiParams,"szSSID",t)},expression:"oWifiParams.szSSID"}})],1),t("hm-validator",{attrs:{model:e.oWifiParams.szSSID,rules:e.oParamsValid.oSSID,param:"SSID"}}),t("hm-cell",{attrs:{title:e.$t("securityMode")}},[t("base-select",{attrs:{title:e.$t("securityMode"),options:e.oCapbilities.aSecurityModeList},model:{value:e.oWifiParams.szSecurityMode,callback:function(t){e.$set(e.oWifiParams,"szSecurityMode",t)},expression:"oWifiParams.szSecurityMode"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapbilities.bSupportWifiChannel,expression:"oCapbilities.bSupportWifiChannel"}],attrs:{title:e.$t("areaCountry")}},[t("base-select",{attrs:{title:e.$t("areaCountry"),options:e.oCapbilities.aAreaCountryList},on:{change:e.areaChange},model:{value:e.oWifiParams.szArea,callback:function(t){e.$set(e.oWifiParams,"szArea",t)},expression:"oWifiParams.szArea"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapbilities.bSupportWifiChannel,expression:"oCapbilities.bSupportWifiChannel"}],attrs:{title:e.$t("InfoChannel")}},[t("base-select",{attrs:{title:e.$t("InfoChannel"),options:e.oCapbilities.aWifiChannelList},model:{value:e.oWifiParams.szWifiChannel,callback:function(t){e.$set(e.oWifiParams,"szWifiChannel",t)},expression:"oWifiParams.szWifiChannel"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:"disable"!==e.oWifiParams.szSecurityMode,expression:"oWifiParams.szSecurityMode!=='disable'"}],attrs:{title:e.$t("encryptionType")}},[t("base-select",{attrs:{title:e.$t("encryptionType"),options:e.oCapbilities.aEncryptionTypeList},model:{value:e.oParams.szEncryptionType,callback:function(t){e.$set(e.oParams,"szEncryptionType",t)},expression:"oParams.szEncryptionType"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:"disable"!==e.oWifiParams.szSecurityMode,expression:"oWifiParams.szSecurityMode!=='disable'"}],class:{"cell-require":e.oParamsValid.oKey1&&e.oParamsValid.oKey1.required},attrs:{title:e.$t("key")}},[e.oParams.aKey?t("hm-input",{model:{value:e.oParams.aKey[0],callback:function(t){e.$set(e.oParams.aKey,0,t)},expression:"oParams.aKey[0]"}}):e._e()],1),e.oParams.aKey?t("hm-validator",{attrs:{model:e.oParams.aKey[0],rules:e.oParamsValid.oKey1,param:e.$t("key")}}):e._e()],1),t("hm-cell-group",{directives:[{name:"show",rawName:"v-show",value:e.oCapbilities.bSupportWPS,expression:"oCapbilities.bSupportWPS"}],staticClass:"cell-group",attrs:{title:"WPS"}},[t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapbilities.bSupportWpsEnable,expression:"oCapbilities.bSupportWpsEnable"}],attrs:{title:e.$t("enableWPS")}},[t("hm-switch",{model:{value:e.oParams.bEnableWps,callback:function(t){e.$set(e.oParams,"bEnableWps",t)},expression:"oParams.bEnableWps"}})],1),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{staticClass:"auto-connect-btn",attrs:{disabled:!e.oParams.bEnableWps||"1"===e.oParams.szConnectMode},on:{click:e.autoConnect}},[e._v("\n            "+e._s(e.$t("pbcConnect"))+"\n          ")])],1)],1)],1),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{on:{click:e.save}},[e._v("\n        "+e._s(e.$t("save"))+"\n      ")])],1)],1),t("base-view")],1)},n=[],o=(a("96cf"),a("1da1")),r=a("1c1a"),s=a("b758"),l=a("c050"),c=a("47b5"),u={name:"Wifi",components:{BaseView:r["a"],BaseSelect:c["a"]},data:function(){return{validate:{},oParams:{},oParamsValid:{},oCapbilities:{},oWifiParams:{},aWorkMode:[{value:"router",text:"Router"},{value:"ap",text:"AP"}]}},watch:{"oWifiParams.szSecurityMode":{handler:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0},"oParams.szConnectMode":{handler:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0},"oParams.bEnableWps":{handler:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0}},created:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s["a"].initWifi().finally((function(){t.oCapbilities=s["a"].m_oCapbilities,t.oParams=s["a"].m_oParams,t.oWifiParams=s["a"].m_oWifiParams,t.oParamsValid=s["a"].m_oParamsValid}));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),methods:{areaChange:function(){s["a"].getWifiChannelCap(this.oWifiParams.szArea),1*this.oWifiParams.szWifiChannel>s["a"].iMaxChannelId&&(this.oWifiParams.szWifiChannel="0")},autoConnect:function(){s["a"].autoConnect()},save:function(){l["a"].validateTips(this.validate.getErrorReport())&&s["a"].save()}}},d=u,p=(a("053c"),a("2877")),m=Object(p["a"])(d,i,n,!1,null,"35dcbdf4",null);t["default"]=m.exports},dc75:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("privacyMask"),"right-type":"text"}},[t("div",{staticClass:"Mask",attrs:{slot:"content"},slot:"content"},[t("hm-scroll",[t("div",[t("channel-list",{attrs:{"o-channel":e.oChannel}}),t("hm-cell",{attrs:{title:e.$t("Enable Privacy Mask")}},[t("hm-switch",{on:{click:e.enable},model:{value:e.oPTZPrivacyCoverInfo.bEnablePrivacyCover,callback:function(t){e.$set(e.oPTZPrivacyCoverInfo,"bEnablePrivacyCover",t)},expression:"oPTZPrivacyCoverInfo.bEnablePrivacyCover"}})],1),t("hm-cell",{attrs:{"is-link":"",title:e.$t("areaSet")},nativeOn:{click:function(t){return e.showAreaSet()}}}),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{on:{click:e.save}},[e._v("\n            "+e._s(e.$t("save"))+"\n          ")])],1)],1)]),e.isShowAreaSet?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:e.$t("areaSet"),"enable-cancel-callback":e.bEnableCancelCallback},on:{cancelcallback:e.cancelLandscapeMode}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"plugin-small"},[t("plugin-wind",{attrs:{mode:"textoverlay","o-channel":e.oChannel,hide:e.bPluginHide},on:{"play-success":e.playSuccess}})],1),t("div",{staticClass:"hm-btn-group-ex"},[t("button",{staticClass:"cube-btn-draw",on:{click:function(t){return e.clear(e.flag)}}},[e._v("\n              "+e._s(e.$t("clearAll"))+"\n            ")]),t("button",{staticClass:"cube-btn-draw",on:{click:e.draw}},[e._v("\n              "+e._s(e.$t("drawArea"))+"\n            ")])]),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("privacy mask list")}},e._l(e.oPTZPrivacyCoverInfo.aMaskList,(function(a,i){return t("hm-cell",{key:i,attrs:{title:a[0],value:a[1]},nativeOn:{click:function(t){return e.deleteMask(i)}}})})),1),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{on:{click:e.save}},[e._v("\n              "+e._s(e.$t("save"))+"\n            ")])],1)],1)])],1):e._e(),e.isShowAreaSetRotate?t("div",{staticClass:"full-screen-display"},[t("base-page-extend-rotate",{attrs:{title:e.$t("areaSet"),"enable-cancel-callback":e.bEnableCancelCallback},on:{cancelcallback:e.cancelLandscapeMode1,confirm:e.confirmLink}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"plugin-small-ex"},[t("plugin-wind",{attrs:{mode:"textoverlay","o-channel":e.oChannel,hide:e.bPluginHide},on:{"play-success":e.playSuccess}})],1)])])],1):e._e()],1)])},n=[],o=a("8001"),r=o["a"],s=(a("e66e"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"31abdd20",null);t["default"]=l.exports},ddb7:function(e,t,a){},de2a:function(e,t,a){},de41:function(e,t,a){"use strict";(function(e){a("c5f6"),a("6b54"),a("28a5"),a("7514"),a("a481"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("7de8"),s=a("f193"),l=a("9741"),c=a("181b"),u=a("768a"),d=a("9815"),p=a("c050"),m=a("d09c"),h=a("1f20"),f=a("8d94"),v="motionDetection",b="000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",g=function(){function t(){Object(n["a"])(this,t),this.oEventInfo={bEnableEvent:!1,oLink:null,oScheduleTimes:[],bEnableHighlight:!1,bmisinformation:!1,iSensitive:0,szMotionMode:"normal",szSwitchDayNight:"",szStartTime:"07:00:00",szEndTime:"18:00:00",szAreaNo:"1",iExpertSen:0,iExpertPercentAge:0,iDaySen:0,iDayPercentAge:0,iNightSen:0,iNightPercentAge:0,bPluginHide:!1,oNormalTargetType:{bSupport:!1,aTypeCap:[],oTypeInfo:{human:!1,vehicle:!1}},idID:1,bSupportMulRegion:!1},this.aFilterIds=[],this.oEventCap={bSupportHoliday:!1,bSupportModify:!1,bChannelSupport:!0,bRegionBtnDisabled:!0,bShowHighlight:!1,bSupportMisinformation:!1,bSupportSensitive:!1,bSupportExpert:!1,bSupportMovingDetect:!1,bSwitchDayNight:!1,oSliderCap:{},aExtArea:[],bSupportPTZWithPreview:!1},this.oParams={oData:null,iChannelId:0,iMaxRegionNum:4,iDScreenWidth:0,iDScreenHeight:0,szRegionXml:"",szRegionType:"",RectTempInfo:null,oXhr:{oErrorXhr:null,oSuccessXhr:null,oRestartXhr:null}}}return Object(o["a"])(t,[{key:"init",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,h["a"].getDeviceCapa();case 2:if(!h["a"].m_oDeviceCapa.bSupportMotion&&0!==l["a"].iDeviceType){e.next=16;break}return this.oParams.iChannelId=t||1,e.next=6,u["a"].getAlarmOutput();case 6:return e.next=8,u["a"].getChannelList(!0);case 8:return e.next=10,u["a"].initDeviceParams(this.oEventCap,!0,!0,!0);case 10:return u["a"].m_aVMDChannels&&u["a"].m_aVMDChannels.length>0&&(this.aFilterIds?this.aFilterIds=u["a"].m_aVMDChannels:this.aFilterIds.length=0),a=[this.getDetectCap()],0===l["a"].iDeviceType&&a.push(this.getDiscardFalseAlarmCap()),e.next=15,m["a"].getAll(a);case 15:return e.abrupt("return",m["a"].getAll([this.getExpertDetectInfo(),this.getDetectLink(),this.getSchedule()]));case 16:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setDrawStatus",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].setDrawStatus(t);case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addDrawPolygon",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].getPolygonInfo();case 2:t=e.sent,a={id:t.length+1,points:[[.3,.3],[.5,.3],[.7,.3],[.7,.5],[.7,.7],[.5,.7],[.3,.7],[.3,.5]]},t.length<this.oParams.iMaxRegionNum?this.drawPolygon(a):(i=f["a"].t("reachmaxNum").replace("%s",this.oParams.iMaxRegionNum),p["a"].tip(i));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"drawPolygon",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,a){var i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=[],n={id:t.id,editType:0,points:t.points,closed:!0,tips:t.id,drawColor:"#FF0000",translucent:.1,redrawMode:0,maxPointSupport:10,minPointSupport:4},a&&(n.editType=a),i.push(n),c["a"].setPolygonInfo(i),c["a"].selectShape("Polygon",-1);case 6:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"drawRegion",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"expert"===this.oEventInfo.szMotionMode?this.getOneMoveDetectInfo(parseInt(this.oEventInfo.szAreaNo,10),this.oParams.oData):this.setRegionInfo(this.oParams.oData,t);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getDetectCap",value:function(){var t=this,a=1===l["a"].iDeviceType?"motionIPCCapa":"motionCapa";t.oEventInfo.oNormalTargetType.aTypeCap=[];var i={urlCGI:a,params:{channel:this.oParams.iChannelId},data:null};s["a"].get(i).then((function(a){var i=a.oResult;if(t.oEventCap.bRegionBtnDisabled=!1,t.oEventCap.bSupportSensitive=!0,t.oEventCap.oSliderCap={iMin:r["a"].nodeAttr(e(i),"sensitivityLevel","min","i")||0,iMax:r["a"].nodeAttr(e(i),"sensitivityLevel","max","i")||6,iStep:r["a"].nodeAttr(e(i),"sensitivityLevel","step","i")||1},e(i).find("RegionList").length>0&&(t.oParams.iMaxRegionNum=r["a"].nodeAttr(e(i),"RegionList","size","i")||4),1===l["a"].iDeviceType){var n={human:f["a"].t("humanBody"),vehicle:f["a"].t("vehicle")};if(e(i).find("MotionDetectionLayout targetType").length>0){t.oEventInfo.oNormalTargetType.bSupport=!0;var o=r["a"].nodeAttr(e(i),"MotionDetectionLayout targetType","opt");if(o){e.each(o.split(","),(function(e,a){t.oEventInfo.oNormalTargetType.aTypeCap.push({name:n[a]||a,value:a}),t.oEventInfo.oNormalTargetType.oTypeInfo[a]=!1}));var s=r["a"].nodeAttr(e(i),"MotionDetection regionType","opt");s&&(t.oEventInfo.bSupportMulRegion=-1!==e.inArray("region",s.split(","))),t.oEventCap.bSupportMovingDetect=e(i).find("enableWithMoving").length>0}}}}),(function(e){t.oEventCap.bRegionBtnDisabled=!0,t.oEventCap.bSupportSensitive=!1,t.oEventCap.bSupportMovingDetect=!1,m["a"].saveState(e)}))}},{key:"getDiscardFalseAlarmCap",value:function(){var t=this,a=this;return new Promise((function(i){var n={urlCGI:"eventDigitalCap",params:{channel:t.oParams.iChannelId,param:v},data:null};s["a"].get(n).then((function(t){var n=t.oResult;a.oEventCap.bSupportMisinformation=e(n).find("discardFalseAlarm").length>0;var o={human:f["a"].t("humanBody"),vehicle:f["a"].t("vehicle")};if(e(n).find("MotionDetectionLayout targetType").length>0){a.oEventInfo.oNormalTargetType.bSupport=!0;var s=r["a"].nodeAttr(e(n),"MotionDetectionLayout targetType","opt");s&&(a.oEventInfo.oNormalTargetType.aTypeCap=[],e.each(s.split(","),(function(e,t){a.oEventInfo.oNormalTargetType.aTypeCap.push({name:o[t]||t,value:t}),a.oEventInfo.oNormalTargetType.oTypeInfo[t]=!1})))}e(n).find("RegionList").length>0&&(a.oParams.iMaxRegionNum=r["a"].nodeAttr(e(n),"RegionList","size","i")||4);var l=r["a"].nodeAttr(e(n),"MotionDetection regionType","opt");l&&(a.oEventInfo.bSupportMulRegion=-1!==e.inArray("region",l.split(","))),a.oEventCap.bSupportMovingDetect=e(n).find("enableWithMoving").length>0,i()}),(function(){a.oEventCap.bSupportMovingDetect=!1,a.oEventCap.bSupportMisinformation=!1,i()}))}))}},{key:"changeMode",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].clearRegion();case 2:return e.next=4,c["a"].setDrawStatus(!1);case 4:return e.abrupt("return",this.getExpertDetectInfo(!1));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"changeArea",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].clearRegion();case 2:return e.abrupt("return",this.getOneMoveDetectInfo(parseInt(this.oEventInfo.szAreaNo,10),this.oParams.oData));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getNormalDetectInfo",value:function(){var t=this,a={urlCGI:"eventInfo",params:{channel:this.oParams.iChannelId,param:v},data:null};return s["a"].get(a).then((function(a){var i=a.oResult;if(t.oParams.oData=i,t.oEventInfo.bEnableEvent=r["a"].nodeValue(i,"enabled","b"),e(i).find("enableHighlight").length>0?(t.oEventCap.bShowHighlight=!0,t.oEventInfo.bEnableHighlight=r["a"].nodeValue(i,"enableHighlight","b")):t.oEventCap.bShowHighlight=!1,e(i).find("enableWithMoving").length>0&&(t.oEventInfo.enableWithMoving=r["a"].nodeValue(i,"enableWithMoving","b")),t.oEventInfo.iSensitive=r["a"].nodeValue(i,"sensitivityLevel","i"),t.oEventInfo.bmisinformation=r["a"].nodeValue(i,"discardFalseAlarm","b"),t.oParams.szRegionType=r["a"].nodeValue(i,"regionType"),t.oParams.szRegionXml=t.setRegionInfo(i),t.oEventInfo.oNormalTargetType.bSupport){var n=r["a"].nodeValue(i,"MotionDetectionLayout targetType");n&&e.each(n.split(","),(function(e,a){t.oEventInfo.oNormalTargetType.oTypeInfo[a]=!0}))}}),(function(){c["a"].clearRegion()}))}},{key:"getExpertDetectInfo",value:function(t){var a=this;"undefined"===typeof t&&(t=!0),this.oEventInfo.szAreaNo="1",this.oEventInfo.szSwitchDayNight="";var i={urlCGI:"eventInfo",params:{channel:this.oParams.iChannelId,param:"motionDetectionExt"},data:null};return s["a"].get(i).then((function(i){var n=i.oResult;if(1===l["a"].iDeviceType&&(a.oEventCap.bSupportExpert=!0),t){var o=e(n).find("activeMode").eq(0).text();""!==o&&(a.oEventInfo.szMotionMode=o)}var s=r["a"].nodeAttr(n,"MotionDetectionRegionList","size","i");s=s||8,a.oEventCap.aExtArea.length=0;for(var c=1;c<=s;++c)a.oEventCap.aExtArea.push({value:c.toString(),text:c.toString()});if("normal"===a.oEventInfo.szMotionMode)a.getNormalDetectInfo();else{a.oParams.oData=n,a.oEventInfo.bEnableEvent=r["a"].nodeValue(n,"enabled","b"),e(n).find("enableHighlight").length>0?(a.oEventCap.bShowHighlight=!0,a.oEventInfo.bEnableHighlight=r["a"].nodeValue(n,"enableHighlight","b")):a.oEventCap.bShowHighlight=!1,e(n).find("enableWithMoving").length>0&&(a.oEventInfo.enableWithMoving=r["a"].nodeValue(n,"enableWithMoving","b"));var u=e(n).find("MotionDetectionSwitch").eq(0);u.length&&(a.oEventCap.bSwitchDayNight=!0,a.oEventInfo.szSwitchDayNight=u.find("type").eq(0).text(),a.oEventInfo.szStartTime=u.find("beginTime").eq(0).text(),a.oEventInfo.szEndTime=u.find("endTime").eq(0).text()),a.oEventInfo.iSensitive=r["a"].nodeValue(n,"sensitivityLevel","i"),a.oEventInfo.bmisinformation=r["a"].nodeValue(n,"discardFalseAlarm","b"),a.oParams.szRegionType=r["a"].nodeValue(n,"regionType"),a.getOneMoveDetectInfo(parseInt(a.oEventInfo.szAreaNo,10),n)}}),(function(){a.oEventCap.bSupportExpert=!1,a.oEventInfo.szMotionMode="normal",a.getNormalDetectInfo()}))}},{key:"getDetectLink",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,u["a"].getLinkageCap("MotionDetectionTriggerCap").then((function(e){t.oEventInfo.oLink=e}));case 3:return a={urlCGI:"linkInfo",params:{param:"VMD-"+this.oParams.iChannelId},data:null},e.abrupt("return",s["a"].get(a).then((function(e){var a=e.oResult;u["a"].getLinkInfo(t.oEventInfo.oLink,a)}),(function(){})));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getSchedule",value:function(){var e=this,t={urlCGI:"scheduleInfo",params:{param:"motionDetections/VMD_video"+this.oParams.iChannelId},data:null};return s["a"].get(t).then((function(t){u["a"].getSchedule(e.oEventInfo.oScheduleTimes,t.oResult)}),(function(){}))}},{key:"setDetectInfo",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a,i,n,o,l,c,u,d,p,h,f,g,P,S=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=this,i=null,"expert"===a.oEventInfo.szMotionMode)n=a.oParams.oData,e(n).find("enabled").eq(0).text(this.oEventInfo.bEnableEvent.toString()),e(n).find("enableHighlight").eq(0).text(this.oEventInfo.bEnableHighlight.toString()),a.oEventCap.bSupportMovingDetect&&void 0!==this.oEventInfo.enableWithMoving&&e(n).find("enableWithMoving").eq(0).text(this.oEventInfo.enableWithMoving.toString()),o=e(n).find("MotionDetectionRegion"),0===o.length?(l="<?xml version='1.0' encoding='utf-8' ?><MotionDetectionRegion><id>"+parseInt(this.oEventInfo.szAreaNo,10)+"</id><enabled>true</enabled><sensitivityLevel>0</sensitivityLevel><daySensitivityLevel>0</daySensitivityLevel><nightSensitivityLevel>0</nightSensitivityLevel><objectSize>0</objectSize><dayObjectSize>0</dayObjectSize><nightObjectSize>0</nightObjectSize><RegionCoordinatesList><RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates><RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates><RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates><RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates><RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates><RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates><RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates><RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates></RegionCoordinatesList></MotionDetectionRegion>",o=r["a"].parseXmlFromStr(l),e(n).find("MotionDetectionRegionList").eq(0).append(e(o.cloneNode(!0)).children()),o=e(n).find("MotionDetectionRegion").eq(0)):o.each((function(t,a){if(S.oEventInfo.szAreaNo===e(a).find("id").eq(0).text())return o=e(a),!1})),c=e(n).find("MotionDetectionSwitch").eq(0),c.find("type").text(this.oEventInfo.szSwitchDayNight),"auto"===this.oEventInfo.szSwitchDayNight||"schedule"===this.oEventInfo.szSwitchDayNight?("schedule"===this.oEventInfo.szSwitchDayNight&&(c.find("beginTime").text(this.oEventInfo.szStartTime),c.find("endTime").text(this.oEventInfo.szEndTime)),o.find("daySensitivityLevel").text(this.oEventInfo.iDaySen),-1!==this.oEventInfo.iDayPercentAge&&o.find("dayObjectSize").text(this.oEventInfo.iDayPercentAge),o.find("nightSensitivityLevel").text(this.oEventInfo.iNightSen),-1!==this.oEventInfo.iNightPercentAge&&o.find("nightObjectSize").text(this.oEventInfo.iNightPercentAge)):(o.find("sensitivityLevel").text(this.oEventInfo.iExpertSen),-1!==this.oEventInfo.iExpertPercentAge&&o.find("objectSize").text(this.oEventInfo.iExpertPercentAge)),u={urlCGI:"eventInfo",params:{channel:this.oParams.iChannelId,param:"motionDetectionExt"},data:n},i=s["a"].put(u).then((function(e){S.oParams.oXhr.oSuccessXhr=e.xhr}),(function(e){S.oParams.oXhr.oErrorXhr=e,m["a"].saveState(e)}));else{if(d=a.oParams.oData,a.oEventInfo.bSupportMulRegion?e(d).find("regionType").eq(0).text("region"):(p=r["a"].nodeValue(d,"gridMap"),!p&&(p=b),e(d).find("gridMap").eq(0).text(p)),r["a"].nodeValue(d,"enabled","",a.oEventInfo.bEnableEvent.toString()),r["a"].nodeValue(d,"enableHighlight","",a.oEventInfo.bEnableHighlight.toString()),r["a"].nodeValue(d,"discardFalseAlarm","",a.oEventInfo.bmisinformation.toString()),r["a"].nodeValue(d,"sensitivityLevel","",a.oEventInfo.iSensitive),a.oEventCap.bSupportMovingDetect&&void 0!==this.oEventInfo.enableWithMoving&&e(d).find("enableWithMoving").eq(0).text(this.oEventInfo.enableWithMoving.toString()),a.oEventInfo.oNormalTargetType.bSupport){for(h="",f=0;f<a.oEventInfo.oNormalTargetType.aTypeCap.length;f++)a.oEventInfo.oNormalTargetType.oTypeInfo[a.oEventInfo.oNormalTargetType.aTypeCap[f].value]&&(h+=a.oEventInfo.oNormalTargetType.aTypeCap[f].value+",");""!==h&&(h=h.substring(0,h.length-1)),e(d).find("targetType").length?r["a"].nodeValue(d,"MotionDetectionLayout targetType","",h.toString()):(g="<targetType>"+h.toString()+"</targetType>",e(d).find("MotionDetectionLayout").append(g))}P={urlCGI:"eventInfo",params:{channel:this.oParams.iChannelId,param:v},data:d},i=s["a"].put(P).then((function(e){S.oParams.oXhr.oSuccessXhr=e.xhr}),(function(e){S.oParams.oXhr.oErrorXhr=e,m["a"].saveState(e)}))}return t.abrupt("return",i);case 4:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}()},{key:"vaildRegion",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["a"].getPolygonInfo();case 2:if(a=t.sent,i=!1,e.each(a,(function(e,t){if(!d["a"].checkLine(t.points))return i=!0,!0})),!i){t.next=9;break}return p["a"].tip(f["a"].t("lineCross")),setTimeout((function(){var e=document.getElementsByClassName("hm-dialog")[0].lastChild.childNodes[0];e.style.transform="matrix(6.12323e-17, -1, 1, 6.12323e-17, -121.8, -64)"}),0),t.abrupt("return",!1);case 9:return t.abrupt("return",!0);case 10:case"end":return t.stop()}}),t)})));function a(){return t.apply(this,arguments)}return a}()},{key:"checkOutPlugin",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a,i,n,o,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].getPolygonInfo();case 2:if(a=e.sent,i=!1,"normal"!==this.oEventInfo.szMotionMode||!this.oEventInfo.bSupportMulRegion){e.next=20;break}n=0;case 6:if(!(n<a.length)){e.next=20;break}o=0;case 8:if(!(o<a[n].points.length)){e.next=17;break}if(r=a[n].points[o],!(r[0]<0||r[0]>1||r[1]<0||r[1]>1)){e.next=14;break}return i=!0,t||(p["a"].tip(f["a"].t("outPluginRegion").replace("%s",a[n].id)),s=document.getElementsByClassName("hm-dialog")[0].lastChild.childNodes[0],s.style.transform="matrix(6.12323e-17, -1, 1, 6.12323e-17, -121.8, -64)"),e.abrupt("return",i);case 14:o++,e.next=8;break;case 17:n++,e.next=6;break;case 20:return e.abrupt("return",i);case 21:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateRegionInfo",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){var i,n,o,s,l,u,p,m,h,f,v,b,g,P,S,C,y,I,D,w,T,k,x,A,R=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("normal"!==this.oEventInfo.szMotionMode||!this.oEventInfo.bSupportMulRegion){t.next=28;break}if(a){t.next=7;break}return t.next=4,c["a"].getPolygonInfo();case 4:for(n in i=t.sent,this.oParams.RectTempInfo=[],i)this.oParams.RectTempInfo.push(i[n].points);case 7:if(o=this.oParams.RectTempInfo,s=this.oParams.oData,l=e(s).find("RegionList"),l.eq(0).find("Region").remove(),o&&o.length>0)for(u=0;u<o.length;u++)for(p="<Region><id>"+parseInt(u+1,10)+"</id><RegionCoordinatesList></RegionCoordinatesList></Region>",l.eq(0).append(p),m=0;m<o[u].length;m++)h="<RegionCoordinates><positionX>"+parseInt(1e3*o[u][m][0],10)+"</positionX><positionY>"+parseInt(1e3*(1-o[u][m][1]),10)+"</positionY></RegionCoordinates>",l.eq(0).find("Region").eq(u).find("RegionCoordinatesList").eq(0).append(h);if(!a){t.next=26;break}if(null===l.eq(0).find("Region").length){t.next=26;break}f=0;case 15:if(!(f<l.eq(0).find("Region").length)){t.next=26;break}return v=[],b=l.eq(0).find("Region").eq(f).find("id").eq(0).text(),g=d["a"].xml2Points(l.eq(0).find("Region").eq(f)),v.push(d["a"].points2Plugin(g,{id:b,drawColor:"#ff0000",fillColor:"",tips:b,editType:2},!0)),t.next=22,c["a"].setPolygonInfo(v);case 22:c["a"].selectShape("Polygon",-1);case 23:f++,t.next=15;break;case 26:t.next=50;break;case 28:if("expert"!==this.oEventInfo.szMotionMode){t.next=47;break}if(a){t.next=34;break}return t.next=32,c["a"].getRectInfo();case 32:P=t.sent,this.oParams.RectTempInfo=d["a"].plugin2Points(P,!0)[1];case 34:if(S=this.oParams.RectTempInfo,C=this.oParams.oData,y=e(C).find("MotionDetectionRegion"),0===y.length){for(I="<?xml version='1.0' encoding='utf-8' ?><MotionDetectionRegion><id>"+parseInt(this.oEventInfo.szAreaNo,10)+"</id><enabled>true</enabled><sensitivityLevel>0</sensitivityLevel><daySensitivityLevel>0</daySensitivityLevel><nightSensitivityLevel>0</nightSensitivityLevel><objectSize>0</objectSize><dayObjectSize>0</dayObjectSize><nightObjectSize>0</nightObjectSize><RegionCoordinatesList>",D=0;D<S.length;D++)I+="<RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates>";I+="</RegionCoordinatesList></MotionDetectionRegion>",y=r["a"].parseXmlFromStr(I),e(C).find("MotionDetectionRegionList").eq(0).append(e(y.cloneNode(!0)).children()),y=e(C).find("MotionDetectionRegion").eq(0)}else y.each((function(t,a){if(R.oEventInfo.szAreaNo===e(a).find("id").eq(0).text())return y=e(a),!1}));if(w=y.find("RegionCoordinates"),S&&S.length>0)for(T=0;T<4;T++)w.eq(T).find("positionX").eq(0).text(parseInt(1e3*S[T][0],10)),w.eq(T).find("positionY").eq(0).text(parseInt(1e3*S[T][1],10));else for(k=0;k<w.length;k++)w.eq(k).find("positionX").eq(0).text(0),w.eq(k).find("positionY").eq(0).text(0);if(!a){t.next=45;break}return x=[],null!==y&&(A=d["a"].xml2Points(y),x.push(d["a"].points2Plugin(A,{drawColor:"#ff0000",fillColor:""},!0))),t.next=45,d["a"].setRect(x);case 45:t.next=50;break;case 47:return t.next=49,this.getRegionInfo(this.oParams.oData);case 49:a&&this.setRegionInfo(this.oParams.oData);case 50:case"end":return t.stop()}}),t,this)})));function a(e){return t.apply(this,arguments)}return a}()},{key:"setDetectLink",value:function(){var e=this,t=this,a=u["a"].setLinkInfo(t.oEventInfo.oLink,"VMD",t.oParams.iChannelId),i={urlCGI:"linkInfo",params:{param:"VMD-"+t.oParams.iChannelId},data:a};return s["a"].put(i).then((function(t){e.oParams.oXhr.oSuccessXhr=t.xhr}),(function(t){e.oParams.oXhr.oErrorXhr=t,m["a"].saveState(t)}))}},{key:"setDetectSchedule",value:function(){var e=this,t=this,a=u["a"].setSchedule(t.oEventInfo.oScheduleTimes,"VMD",t.oParams.iChannelId),i={urlCGI:"scheduleInfo",params:{param:"motionDetections/VMD_video"+t.oParams.iChannelId},data:a};return s["a"].put(i).then((function(t){e.oParams.oXhr.oSuccessXhr=t.xhr}),(function(t){e.oParams.oXhr.oErrorXhr=t,m["a"].saveState(t)}))}},{key:"draw",value:function(){if(c["a"].setDrawStatus(!0),"expert"===this.oEventInfo.szMotionMode){var e=[[.3,.05],[.6,.05],[.3,.95],[.6,.95]],t=[],a={id:1,editType:0,points:e,closed:!0,tips:"",drawColor:"#FF0000",translucent:.1,type:1};t.push(a),c["a"].setRectInfo(t)}else{var i={drawColor:"#FF0000",gridColNum:22,gridRowNum:18,gridMap:b};c["a"].setDrawShapeInfo("Grid",i)}}},{key:"clearOne",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["a"].clearSnapInfo(6);case 2:if(a=t.sent,-1===a){t.next=11;break}return t.next=6,c["a"].getPolygonInfo();case 6:i=t.sent,e.each(i,(function(e,t){var i=parseInt(t.id,10);i>a&&(t.id=i-1,t.tips=i-1),t.translucent=.1,t.editType=0})),c["a"].clearSnapInfo(4).then((function(){c["a"].setPolygonInfo(i),c["a"].setDrawStatus(!1)})),t.next=12;break;case 11:p["a"].tip(f["a"].t("pleaseSelectDeleteArea"));case 12:c["a"].setDrawStatus(!1);case 13:case"end":return t.stop()}}),t)})));function a(){return t.apply(this,arguments)}return a}()},{key:"clearAll",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("normal"!==this.oEventInfo.szMotionMode||!this.oEventInfo.bSupportMulRegion){e.next=9;break}return e.next=3,c["a"].getPolygonInfo();case 3:if(t=e.sent,t.length){e.next=6;break}return e.abrupt("return");case 6:p["a"].confirm(f["a"].t("clearDrawArea"),Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].clearRegion();case 2:return e.next=4,a.updateRegionInfo(!1);case 4:c["a"].setDrawStatus(!1);case 5:case"end":return e.stop()}}),e)})))),e.next=15;break;case 9:return e.next=11,c["a"].clearRegion();case 11:return r["a"].nodeValue(this.oParams.oData,"gridMap","",b),e.next=14,this.updateRegionInfo(!1);case 14:c["a"].setDrawStatus(!1);case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"clearNotDig",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].clearRegion();case 2:return r["a"].nodeValue(this.oParams.oData,"gridMap","",b),e.next=5,this.updateRegionInfo(!1);case 5:c["a"].setDrawStatus(!1);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setRegionInfo",value:function(t,a){var i=this,n=this;if("normal"===n.oEventInfo.szMotionMode&&n.oEventInfo.bSupportMulRegion)e(t).find("RegionList").eq(0).find("Region").each((function(t,i){var o=[],r=n.getPluginRegionCoordinates(e(i).find("RegionCoordinatesList"));e.each(r,(function(e,t){o.push([t.x/1e3,1-t.y/1e3])}));var s={id:t+1,points:o};n.drawPolygon(s,a)}));else if("grid"===n.oParams.szRegionType){var o={drawColor:"#FF0000",gridColNum:r["a"].nodeValue(t,"columnGranularity","i"),gridRowNum:r["a"].nodeValue(t,"rowGranularity","i"),gridMap:r["a"].nodeValue(t,"gridMap")};c["a"].setGridInfo(o)}else if("region"===n.oParams.szRegionType){var s=n.oParams.iMaxRegionNum,l=r["a"].nodeValue(t,"normalizedScreenWidth","i"),u=r["a"].nodeValue(t,"normalizedScreenHeight","i"),d="#ff0000",p=0,m="#646464",h=[];e(t).find("RegionList").eq(0).find("Region").each((function(t){var a=[],o=n.getPluginRegionCoordinates(e(i).find("RegionCoordinatesList"));o.each((function(e){a.push([i[e].x/l,1-i[e].y/u])})),h.push({id:t+1,type:0,editType:0,points:a,closed:!0,tips:"",drawColor:d,fillColor:m,translucent:p,widthHeightRate:0,maxShapeSupport:s})})),c["a"].setRectInfo(h)}}},{key:"getRegionInfo",value:function(e){var t=this;if("grid"===t.oParams.szRegionType)return c["a"].getGridInfo().then((function(t){r["a"].nodeValue(e,"gridMap","",t.gridMap)}),(function(){}));t.oParams.szRegionType}},{key:"getPluginRegionCoordinates",value:function(t){var a=[],i=[],n=[],o=[];t.find("RegionCoordinates").each((function(t,o){var r=Number(e(o).find("positionX").text()),s=Number(e(o).find("positionY").text());a.push(r),i.push(s),n.push({x:r,y:s})}));var r=Math.min.apply(Math,a),s=Math.min.apply(Math,i),l=t.find("RegionCoordinates").length;if("normal"===this.oEventInfo.szMotionMode&&this.oEventInfo.bSupportMulRegion)for(var c=0;c<l;c++)o[c]=n[c];else for(var u=0;u<4;u++)r!==n[u].x||s!==n[u].y?r===n[u].x||s!==n[u].y?r===n[u].x||s===n[u].y?r!==n[u].x||s===n[u].y||(o[3]=n[u]):o[2]=n[u]:o[1]=n[u]:o[0]=n[u];return o}},{key:"getOneMoveDetectInfo",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a,i){var n,o,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e(i).find("MotionDetectionRegion"),o=null,n.each((function(t,i){if(a===parseInt(e(i).find("id").eq(0).text(),10))return o=e(i),!1})),null!==o?(this.oEventInfo.iExpertSen=parseInt(o.find("sensitivityLevel").eq(0).text(),10),this.oEventInfo.iExpertPercentAge=0!==o.find("objectSize").length?parseInt(o.find("objectSize").eq(0).text(),10):-1,this.oEventInfo.iDaySen=parseInt(o.find("daySensitivityLevel").eq(0).text(),10),this.oEventInfo.iDayPercentAge=0!==o.find("dayObjectSize").length?parseInt(o.find("dayObjectSize").eq(0).text(),10):-1,this.oEventInfo.iNightSen=parseInt(o.find("nightSensitivityLevel").eq(0).text(),10),this.oEventInfo.iNightPercentAge=0!==o.find("nightObjectSize").length?parseInt(o.find("nightObjectSize").eq(0).text(),10):-1):(this.oEventInfo.iExpertSen=0,this.oEventInfo.iExpertPercentAge=0,this.oEventInfo.iDaySen=0,this.oEventInfo.iDayPercentAge=0,this.oEventInfo.iNightSen=0,this.oEventInfo.iNightPercentAge=0),r=[],null!==o&&(s=d["a"].xml2Points(o),r.push(d["a"].points2Plugin(s,{drawColor:"#ff0000",maxShapeSupport:1,fillColor:""},!0))),t.next=8,d["a"].setRect(r);case 8:case"end":return t.stop()}}),t,this)})));function a(e,a){return t.apply(this,arguments)}return a}()},{key:"needRedrawRegion",value:function(){var t=this,a=this,i=!0,n=this.oParams.oData;if("expert"===this.oEventInfo.szMotionMode){var o=e(n).find("MotionDetectionRegion");if(null!==o&&0!==o.length){e.each(o,(function(a,i){if(t.oEventInfo.szAreaNo===e(i).find("id").eq(0).text())return o=e(i),!0}));var s=d["a"].xml2Points(o);0===s[0][0]&&0===s[0][1]&&0===s[1][0]&&0===s[1][1]&&(i=!1)}else i=!1}else if("grid"===a.oParams.szRegionType){var l=r["a"].nodeValue(n,"gridMap"),c=l.split("").filter((function(e){return"0"===e})).length;i=c!==l.length}else if("region"===a.oParams.szRegionType){var u=r["a"].nodeValue(n,"normalizedScreenWidth","i"),p=r["a"].nodeValue(n,"normalizedScreenHeight","i"),m=[];e(n).find("RegionList").eq(0).find("Region").each((function(){var i=a.getPluginRegionCoordinates(e(t).find("RegionCoordinatesList"));i.each((function(e){m.push([t[e].x/u,1-t[e].y/p])}))})),0===m[0][0]&&0===m[0][1]&&0===m[1][0]&&0===m[1][1]&&(i=!1)}return i}},{key:"misinformationChanged",value:function(){this.oEventInfo.bmisinformation&&p["a"].stateAlert(f["a"].t("misinformationTips"))}}]),t}();t["a"]=new g}).call(this,a("1157"))},de4d:function(e,t,a){"use strict";(function(e){a("ac6a"),a("6b54"),a("7514"),a("28a5"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("c050"),s=a("1f20"),l=a("181b"),c=a("768a"),u=a("7de8"),d=a("d09c"),p=a("8d94"),m=a("f193"),h=a("9d7f"),f=function(){function t(){Object(n["a"])(this,t),this.oSceneCap={bMountingScene:!1,aMountingScene:[]},this.aDisplaySceneInfo=[],this.oDisplayCap={bMixedLightBrightnessRegulatModes:!1,aMixedLightBrightnessRegulatModes:[],bSupportWhiteLightBrightness:!1,bAutoModeBrightnessCfg:!1,iWhiteLightBrightnessMin:0,iWhiteLightBrightnessMax:100,bSupportDisplay:!0,bSupportScene:!1,bBright:!1,iBrightDef:128,iBrightMin:0,iBrightMax:255,bContrast:!1,iContrastDef:129,iContrastMin:0,iContrastMax:255,bSaturation:!1,iSaturationDef:132,iSaturationMin:0,iSaturationMax:255,bHue:!1,iHueDef:153,iHueMin:0,iHueMax:255,bSharpness:!1,iSharpnessDef:0,iSharpnessMin:0,iSharpnessMax:100,iNoiseReduceDef:2,iNoiseReduceMin:0,iNoiseReduceMax:100,szDefMode:"standard",bExposureType:!1,aExposureTypes:[],bExposureLevel:!1,iExposureLevelDef:0,iExposureLevelMin:0,iExposureLevelMax:100,bSmartIR:!1,bSmartIRMode:!1,aSmartIRType:[],bDistance:!1,iDistanceMin:0,iDistanceMax:100,bLowDistance:!1,iLowDistanceMin:0,iLowDistanceMax:100,bHighDistance:!1,iHighDistanceMin:0,iHighDistanceMax:100,bAutoIrisLevel:!1,iAutoIrisLevelMin:0,iAutoIrisLevelMax:100,bSharpnessMode:!1,aSharpnessModes:[],bFFC:!1,aFFCs:[],aFFCComTime:[],bIris:!1,aIriss:[],bMaxIrisLimit:!1,iMaxIrisMin:0,iMaxIrisMax:100,bMinIrisLimit:!1,iMinIrisMin:0,iMinIrisMax:100,bShutter:!1,aShutters:[],bMaxShutterLimit:!1,aMaxShutterLimits:[],bMinShutterLimit:!1,aMinShutterLimits:[],bPIris:!1,iPIrisLevelMin:0,iPIrisLevelMax:100,bExpComp:!1,iExpCompMin:0,iExpCompMax:100,bDSS:!1,bDSSLevel:!1,aDSSLevels:[],bGainLevel:!1,iGainLevelMin:0,iGainLevelMax:100,bGainLimit:!1,iGainLimitMin:0,iGainLimitMax:100,bFocusMode:!1,aFocusModes:[],bFocusDistance:!1,aFocusDistances:[],bFocusSpeed:!1,iFocusSpeedMin:0,iFocusSpeedMax:100,bIrcutFilterType:!1,aIrcutFilterTypes:[],bIrcutFilterSen:!1,aIrcutFilterSens:[],aIrcutFilterTime:[],bIructFilterTime:!1,iIructFilterTimeMin:0,iIructFilterTimeMax:100,bIRLight:!1,aIRLightModes:[],aIRTriggerModes:[],iIRLightBrightMin:0,iIRLightBrightMax:100,bIRLightBrightLimit:!1,iIRLightBrightLimitMin:0,iIRLightBrightLimitMax:100,iIRLightSenMin:0,iIRLightSenMax:100,bLaserLight:!1,aLaserModes:[],aLaserTriggerModes:[],iLaserBrightMin:0,iLaserBrightMax:100,iLaserAngleMin:0,iLaserAngleMax:100,bLaserBrightLimit:!1,iLaserBrightLimitMin:0,iLaserBrightLimitMax:100,bSptLaserSen:!1,iLaserSenMin:0,iLaserSenMax:100,bLaserIllumination:!1,iLaserIlluminationMin:0,iLaserIlluminationMax:100,bCompensationRegionMode:!1,aCompensationRegionModes:[],bCompensationLevel:!1,aCompensationLevel:[],bSupplyLight:!1,bSupplyModes:!1,aSupplyModes:[],iSupplyLightLimit:0,iSupplyLightLimitMin:0,iSupplyLightLimitMax:100,szSupplyStartTime:"00:00:00",szSupplyEndTime:"00:00:00",aGeneralPirisMode:[],bSupplyLightModes:!1,aSupplyLightModes:[],bBLCandWDRandHLCMode:!1,aBLCandWDRandHLCModes:[],bBLCMode:!1,aBLCModes:[],bBLCLevel:!1,iBLCLevelMin:0,iBLCLevelMax:100,bWDRMode:!1,aWDRModes:[],bWDRLevel:!1,iWDRLevelMin:0,iWDRLevelMax:100,bWDRLevel1:!1,iWDRLevel1Min:0,iWDRLevel1Max:100,bWDRContrast:!1,iWDRContrastMin:0,iWDRContrastMax:100,aHLCModes:[],bHLC:!1,bHLCLevel:!1,iHLCLevelMin:0,iHLCLevelMax:100,bWhiteBlance:!1,aWhiteBlances:[],bWhiteBlanceRed:!1,iWhiteBlanceRedMin:0,iWhiteBlanceRedMax:100,bWhiteBlanceBlue:!1,iWhiteBlanceBlueMin:0,iWhiteBlanceBlueMax:100,bNoiseReduce:!1,aNoiseReduceModes:[],iGeneralLevelMin:0,iGeneralLevelMax:100,iSpaceDNRLevelMin:0,iSpaceDNRLevelMax:100,iTimeDNRLevelMin:0,iTimeDNRLevelMax:100,bDefogMode:!1,aDefogModes:[],bDefogLevel:!1,iDefogLevelMin:0,iDefogLevelMax:100,bEIS:!1,bEISLevel:!1,iEISLevelMin:0,iEISLevelMax:100,bOIS:!1,bOISMode:!1,aOISMode:[],bOISLevel:!1,aOISLevel:[],bOISSensitivity:!1,aOISSensitivity:[],bChromaSuppress:!1,iChromaSuppressMin:0,iChromaSuppressMax:100,bGammaCorrect:!1,iGammaCorrectMin:0,iGammaCorrectMax:100,bIllEnhance:!1,bGrayScale:!1,bPalettes:!1,aPalettesModes:[],bImageFlip:!1,aImageFlipModes:[],aRotateModes:[],bRotate:!1,bSceneMode:!1,aSceneModes:[],bVideoStandard:!1,aVideoStandard:[],bCaptureMode:!1,aCaptureModes:[],bLensDistorCorrect:!1,bEPTZ:!1,bLensInit:!1,bZoomLimit:!1,aZoomLimits:[],bLocalOutput:!1,aLocalOutputs:[],bDDE:!1,aDDEModes:[],bDDELevel:!1,iDDELevelMin:0,iDDELevelMax:100,bDigitalZoom:!1,aDigitalZoomModes:[],bBrightnessSudden:!1,aBrightnessSudden:[],bColorTarget:!1,oColorTargetTemprature:{iMin:-20,iMax:150},oColorTargetTempratureValid:{empty:{value:!0},range:{value:{max:150,min:-20}},skipVerify:!1},oColorateHotAreaDefault:{bEnabled:!1,iMinTemperature:0,szColor:"#ffffff"},oColorateIntervalAreaDefault:{bEnabled:!1,iMinTemperature:0,iMaxTemperature:0,szColor:"#ffffff"},oColorateColdAreaDefault:{bEnabled:!1,iMaxTemperature:0,szColor:"#ffffff"},bSupportAGC:!1,aAGCMode:[],bSupportRegionalImageEnhancement:!1,aRegionalImageEnhancementMode:[],oRegionalImageEnhancementDefault:{},bDistorCorrect:!1,aDistorCorrectLevel:[],bZoomedInDistantView:!1,iZoomedInDistantViewMin:0,iZoomedInDistantViewMax:100,bAccurate:!1,iAccurateMin:0,iAccurateMax:100,bHorizontalFOV:!1,iHorizontalFOVMin:0,iHorizontalFOVMax:100,bVerticalFOV:!1,iVerticalFOVMin:0,iVerticalFOVMax:100},this.oDisplayInfo={iChannelId:0,oXmlDoc:null,szVideoFormat:"PAL",oISP:{bSupport:!1,szISPMode:"",szScheduleType:"day",szBeginTime:"",szEndTime:""},szMountScene:"",szDisplayScene:"",iBright:0,iContrast:0,iSaturation:0,iHue:0,iSharpness:0,szExposureType:"",iExposureLevel:0,iAutoIrisLevel:0,szSmartIREnable:"",szSmartIRMode:"",iDistanceLevel:0,iLowDistanceLevel:0,iHighDistanceLevel:0,szSharpnessMode:"",szFFC:"",szIris:"",iMaxIrisLimit:0,iMinIrisLimit:0,szShutter:"",szMaxShutterLimit:"",szMinShutterLimit:"",szPIrisMode:"",iPIrisLevel:0,iExpComp:0,szDSSEnable:"",szDSSLevel:"",iGainLevel:0,iGainLimit:0,szFocusMode:"",szFocusDistance:"",iFocusSpeed:0,szIrcutFilterType:"",szIrcutFilterStartTime:"07:00:00",szIrcutFilterEndTime:"18:00:00",szEventTrigger:"day",szIrcutFilterSen:"",iIructFilterTime:0,szIRLightMode:"",szIRTriggerMode:"",iIRLightBright:0,iIRLightBrightLimit:0,iIRLightSen:0,szLaserMode:"",szLaserTriggerMode:"",iLaserBright:0,iLaserAngle:0,iLaserBrightLimit:0,iLaserSen:0,iLaserIllumination:0,szCompensationRegionMode:"",szCompensationLevel:"",szSupplyMode:"",iSupplyLightLimit:0,szSupplyStartTime:"",szSupplyEndTime:"",oBLCXml:null,szBLCMode:"",iBLCLevel:0,szWDRMode:"",iWDRLevel:0,iWDRLevel1:0,iWDRContrast:0,szWhiteBlance:"",iWhiteBlanceRed:0,iWhiteBlanceBlue:0,szNoiseReduceMode:"",iGeneralLevel:0,iSpaceDNRLevel:0,iTimeDNRLevel:0,szDefogMode:"",iDefogLevel:0,szEISEnable:"",iEISLevel:0,szOISMode:"",szOISLevel:"",szOISSensitivity:"",iChromaSuppress:0,iGammaCorrect:0,szIllEnhance:"",szGrayScale:"",szPalettes:"",szImageFlipMode:"",szRotateEnable:"",szSceneMode:"",szVideoStandard:"",szCaptureMode:"",szLensDistorCorrect:"",szEPTZEnable:"",szLensInitEnable:"",szZoomLimit:"",szLocalOutput:"",oLocalOutputXml:null,bNeedExposureLogic:!1,szDDEMode:"",iDDELevel:0,szDigitalZoom:"",szBrightnessSudden:"",oColorateHotArea:{bEnabled:!1,iMinTemperature:0,szColor:""},oColorateIntervalArea:{bEnabled:!1,iMinTemperature:0,iMaxTemperature:0,szColor:""},oColorateColdArea:{bEnabled:!1,iMaxTemperature:0,szColor:""},bColorTargetInvalid:!1,szAGCMode:"",szRegionalImageEnhancementMode:"",oRegionalImageEnhancementModeXml:null,szDistorCorrect:"",iZoomedInDistantView:0,iAccurateLevel:0,iHorizontalFOV:0,iVerticalFOV:0,szSupplementLightMode:"",iWhiteLightBrightness:0,szmixedLightBrightnessRegulatMode:"",szEventLightBrightnessRegulatMode:""},this.oNoSupportList={},this.oTrans={AUTO:p["a"].t("automatic"),MANUAL:p["a"].t("manual")},this.oDrawBtn={bDraw:!1},this.oShow={bIructFilterTimeConstant:!1,bIructFilterTimeDiscrete:!1,bIructFilterTime:!1,bIrcutFilterSen:!1,bLevel:!1,bShutter:!1,bIris:!1,bSharpness:!1},this.bSupportPTZ=!1,this.bSupportDisplayParamSwitch=!1,this.m_oParamsCap={aScenes:[],szDefScene:"",szBeginTime:"",szEndTime:"",oPreset:{bSupport:!1,bSupportLinkEnabled:!1,iPresetNum:0,iTimeNum:0},oSchedule:{bSupport:!1,iTimeNum:0},oDisabled:{bSupport:!1}},this.m_oParams={iChannelId:1,szSwitch:"1",oPreset:{bEnabled:!1,aPresets:[],iLinkPreset:0,oPresetInfo:null},oSchedule:{bEnabled:!1,aTimes:[]}},this._oMaps={mixed:p["a"].t("doubleLightSupplyMode"),whiteLight:p["a"].t("whiteLightMode"),irLight:p["a"].t("IRlightSupplyMode"),dualLight:p["a"].t("dualLight"),auto:p["a"].t("automatic"),manual:p["a"].t("manual"),close:p["a"].t("off"),AUTO:p["a"].t("automatic"),MANUAL:p["a"].t("manual"),multiAzimuthMixed:p["a"].t("doubleLightSupplyMode"),colorVuWhiteLight:p["a"].t("WhiteSupplyMode"),eventIntelligence:p["a"].t("eventIntelligenceSupply"),multiAzimuthWhiteLight:p["a"].t("whiteLightMode"),multiAzimuthIrLight:p["a"].t("IRlightSupplyMode"),panoramicWhiteLight:p["a"].t("whiteLightMode"),panoramicIrLight:p["a"].t("IRlightSupplyMode")}}return Object(o["a"])(t,[{key:"getAllImgInfo",value:function(){var e=this;return new Promise(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h["a"].getCapInfo();case 2:if(e.bSupportDisplayParamSwitch=h["a"].oImageCapa.bSupportDisplayParamSwitch,e.bImgRestore=s["a"].m_oDeviceCapa.bSupportImgRestore,e.bSupportPTZ=s["a"].m_oDeviceCapa.bPTZ||s["a"].m_oDeviceCapa.bIPZoom,e.bSupportPTZWithPreview=s["a"].m_oDeviceCapa.bSupportPTZWithPreview,1!==h["a"].iDeviceType){t.next=13;break}return t.next=9,e.getMountScenCap();case 9:return t.next=11,e.getMountScenInfo();case 11:return t.next=13,e.getISPMode();case 13:return t.next=15,e.getDisplayCap();case 15:return t.next=17,e.getDisplayInfo();case 17:return t.next=19,e.getDisplaySceneInfo();case 19:a();case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"resizePlugin",value:function(){l["a"].resize(423,345)}},{key:"getMountScenCap",value:function(){var t=this,a=t.oSceneCap.aMountingScene;a.length=0;var i=["indoor","outdoor","day","night","morning","nightfall","mode1","mode2","mode3","mode4","street","lowIllumination","custom1","custom2","normal","road","faceSnap","backlight","frontlight","facenight"],n=[p["a"].t("indoor"),p["a"].t("outdoor"),p["a"].t("day"),p["a"].t("night"),p["a"].t("morning"),p["a"].t("nightfall"),p["a"].t("mode")+"1",p["a"].t("mode")+"2",p["a"].t("mode")+"3",p["a"].t("mode")+"4",p["a"].t("street"),p["a"].t("lowIllumination"),p["a"].t("custom")+"1",p["a"].t("custom")+"2",p["a"].t("mountNormal"),p["a"].t("mountRoad"),p["a"].t("faceCapture"),p["a"].t("backLight"),p["a"].t("frontLight"),p["a"].t("facenight")];return new Promise((function(o){var r={urlCGI:"ipdMountScenarioCap",params:{channel:t.oDisplayInfo.iChannelId},data:null,loading:!0};m["a"].get(r).then((function(t){var r=t.oResult,s=e(r).find("mode").attr("opt").split(",");e.each(s,(function(t,o){var r=e.inArray(o,i);a.push({text:n[r],value:o})})),o()}),(function(){var t=["indoor","outdoor"];e.each(t,(function(t,o){var r=e.inArray(o,i);a.push({text:n[r],value:o})})),o()}))}))}},{key:"getMountScenInfo",value:function(){var t=this;return new Promise((function(a){var i={urlCGI:"ipdMountScenario",params:{channel:t.oDisplayInfo.iChannelId},data:null,loading:!0};m["a"].get(i).then((function(i){var n=i.oResult;t.oSceneCap.bMountingScene=!0,t.oDisplayInfo.szMountScene=e(n).find("mode").eq(0).text(),t.oDisplayInfo.szMountSceneCopy=e(n).find("mode").eq(0).text(),a()}),(function(){t.oSceneCap.bMountingScene=!1,a()}))}))}},{key:"getDisplayCap",value:function(){var t=this,a=this;this.resetDisplayCap();var i=this.oDisplayInfo.oISP.szScheduleType,n=1===h["a"].iDeviceType?"IPCdisplayCap":"displayCap";return"schedule"!==this.oDisplayInfo.oISP.szISPMode&&(i=""),new Promise((function(o){var r={urlCGI:n,params:{channel:t.oDisplayInfo.iChannelId,scheduleType:i},data:null,loading:!0};m["a"].get(r).then((function(t){a.oDisplayCap.bSupportDisplay=!0;var i=t.oResult,n=e(t.oResult),r=0;if(e(i).find("brightnessLevel").length>0?(a.oDisplayCap.bBright=!0,a.oDisplayCap.iBrightDef=parseInt(e(i).find("brightnessLevel").eq(0).attr("def"),10),a.oDisplayCap.iBrightMin=parseInt(e(i).find("brightnessLevel").eq(0).attr("min"),10),a.oDisplayCap.iBrightMax=parseInt(e(i).find("brightnessLevel").eq(0).attr("max"),10)):a.oDisplayCap.bBright=!1,e(i).find("contrastLevel").length>0?(a.oDisplayCap.bContrast=!0,a.oDisplayCap.iContrastDef=parseInt(e(i).find("contrastLevel").eq(0).attr("def"),10),a.oDisplayCap.iContrastMin=parseInt(e(i).find("contrastLevel").eq(0).attr("min"),10),a.oDisplayCap.iContrastMax=parseInt(e(i).find("contrastLevel").eq(0).attr("max"),10)):a.oDisplayCap.bContrast=!1,e(i).find("saturationLevel").length>0?(a.oDisplayCap.bSaturation=!0,a.oDisplayCap.iSaturationDef=parseInt(e(i).find("saturationLevel").eq(0).attr("def"),10),a.oDisplayCap.iSaturationMin=parseInt(e(i).find("saturationLevel").eq(0).attr("min"),10),a.oDisplayCap.iSaturationMax=parseInt(e(i).find("saturationLevel").eq(0).attr("max"),10)):a.oDisplayCap.bSaturation=!1,e(i).find("hueLevel").length>0?(a.oDisplayCap.bHue=!0,a.oDisplayCap.iHueDef=parseInt(e(i).find("hueLevel").eq(0).attr("def"),10),a.oDisplayCap.iHueMin=parseInt(e(i).find("hueLevel").eq(0).attr("min"),10),a.oDisplayCap.iHueMax=parseInt(e(i).find("hueLevel").eq(0).attr("max"),10)):a.oDisplayCap.bHue=!1,e(i).find("imageMode").length?(a.oDisplayCap.bSupportScene=!0,a.oDisplayCap.iSharpnessDef=parseInt(e(i).find("sharpnessLevel").eq(0).attr("def"),10),a.oDisplayCap.iSharpnessMin=parseInt(e(i).find("sharpnessLevel").eq(0).attr("min"),10),a.oDisplayCap.iSharpnessMax=parseInt(e(i).find("sharpnessLevel").eq(0).attr("max"),10),a.oDisplayCap.iNoiseReduceDef=parseInt(e(i).find("generalLevel").eq(0).attr("def"),10),a.oDisplayCap.iNoiseReduceMin=parseInt(e(i).find("generalLevel").eq(0).attr("min"),10),a.oDisplayCap.iNoiseReduceMax=parseInt(e(i).find("generalLevel").eq(0).attr("max"),10),a.getDisplaySceneInfo()):a.oDisplayCap.bSupportScene=!1,n.find("Color").eq(0).find("brightnessLevel").length>0&&(a.oDisplayCap.bBright=!0,a.oDisplayCap.iBrightMin=parseInt(n.find("Color").eq(0).find("brightnessLevel").eq(0).attr("min"),10),a.oDisplayCap.iBrightMax=parseInt(n.find("Color").eq(0).find("brightnessLevel").eq(0).attr("max"),10)),n.find("Color").eq(0).find("contrastLevel").length>0&&(a.oDisplayCap.bContrast=!0,a.oDisplayCap.iContrastMin=parseInt(n.find("Color").eq(0).find("contrastLevel").eq(0).attr("min"),10),a.oDisplayCap.iContrastMax=parseInt(n.find("Color").eq(0).find("contrastLevel").eq(0).attr("max"),10)),n.find("Color").eq(0).find("saturationLevel").length>0&&(a.oDisplayCap.bSaturation=!0,a.oDisplayCap.iSaturationMin=parseInt(n.find("Color").eq(0).find("saturationLevel").eq(0).attr("min"),10),a.oDisplayCap.iSaturationMax=parseInt(n.find("Color").eq(0).find("saturationLevel").eq(0).attr("max"),10)),n.find("Color").eq(0).find("hueLevel").length>0&&(a.oDisplayCap.bHue=!0,a.oDisplayCap.iHueMin=parseInt(n.find("Color").eq(0).find("hueLevel").eq(0).attr("min"),10),a.oDisplayCap.iHueMax=parseInt(n.find("Color").eq(0).find("hueLevel").eq(0).attr("max"),10)),n.find("Color").eq(0).find("grayScaleMode").length>0&&(a.oDisplayCap.bGrayScale=!0),n.find("Palettes").eq(0).find("mode").length>0){a.oDisplayCap.bPalettes=!0;var l=n.find("Palettes").eq(0).find("mode").eq(0).attr("opt").split(",");if(c["a"].createNgOptions(l,l,l,a.oDisplayCap.aPalettesModes),n.find("Palettes").eq(0).find("ColorateTarget").length>0){a.oDisplayCap.bColorTarget=!0,a.oDisplayCap.oColorTargetTemprature.iMin=u["a"].nodeAttr(i,"ColorateTargetMode minTemperature","min","i"),a.oDisplayCap.oColorTargetTemprature.iMax=u["a"].nodeAttr(i,"ColorateTargetMode minTemperature","max","i");var d=a.oTempUnit;a._bEnableUnitConfig&&d.szShowUnit!==d.szTransUnit&&(a.oDisplayCap.oColorTargetTemprature.iMin=u["a"].transFromCentigrade(d.szShowUnit,a.oDisplayCap.oColorTargetTemprature.iMin,!0,1),a.oDisplayCap.oColorTargetTemprature.iMax=u["a"].transFromCentigrade(d.szShowUnit,a.oDisplayCap.oColorTargetTemprature.iMax,!0,1)),a.oDisplayCap.oColorTargetTempratureValid.range.value.min=a.oDisplayCap.oColorTargetTemprature.iMin,a.oDisplayCap.oColorTargetTempratureValid.range.value.max=a.oDisplayCap.oColorTargetTemprature.iMax,n.find("ColorateTargetModeList").eq(0).find("ColorateTargetMode").each((function(){var t=u["a"].nodeValue(this,"mode"),i=u["a"].nodeValue(this,"enabled","b"),n=a.rgbToHex(e(this).find("Color").eq(0));switch(t){case"colorateHotAreae":a.oDisplayCap.oColorateHotAreaDefault.bEnabled=i,""===e(this).find("TemperatureLimit minTemperature").text()?a.oDisplayCap.oColorateHotAreaDefault.iMinTemperature=u["a"].nodeAttr(this,"TemperatureLimit minTemperature","default","f"):a.oDisplayCap.oColorateHotAreaDefault.iMinTemperature=u["a"].nodeValue(this,"TemperatureLimit minTemperature","f"),a.oDisplayCap.oColorateHotAreaDefault.szColor=n;break;case"colorateIntervalArea":a.oDisplayCap.oColorateIntervalAreaDefault.bEnabled=i,""===e(this).find("TemperatureLimit minTemperature").text()?a.oDisplayCap.oColorateIntervalAreaDefault.iMinTemperature=u["a"].nodeAttr(this,"TemperatureLimit minTemperature","default","f"):a.oDisplayCap.oColorateIntervalAreaDefault.iMinTemperature=u["a"].nodeValue(this,"TemperatureLimit minTemperature","f"),""===e(this).find("TemperatureLimit maxTemperature").text()?a.oDisplayCap.oColorateIntervalAreaDefault.iMaxTemperature=u["a"].nodeAttr(this,"TemperatureLimit maxTemperature","default","f"):a.oDisplayCap.oColorateIntervalAreaDefault.iMaxTemperature=u["a"].nodeValue(this,"TemperatureLimit maxTemperature","f"),a.oDisplayCap.oColorateIntervalAreaDefault.szColor=n;break;case"colorateColdArea":a.oDisplayCap.oColorateColdAreaDefault.bEnabled=i,""===e(this).find("TemperatureLimit maxTemperature").text()?a.oDisplayCap.oColorateColdAreaDefault.iMaxTemperature=u["a"].nodeAttr(this,"TemperatureLimit maxTemperature","default","f"):a.oDisplayCap.oColorateColdAreaDefault.iMaxTemperature=u["a"].nodeValue(this,"TemperatureLimit maxTemperature","f"),a.oDisplayCap.oColorateColdAreaDefault.szColor=n;break;default:break}}))}}if(n.find("Sharpness").length>0&&(a.oDisplayCap.bSharpness=!0,a.oDisplayCap.iSharpnessMin=parseInt(n.find("Sharpness").eq(0).find("SharpnessLevel").eq(0).attr("min"),10),a.oDisplayCap.iSharpnessMax=parseInt(n.find("Sharpness").eq(0).find("SharpnessLevel").eq(0).attr("max"),10),n.find("Sharpness").eq(0).find("SharpnessMode").length>0)){a.oDisplayCap.bSharpnessMode=!0;var m=n.find("Sharpness").eq(0).find("SharpnessMode").eq(0).attr("opt").split(",");c["a"].createNgOptions(m,["manual","automatic"],["manual","auto"],a.oDisplayCap.aSharpnessModes)}if(n.find("Exposure").length>0){a.oDisplayCap.bExposureType=!0;var h=n.find("Exposure").eq(0).find("ExposureType").eq(0).attr("opt").split(",");if((-1!==e.inArray("IrisFirst",h)||s["a"].m_oDeviceCapa.bPTZ)&&(a.oDisplayInfo.bNeedExposureLogic=!0),c["a"].createNgOptions(h,["automatic","irisPriority","manual","shutterPriority","gainPriority","#Tamron 2.8-8mm F1.2 (M13VP288-IR)","#Union 3-9mm F1.6-2.7 (T5280-PQ1)","#Union 2.8-12mm F1.6-2.7 (T5289-PQ1)","#HIK 3.8-16mm F1.5 (HV3816P-8MPIR)","#HIK 11-40mm F1.7 (HV1140P-8MPIR)","#HIK 2.7-12mm F1.2 (TV2712P-MPIR)","#MZ5721D-12MPIR","#MZ1555D-12MPIR","#MZ5721D-12MPIR (RS485)","#MZ1555D-12MPIR (RS485)","#HIK 12-50mm F1.5 (HV1250P-MPIR)","generalPiris"],["auto","IrisFirst","manual","ShutterFirst","gainFirst","pIris","pIris-T5280","pIris-T5289","pIris-T3816","pIris-T1140","pIris-T2712","MZ5721D_12MPIR","MZ1555D_12MPIR","MZ5721D_12MPIR_RS485","MZ1555D_12MPIR_RS485","pIris-T1250","pIris-General"],a.oDisplayCap.aExposureTypes),n.find("Exposure").eq(0).find("autoIrisLevel").length>0&&(a.oDisplayCap.bAutoIrisLevel=!0,a.oDisplayCap.iAutoIrisLevelMin=parseInt(n.find("Exposure").eq(0).find("autoIrisLevel").eq(0).attr("min"),10),a.oDisplayCap.iAutoIrisLevelMax=parseInt(n.find("Exposure").eq(0).find("autoIrisLevel").eq(0).attr("max"),10)),n.find("Exposure").eq(0).find("pIris").length>0&&(a.oDisplayCap.bPIris=!0,a.oDisplayCap.iPIrisLevelMin=parseInt(n.find("Exposure").eq(0).find("pIris").eq(0).find("IrisLevel").eq(0).attr("min"),10),a.oDisplayCap.iPIrisLevelMax=parseInt(n.find("Exposure").eq(0).find("pIris").eq(0).find("IrisLevel").eq(0).attr("max"),10)),n.find("Exposure").eq(0).find("OverexposeSuppress").length>0){a.oDisplayCap.bSmartIR=!0;var f=n.find("Exposure").eq(0).find("OverexposeSuppress").eq(0);if(a.oDisplayCap.bSmartIRMode=f.find("Type").length>0,a.oDisplayCap.bSmartIRMode){a.oDisplayCap.aSmartIRType.length=0;var v=f.find("Type").eq(0).attr("opt").split(",");e.each(v,(function(){a.oDisplayCap.aSmartIRType.push({text:a.oTrans[this.toString()],value:this.toString()})}))}a.oDisplayCap.bDistance=!!f.find("DistanceLevel").length,a.oDisplayCap.iDistanceMin=parseInt(f.find("DistanceLevel").eq(0).attr("min"),10),a.oDisplayCap.iDistanceMax=parseInt(f.find("DistanceLevel").eq(0).attr("max"),10),a.oDisplayCap.bLowDistance=!!f.find("lowLightDistanceLevel").length,a.oDisplayCap.iLowDistanceMin=parseInt(f.find("lowLightDistanceLevel").eq(0).attr("min"),10),a.oDisplayCap.iLowDistanceMax=parseInt(f.find("lowLightDistanceLevel").eq(0).attr("max"),10),a.oDisplayCap.bHighDistance=!!f.find("hightLightDistanceLevel").length,a.oDisplayCap.iHighDistanceMin=parseInt(f.find("hightLightDistanceLevel").eq(0).attr("min"),10),a.oDisplayCap.iHighDistanceMax=parseInt(f.find("hightLightDistanceLevel").eq(0).attr("max"),10)}if(n.find("Exposure").eq(0).find("exposureLevel").length>0&&(a.oDisplayCap.bExposureLevel=!0,a.oDisplayCap.iExposureLevelDef=u["a"].nodeValue(n,"Exposure exposureLevel","i"),a.oDisplayCap.iExposureLevelMin=u["a"].nodeAttr(n,"Exposure exposureLevel","min","i"),a.oDisplayCap.iExposureLevelMax=u["a"].nodeAttr(n,"Exposure exposureLevel","max","i")),n.find("Exposure PIrisGeneral pIrisType").length){a.oDisplayCap.bGeneralPirisMode=!0,a.oDisplayCap.aGeneralPirisMode.length=0;var b=u["a"].nodeAttr(n,"Exposure PIrisGeneral pIrisType","opt");""!==b&&e.each(b.split(","),(function(){a.oDisplayCap.aGeneralPirisMode.push({value:this.toString(),text:a._oMaps[this.toString()]||this.toString()})}))}n.find("Exposure PIrisGeneral irisLevel").length>0&&(a.oDisplayCap.bGeneralPirisLevel=!0,a.oDisplayCap.iGeneralPirisLevelDef=u["a"].nodeAttr(n,"Exposure PIrisGeneral irisLevel","def","i"),a.oDisplayCap.iGeneralPirisLevelMin=u["a"].nodeAttr(n,"Exposure PIrisGeneral irisLevel","min","i"),a.oDisplayCap.iGeneralPirisLevelMax=u["a"].nodeAttr(n,"Exposure PIrisGeneral irisLevel","max","i"))}if(n.find("Iris").length>0){if(n.find("Iris").eq(0).find("IrisLevel").eq(0).attr("opt")){a.oDisplayCap.bIris=!0;var g=n.find("Iris").eq(0).find("IrisLevel").eq(0).attr("opt").split(","),P="",S="";for(r=0;r<g.length;r++)S=g[r],P="0"===S?p["a"].t("off"):S.length>3?"f"+Math.floor(parseInt(S,10)/100):"f"+(parseInt(S,10)/100).toFixed(1),a.oDisplayCap.aIriss.push({text:P,value:S})}n.find("Iris").eq(0).find("maxIrisLevelLimit").length>0&&(a.oDisplayCap.bMaxIrisLimit=!0,a.oDisplayCap.iMaxIrisLimitMin=parseInt(n.find("Iris").eq(0).find("maxIrisLevelLimit").eq(0).attr("min"),10),a.oDisplayCap.iMaxIrisLimitMax=parseInt(n.find("Iris").eq(0).find("maxIrisLevelLimit").eq(0).attr("max"),10)),n.find("Iris").eq(0).find("minIrisLevelLimit").length>0&&(a.oDisplayCap.bMinIrisLimit=!0,a.oDisplayCap.iMinIrisLimitMin=parseInt(n.find("Iris").eq(0).find("minIrisLevelLimit").eq(0).attr("min"),10),a.oDisplayCap.iMinIrisLimitMax=parseInt(n.find("Iris").eq(0).find("minIrisLevelLimit").eq(0).attr("max"),10))}if(n.find("Shutter").length>0){if(n.find("Shutter").eq(0).find("ShutterLevel").eq(0).attr("opt")){a.oDisplayCap.bShutter=!0;var C=n.find("Shutter").eq(0).find("ShutterLevel").eq(0).attr("opt").split(",");c["a"].createNgOptions(C,[],[],a.oDisplayCap.aShutters)}if(n.find("Shutter").eq(0).find("maxShutterLevelLimit").eq(0).attr("opt")){a.oDisplayCap.bMaxShutterLimit=!0;var y=n.find("Shutter").eq(0).find("maxShutterLevelLimit").eq(0).attr("opt").split(",");c["a"].createNgOptions(y,[],[],a.oDisplayCap.aMaxShutterLimits)}if(n.find("Shutter").eq(0).find("minShutterLevelLimit").length>0){a.oDisplayCap.bMinShutterLimit=!0;var I=n.find("Shutter").eq(0).find("minShutterLevelLimit").eq(0).attr("opt").split(",");c["a"].createNgOptions(I,[],[],a.oDisplayCap.aMinShutterLimits)}}if(n.find("ExpComp").length>0&&(a.oDisplayCap.bExpComp=!0,a.oDisplayCap.iExpCompMin=parseInt(n.find("ExpComp").eq(0).find("ExpCompLevel").eq(0).attr("min"),10),a.oDisplayCap.iExpCompMax=parseInt(n.find("ExpComp").eq(0).find("ExpCompLevel").eq(0).attr("max"),10)),n.find("DSS").length>0&&(a.oDisplayCap.bDSS=!0,n.find("DSS").eq(0).find("DSSLevel").length>0)){a.oDisplayCap.bDSSLevel=!0;var D=n.find("DSS").eq(0).find("DSSLevel").eq(0).attr("opt").split(",");for(r=0;r<D.length;r++)a.oDisplayCap.aDSSLevels.push({text:p["a"].t("slowShutter")+D[r],value:D[r]})}if(n.find("Gain").length>0&&(n.find("Gain").eq(0).find("GainLevel").length>0&&(a.oDisplayCap.bGainLevel=!0,a.oDisplayCap.iGainLevelMin=parseInt(n.find("Gain").eq(0).find("GainLevel").eq(0).attr("min"),10),a.oDisplayCap.iGainLevelMax=parseInt(n.find("Gain").eq(0).find("GainLevel").eq(0).attr("max"),10)),n.find("Gain").eq(0).find("GainLimit").length>0&&(a.oDisplayCap.bGainLimit=!0,a.oDisplayCap.iGainLimitMin=parseInt(n.find("Gain").eq(0).find("GainLimit").eq(0).attr("min"),10),a.oDisplayCap.iGainLimitMax=parseInt(n.find("Gain").eq(0).find("GainLimit").eq(0).attr("max"),10))),n.find("FocusConfiguration").length>0){if(n.find("FocusConfiguration").eq(0).find("focusStyle").length>0){var w=n.find("FocusConfiguration").eq(0).find("focusStyle").eq(0).attr("opt").split(",");w.length>1&&(a.oDisplayCap.bFocusMode=!0,c["a"].createNgOptions(w,["automatic","manual","semiAuto"],["AUTO","MANUAL","SEMIAUTOMATIC"],a.oDisplayCap.aFocusModes))}if(n.find("FocusConfiguration").eq(0).find("focusLimited").length>0){var T=n.find("FocusConfiguration").eq(0).find("focusLimited").eq(0).attr("opt").split(",");if(T.length>1)for(a.oDisplayCap.bFocusDistance=!0,r=0;r<T.length;r++){var k=parseInt(T[r],10),x="";if(x=65535===k?"INFINITE":0===k?"AUTO":k>=100?(k/100).toFixed(1)+"m":k+"cm",a._bEnableUnitConfig){var A={meter:"m",feet:"ft",centimeter:"cm"},R=s["a"].m_oUnitConfigInfo.distanceUnit;x=u["a"].transDistansValueByUnit("centimeter",R,"iFocusLimited",1)+A[R]}a.oDisplayCap.aFocusDistances.push({text:x,value:T[r]})}}n.find("FocusConfiguration").eq(0).find("focusSpeed").length>0&&(a.oDisplayCap.bFocusSpeed=!0,a.oDisplayCap.iFocusSpeedMin=parseInt(n.find("FocusConfiguration").eq(0).find("focusSpeed").eq(0).attr("min"),10),a.oDisplayCap.iFocusSpeedMax=parseInt(n.find("FocusConfiguration").eq(0).find("focusSpeed").eq(0).attr("max"),10))}if(n.find("IrcutFilter").length>0){if(n.find("IrcutFilter").eq(0).find("IrcutFilterType").length>0){a.oDisplayCap.bIrcutFilterType=!0;var L=n.find("IrcutFilter").eq(0).find("IrcutFilterType").eq(0).attr("opt").split(",");c["a"].createNgOptions(L,["automatic","day","night","scheduledSwitch","triggerAlarmIn","videoAutoTrigger","darkFighterX","darkFighterXAuto","darkFighterXSchedule","colorVu"],["auto","day","night","schedule","eventTrigger","videoAuto","darkFighterX","darkFighterXAuto","darkFighterXSchedule","colorVuAuto"],a.oDisplayCap.aIrcutFilterTypes)}if(n.find("IrcutFilter").eq(0).find("nightToDayFilterLevel").length>0){a.oDisplayCap.bIrcutFilterSen=!0;var E=n.find("IrcutFilter").eq(0).find("nightToDayFilterLevel").eq(0).attr("opt").split(",");c["a"].createNgOptions(E,[p["a"].t("low"),p["a"].t("medium"),p["a"].t("high")],["low","normal","high"],a.oDisplayCap.aIrcutFilterSens)}n.find("IrcutFilter").eq(0).find("nightToDayFilterTime").length>0&&(a.oDisplayCap.bIructFilterTime=!0,""!==u["a"].nodeAttr(n,"IrcutFilter nightToDayFilterTime","opt")?e.each(u["a"].nodeAttr(n,"IrcutFilter nightToDayFilterTime","opt").split(","),(function(e,t){a.oDisplayCap.aIrcutFilterTime.push(parseInt(t,10))})):(a.oDisplayCap.iIructFilterTimeMin=parseInt(n.find("IrcutFilter").eq(0).find("nightToDayFilterTime").eq(0).attr("min"),10),a.oDisplayCap.iIructFilterTimeMax=parseInt(n.find("IrcutFilter").eq(0).find("nightToDayFilterTime").eq(0).attr("max"),10))),n.find("IrcutFilter").eq(0).find("beginTime").length>0&&(a.oDisplayInfo.szIrcutFilterStartTime=u["a"].nodeValue(n.find("IrcutFilter").eq(0),"beginTime")),n.find("IrcutFilter").eq(0).find("endTime").length>0&&(a.oDisplayInfo.szIrcutFilterEndTime=u["a"].nodeValue(n.find("IrcutFilter").eq(0),"endTime"))}if(n.find("IrLight").length>0){if(a.oDisplayCap.bIRLight=!0,n.find("IrLight").eq(0).find("mode").length>0){var _=n.find("IrLight").eq(0).find("mode").eq(0).attr("opt").split(",");c["a"].createNgOptions(_,["automatic","manual"],["auto","manual"],a.oDisplayCap.aIRLightModes)}if(n.find("IrLight").eq(0).find("triggerMode").length>0){var z=n.find("IrLight").eq(0).find("triggerMode").eq(0).attr("opt").split(",");c["a"].createNgOptions(z,["movementTrigger","photosen"],["camera","photosensitive"],a.oDisplayCap.aIRTriggerModes)}n.find("IrLight").eq(0).find("brightnessLevel").length>0&&(a.oDisplayCap.iIRLightBrightMin=parseInt(n.find("IrLight").eq(0).find("brightnessLevel").eq(0).attr("min"),10),a.oDisplayCap.iIRLightBrightMax=parseInt(n.find("IrLight").eq(0).find("brightnessLevel").eq(0).attr("max"),10)),n.find("IrLight").eq(0).find("sensitivityLevel").length>0&&(a.oDisplayCap.iIRLightSenMin=parseInt(n.find("IrLight").eq(0).find("sensitivityLevel").eq(0).attr("min"),10),a.oDisplayCap.iIRLightSenMax=parseInt(n.find("IrLight").eq(0).find("sensitivityLevel").eq(0).attr("max"),10)),n.find("IrLight").eq(0).find("brightnessLimit").length>0&&(a.oDisplayCap.bIRLightBrightLimit=!0,a.oDisplayCap.iIRLightBrightLimitMin=parseInt(n.find("IrLight").eq(0).find("brightnessLimit").eq(0).attr("min"),10),a.oDisplayCap.iIRLightBrightLimitMax=parseInt(n.find("IrLight").eq(0).find("brightnessLimit").eq(0).attr("max"),10))}if(n.find("LaserLight").length>0){if(a.oDisplayCap.bLaserLight=!0,n.find("LaserLight").eq(0).find("mode").length>0){var V=n.find("LaserLight").eq(0).find("mode").eq(0).attr("opt").split(",");c["a"].createNgOptions(V,["automatic","manual"],["auto","manual"],a.oDisplayCap.aLaserModes)}if(n.find("LaserLight").eq(0).find("triggerMode").length>0){var M=n.find("LaserLight").eq(0).find("triggerMode").eq(0).attr("opt").split(",");c["a"].createNgOptions(M,["movementTrigger","photosen"],["camera","photosensitive"],a.oDisplayCap.aLaserTriggerModes)}if(n.find("LaserLight").eq(0).find("brightnessLevel").length>0&&(a.oDisplayCap.iLaserBrightMin=parseInt(n.find("LaserLight").eq(0).find("brightnessLevel").eq(0).attr("min"),10),a.oDisplayCap.iLaserBrightMax=parseInt(n.find("LaserLight").eq(0).find("brightnessLevel").eq(0).attr("max"),10)),n.find("LaserLight").eq(0).find("laserangle").length>0&&(a.oDisplayCap.iLaserAngleMin=parseInt(n.find("LaserLight").eq(0).find("laserangle").eq(0).attr("min"),10),a.oDisplayCap.iLaserAngleMax=parseInt(n.find("LaserLight").eq(0).find("laserangle").eq(0).attr("max"),10)),n.find("LaserLight").eq(0).find("sensitivityLevel").length>0&&(a.oDisplayCap.iLaserSenMin=parseInt(n.find("LaserLight").eq(0).find("sensitivityLevel").eq(0).attr("min"),10),a.oDisplayCap.iLaserSenMax=parseInt(n.find("LaserLight").eq(0).find("sensitivityLevel").eq(0).attr("max"),10)),n.find("LaserLight").eq(0).find("brightnessLimit").length>0&&(a.oDisplayCap.bLaserBrightLimit=!0,a.oDisplayCap.iLaserBrightLimitMin=parseInt(n.find("LaserLight").eq(0).find("brightnessLimit").eq(0).attr("min"),10),a.oDisplayCap.iLaserBrightLimitMax=parseInt(n.find("LaserLight").eq(0).find("brightnessLimit").eq(0).attr("max"),10)),n.find("LaserLight").eq(0).find("illumination").length>0&&(a.oDisplayCap.bLaserIllumination=!0,a.oDisplayCap.iLaserIlluminationMin=parseInt(n.find("LaserLight").eq(0).find("illumination").eq(0).attr("min"),10),a.oDisplayCap.iLaserIlluminationMax=parseInt(n.find("LaserLight").eq(0).find("illumination").eq(0).attr("max"),10)),n.find("LaserLight").eq(0).find("compensationRegionMode").length>0){a.oDisplayCap.bCompensationRegionMode=!0;var N=n.find("LaserLight").eq(0).find("compensationRegionMode").eq(0).attr("opt").split(",");c["a"].createNgOptions(N,["center","adaptive","fullScreen"],["center","adaptive","full_Screen"],a.oDisplayCap.aCompensationRegionModes)}if(n.find("LaserLight").eq(0).find("compensationLevel").length>0){a.oDisplayCap.bCompensationLevel=!0;var $=n.find("LaserLight").eq(0).find("compensationLevel").eq(0).attr("opt").split(",");c["a"].createNgOptions($,["low","medium","high"],["low","medium","high"],a.oDisplayCap.aCompensationLevel)}}if(n.find("SupplementLight").length>0){a.oDisplayCap.bSupplyLight=!0;var O=n.find("SupplementLight").eq(0);if(a.oDisplayCap.bSupplyModes=!1,O.find("mode").length>0){a.oDisplayCap.bSupplyModes=!0;var q=O.find("mode").eq(0).attr("opt").split(",");c["a"].createNgOptions(q,["normalOpen","normalClose","scheduled","automatic"],["on","off","schedule","auto"],a.oDisplayCap.aSupplyModes)}if(a.oDisplayCap.bSupplyLightModes=!1,O.find("supplementLightMode").length>0){a.oDisplayCap.bSupplyLightModes=!0;var F=O.find("supplementLightMode").eq(0).attr("opt").split(",");a.oDisplayCap.aSupplyLightModes.length=0,e.each(F,(function(e,t){a.oDisplayCap.aSupplyLightModes.push({text:a._oMaps[t]?a._oMaps[t]:t,value:t})}))}if(O.find("brightnessLimit").length>0&&(a.oDisplayCap.iSupplyLightLimitMin=u["a"].nodeAttr(O,"brightnessLimit","min","i"),a.oDisplayCap.iSupplyLightLimitMax=u["a"].nodeAttr(O,"brightnessLimit","max","i")),a.oDisplayCap.bMixedLightBrightnessRegulatModes=!!O.find("mixedLightBrightnessRegulatMode").length,a.oDisplayCap.bMixedLightBrightnessRegulatModes){var B=u["a"].nodeAttr(O,"mixedLightBrightnessRegulatMode","opt","a");a.oDisplayCap.aMixedLightBrightnessRegulatModes.length=0,B.forEach((function(e){a.oDisplayCap.aMixedLightBrightnessRegulatModes.push({text:a._oMaps[e]?a._oMaps[e]:e,value:e})}))}a.oDisplayCap.bSupportWhiteLightBrightness=!!O.find("whiteLightBrightness").length,a.oDisplayCap.bSupportWhiteLightBrightness&&(a.oDisplayCap.iWhiteLightBrightnessMin=u["a"].nodeAttr(O,"whiteLightBrightness","min","i"),a.oDisplayCap.iWhiteLightBrightnessMax=u["a"].nodeAttr(O,"whiteLightBrightness","max","i")),a.oDisplayCap.szSupplyStartTime=u["a"].nodeValue(O,"beginTime"),a.oDisplayCap.szSupplyEndTime=u["a"].nodeValue(O,"endTime"),a.oDisplayCap.iSupplyLightLimit=u["a"].nodeValue(O,"brightnessLimit","i"),a.oDisplayCap.bAutoModeBrightnessCfg=u["a"].nodeValue(O,"isAutoModeBrightnessCfg","b")}if(n.find("BLC").length>0){if(n.find("BLC").eq(0).find("BLCMode").length>0){a.oDisplayCap.bBLCMode=!0;var W=n.find("BLC").eq(0).find("BLCMode").eq(0).attr("opt").split(",");W=e.grep(W,(function(e){return"CLOSE"!==e})),W=e.merge(["false"],W),c["a"].createNgOptions(W,["directionUp","directionDown","directionLeft","directionRight","center","custom","on","off","automatic"],["UP","DOWN","LEFT","RIGHT","CENTER","Region","OPEN","false","AUTO"],a.oDisplayCap.aBLCModes)}else a.oDisplayCap.aBLCModes=[{text:p["a"].t("on"),value:"true"},{text:p["a"].t("off"),value:"false"}];n.find("BLC").eq(0).find("BLCLevel").length>0&&(a.oDisplayCap.bBLCLevel=!0,a.oDisplayCap.iBLCLevelMin=parseInt(n.find("BLC").eq(0).find("BLCLevel").eq(0).attr("min"),10),a.oDisplayCap.iBLCLevelMax=parseInt(n.find("BLC").eq(0).find("BLCLevel").eq(0).attr("max"),10))}if(n.find("BLCWebDisplay").length>0){a.oDisplayCap.aBLCandWDRandHLCModes.length=0;var U=n.find("BLCWebDisplay").eq(0);U.find("mode").length>0&&(a.oDisplayCap.bBLCandWDRandHLCMode=!0)}if(n.find("WDR").length>0){if(n.find("WDR").eq(0).find("mode").length>0){a.oDisplayCap.bWDRMode=!0;var H=n.find("WDR").eq(0).find("mode").eq(0).attr("opt").split(",");c["a"].createNgOptions(H,["on","off","automatic","door","jewellery"],["open","close","auto","door","jewellery"],a.oDisplayCap.aWDRModes)}n.find("WDR").eq(0).find("WDRLevel").length>0&&(a.oDisplayCap.bWDRLevel=!0,a.oDisplayCap.iWDRLevelMin=parseInt(n.find("WDR").eq(0).find("WDRLevel").eq(0).attr("min"),10),a.oDisplayCap.iWDRLevelMax=parseInt(n.find("WDR").eq(0).find("WDRLevel").eq(0).attr("max"),10)),n.find("WDR").eq(0).find("WDRLevel1").length>0&&(a.oDisplayCap.bWDRLevel1=!0,a.oDisplayCap.iWDRLevel1Min=parseInt(n.find("WDR").eq(0).find("WDRLevel1").eq(0).attr("min"),10),a.oDisplayCap.iWDRLevel1Max=parseInt(n.find("WDR").eq(0).find("WDRLevel1").eq(0).attr("max"),10)),n.find("WDR").eq(0).find("WDRContrastLevel").length>0&&(a.oDisplayCap.bWDRContrast=!0,a.oDisplayCap.iWDRContrastMin=parseInt(n.find("WDR").eq(0).find("WDRContrastLevel").eq(0).attr("min"),10),a.oDisplayCap.iWDRContrastMax=parseInt(n.find("WDR").eq(0).find("WDRContrastLevel").eq(0).attr("max"),10))}if(n.find("HLC").length>0){a.oDisplayCap.bHLC=!0;var G=n.find("HLC").eq(0).find("enabled").eq(0).attr("opt").split(",");c["a"].createNgOptions(G,["on","off"],["true","false"],a.oDisplayCap.aHLCModes),n.find("HLC").eq(0).find("HLCLevel").length>0&&(a.oDisplayCap.bHLCLevel=!0,a.oDisplayCap.iHLCLevelMin=parseInt(n.find("HLC").eq(0).find("HLCLevel").eq(0).attr("min"),10),a.oDisplayCap.iHLCLevelMax=parseInt(n.find("HLC").eq(0).find("HLCLevel").eq(0).attr("max"),10))}if(n.find("WhiteBalance").length>0){a.oDisplayCap.bWhiteBlance=!0;var j=n.find("WhiteBalance").eq(0).find("WhiteBalanceStyle").eq(0).attr("opt").split(",");c["a"].createNgOptions(j,["autoWhiteBalance","indoor","outdoor","MWB","ATW","sodiumLamp","mercuryLamp","onePush","fluorescentLamp","AWB1","AWB2","autoOutdoor","autoSodiumlight","lockedWB","incandescentLamp","warmLightLamp","naturalLight"],["auto","indoor","outdoor","manual","autotrace","sodiumlight","mercurylight","onece","daylightLamp","auto1","auto2","autooutdoor","autosodiumlight","locked","incandescentlight","warmlight","naturallight"],a.oDisplayCap.aWhiteBlances),n.find("WhiteBalance").eq(0).find("WhiteBalanceRed").length>0&&(a.oDisplayCap.bWhiteBlanceRed=!0,a.oDisplayCap.iWhiteBlanceRedMin=parseInt(n.find("WhiteBalance").eq(0).find("WhiteBalanceRed").eq(0).attr("min"),10),a.oDisplayCap.iWhiteBlanceRedMax=parseInt(n.find("WhiteBalance").eq(0).find("WhiteBalanceRed").eq(0).attr("max"),10)),n.find("WhiteBalance").eq(0).find("WhiteBalanceBlue").length>0&&(a.oDisplayCap.bWhiteBlanceBlue=!0,a.oDisplayCap.iWhiteBlanceBlueMin=parseInt(n.find("WhiteBalance").eq(0).find("WhiteBalanceBlue").eq(0).attr("min"),10),a.oDisplayCap.iWhiteBlanceBlueMax=parseInt(n.find("WhiteBalance").eq(0).find("WhiteBalanceBlue").eq(0).attr("max"),10))}if(n.find("NoiseReduce").length>0){a.oDisplayCap.bNoiseReduce=!0;var X=n.find("NoiseReduce").eq(0).find("mode").eq(0).attr("opt").split(",");c["a"].createNgOptions(X,["off","normalMode","ExpertMode"],["close","general","advanced"],a.oDisplayCap.aNoiseReduceModes),n.find("NoiseReduce").eq(0).find("generalLevel").length>0&&(a.oDisplayInfo.iGeneralLevel=parseInt(n.find("NoiseReduce").eq(0).find("generalLevel").eq(0).text(),10),a.oDisplayCap.iGeneralLevelMin=parseInt(n.find("NoiseReduce").eq(0).find("generalLevel").eq(0).attr("min"),10),a.oDisplayCap.iGeneralLevelMax=parseInt(n.find("NoiseReduce").eq(0).find("generalLevel").eq(0).attr("max"),10)),n.find("NoiseReduce").eq(0).find("FrameNoiseReduceLevel").length>0&&(a.oDisplayInfo.iSpaceDNRLevel=parseInt(n.find("NoiseReduce").eq(0).find("FrameNoiseReduceLevel").eq(0).text(),10),a.oDisplayCap.iSpaceDNRLevelMin=parseInt(n.find("NoiseReduce").eq(0).find("FrameNoiseReduceLevel").eq(0).attr("min"),10),a.oDisplayCap.iSpaceDNRLevelMax=parseInt(n.find("NoiseReduce").eq(0).find("FrameNoiseReduceLevel").eq(0).attr("max"),10)),n.find("NoiseReduce").eq(0).find("InterFrameNoiseReduceLevel").length>0&&(a.oDisplayInfo.iTimeDNRLevel=parseInt(n.find("NoiseReduce").eq(0).find("InterFrameNoiseReduceLevel").eq(0).text(),10),a.oDisplayCap.iTimeDNRLevelMin=parseInt(n.find("NoiseReduce").eq(0).find("InterFrameNoiseReduceLevel").eq(0).attr("min"),10),a.oDisplayCap.iTimeDNRLevelMax=parseInt(n.find("NoiseReduce").eq(0).find("InterFrameNoiseReduceLevel").eq(0).attr("max"),10))}if(n.find("Dehaze").length>0){if(n.find("Dehaze").eq(0).find("DehazeMode").length>0){a.oDisplayCap.bDefogMode=!0;var K=n.find("Dehaze").eq(0).find("DehazeMode").eq(0).attr("opt").split(",");c["a"].createNgOptions(K,["on","off","automatic"],["open","close","auto"],a.oDisplayCap.aDefogModes)}n.find("Dehaze").eq(0).find("DehazeLevel").length>0&&(a.oDisplayCap.bDefogLevel=!0,a.oDisplayCap.iDefogLevelMin=parseInt(n.find("Dehaze").eq(0).find("DehazeLevel").eq(0).attr("min"),10),a.oDisplayCap.iDefogLevelMax=parseInt(n.find("Dehaze").eq(0).find("DehazeLevel").eq(0).attr("max"),10))}if(n.find("EIS").length>0&&(a.oDisplayCap.bEIS=!0,n.find("EIS").eq(0).find("EISLevel").length>0&&(a.oDisplayCap.bEISLevel=!0,a.oDisplayCap.iEISLevelMin=parseInt(n.find("EIS").eq(0).find("EISLevel").eq(0).attr("min"),10),a.oDisplayCap.iEISLevelMax=parseInt(n.find("EIS").eq(0).find("EISLevel").eq(0).attr("max"),10))),n.find("OIS").length>0){if(a.oDisplayCap.bOIS=!0,n.find("OIS").eq(0).find("mode").length>0){a.oDisplayCap.bOISMode=!0;var Y={close:p["a"].t("off"),ordinary:p["a"].t("normalMode"),experts:p["a"].t("ExpertMode")},Z=u["a"].nodeAttr(i,"OIS mode","opt").split(",");e.each(Z,(function(e,t){a.oDisplayCap.aOISMode.push({text:Y[t],value:t})})),a.oDisplayInfo.szOISMode=u["a"].nodeAttr(i,"OIS mode","default")}if(n.find("OIS").eq(0).find("OISLevel").length>0){a.oDisplayCap.bOISLevel=!0;var Q={low:p["a"].t("low"),middle:p["a"].t("medium"),high:p["a"].t("high")},J=u["a"].nodeAttr(i,"OISLevel","opt").split(",");e.each(J,(function(e,t){a.oDisplayCap.aOISLevel.push({text:Q[t],value:t})})),a.oDisplayInfo.szOISLevel=u["a"].nodeAttr(i,"OIS OISLevel","default")}if(n.find("OIS").eq(0).find("OISSensitivity").length>0){a.oDisplayCap.bOISSensitivity=!0;var ee={low:p["a"].t("low"),middle:p["a"].t("medium"),high:p["a"].t("high")},te=u["a"].nodeAttr(i,"OISSensitivity","opt").split(",");e.each(te,(function(e,t){a.oDisplayCap.aOISSensitivity.push({text:ee[t],value:t})})),a.oDisplayInfo.szOISSensitivity=u["a"].nodeAttr(i,"OIS OISSensitivity","default")}}if(n.find("ChromaSuppress").eq(0).find("ChromaSuppressLevel").length>0&&(a.oDisplayCap.bChromaSuppress=!0,a.oDisplayCap.iChromaSuppressMin=parseInt(n.find("ChromaSuppress").eq(0).find("ChromaSuppressLevel").eq(0).attr("min"),10),a.oDisplayCap.iChromaSuppressMax=parseInt(n.find("ChromaSuppress").eq(0).find("ChromaSuppressLevel").eq(0).attr("max"),10)),n.find("gammaCorrection").eq(0).find("gammaCorrectionLevel").length>0&&(a.oDisplayCap.bGammaCorrect=!0,a.oDisplayCap.iGammaCorrectMin=parseInt(n.find("gammaCorrection").eq(0).find("gammaCorrectionLevel").eq(0).attr("min"),10),a.oDisplayCap.iGammaCorrectMax=parseInt(n.find("gammaCorrection").eq(0).find("gammaCorrectionLevel").eq(0).attr("max"),10)),n.find("ImageEnhancement").length>0&&(a.oDisplayCap.bIllEnhance=!0),n.find("ImageFlip").length>0)if(a.oDisplayCap.bImageFlip=!0,n.find("ImageFlip").eq(0).find("ImageFlipStyle").length>0){var ae=n.find("ImageFlip").eq(0).find("ImageFlipStyle").eq(0).attr("opt").split(",");ae=e.merge(["false"],ae),c["a"].createNgOptions(ae,["off","leftRight","upDown","center","automatic"],["false","LEFTRIGHT","UPDOWN","CENTER","AUTO"],a.oDisplayCap.aImageFlipModes)}else a.oDisplayCap.aImageFlipModes=[{text:p["a"].t("on"),value:"true"},{text:p["a"].t("off"),value:"false"}];if(n.find("corridor").length>0){a.oDisplayCap.bRotate=!0;var ie=u["a"].nodeAttr(n,"corridor enabled","opt").split(",");c["a"].createNgOptions(ie,["on","off"],["true","false"],a.oDisplayCap.aRotateModes)}if(n.find("Scene").length>0){a.oDisplayCap.bSceneMode=!0;var ne=n.find("Scene").eq(0).find("mode").eq(0).attr("opt").split(",");c["a"].createNgOptions(ne,["indoor","outdoor","default","dimLight"],["indoor","outdoor","standard","dimLight"],a.oDisplayCap.aSceneModes)}if(n.find("powerLineFrequencyMode").length>0){a.oDisplayCap.bVideoStandard=!0;var oe=n.find("powerLineFrequencyMode").eq(0).attr("opt").split(",");c["a"].createNgOptions(oe,["#PAL(50HZ)","#NTSC(60HZ)"],["50hz","60hz"],a.oDisplayCap.aVideoStandard)}if(n.find("CaptureMode").length>0){a.oDisplayCap.bCaptureMode=!0;var re=n.find("CaptureMode").eq(0).find("mode").eq(0).attr("opt").split(",");c["a"].createNgOptions(re,["off"],["close"],a.oDisplayCap.aCaptureModes)}if(n.find("LensDistortionCorrection").length>0)if(n.find("LensDistortionCorrection").eq(0).find("level").length>0){a.oDisplayCap.bDistorCorrect=!0,a.oDisplayCap.aDistorCorrectLevel.push({value:"false",text:p["a"].t("off")});for(var se=u["a"].nodeAttr(n,"LensDistortionCorrection level","opt").split(","),le=0;le<se.length;le++)if(-1!==se[le].indexOf("level")){var ce=se[le].substring(5);a.oDisplayCap.aDistorCorrectLevel.push({value:se[le],text:p["a"].t("level")+ce})}else a.oDisplayCap.aDistorCorrectLevel.push({value:se[le],text:p["a"].t("custom")})}else a.oDisplayCap.bLensDistorCorrect=!0;var ue,de=n.find("LensDistortionCorrection").eq(0);if(de.find("zoomedInDistantViewLevel").length>0&&(a.oDisplayCap.bZoomedInDistantView=!0,a.oDisplayCap.iZoomedInDistantViewMin=u["a"].nodeAttr(de,"zoomedInDistantViewLevel ","min","i"),a.oDisplayCap.iZoomedInDistantViewMax=u["a"].nodeAttr(de,"zoomedInDistantViewLevel ","max","i")),de.find("accurateLevel").length>0&&(a.oDisplayCap.bAccurate=!0,a.oDisplayCap.iAccurateMin=u["a"].nodeAttr(de,"accurateLevel ","min","i"),a.oDisplayCap.iAccurateMax=u["a"].nodeAttr(de,"accurateLevel ","max","i")),de.find("horizontalFOV").length>0&&(a.oDisplayCap.bHorizontalFOV=!0,a.oDisplayCap.iHorizontalFOVMin=u["a"].nodeAttr(de,"horizontalFOV ","min","i"),a.oDisplayCap.iHorizontalFOVMax=u["a"].nodeAttr(de,"horizontalFOV ","max","i")),de.find("verticalFOV").length>0&&(a.oDisplayCap.bVerticalFOV=!0,a.oDisplayCap.iVerticalFOVMin=u["a"].nodeAttr(de,"verticalFOV ","min","i"),a.oDisplayCap.iVerticalFOVMax=u["a"].nodeAttr(de,"verticalFOV ","max","i")),n.find("EPTZ").length>0&&(a.oDisplayCap.bEPTZ=!0),n.find("LensInitialization").length>0&&(a.oDisplayCap.bLensInit=!0),n.find("ZoomLimitRatio").length>0){a.oDisplayCap.bZoomLimit=!0;var pe=n.find("ZoomLimit ").eq(0).find("ZoomLimitRatio").eq(0).attr("opt").split(",");c["a"].createNgOptions(pe,[],[],a.oDisplayCap.aZoomLimits)}if(n.find("DDE mode").length>0){a.oDisplayCap.bDDE=!0;var me=n.find("DDE mode ").eq(0).attr("opt").split(",");c["a"].createNgOptions(me,["off","normalMode","ExpertMode"],["close","general","advanced"],a.oDisplayCap.aDDEModes)}if(n.find("DDE enhanceLevel").length>0&&(a.oDisplayCap.bDDELevel=!0,a.oDisplayCap.iDDELevelMin=u["a"].nodeAttr(i,"DDE enhanceLevel","min","i"),a.oDisplayCap.iDDELevelMax=u["a"].nodeAttr(i,"DDE enhanceLevel","max","i"),a.oDisplayInfo.iDDELevel=u["a"].nodeValue(i,"DDE enhanceLevel","i")),n.find("DigitalZoom ZoomRatio").length>0){a.oDisplayCap.bDigitalZoom=!0;var he=u["a"].nodeAttr(n,"DigitalZoom ZoomRatio","opt").split(","),fe=[];e.each(he,(function(e,t){"1x"===t?fe.push("off"):fe.push("#"+t)})),c["a"].createNgOptions(he,fe,he,a.oDisplayCap.aDigitalZoomModes)}if(n.find("FFC").length>0&&(a.oDisplayCap.bFFC=!0,he=u["a"].nodeAttr(n,"FFC mode","opt").split(","),fe=["scheduled","temperatureDif","off","backgdComp"],ue=["schedule","temperature","close","backgdComp"],c["a"].createNgOptions(he,fe,ue,a.oDisplayCap.aFFCs),n.find("FFC compsentationTime").length>0&&(a.oDisplayCap.bFFCComTime=!0,he=u["a"].nodeAttr(n,"FFC compsentationTime","opt").split(","),fe=[],e.each(he,(function(e,t){fe.push("#"+t+p["a"].t("minute"))})),c["a"].createNgOptions(he,fe,he,a.oDisplayCap.aFFCComTime))),n.find("BrightnessSuddenChangeSuppressionCap").length>0&&(a.oDisplayCap.bBrightnessSudden=!0,he=u["a"].nodeAttr(n,"BrightnessSuddenChangeSuppressionCap enabled","opt").split(","),c["a"].createNgOptions(he,["on","off"],["true","false"],a.oDisplayCap.aBrightnessSudden)),n.find("AGCCap").length>0&&(a.oDisplayCap.bSupportAGC=!0,he=u["a"].nodeAttr(n,"AGCCap AGCMode","opt").split(","),c["a"].createNgOptions(he,["selfAdaptive","histogramMode","linear"],["self_Adaptive","histogram","linear"],a.oDisplayCap.aAGCMode)),n.find("RegionalImageEnhancementCap").length>0){he=u["a"].nodeAttr(n,"RegionalImageEnhancementCap mode","opt").split(",");var ve=["off","customArea","up_60%","down_60%","left_60%","right_60%","center_50%","center_75%"],be=["off","customArea","directionUp","directionDown","directionLeft","directionRight","#"+p["a"].t("center")+"_50%","#"+p["a"].t("center")+"_75%"];c["a"].createNgOptions(he,be,ve,a.oDisplayCap.aRegionalImageEnhancementMode);var ge=e(i).find("DefaultAreaParamList").eq(0);e(ge).find("DefaultAreaParam").each((function(){var t=u["a"].nodeValue(this,"mode");a.oDisplayCap.oRegionalImageEnhancementDefault[t]=e(this).get(0)}))}a.getLocalOutputCapa(),o()}),(function(e){a.oDisplayCap.bSupportScene=!1,a.oDisplayCap.bSupportDisplay=!1,d["a"].getState(e),o()}))}))}},{key:"resetDisplayCap",value:function(){var e=this;for(var t in e.oDisplayCap)e.oDisplayCap.hasOwnProperty(t)&&(/^b.+/.test(t)&&(e.oDisplayCap[t]=!1),/^i.+Min$/.test(t)&&(e.oDisplayCap[t]=0),/^i.+Max$/.test(t)&&(e.oDisplayCap[t]=100),/^a.+$/.test(t)&&(e.oDisplayCap[t]=[]))}},{key:"getISPMode",value:function(){var e=this;return new Promise((function(t){var a={urlCGI:"displayISPMode",params:{channel:e.oDisplayInfo.iChannelId},data:null,loading:!0};m["a"].get(a).then((function(a){var i=a.oResult,n=e.oDisplayInfo.oISP;n.bSupport=!0,n.szScheduleType="common",n.szISPMode=u["a"].nodeValue(i,"mode"),"schedule"!==n.szISPMode&&(n.szScheduleType=""),n.szBeginTime=u["a"].nodeValue(i,"beginTime"),n.szEndTime=u["a"].nodeValue(i,"endTime"),t()}),(function(){var a=e.oDisplayInfo.oISP;a.bSupport=!1,a.szScheduleType="",a.szISPMode="",a.szBeginTime="",a.szEndTime="",t()}))}))}},{key:"getDisplayInfo",value:function(){var t=this,a=t.oDisplayInfo.oISP.szScheduleType;return("schedule"!==t.oDisplayInfo.oISP.szISPMode||"day"!==a&&"night"!==a)&&(a=""),new Promise((function(i){var n={urlCGI:"displayInfo",params:{channel:t.oDisplayInfo.iChannelId,scheduleType:a},data:null,loading:!0};m["a"].get(n).then((function(a){var n=e(a.oResult),o=a.oResult;if(t.oDisplayInfo.oXmlDoc=a.oResult,n.find("Color").eq(0).find("brightnessLevel").length>0&&(t.oDisplayInfo.iBright=u["a"].nodeValue(n.find("Color").eq(0),"brightnessLevel","i")),n.find("Color").eq(0).find("contrastLevel").length>0&&(t.oDisplayInfo.iContrast=u["a"].nodeValue(n.find("Color").eq(0),"contrastLevel","i")),n.find("Color").eq(0).find("saturationLevel").length>0&&(t.oDisplayInfo.iSaturation=u["a"].nodeValue(n.find("Color").eq(0),"saturationLevel","i")),n.find("Color").eq(0).find("hueLevel").length>0&&(t.oDisplayInfo.iHue=u["a"].nodeValue(n.find("Color").eq(0),"hueLevel","i")),n.find("Color").eq(0).find("grayScaleMode").length>0&&(t.oDisplayInfo.szGrayScale=u["a"].nodeValue(n.find("Color").eq(0),"grayScaleMode")),n.find("Palettes").eq(0).find("mode").length>0){t.oDisplayInfo.szPalettes=u["a"].nodeValue(n.find("Palettes").eq(0),"mode"),t.oDisplayInfo.bColorTargetInvalid=!1,n.find("Palettes").eq(0).find("ColorateTargetMode").length>0?n.find("Palettes").eq(0).find("ColorateTargetMode").each((function(){var a=u["a"].nodeValue(this,"mode"),i=u["a"].nodeValue(this,"enabled","b"),n=t.rgbToHex(e(this).find("Color").eq(0));switch(a){case"colorateHotAreae":t.oDisplayInfo.oColorateHotArea.bEnabled=i,t.oDisplayInfo.oColorateHotArea.iMinTemperature=u["a"].nodeValue(this,"TemperatureLimit minTemperature","f"),t.oDisplayInfo.oColorateHotArea.szColor=n;break;case"colorateIntervalArea":t.oDisplayInfo.oColorateIntervalArea.bEnabled=i,t.oDisplayInfo.oColorateIntervalArea.iMinTemperature=u["a"].nodeValue(this,"TemperatureLimit minTemperature","f"),t.oDisplayInfo.oColorateIntervalArea.iMaxTemperature=u["a"].nodeValue(this,"TemperatureLimit maxTemperature","f"),t.oDisplayInfo.oColorateIntervalArea.szColor=n;break;case"colorateColdArea":t.oDisplayInfo.oColorateColdArea.bEnabled=i,t.oDisplayInfo.oColorateColdArea.iMaxTemperature=u["a"].nodeValue(this,"TemperatureLimit maxTemperature","f"),t.oDisplayInfo.oColorateColdArea.szColor=n;break;default:break}})):t.oDisplayCap.bColorTarget&&(t.oDisplayInfo.oColorateHotArea.bEnabled=t.oDisplayCap.oColorateHotAreaDefault.bEnabled,t.oDisplayInfo.oColorateHotArea.iMinTemperature=t.oDisplayCap.oColorateHotAreaDefault.iMinTemperature,t.oDisplayInfo.oColorateHotArea.szColor=t.oDisplayCap.oColorateHotAreaDefault.szColor,t.oDisplayInfo.oColorateIntervalArea.bEnabled=t.oDisplayCap.oColorateIntervalAreaDefault.bEnabled,t.oDisplayInfo.oColorateIntervalArea.iMinTemperature=t.oDisplayCap.oColorateIntervalAreaDefault.iMinTemperature,t.oDisplayInfo.oColorateIntervalArea.iMaxTemperature=t.oDisplayCap.oColorateIntervalAreaDefault.iMaxTemperature,t.oDisplayInfo.oColorateIntervalArea.szColor=t.oDisplayCap.oColorateIntervalAreaDefault.szColor,t.oDisplayInfo.oColorateColdArea.bEnabled=t.oDisplayCap.oColorateColdAreaDefault.bEnabled,t.oDisplayInfo.oColorateColdArea.iMaxTemperature=t.oDisplayCap.oColorateColdAreaDefault.iMaxTemperature,t.oDisplayInfo.oColorateColdArea.szColor=t.oDisplayCap.oColorateColdAreaDefault.szColor);var r=t.oTempUnit;t._bEnableUnitConfig&&r.szShowUnit!==r.szTransUnit&&(t.oDisplayInfo.oColorateHotArea.iMinTemperature=u["a"].transFromCentigrade(r.szShowUnit,t.oDisplayInfo.oColorateHotArea.iMinTemperature,!0,1),t.oDisplayInfo.oColorateIntervalArea.iMinTemperature=u["a"].transFromCentigrade(r.szShowUnit,t.oDisplayInfo.oColorateIntervalArea.iMinTemperature,!0,1),t.oDisplayInfo.oColorateIntervalArea.iMaxTemperature=u["a"].transFromCentigrade(r.szShowUnit,t.oDisplayInfo.oColorateIntervalArea.iMaxTemperature,!0,1),t.oDisplayInfo.oColorateColdArea.iMaxTemperature=u["a"].transFromCentigrade(r.szShowUnit,t.oDisplayInfo.oColorateColdArea.iMaxTemperature,!0,1))}if(n.find("Sharpness").length>0&&(t.oDisplayInfo.iSharpness=u["a"].nodeValue(n.find("Sharpness").eq(0),"SharpnessLevel","i"),t.oDisplayInfo.szSharpnessMode=u["a"].nodeValue(n.find("Sharpness").eq(0),"SharpnessMode")),t.oDisplayCap.bSupportScene&&1===h["a"].iDeviceType&&(t.oDisplayInfo.szDisplayScene=u["a"].nodeValue(o,"imageMode")),0===h["a"].iDeviceType&&(t.oDisplayCap.bSupportScene?(t.oDisplayInfo.szDisplayScene=u["a"].nodeValue(o,"imageMode"),t.oDisplayInfo.iNoiseReduce=u["a"].nodeValue(o,"generalLevel","i")):t.oDisplayInfo.iNoiseReduce=0),n.find("Exposure").length>0){if(t.oDisplayInfo.szExposureType=u["a"].nodeValue(n.find("Exposure").eq(0),"ExposureType"),t.oDisplayInfo.iExposureLevel=u["a"].nodeValue(n.find("Exposure").eq(0),"exposureLevel","i")||t.oDisplayCap.iExposureLevelDef,t.doExposureLogic(),n.find("Exposure").eq(0).find("autoIrisLevel").length>0&&(t.oDisplayInfo.iAutoIrisLevel=u["a"].nodeValue(n.find("Exposure").eq(0),"autoIrisLevel","i")),n.find("Exposure").eq(0).find("pIris").length>0&&(t.oDisplayInfo.szPIrisMode=u["a"].nodeValue(n.find("Exposure").eq(0).find("pIris").eq(0),"pIrisType"),t.oDisplayInfo.iPIrisLevel=u["a"].nodeValue(n.find("Exposure").eq(0).find("pIris").eq(0),"IrisLevel","i")||t.oDisplayCap.iPIrisLevelMin),n.find("Exposure").eq(0).find("OverexposeSuppress").length>0){var s=n.find("Exposure").eq(0).find("OverexposeSuppress").eq(0);if(t.oDisplayInfo.szSmartIREnable=u["a"].nodeValue(s,"enabled"),t.oDisplayInfo.szSmartIRMode=u["a"].nodeValue(s,"Type"),t.oDisplayCap.bSmartIRMode){for(var l=0,c=t.oDisplayCap.aSmartIRType.length;l<c;l++)if(t.oDisplayInfo.szSmartIRMode===t.oDisplayCap.aSmartIRType[l].value)break;l>=t.oDisplayCap.aSmartIRType.length&&(t.oDisplayInfo.szSmartIRMode=t.oDisplayCap.aSmartIRType[0].value)}t.oDisplayInfo.iDistanceLevel=u["a"].nodeValue(s,"DistanceLevel","i"),t.oDisplayInfo.iLowDistanceLevel=u["a"].nodeValue(s,"lowLightDistanceLevel","i"),t.oDisplayInfo.iHighDistanceLevel=u["a"].nodeValue(s,"hightLightDistanceLevel","i")}n.find("Exposure PIrisGeneral pIrisType").length&&(t.oDisplayInfo.szGeneralPIrisMode=u["a"].nodeValue(n.find("Exposure").eq(0),"PIrisGeneral pIrisType")),n.find("Exposure PIrisGeneral irisLevel").length&&(t.oDisplayInfo.iGeneralPirisLevel=u["a"].nodeValue(n.find("Exposure").eq(0),"PIrisGeneral irisLevel","i")||t.oDisplayCap.iGeneralPirisLevelDef)}if(n.find("Iris").length>0&&(t.oDisplayCap.bIris&&(t.oDisplayInfo.szIris=u["a"].nodeValue(n.find("Iris").eq(0),"IrisLevel")),n.find("Iris").eq(0).find("maxIrisLevelLimit").length>0&&(t.oDisplayInfo.iMaxIrisLimit=u["a"].nodeValue(n.find("Iris").eq(0),"maxIrisLevelLimit","i")),n.find("Iris").eq(0).find("minIrisLevelLimit").length>0&&(t.oDisplayInfo.iMinIrisLimit=u["a"].nodeValue(n.find("Iris").eq(0),"minIrisLevelLimit","i"))),n.find("Shutter").length>0&&(n.find("Shutter").eq(0).find("ShutterLevel").length>0&&(t.oDisplayInfo.szShutter=u["a"].nodeValue(n.find("Shutter").eq(0),"ShutterLevel")),n.find("Shutter").eq(0).find("maxShutterLevelLimit").length>0&&(t.oDisplayInfo.szMaxShutterLimit=u["a"].nodeValue(n.find("Shutter").eq(0),"maxShutterLevelLimit")),n.find("Shutter").eq(0).find("minShutterLevelLimit").length>0&&(t.oDisplayInfo.szMinShutterLimit=u["a"].nodeValue(n.find("Shutter").eq(0),"minShutterLevelLimit"))),n.find("ExpComp").length>0&&(t.oDisplayInfo.iExpComp=u["a"].nodeValue(n.find("ExpComp").eq(0),"ExpCompLevel","i")),n.find("DSS").length>0&&(t.oDisplayInfo.szDSSEnable=u["a"].nodeValue(n.find("DSS").eq(0),"enabled"),n.find("DSS").eq(0).find("DSSLevel").length>0&&(t.oDisplayInfo.szDSSLevel=u["a"].nodeValue(n.find("DSS").eq(0),"DSSLevel"))),n.find("Gain").length&&(t.oDisplayInfo.iGainLevel=u["a"].nodeValue(n.find("Gain").eq(0),"GainLevel","i"),n.find("Gain").eq(0).find("GainLimit").length&&(t.oDisplayInfo.iGainLimit=u["a"].nodeValue(n.find("Gain").eq(0),"GainLimit","i"))),n.find("FocusConfiguration").length>0&&(n.find("FocusConfiguration").eq(0).find("focusStyle").length>0&&(t.oDisplayInfo.szFocusMode=u["a"].nodeValue(n.find("FocusConfiguration").eq(0),"focusStyle")),n.find("FocusConfiguration").eq(0).find("focusLimited").length>0&&(t.oDisplayInfo.szFocusDistance=u["a"].nodeValue(n.find("FocusConfiguration").eq(0),"focusLimited")),n.find("FocusConfiguration").eq(0).find("focusSpeed").length>0&&(t.oDisplayInfo.iFocusSpeed=u["a"].nodeValue(n.find("FocusConfiguration").eq(0),"focusSpeed","i"))),n.find("IrcutFilter").length>0&&(n.find("IrcutFilter").eq(0).find("IrcutFilterType").length>0&&(t.oDisplayInfo.szIrcutFilterType=u["a"].nodeValue(n.find("IrcutFilter").eq(0),"IrcutFilterType")),n.find("IrcutFilter").eq(0).find("nightToDayFilterLevel").length>0&&(t.oDisplayInfo.szIrcutFilterSen=u["a"].nodeValue(n.find("IrcutFilter").eq(0),"nightToDayFilterLevel")),n.find("IrcutFilter").eq(0).find("nightToDayFilterTime").length>0&&(t.oDisplayInfo.iIructFilterTime=u["a"].nodeValue(n.find("IrcutFilter").eq(0),"nightToDayFilterTime","i")),n.find("IrcutFilter").eq(0).find("beginTime").length>0&&(t.oDisplayInfo.szIrcutFilterStartTime=u["a"].nodeValue(n.find("IrcutFilter").eq(0),"beginTime")),n.find("IrcutFilter").eq(0).find("endTime").length>0&&(t.oDisplayInfo.szIrcutFilterEndTime=u["a"].nodeValue(n.find("IrcutFilter").eq(0),"endTime")),n.find("IrcutFilter").eq(0).find("IrcutFilterAction").length>0&&(t.oDisplayInfo.szEventTrigger=u["a"].nodeValue(n.find("IrcutFilter").eq(0),"IrcutFilterAction"))),n.find("IrLight").length>0&&(n.find("IrLight").eq(0).find("mode").length>0&&(t.oDisplayInfo.szIRLightMode=u["a"].nodeValue(n.find("IrLight").eq(0),"mode")),n.find("IrLight").eq(0).find("triggerMode").length>0?(t.oDisplayInfo.szIRTriggerMode=u["a"].nodeValue(n.find("IrLight").eq(0),"triggerMode"),t.oNoSupportList.szIRTriggerMode=!1):t.oNoSupportList.szIRTriggerMode=!0,n.find("IrLight").eq(0).find("brightnessLevel").length>0&&(t.oDisplayInfo.iIRLightBright=u["a"].nodeValue(n.find("IrLight").eq(0),"brightnessLevel","i")),n.find("IrLight").eq(0).find("sensitivityLevel").length>0?(t.oDisplayInfo.iIRLightSen=u["a"].nodeValue(n.find("IrLight").eq(0),"sensitivityLevel","i"),t.oNoSupportList.iIRLightSen=!1):t.oNoSupportList.iIRLightSen=!0,n.find("IrLight").eq(0).find("brightnessLimit").length>0&&(t.oDisplayInfo.iIRLightBrightLimit=u["a"].nodeValue(n.find("IrLight").eq(0),"brightnessLimit","i"))),n.find("LaserLight").length>0&&(n.find("LaserLight").eq(0).find("mode").length>0&&(t.oDisplayInfo.szLaserMode=u["a"].nodeValue(n.find("LaserLight").eq(0),"mode")),n.find("LaserLight").eq(0).find("triggerMode").length>0&&(t.oDisplayInfo.szLaserTriggerMode=u["a"].nodeValue(n.find("LaserLight").eq(0),"triggerMode")),n.find("LaserLight").eq(0).find("brightnessLevel").length>0&&(t.oDisplayInfo.iLaserBright=u["a"].nodeValue(n.find("LaserLight").eq(0),"brightnessLevel")),n.find("LaserLight").eq(0).find("laserangle").length>0&&(t.oDisplayInfo.iLaserAngle=u["a"].nodeValue(n.find("LaserLight").eq(0),"laserangle")),n.find("LaserLight").eq(0).find("sensitivityLevel").length>0?(t.oDisplayCap.bSptLaserSen=!0,t.oDisplayInfo.iLaserSen=u["a"].nodeValue(n.find("LaserLight").eq(0),"sensitivityLevel")):t.oDisplayCap.bSptLaserSen=!1,n.find("LaserLight").eq(0).find("brightnessLimit").length>0&&(t.oDisplayInfo.iLaserBrightLimit=u["a"].nodeValue(n.find("LaserLight").eq(0),"brightnessLimit")),n.find("LaserLight").eq(0).find("illumination").length>0&&(t.oDisplayInfo.iLaserIllumination=u["a"].nodeValue(n.find("LaserLight").eq(0),"illumination")),n.find("LaserLight").eq(0).find("compensationRegionMode").length>0&&(t.oDisplayInfo.szCompensationRegionMode=u["a"].nodeValue(n.find("LaserLight").eq(0),"compensationRegionMode")),n.find("LaserLight").eq(0).find("compensationLevel").length>0&&(t.oDisplayInfo.szCompensationLevel=u["a"].nodeValue(n.find("LaserLight").eq(0),"compensationLevel"))),n.find("SupplementLight").length>0){var d=n.find("SupplementLight").eq(0);t.oDisplayInfo.szSupplyMode=u["a"].nodeValue(d,"mode"),t.oDisplayInfo.szSupplementLightMode=u["a"].nodeValue(d,"supplementLightMode"),t.oDisplayInfo.szSupplyStartTime=u["a"].nodeValue(d,"beginTime")||t.oDisplayCap.szSupplyStartTime,t.oDisplayInfo.szSupplyEndTime=u["a"].nodeValue(d,"endTime")||t.oDisplayCap.szSupplyEndTime,t.oDisplayInfo.iSupplyLightLimit=u["a"].nodeValue(d,"brightnessLimit")||t.oDisplayCap.iSupplyLightLimit,t.oDisplayInfo.szmixedLightBrightnessRegulatMode=u["a"].nodeValue(d,"mixedLightBrightnessRegulatMode"),t.oDisplayInfo.iWhiteLightBrightness=u["a"].nodeValue(d,"whiteLightBrightness")||t.oDisplayInfo.iWhiteLightBrightness}if(n.find("powerLineFrequencyMode").length>0&&(t.oDisplayInfo.szVideoStandard=u["a"].nodeValue(n.find("powerLineFrequency").eq(0),"powerLineFrequencyMode"),"50hz"===t.oDisplayInfo.szVideoStandard?t.oDisplayInfo.szVideoFormat="PAL":t.oDisplayInfo.szVideoFormat="NTSC"),n.find("BLC").length>0&&(n.find("BLCRegionList").length?t.oDisplayInfo.oBLCXml=n.find("BLCRegionList").get(0):t.oDisplayInfo.oBLCXml=null,n.find("BLC").eq(0).find("BLCMode").length>0?"true"===u["a"].nodeValue(n.find("BLC").eq(0),"enabled")?t.oDisplayInfo.szBLCMode=u["a"].nodeValue(n.find("BLC").eq(0),"BLCMode"):t.oDisplayInfo.szBLCMode="false":t.oDisplayInfo.szBLCMode=u["a"].nodeValue(n.find("BLC").eq(0),"enabled"),"Region"===t.oDisplayInfo.szBLCMode&&t.setBLCRegionToPlugin(t.oDisplayInfo.oBLCXml),n.find("BLC").eq(0).find("BLCLevel").length>0&&(t.oDisplayInfo.iBLCLevel=u["a"].nodeValue(n.find("BLC").eq(0),"BLCLevel","i"))),n.find("WDR").length>0&&(n.find("WDR").eq(0).find("mode").length>0&&(t.oDisplayInfo.szWDRMode=u["a"].nodeValue(n.find("WDR").eq(0),"mode")),n.find("WDR").eq(0).find("WDRLevel").length>0&&(t.oDisplayInfo.iWDRLevel=u["a"].nodeValue(n.find("WDR").eq(0),"WDRLevel","i")),n.find("WDR").eq(0).find("WDRLevel1").length>0&&(t.oDisplayInfo.iWDRLevel1=u["a"].nodeValue(n.find("WDR").eq(0),"WDRLevel1","i")),n.find("WDR").eq(0).find("WDRContrastLevel").length>0&&(t.oDisplayInfo.iWDRContrast=u["a"].nodeValue(n.find("WDR").eq(0),"WDRContrastLevel","i"))),n.find("HLC").length>0&&(t.oDisplayInfo.szHLC=u["a"].nodeValue(n.find("HLC").eq(0),"enabled"),n.find("HLC").eq(0).find("HLCLevel").length>0&&(t.oDisplayInfo.iHLCLevel=u["a"].nodeValue(n.find("HLC").eq(0),"HLCLevel","i"))),n.find("WhiteBalance").length>0&&(t.oDisplayInfo.szWhiteBlance=u["a"].nodeValue(n.find("WhiteBalance").eq(0),"WhiteBalanceStyle"),n.find("WhiteBalance").eq(0).find("WhiteBalanceRed").length>0&&(t.oDisplayInfo.iWhiteBlanceRed=u["a"].nodeValue(n.find("WhiteBalance").eq(0),"WhiteBalanceRed","i")),n.find("WhiteBalance").eq(0).find("WhiteBalanceBlue").length>0&&(t.oDisplayInfo.iWhiteBlanceBlue=u["a"].nodeValue(n.find("WhiteBalance").eq(0),"WhiteBalanceBlue","i"))),n.find("NoiseReduce").length>0&&(t.oDisplayInfo.szNoiseReduceMode=u["a"].nodeValue(n.find("NoiseReduce").eq(0),"mode"),n.find("NoiseReduce").eq(0).find("generalLevel").length>0&&(t.oDisplayInfo.iGeneralLevel=u["a"].nodeValue(n.find("NoiseReduce").eq(0),"generalLevel","i")),n.find("NoiseReduce").eq(0).find("FrameNoiseReduceLevel").length>0&&(t.oDisplayInfo.iSpaceDNRLevel=u["a"].nodeValue(n.find("NoiseReduce").eq(0),"FrameNoiseReduceLevel","i")),n.find("NoiseReduce").eq(0).find("InterFrameNoiseReduceLevel").length>0&&(t.oDisplayInfo.iTimeDNRLevel=u["a"].nodeValue(n.find("NoiseReduce").eq(0),"InterFrameNoiseReduceLevel","i"))),n.find("Dehaze").length>0&&(n.find("Dehaze").eq(0).find("DehazeMode").length>0&&(t.oDisplayInfo.szDefogMode=t.oDisplayInfo.iDefogLevel=u["a"].nodeValue(n.find("Dehaze").eq(0),"DehazeMode")),n.find("Dehaze").eq(0).find("DehazeLevel").length>0&&(t.oDisplayInfo.iDefogLevel=u["a"].nodeValue(n.find("Dehaze").eq(0),"DehazeLevel","i"))),n.find("EIS").length>0&&(t.oDisplayInfo.szEISEnable=u["a"].nodeValue(n.find("EIS").eq(0),"enabled"),n.find("EIS").eq(0).find("EISLevel").length>0&&(t.oDisplayInfo.iEISLevel=u["a"].nodeValue(n.find("EIS").eq(0),"EISLevel","i"))),n.find("OIS").length>0&&(t.oDisplayInfo.szOISMode=u["a"].nodeValue(n.find("OIS").eq(0),"mode"),n.find("OIS").eq(0).find("OISLevel").length>0&&(t.oDisplayInfo.szOISLevel=u["a"].nodeValue(n.find("OIS").eq(0),"OISLevel")),n.find("OIS").eq(0).find("OISSensitivity").length>0&&(t.oDisplayInfo.szOISSensitivity=u["a"].nodeValue(n.find("OIS").eq(0),"OISSensitivity"))),n.find("ChromaSuppress").eq(0).find("ChromaSuppressLevel").length>0&&(t.oDisplayInfo.iChromaSuppress=u["a"].nodeValue(n.find("ChromaSuppress").eq(0),"ChromaSuppressLevel","i")),n.find("gammaCorrection").eq(0).find("gammaCorrectionLevel").length>0&&(t.oDisplayInfo.iGammaCorrect=u["a"].nodeValue(n.find("gammaCorrection").eq(0),"gammaCorrectionLevel","i")),n.find("ImageEnhancement").length>0&&(t.oDisplayInfo.szIllEnhance=u["a"].nodeValue(n.find("ImageEnhancement").eq(0),"enabled")),n.find("ImageFlip").length>0&&(t.oDisplayInfo.szImageFlipMode=u["a"].nodeValue(n.find("ImageFlip").eq(0),"enabled"),"true"===t.oDisplayInfo.szImageFlipMode&&n.find("ImageFlip").eq(0).find("ImageFlipStyle").length>0&&(t.oDisplayInfo.szImageFlipMode=u["a"].nodeValue(n.find("ImageFlip").eq(0),"ImageFlipStyle"))),n.find("corridor").length>0&&(t.oDisplayInfo.szRotateEnable=u["a"].nodeValue(n.find("corridor").eq(0),"enabled")),n.find("Scene").length>0&&(t.oDisplayInfo.szSceneMode=u["a"].nodeValue(n.find("Scene").eq(0),"mode")),n.find("CaptureMode").length>0&&(t.oDisplayInfo.szCaptureMode=u["a"].nodeValue(n.find("CaptureMode").eq(0),"mode")),n.find("LensDistortionCorrection").length>0){var p=n.find("LensDistortionCorrection").eq(0);p.find("level").length>0?(t.oDisplayInfo.szDistorCorrect=u["a"].nodeValue(p,"enabled"),"true"===t.oDisplayInfo.szDistorCorrect&&(t.oDisplayInfo.szDistorCorrect=u["a"].nodeValue(p,"level"))):t.oDisplayInfo.szLensDistorCorrect=u["a"].nodeValue(n.find("LensDistortionCorrection").eq(0),"enabled")}t.oDisplayInfo.iZoomedInDistantView=u["a"].nodeValue(n.find("LensDistortionCorrection").eq(0),"zoomedInDistantViewLevel","i"),t.oDisplayInfo.iAccurateLevel=u["a"].nodeValue(n.find("LensDistortionCorrection").eq(0),"accurateLevel","i"),t.oDisplayInfo.iHorizontalFOV=u["a"].nodeValue(n.find("LensDistortionCorrection").eq(0),"horizontalFOV","i"),t.oDisplayInfo.iVerticalFOV=u["a"].nodeValue(n.find("LensDistortionCorrection").eq(0),"verticalFOV","i"),n.find("EPTZ").length>0&&(t.oDisplayInfo.szEPTZEnable=u["a"].nodeValue(n.find("EPTZ").eq(0),"enabled")),n.find("LensInitialization").length>0&&(t.oDisplayInfo.szLensInitEnable=u["a"].nodeValue(n.find("LensInitialization").eq(0),"enabled")),n.find("ZoomLimitRatio").length>0&&(t.oDisplayInfo.szZoomLimit=u["a"].nodeValue(n.find("ZoomLimit").eq(0),"ZoomLimitRatio")),n.find("DDE mode").length>0&&(t.oDisplayInfo.szDDEMode=u["a"].nodeValue(n,"DDE mode")),n.find("DDE enhanceLevel").length>0&&(t.oDisplayInfo.iDDELevel=u["a"].nodeValue(n,"DDE enhanceLevel","i")),n.find("DigitalZoom ZoomRatio").length>0&&(t.oDisplayInfo.szDigitalZoom=u["a"].nodeValue(n,"DigitalZoom ZoomRatio")),n.find("FFC").length>0&&(t.oDisplayInfo.szFFC=u["a"].nodeValue(n,"FFC mode"),t.oDisplayInfo.szFFCComTime=u["a"].nodeValue(n,"FFC compsentationTime")),n.find("BrightnessSuddenChangeSuppression").length>0&&(t.oDisplayInfo.szBrightnessSudden=u["a"].nodeValue(n,"BrightnessSuddenChangeSuppression enabled")),n.find("AGC").length>0&&(t.oDisplayInfo.szAGCMode=u["a"].nodeValue(n,"AGC AGCMode")),n.find("RegionalImageEnhancement").length>0&&(t.oDisplayInfo.szRegionalImageEnhancementMode=u["a"].nodeValue(n,"RegionalImageEnhancement mode"),"customArea"===t.oDisplayInfo.szRegionalImageEnhancementMode?t.oDisplayInfo.oRegionalImageEnhancementModeXml=n.find("CustomAreaParam").get(0):"off"!==t.oDisplayInfo.szRegionalImageEnhancementMode?t.oDisplayInfo.oRegionalImageEnhancementModeXml=t.oDisplayCap.oRegionalImageEnhancementDefault[t.oDisplayInfo.szRegionalImageEnhancementMode]:t.oDisplayInfo.oRegionalImageEnhancementModeXml=null,t.oDisplayInfo.oRegionalImageEnhancementModeXml&&t.setImageEnhancementRegionToPlugin(t.oDisplayInfo.oRegionalImageEnhancementModeXml)),t.getLocalOutput(),t.mutex(),i()}))}))}},{key:"setImageEnhancement",value:function(){if(l["a"].clearRegion(),"customArea"===this.oDisplayInfo.szRegionalImageEnhancementMode){if(!this.oDisplayInfo.oRegionalImageEnhancementModeXml){var e="<?xml version='1.0' encoding='utf-8' ?><DetectionRegionInfo>";e+="<videoFormat>"+this.oDisplayInfo.szVideoFormat+"</videoFormat>",e+="<RegionType>roi</RegionType><ROI>",e+="<HorizontalResolution>1000</HorizontalResolution>",e+="<VerticalResolution>1000</VerticalResolution></ROI>",e+="<DisplayMode>transparent</DisplayMode><MaxRegionNum>1</MaxRegionNum></DetectionRegionInfo>",l["a"].setRegionInfo(e)}}else l["a"].setDrawStatus(!1),this.oDrawBtn.bDraw=!1;this.setImageEnhancementRegion()}},{key:"setImageEnhancementRegionToPlugin",value:function(t){var a=e(t).find("RegionCoordinatesList").eq(0),i="<?xml version='1.0' encoding='utf-8' ?><DetectionRegionInfo>";i+="<videoFormat>"+this.oDisplayInfo.szVideoFormat+"</videoFormat>",i+="<RegionType>roi</RegionType><ROI>",i+="<HorizontalResolution>1000</HorizontalResolution>",i+="<VerticalResolution>1000</VerticalResolution></ROI>",i+="<DisplayMode>transparent</DisplayMode><MaxRegionNum>1</MaxRegionNum>",i+="<DetectionRegionList><DetectionRegion><RegionCoordinatesList>",i+="<RegionCoordinates><positionX>"+a.find("positionX").eq(0).text()+"</positionX>",i+="<positionY>"+a.find("positionY").eq(0).text()+"</positionY></RegionCoordinates>",i+="<RegionCoordinates><positionX>"+a.find("positionX").eq(3).text()+"</positionX>",i+="<positionY>"+a.find("positionY").eq(3).text()+"</positionY></RegionCoordinates>",i+="<RegionCoordinates><positionX>"+a.find("positionX").eq(2).text()+"</positionX>",i+="<positionY>"+a.find("positionY").eq(2).text()+"</positionY></RegionCoordinates>",i+="<RegionCoordinates><positionX>"+a.find("positionX").eq(1).text()+"</positionX>",i+="<positionY>"+a.find("positionY").eq(1).text()+"</positionY></RegionCoordinates>",i+="</RegionCoordinatesList></DetectionRegion></DetectionRegionList></DetectionRegionInfo>",l["a"].setRegionInfo(i)}},{key:"getLocalOutputCapa",value:function(){var t=this;return new Promise((function(a){var i={urlCGI:"menuOutputCapa",params:{output:t.oDisplayInfo.iChannelId},data:null,loading:!0};m["a"].get(i).then((function(i){var n=e(i.oResult);if(n.find("VideoOutputChannel").length>0){t.oDisplayCap.bLocalOutput=!0,0===h["a"].iDeviceType&&(t.oDisplayCap.bLocalOutput=!1);var o=n.find("VideoOutputChannel").eq(0).find("mode").eq(0).attr("opt");o&&(o=o.split(","),c["a"].createNgOptions(o,["on","off","scaleOutput","clipOutput"],["open","close","scale","clip"],t.oDisplayCap.aLocalOutputs))}a()}))}))}},{key:"getLocalOutput",value:function(){var t=this;return new Promise((function(a){var i={urlCGI:"localOutput",params:{output:t.oDisplayInfo.iChannelId},data:null,loading:!0};m["a"].get(i).then((function(i){t.oDisplayInfo.oLocalOutputXml=i.oResult;var n=e(i.oResult);n.find("VideoOutputChannel").length>0&&(t.oDisplayInfo.szLocalOutput=u["a"].nodeValue(n.find("VideoOutputChannel").eq(0),"mode")),a()}),(function(){t.oDisplayInfo.oLocalOutputXml=null,a()}))}))}},{key:"doExposureLogic",value:function(){var e=this;if(e.oDisplayInfo.bNeedExposureLogic){var t=e.oDisplayInfo.szExposureType;e.oDisplayCap.bGainLevel="manual"===t,e.mutex()}}},{key:"mutex",value:function(){var e=this;e.oDisplayCap.bIructFilterTime&&"auto"===e.oDisplayInfo.szIrcutFilterType||e.oDisplayCap.bIructFilterTime&&"videoAuto"===e.oDisplayInfo.szIrcutFilterType?e.oDisplayCap.aIrcutFilterTime.length?e.oShow.bIructFilterTimeDiscrete=!0:e.oShow.bIructFilterTimeConstant=!0:(e.oShow.bIructFilterTimeConstant=!1,e.oShow.bIructFilterTimeDiscrete=!1),e.oDisplayCap.bIrcutFilterSen&&"auto"===e.oDisplayInfo.szIrcutFilterType||e.oDisplayCap.bIrcutFilterSen&&"videoAuto"===e.oDisplayInfo.szIrcutFilterType?e.oShow.bIrcutFilterSen=!0:e.oShow.bIrcutFilterSen=!1,!e.oDisplayCap.bPIris||"pIris"!==e.oDisplayInfo.szExposureType&&"pIris-T5280"!==e.oDisplayInfo.szExposureType&&"pIris-T5289"!==e.oDisplayInfo.szExposureType&&"pIris-T3816"!==e.oDisplayInfo.szExposureType&&"pIris-T1140"!==e.oDisplayInfo.szExposureType&&"pIris-T2712"!==e.oDisplayInfo.szExposureType&&"pIris-T1250"!==e.oDisplayInfo.szExposureType||"MANUAL"!==e.oDisplayInfo.szPIrisMode?e.oShow.bLevel=!1:e.oShow.bLevel=!0,!e.oDisplayCap.bExposureLevel||"auto"!==e.oDisplayInfo.szExposureType&&"IrisFirst"!==e.oDisplayInfo.szExposureType&&"ShutterFirst"!==e.oDisplayInfo.szExposureType?e.oShow.bExposureLevel=!1:e.oShow.bExposureLevel=!0,e.bSupportPTZ||e.oDisplayCap.bBLCandWDRandHLCMode?(!e.oDisplayCap.bShutter||"manual"!==e.oDisplayInfo.szExposureType&&"ShutterFirst"!==e.oDisplayInfo.szExposureType?e.oShow.bShutter=!1:e.oShow.bShutter=!0,!e.oDisplayCap.bIris||"manual"!==e.oDisplayInfo.szExposureType&&"IrisFirst"!==e.oDisplayInfo.szExposureType?e.oShow.bIris=!1:e.oShow.bIris=!0):(e.oShow.bShutter=e.oDisplayCap.bShutter,e.oShow.bIris=e.oDisplayCap.bIris),e.oShow.bSharpness=e.oDisplayCap.bSharpness,e.oDisplayCap.bSharpnessMode&&"auto"===e.oDisplayInfo.szSharpnessMode&&(e.oShow.bSharpness=!1),e.oDisplayCap.bOISLevel&&"experts"===e.oDisplayInfo.szOISMode?e.oShow.bOISLevel=!0:e.oShow.bOISLevel=!1,e.oDisplayCap.bOISSensitivity&&"experts"===e.oDisplayInfo.szOISMode?e.oShow.bOISSensitivity=!0:e.oShow.bOISSensitivity=!1,e.oDisplayCap.bDDELevel&&"general"===e.oDisplayInfo.szDDEMode?e.oShow.bDDELevel=!0:e.oShow.bDDELevel=!1,e.oDisplayCap.bFFCComTime&&"schedule"===e.oDisplayInfo.szFFC?e.oShow.bFFCComTime=!0:e.oShow.bFFCComTime=!1}},{key:"hexToRgb",value:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}},{key:"rgbToHex",value:function(e){var t=u["a"].nodeValue(e,"R","i"),a=u["a"].nodeValue(e,"G","i"),i=u["a"].nodeValue(e,"B","i");function n(e){var t=e.toString(16);return 1===t.length?"0"+t:t}function o(e,t,a){return n(e)+n(t)+n(a)}var r=o(t,a,i);return r}},{key:"save",value:function(t,a){var n=this,o="displayModeInfo";n.mutex();var r=n.oDisplayInfo.oISP.szScheduleType;if(("schedule"!==n.oDisplayInfo.oISP.szISPMode||"day"!==r&&"night"!==r)&&(r=""),0===h["a"].iDeviceType){if(t=n.oDisplayInfo.oXmlDoc,e(t).find("Color brightnessLevel").eq(0).text(n.oDisplayInfo.iBright),e(t).find("contrastLevel").eq(0).text(n.oDisplayInfo.iContrast),e(t).find("saturationLevel").eq(0).text(n.oDisplayInfo.iSaturation),e(t).find("hueLevel").eq(0).text(n.oDisplayInfo.iHue),e(t).find("SharpnessLevel").eq(0).text(n.oDisplayInfo.iSharpness),e(t).find("generalLevel").eq(0).text(n.oDisplayInfo.iNoiseReduce),n.oDisplayCap.bSupportScene&&e(t).find("imageMode").eq(0).text(n.oDisplayInfo.szDisplayScene),"default"===a&&(e(t).find("brightnessLevel").eq(0).text(n.oDisplayCap.iBrightDef),e(t).find("contrastLevel").eq(0).text(n.oDisplayCap.iContrastDef),e(t).find("saturationLevel").eq(0).text(n.oDisplayCap.iSaturationDef),e(t).find("hueLevel").eq(0).text(n.oDisplayCap.iHueDef),e(t).find("sharpnessLevel").eq(0).text(n.oDisplayCap.iSharpnessDef),e(t).find("generalLevel").eq(0).text(n.oDisplayCap.iNoiseReduceDef),e(t).find("imageMode").eq(0).text(n.oDisplayCap.szDefMode)),"changeScene"===a){var s=n.oDisplayInfo.szDisplayScene,l=n.aDisplaySceneInfo[s];e(t).find("imageMode").eq(0).text(s),e(t).find("brightnessLevel").eq(0).text(l.iBrightDef),e(t).find("contrastLevel").eq(0).text(l.iContrastDef),e(t).find("saturationLevel").eq(0).text(l.iSaturationDef),e(t).find("hueLevel").eq(0).text(l.iHueDef),e(t).find("sharpnessLevel").eq(0).text(l.iSharpnessDef),e(t).find("generalLevel").eq(0).text(l.iNoiseReduceDef)}o="displayScheduleInfo"}return new Promise((function(e){var s={urlCGI:o,params:{channel:n.oDisplayInfo.iChannelId,mode:a,scheduleType:r},data:t,loading:!0};m["a"].put(s).then(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(i){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return"powerLineFrequency"===a&&c["a"].setChannelByChannelId(n.oDisplayInfo.iChannelId,{szVideoFormat:n.oDisplayInfo.szVideoFormat}),t.next=3,n.getDisplayCap();case 3:return t.next=5,n.getDisplayInfo();case 5:d["a"].saveState(i.xhr),e();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.getDisplayInfo();case 2:d["a"].saveState(a),e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))}},{key:"getDisplaySceneInfo",value:function(){var t=this;return new Promise((function(a){var n={urlCGI:"displayScene",params:{},data:null,loading:!0};m["a"].get(n).then((function(i){var n=i.oResult,o="";e.each(e(n).find("ImageMode"),(function(){o=u["a"].nodeValue(this,"type"),t.aDisplaySceneInfo[o]={},t.aDisplaySceneInfo[o].iBrightDef=parseInt(e(this).find("brightnessLevel").eq(0).attr("def"),10),t.aDisplaySceneInfo[o].iContrastDef=parseInt(e(this).find("contrastLevel").eq(0).attr("def"),10),t.aDisplaySceneInfo[o].iSaturationDef=parseInt(e(this).find("saturationLevel").eq(0).attr("def"),10),t.aDisplaySceneInfo[o].iHueDef=parseInt(e(this).find("hueLevel").eq(0).attr("def"),10),t.aDisplaySceneInfo[o].iSharpnessDef=parseInt(e(this).find("sharpnessLevel").eq(0).attr("def"),10),t.aDisplaySceneInfo[o].iNoiseReduceDef=parseInt(e(this).find("deNoiseLevel").eq(0).attr("def"),10)})),a()}),Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a();case 1:case"end":return e.stop()}}),e)}))))}))}},{key:"restoreDefault",value:function(){var e=this;r["a"].confirm(p["a"].t("resetVideoParamsTip"),Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a={urlCGI:"imgRestore",params:{channel:e.oDisplayInfo.iChannelId},data:null,loading:!0},m["a"].put(a).then(Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getAllImgInfo();case 2:case"end":return t.stop()}}),t)}))),(function(e){d["a"].saveState(e)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"setMountScene",value:function(){var e=this,t="<?xml version='1.0' encoding='UTF-8'?><MountingScenario><mode>"+e.oDisplayInfo.szMountScene+"</mode></MountingScenario>",a={urlCGI:"ipdMountScenario",params:{channel:e.oDisplayInfo.iChannelId},data:t,loading:!0};return new Promise((function(t,n){m["a"].put(a).then(function(){var a=Object(i["a"])(regeneratorRuntime.mark((function a(i){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.getAllImgInfo().then((function(){d["a"].saveState(i.xhr),t()}));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),(function(t){e.getAllImgInfo().then((function(){d["a"].saveState(t),n()}))}))}))}},{key:"setPalettes",value:function(){var e=this,t="<?xml version='1.0' encoding='UTF-8'?><Palettes>";if(t+="<mode>"+e.oDisplayInfo.szPalettes+"</mode>","WhiteHot"===e.oDisplayInfo.szPalettes&&e.oDisplayCap.bColorTarget){if(!e.checkTemprature())return void(e.oDisplayInfo.bColorTargetInvalid=!0);e.oDisplayInfo.bColorTargetInvalid=!1;var a=e.hexToRgb(e.oDisplayInfo.oColorateHotArea.szColor),i=e.oDisplayInfo.oColorateHotArea.iMinTemperature,n=e.oDisplayInfo.oColorateIntervalArea.iMinTemperature,o=e.oDisplayInfo.oColorateIntervalArea.iMaxTemperature,r=e.oDisplayInfo.oColorateColdArea.iMaxTemperature,s=e.oTempUnit;e._bEnableUnitConfig&&s.szShowUnit!==s.szTransUnit&&(i=u["a"].transToCentigrade(s.szShowUnit,i,!0,1),n=u["a"].transToCentigrade(s.szShowUnit,n,!0,1),o=u["a"].transToCentigrade(s.szShowUnit,o,!0,1),r=u["a"].transToCentigrade(s.szShowUnit,r,!0,1)),t+="<ColorateTarget><ColorateTargetModeList>",t+="<ColorateTargetMode><id>1</id><mode>colorateHotAreae</mode><enabled>"+e.oDisplayInfo.oColorateHotArea.bEnabled+"</enabled>",t+="<TemperatureLimit><minTemperature>"+i+"</minTemperature></TemperatureLimit>",t+="<Color><R>"+a.r+"</R><G>"+a.g+"</G><B>"+a.b+"</B></Color></ColorateTargetMode>";var l=e.hexToRgb(e.oDisplayInfo.oColorateIntervalArea.szColor);t+="<ColorateTargetMode><id>2</id><mode>colorateIntervalArea</mode><enabled>"+e.oDisplayInfo.oColorateIntervalArea.bEnabled+"</enabled>",t+="<TemperatureLimit><minTemperature>"+n+"</minTemperature>",t+="<maxTemperature>"+o+"</maxTemperature></TemperatureLimit>",t+="<Color><R>"+l.r+"</R><G>"+l.g+"</G><B>"+l.b+"</B></Color></ColorateTargetMode>";var c=e.hexToRgb(e.oDisplayInfo.oColorateColdArea.szColor);t+="<ColorateTargetMode><id>3</id><mode>colorateColdArea</mode><enabled>"+e.oDisplayInfo.oColorateColdArea.bEnabled+"</enabled>",t+="<TemperatureLimit><maxTemperature>"+r+"</maxTemperature></TemperatureLimit>",t+="<Color><R>"+c.r+"</R><G>"+c.g+"</G><B>"+c.b+"</B></Color></ColorateTargetMode>",t+="</ColorateTargetModeList></ColorateTarget>"}t+="</Palettes>",e.save(t,"Palettes")}},{key:"checkTemprature",value:function(){var e=this,t=parseFloat(e.oDisplayInfo.oColorateHotArea.iMinTemperature),a=parseFloat(e.oDisplayInfo.oColorateIntervalArea.iMaxTemperature),i=parseFloat(e.oDisplayInfo.oColorateIntervalArea.iMinTemperature),n=parseFloat(e.oDisplayInfo.oColorateColdArea.iMaxTemperature);if(e.oDisplayInfo.oColorateIntervalArea.bEnabled&&a<=i)return!1;var o=!0;return e.oDisplayInfo.oColorateHotArea.bEnabled?e.oDisplayInfo.oColorateIntervalArea.bEnabled?e.oDisplayInfo.oColorateColdArea.bEnabled?t>=a&&a>i&&i>=n||(o=!1):t>=a&&a>i||(o=!1):e.oDisplayInfo.oColorateColdArea.bEnabled&&t<=n&&(o=!1):e.oDisplayInfo.oColorateIntervalArea.bEnabled&&e.oDisplayInfo.oColorateColdArea.bEnabled&&(a>i&&i>=n||(o=!1)),o}},{key:"setExposure",value:function(){var e=this;e.doExposureLogic();var t="<?xml version='1.0' encoding='UTF-8'?><Exposure>";return e.oDisplayCap.bExposureType&&(t+="<ExposureType>"+e.oDisplayInfo.szExposureType+"</ExposureType>"),e.oDisplayCap.bAutoIrisLevel&&"auto"===e.oDisplayInfo.szExposureType&&(t+="<autoIrisLevel>"+e.oDisplayInfo.iAutoIrisLevel+"</autoIrisLevel>"),!e.oDisplayCap.bPIris||"pIris"!==e.oDisplayInfo.szExposureType&&"pIris-T5280"!==e.oDisplayInfo.szExposureType&&"pIris-T5289"!==e.oDisplayInfo.szExposureType&&"pIris-T3816"!==e.oDisplayInfo.szExposureType&&"pIris-T1140"!==e.oDisplayInfo.szExposureType&&"pIris-T2712"!==e.oDisplayInfo.szExposureType&&"pIris-T1250"!==e.oDisplayInfo.szExposureType||(t+="<pIris><pIrisType>"+e.oDisplayInfo.szPIrisMode+"</pIrisType>","MANUAL"===e.oDisplayInfo.szPIrisMode&&(t+="<IrisLevel>"+e.oDisplayInfo.iPIrisLevel+"</IrisLevel>"),t+="</pIris>"),e.oDisplayCap.bSmartIR&&(t+="<OverexposeSuppress><enabled>"+e.oDisplayInfo.szSmartIREnable+"</enabled>","true"===e.oDisplayInfo.szSmartIREnable&&(e.oDisplayCap.bSmartIRMode&&(t+="<Type>"+e.oDisplayInfo.szSmartIRMode+"</Type>"),"MANUAL"===e.oDisplayInfo.szSmartIRMode&&(e.oDisplayCap.bDistance&&(t+="<DistanceLevel>"+e.oDisplayInfo.iDistanceLevel+"</DistanceLevel>"),e.oDisplayCap.bLowDistance&&(t+="<lowLightDistanceLevel>"+e.oDisplayInfo.iLowDistanceLevel+"</lowLightDistanceLevel>"),e.oDisplayCap.bHighDistance&&(t+="<hightLightDistanceLevel>"+e.oDisplayInfo.iHighDistanceLevel+"</hightLightDistanceLevel>"))),t+="</OverexposeSuppress>"),e.oShow.bExposureLevel&&(t+="<exposureLevel>"+e.oDisplayInfo.iExposureLevel+"</exposureLevel>"),t+="</Exposure>",e.save(t,"exposure")}},{key:"setIris",value:function(){var e=this,t="<?xml version='1.0' encoding='UTF-8'?><Iris>";return e.oDisplayCap.bIris&&(t+="<IrisLevel>"+e.oDisplayInfo.szIris+"</IrisLevel>"),e.oDisplayCap.bMaxIrisLimit&&(t+="<maxIrisLevelLimit>"+e.oDisplayInfo.iMaxIrisLimit+"</maxIrisLevelLimit>"),e.oDisplayCap.bMinIrisLimit&&(t+="<minIrisLevelLimit>"+e.oDisplayInfo.iMinIrisLimit+"</minIrisLevelLimit>"),t+="</Iris>",e.save(t,"iris")}},{key:"changeScene",value:function(){var e="<?xml version='1.0' encoding='UTF-8'?><Color>";return this.oDisplayCap.bSupportScene&&(e+="<imageMode>"+this.oDisplayInfo.szDisplayScene+"</imageMode>"),e+="</Color>",this.save(e,"changeScene")}},{key:"setShutter",value:function(){var e=this,t="<?xml version='1.0' encoding='UTF-8'?><Shutter>";return e.oDisplayCap.bShutter&&(t+="<ShutterLevel>"+e.oDisplayInfo.szShutter+"</ShutterLevel>"),e.oDisplayCap.bMaxShutterLimit&&(t+="<maxShutterLevelLimit>"+e.oDisplayInfo.szMaxShutterLimit+"</maxShutterLevelLimit>"),e.oDisplayCap.bMinShutterLimit&&(t+="<minShutterLevelLimit>"+e.oDisplayInfo.szMinShutterLimit+"</minShutterLevelLimit>"),t+="</Shutter>",e.save(t,"shutter")}},{key:"setExpComp",value:function(){var e="<?xml version='1.0' encoding='UTF-8'?><ExpComp><enabled>true</enabled>";return e+="<ExpCompLevel>"+this.oDisplayInfo.iExpComp+"</ExpCompLevel>",e+="</ExpComp>",this.save(e,"ExpComp")}},{key:"setDSS",value:function(){var e=this,t="<?xml version='1.0' encoding='UTF-8'?><DSS>";if(e.oDisplayCap.bDSS)return t+="<enabled>"+e.oDisplayInfo.szDSSEnable+"</enabled>",e.oDisplayCap.bDSSLevel&&"true"===e.oDisplayInfo.szDSSEnable&&(t+="<DSSLevel>"+e.oDisplayInfo.szDSSLevel+"</DSSLevel>"),t+="</DSS>",e.save(t,"DSS")}},{key:"setGain",value:function(){var e=this,t="<?xml version='1.0' encoding='UTF-8'?><Gain>";return e.oDisplayCap.bGainLevel&&(t+="<GainLevel>"+e.oDisplayInfo.iGainLevel+"</GainLevel>"),e.oDisplayCap.bGainLimit&&(t+="<GainLimit>"+e.oDisplayInfo.iGainLimit+"</GainLimit>"),t+="</Gain>",e.save(t,"gain")}},{key:"setFocus",value:function(){var e=this,t="<?xml version='1.0' encoding='UTF-8'?><FocusConfiguration>";return e.oDisplayCap.bFocusMode&&(t+="<focusStyle>"+e.oDisplayInfo.szFocusMode+"</focusStyle>"),e.oDisplayCap.bFocusDistance&&(t+="<focusLimited>"+e.oDisplayInfo.szFocusDistance+"</focusLimited>"),e.oDisplayCap.bFocusSpeed&&(t+="<focusSpeed>"+e.oDisplayInfo.iFocusSpeed+"</focusSpeed>"),t+="</FocusConfiguration>",e.save(t,"focusConfiguration")}},{key:"setIrcutFilter",value:function(){var e=this,t=Math.abs(u["a"].getTimeOffset(e.oDisplayInfo.szIrcutFilterEndTime,e.oDisplayInfo.szIrcutFilterStartTime));if("schedule"!==e.oDisplayInfo.szIrcutFilterType||!(t<10||t>86390)){var a="<?xml version='1.0' encoding='UTF-8'?><IrcutFilter>";return e.oDisplayCap.bIrcutFilterType&&(a+="<IrcutFilterType>"+e.oDisplayInfo.szIrcutFilterType+"</IrcutFilterType>","schedule"===e.oDisplayInfo.szIrcutFilterType?(a+="<Schedule><scheduleType>day</scheduleType><TimeRange>",a+="<beginTime>"+e.oDisplayInfo.szIrcutFilterStartTime+"</beginTime>",a+="<endTime>"+e.oDisplayInfo.szIrcutFilterEndTime+"</endTime>",a+="</TimeRange></Schedule>"):"eventTrigger"===e.oDisplayInfo.szIrcutFilterType&&(a+="<EventTrigger><eventType>IO</eventType>",a+="<IrcutFilterAction>"+e.oDisplayInfo.szEventTrigger+"</IrcutFilterAction>",a+="</EventTrigger>")),e.oDisplayCap.bIrcutFilterSen&&(a+="<nightToDayFilterLevel>"+e.oDisplayInfo.szIrcutFilterSen+"</nightToDayFilterLevel>"),e.oDisplayCap.bIructFilterTime&&(a+="<nightToDayFilterTime>"+e.oDisplayInfo.iIructFilterTime+"</nightToDayFilterTime>"),a+="</IrcutFilter>",e.save(a,"ircutFilter")}r["a"].tip(p["a"].t("scheduleTimeRange"))}},{key:"setIRLight",value:function(){var e=this,t="";"auto"===e.oDisplayInfo.szIRLightMode?(t="<?xml version='1.0' encoding='UTF-8'?><IrLight><mode>auto</mode>",t+="<trigMode>"+e.oDisplayInfo.szIRTriggerMode+"</trigMode>",t+="<sensitivityLevel>"+e.oDisplayInfo.iIRLightSen+"</sensitivityLevel>",t+="<brightnessLimit>"+e.oDisplayInfo.iIRLightBrightLimit+"</brightnessLimit>",t+="</IrLight>"):(t="<?xml version='1.0' encoding='UTF-8'?><IrLight>",t+="<mode>"+e.oDisplayInfo.szIRLightMode+"</mode>",t+="<brightnessLevel>"+e.oDisplayInfo.iIRLightBright+"</brightnessLevel>",t+="</IrLight>"),e.save(t,"irLight")}},{key:"setLaser",value:function(){var e=this,t="";"auto"===e.oDisplayInfo.szLaserMode?(t="<?xml version='1.0' encoding='UTF-8'?><LaserLight><mode>auto</mode>",t+="<trigMode>"+e.oDisplayInfo.szLaserTriggerMode+"</trigMode>",t+="<sensitivityLevel>"+e.oDisplayInfo.iLaserSen+"</sensitivityLevel>",e.oDisplayCap.bLaserBrightLimit&&(t+="<brightnessLimit>"+e.oDisplayInfo.iLaserBrightLimit+"</brightnessLimit>"),t+="</LaserLight>"):(t="<?xml version='1.0' encoding='UTF-8'?><LaserLight>",t+="<mode>"+e.oDisplayInfo.szLaserMode+"</mode>",t+="<brightnessLevel>"+e.oDisplayInfo.iLaserBright+"</brightnessLevel>",t+="<laserangle>"+e.oDisplayInfo.iLaserAngle+"</laserangle>",e.oDisplayCap.bLaserIllumination&&(t+="<illumination>"+e.oDisplayInfo.iLaserIllumination+"</illumination>"),e.oDisplayCap.bCompensationRegionMode&&(t+="<compensationRegionMode>"+e.oDisplayInfo.szCompensationRegionMode+"</compensationRegionMode>"),e.oDisplayCap.bCompensationLevel&&(t+="<compensationLevel>"+e.oDisplayInfo.szCompensationLevel+"</compensationLevel>"),t+="</LaserLight>"),e.save(t,"laserLight")}},{key:"setSupply",value:function(){var e=this;if(e.checkSupply()){var t="<?xml version='1.0' encoding='UTF-8' ?>";t+="<SupplementLight>",e.oDisplayCap.bSupplyModes&&(t+="<mode>"+e.oDisplayInfo.szSupplyMode+"</mode>"),"schedule"===e.oDisplayInfo.szSupplyMode?(t+="<Schedule>",t+="<TimeRange>",t+="<beginTime>"+e.oDisplayInfo.szSupplyStartTime+"</beginTime>",t+="<endTime>"+e.oDisplayInfo.szSupplyEndTime+"</endTime>",t+="</TimeRange>",t+="</Schedule>",t+="<brightnessLimit>"+e.oDisplayInfo.iSupplyLightLimit+"</brightnessLimit>"):"on"!==e.oDisplayInfo.szSupplyMode&&"auto"!==e.oDisplayInfo.szSupplyMode||(t+="<brightnessLimit>"+e.oDisplayInfo.iSupplyLightLimit+"</brightnessLimit>"),e.oDisplayCap.bSupplyLightModes&&(t+="<supplementLightMode>"+e.oDisplayInfo.szSupplementLightMode+"</supplementLightMode>"),e.oDisplayCap.bMixedLightBrightnessRegulatModes&&(t+="<mixedLightBrightnessRegulatMode>"+e.oDisplayInfo.szmixedLightBrightnessRegulatMode+"</mixedLightBrightnessRegulatMode>"),e.oDisplayCap.bSupportWhiteLightBrightness&&(t+="<whiteLightBrightness>"+e.oDisplayInfo.iWhiteLightBrightness+"</whiteLightBrightness>"),t+="</SupplementLight>",e.save(t,"supplementLight")}}},{key:"checkSupply",value:function(){var e=this,t=!0;return"schedule"===e.oDisplayInfo.szSupplyMode&&e.oDisplayInfo.szSupplyStartTime===e.oDisplayInfo.szSupplyEndTime&&(r["a"].tip(p["a"].t("sTimeNotSameETime")),t=!1),t}},{key:"setFFC",value:function(){if(this.oDisplayCap.bFFC){var e="<?xml version='1.0' encoding='UTF-8'?><FFC><mode>"+this.oDisplayInfo.szFFC+"</mode>";this.oDisplayCap.bFFCComTime&&(this.oDisplayInfo.szFFCComTime||(this.oDisplayInfo.szFFCComTime=this.oDisplayCap.aFFCComTime[0].value),e+="<compsentationTime>"+this.oDisplayInfo.szFFCComTime+"</compsentationTime>"),e+="</FFC>",this.save(e,"FFC")}}},{key:"setSharpness",value:function(){var e="<?xml version='1.0' encoding='UTF-8'?><Sharpness>";return this.oDisplayCap.bSharpnessMode&&(e+="<SharpnessMode>"+this.oDisplayInfo.szSharpnessMode+"</SharpnessMode>"),this.oDisplayCap.bSharpness&&(e+="<SharpnessLevel>"+this.oDisplayInfo.iSharpness+"</SharpnessLevel>"),e+="</Sharpness>",this.save(e,"sharpness")}},{key:"setColor",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="<?xml version='1.0' encoding='UTF-8'?><Color>",this.oDisplayCap.bBright&&(t+="<brightnessLevel>"+this.oDisplayInfo.iBright+"</brightnessLevel>"),this.oDisplayCap.bContrast&&(t+="<contrastLevel>"+this.oDisplayInfo.iContrast+"</contrastLevel>"),this.oDisplayCap.bSaturation&&(t+="<saturationLevel>"+this.oDisplayInfo.iSaturation+"</saturationLevel>"),this.oDisplayCap.bHue&&(t+="<hueLevel>"+this.oDisplayInfo.iHue+"</hueLevel>"),this.oDisplayCap.bGrayScale&&(t+="<grayScale><grayScaleMode>"+this.oDisplayInfo.szGrayScale+"</grayScaleMode></grayScale>"),t+="</Color>",e.abrupt("return",this.save(t,"color"));case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setBLC",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,"Region"!==t.oDisplayInfo.szBLCMode){e.next=4;break}return a=new Promise(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(a){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.oDisplayInfo.oBLCXml){e.next=11;break}return i="<?xml version='1.0' encoding='utf-8' ?><DetectionRegionInfo>",i+="<videoFormat>"+t.oDisplayInfo.szVideoFormat+"</videoFormat>",i+="<RegionType>roi</RegionType><ROI>",i+="<HorizontalResolution>704</HorizontalResolution>",i+="<VerticalResolution>"+("PAL"===t.oDisplayInfo.szVideoFormat?576:480)+"</VerticalResolution></ROI>",i+="<DisplayMode>transparent</DisplayMode><MaxRegionNum>1</MaxRegionNum></DetectionRegionInfo>",e.next=9,h["a"].setRegionInfo(i);case 9:e.next=15;break;case 11:return e.next=13,t.setBLCRegionToPlugin(t.oDisplayInfo.oBLCXml);case 13:return e.next=15,t.setBLCRegion();case 15:a();case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",a);case 4:return e.next=6,l["a"].clearRegion();case 6:return t.oDrawBtn.bDraw=!1,n="<?xml version='1.0' encoding='UTF-8'?><BLC>",n+="<enabled>"+("false"!==t.oDisplayInfo.szBLCMode?"true":"false")+"</enabled>","false"!==t.oDisplayInfo.szBLCMode&&(t.oDisplayCap.bBLCMode&&(n+="<BLCMode>"+t.oDisplayInfo.szBLCMode+"</BLCMode>"),t.oDisplayCap.bBLCLevel&&(n+="<BLCLevel>"+t.oDisplayInfo.iBLCLevel+"</BLCLevel>")),n+="</BLC>",e.abrupt("return",t.save(n,"BLC"));case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setBLCRegionToPlugin",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){var i,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=this,n=e(a).find("BLCRegion").eq(0),o="<?xml version='1.0' encoding='utf-8' ?><DetectionRegionInfo>",o+="<videoFormat>"+i.oDisplayInfo.szVideoFormat+"</videoFormat>",o+="<RegionType>roi</RegionType>",o+="<ROI><HorizontalResolution>704</HorizontalResolution>",o+="<VerticalResolution>"+("PAL"===i.oDisplayInfo.szVideoFormat?576:480)+"</VerticalResolution></ROI>",o+="<DisplayMode>transparent</DisplayMode><MaxRegionNum>1</MaxRegionNum>",o+="<DetectionRegionList><DetectionRegion><RegionCoordinatesList>",o+="<RegionCoordinates><positionX>"+n.find("positionX").eq(0).text()+"</positionX>",o+="<positionY>"+n.find("positionY").eq(0).text()+"</positionY></RegionCoordinates>",o+="<RegionCoordinates><positionX>"+n.find("positionX").eq(3).text()+"</positionX>",o+="<positionY>"+n.find("positionY").eq(3).text()+"</positionY></RegionCoordinates>",o+="<RegionCoordinates><positionX>"+n.find("positionX").eq(2).text()+"</positionX>",o+="<positionY>"+n.find("positionY").eq(2).text()+"</positionY></RegionCoordinates>",o+="<RegionCoordinates><positionX>"+n.find("positionX").eq(1).text()+"</positionX>",o+="<positionY>"+n.find("positionY").eq(1).text()+"</positionY></RegionCoordinates>",o+="</RegionCoordinatesList></DetectionRegion></DetectionRegionList></DetectionRegionInfo>",t.next=20,l["a"].clearRegion();case 20:if("0"!==n.find("positionX").eq(3).text()||"0"!==n.find("positionY").eq(3).text()){t.next=23;break}t.next=24;break;case 23:return t.abrupt("return",h["a"].setRegionInfo(o));case 24:case"end":return t.stop()}}),t,this)})));function a(e){return t.apply(this,arguments)}return a}()},{key:"setBLCRegion",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=this,t.next=3,l["a"].getRectInfo().then((function(t){var i=h["a"].getRegionInfo(null,t),n=u["a"].parseXmlFromStr(i),o="<?xml version='1.0' encoding='UTF-8'?><BLC>";if(o+="<enabled>true</enabled>",o+="<BLCMode>Region</BLCMode>",a.oDisplayCap.bBLCLevel&&(o+="<BLCLevel>"+a.oDisplayInfo.iBLCLevel+"</BLCLevel>"),o+="<BLCRegionList>",e(n).find("RegionCoordinatesList").length>0){var r=e(n).find("positionX"),s=e(n).find("positionY");o+="<BLCRegion><id>1</id><RegionCoordinatesList>",o+="<RegionCoordinates><positionX>"+r.eq(0).text()+"</positionX><positionY>"+s.eq(0).text()+"</positionY></RegionCoordinates>",o+="<RegionCoordinates><positionX>"+r.eq(3).text()+"</positionX><positionY>"+s.eq(3).text()+"</positionY></RegionCoordinates>",o+="<RegionCoordinates><positionX>"+r.eq(2).text()+"</positionX><positionY>"+s.eq(2).text()+"</positionY></RegionCoordinates>",o+="<RegionCoordinates><positionX>"+r.eq(1).text()+"</positionX><positionY>"+s.eq(1).text()+"</positionY></RegionCoordinates>",o+="</RegionCoordinatesList></BLCRegion>"}else o+="<BLCRegion><id>1</id><RegionCoordinatesList>",o+="<RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates>",o+="<RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates>",o+="<RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates>",o+="<RegionCoordinates><positionX>0</positionX><positionY>0</positionY></RegionCoordinates>",o+="</RegionCoordinatesList></BLCRegion>";return o+="</BLCRegionList>",o+="</BLC>",a.save(o,"BLC")}));case 3:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}()},{key:"draw",value:function(){var e=this;return e.oDrawBtn.bDraw=!e.oDrawBtn.bDraw,l["a"].setDrawStatus(e.oDrawBtn.bDraw)}},{key:"clear",value:function(){r["a"].confirm(p["a"].t("clearDrawArea"),(function(){l["a"].clearRegion()}))}},{key:"setWDR",value:function(){var e=this,t="<?xml version='1.0' encoding='UTF-8'?><WDR>";return t+="<mode>"+e.oDisplayInfo.szWDRMode+"</mode>","close"!==e.oDisplayInfo.szWDRMode&&(e.oDisplayCap.bWDRLevel&&(t+="<WDRLevel>"+e.oDisplayInfo.iWDRLevel+"</WDRLevel>"),e.oDisplayCap.bWDRLevel1&&(t+="<WDRLevel1>"+e.oDisplayInfo.iWDRLevel1+"</WDRLevel1>"),e.oDisplayCap.bWDRContrast&&(t+="<WDRContrastLevel>"+e.oDisplayInfo.iWDRContrast+"</WDRContrastLevel>")),t+="</WDR>",e.save(t,"WDR")}},{key:"setHLC",value:function(){var e=this,t="<?xml version='1.0' encoding='UTF-8'?><HLC>";return t+="<enabled>"+e.oDisplayInfo.szHLC+"</enabled>","false"!==e.oDisplayInfo.szHLC&&e.oDisplayCap.bHLCLevel&&(t+="<HLCLevel>"+e.oDisplayInfo.iHLCLevel+"</HLCLevel>"),t+="</HLC>",e.save(t,"HLC")}},{key:"setDDE",value:function(){var e="<?xml version='1.0' encoding='UTF-8'?><DDE>";e+="<mode>"+this.oDisplayInfo.szDDEMode+"</mode>",this.oDisplayCap.bDDELevel&&"general"===this.oDisplayInfo.szDDEMode&&(e+="<GeneralMode><enhanceLevel>"+this.oDisplayInfo.iDDELevel+"</enhanceLevel></GeneralMode>"),e+="</DDE>",this.save(e,"DDE")}},{key:"setWhiteBalance",value:function(){var e=this,t="<?xml version='1.0' encoding='UTF-8'?><WhiteBalance>";return e.oDisplayCap.bWhiteBlance&&(t+="<WhiteBalanceStyle>"+e.oDisplayInfo.szWhiteBlance+"</WhiteBalanceStyle>"),"manual"===e.oDisplayInfo.szWhiteBlance&&(e.oDisplayCap.bWhiteBlanceRed&&(t+="<WhiteBalanceRed>"+e.oDisplayInfo.iWhiteBlanceRed+"</WhiteBalanceRed>"),e.oDisplayCap.bWhiteBlanceBlue&&(t+="<WhiteBalanceBlue>"+e.oDisplayInfo.iWhiteBlanceBlue+"</WhiteBalanceBlue>")),t+="</WhiteBalance>",e.save(t,"whiteBalance")}},{key:"setNoiseReduce",value:function(){var e=this,t="<?xml version='1.0' encoding='UTF-8'?><NoiseReduce>";return e.oDisplayCap.bNoiseReduce&&(t+="<mode>"+e.oDisplayInfo.szNoiseReduceMode+"</mode>","advanced"===e.oDisplayInfo.szNoiseReduceMode&&(t+="<AdvancedMode><FrameNoiseReduceLevel>"+e.oDisplayInfo.iSpaceDNRLevel+"</FrameNoiseReduceLevel><InterFrameNoiseReduceLevel>"+e.oDisplayInfo.iTimeDNRLevel+"</InterFrameNoiseReduceLevel></AdvancedMode>"),"general"===e.oDisplayInfo.szNoiseReduceMode&&(t+="<GeneralMode><generalLevel>"+e.oDisplayInfo.iGeneralLevel+"</generalLevel></GeneralMode>")),t+="</NoiseReduce>",e.save(t,"noiseReduce")}},{key:"setDehaze",value:function(){var e=this,t="<?xml version='1.0' encoding='UTF-8'?><Dehaze>";return e.oDisplayCap.bDefogMode&&(t+="<DehazeMode>"+e.oDisplayInfo.szDefogMode+"</DehazeMode>"),"close"!==e.oDisplayInfo.szDefogMode&&e.oDisplayCap.bDefogLevel&&(t+="<DehazeLevel>"+e.oDisplayInfo.iDefogLevel+"</DehazeLevel>"),t+="</Dehaze>",e.save(t,"dehaze")}},{key:"setEIS",value:function(){var e=this,t="<?xml version='1.0' encoding='UTF-8'?><EIS>";return e.oDisplayCap.bEIS&&(t+="<enabled>"+e.oDisplayInfo.szEISEnable+"</enabled>"),"true"===e.oDisplayInfo.szEISEnable&&e.oDisplayCap.bEISLevel&&(t+="<EISLevel>"+e.oDisplayInfo.iEISLevel+"</EISLevel>"),t+="</EIS>",e.save(t,"EIS")}},{key:"setOIS",value:function(){var e=this,t="<?xml version='1.0' encoding='UTF-8'?><OIS>";return e.oDisplayCap.bOISMode&&(t+="<mode>"+e.oDisplayInfo.szOISMode+"</mode>"),"experts"===e.oDisplayInfo.szOISMode&&(e.oDisplayCap.bOISLevel&&(t+="<OISLevel>"+e.oDisplayInfo.szOISLevel+"</OISLevel>"),e.oDisplayCap.bOISSensitivity&&(t+="<OISSensitivity>"+e.oDisplayInfo.szOISSensitivity+"</OISSensitivity>")),t+="</OIS>",e.save(t,"OIS")}},{key:"setChromaSuppress",value:function(){if(this.oDisplayCap.bChromaSuppress){var e="<?xml version='1.0' encoding='UTF-8'?><ChromaSuppress><enabled>true</enabled><ChromaSuppressLevel>"+this.oDisplayInfo.iChromaSuppress+"</ChromaSuppressLevel></ChromaSuppress>";return this.save(e,"ChromaSuppress")}}},{key:"setGammaCorrect",value:function(){if(this.oDisplayCap.bGammaCorrect){var e="<?xml version='1.0' encoding='UTF-8'?><gammaCorrection><gammaCorrectionEnabled>true</gammaCorrectionEnabled><gammaCorrectionLevel>"+this.oDisplayInfo.iGammaCorrect+"</gammaCorrectionLevel></gammaCorrection>";return this.save(e,"gammaCorrection")}}},{key:"setIllEnhance",value:function(){if(this.oDisplayCap.bIllEnhance){var e="<?xml version='1.0' encoding='UTF-8'?><ImageEnhancement><enabled>"+this.oDisplayInfo.szIllEnhance+"</enabled></ImageEnhancement>";return this.save(e,"imageenhancement")}}},{key:"setImageFlip",value:function(){if(this.oDisplayCap.bImageFlip){var e="<?xml version='1.0' encoding='UTF-8'?><ImageFlip>";return"false"!==this.oDisplayInfo.szImageFlipMode?(e+="<enabled>true</enabled>",e+="<ImageFlipStyle>"+this.oDisplayInfo.szImageFlipMode+"</ImageFlipStyle>"):e+="<enabled>false</enabled>",e+="</ImageFlip>",this.save(e,"imageFlip")}}},{key:"setCorridor",value:function(){if(this.oDisplayCap.bRotate){var e="<?xml version='1.0' encoding='UTF-8'?><corridor><enabled>"+this.oDisplayInfo.szRotateEnable+"</enabled></corridor>";return this.save(e,"corridor")}}},{key:"setScene",value:function(){if(this.oDisplayCap.bSceneMode){var e="<?xml version='1.0' encoding='UTF-8'?><Scene><mode>"+this.oDisplayInfo.szSceneMode+"</mode></Scene>";return this.save(e,"scene")}}},{key:"setVideoStandard",value:function(){var e=this;if(e.oDisplayCap.bVideoStandard){var t="<?xml version='1.0' encoding='UTF-8'?><powerLineFrequency ><powerLineFrequencyMode>"+e.oDisplayInfo.szVideoStandard+"</powerLineFrequencyMode></powerLineFrequency >";return e.save(t,"powerLineFrequency")}}},{key:"setCaptureMode",value:function(){if(this.oDisplayCap.bCaptureMode){var e="<?xml version='1.0' encoding='UTF-8'?><CaptureMode><mode>"+this.oDisplayInfo.szCaptureMode+"</mode></CaptureMode>";return this.save(e,"capturemode")}}},{key:"setLensDistorCorrect",value:function(){if(this.oDisplayCap.bLensDistorCorrect){var e="<?xml version='1.0' encoding='UTF-8'?><LensDistortionCorrection><enabled>"+this.oDisplayInfo.szLensDistorCorrect+"</enabled></LensDistortionCorrection>";return this.save(e,"lensDistortionCorrection")}}},{key:"setDistorCorrect",value:function(){var e=this;if(e.oDisplayCap.bDistorCorrect){var t="<?xml version='1.0' encoding='UTF-8'?><LensDistortionCorrection>";return"false"===e.oDisplayInfo.szDistorCorrect?t+="<enabled>false</enabled>":(t+="<enabled>true</enabled><level>"+e.oDisplayInfo.szDistorCorrect+"</level>","custom"===e.oDisplayInfo.szDistorCorrect&&(t+="<accurateLevel>"+e.oDisplayInfo.iAccurateLevel+"</accurateLevel>",t+="<zoomedInDistantViewLevel>"+e.oDisplayInfo.iZoomedInDistantView+"</zoomedInDistantViewLevel>",t+="<horizontalFOV>"+e.oDisplayInfo.iHorizontalFOV+"</horizontalFOV>",t+="<verticalFOV>"+e.oDisplayInfo.iVerticalFOV+"</verticalFOV>")),t+="</LensDistortionCorrection>",e.save(t,"lensDistortionCorrection")}}},{key:"setEPTZ",value:function(){if(this.oDisplayCap.bEPTZ){var e="<?xml version='1.0' encoding='UTF-8'?><EPTZ><enabled>"+this.oDisplayInfo.szEPTZEnable+"</enabled></EPTZ>";return this.save(e,"EPTZ")}}},{key:"setLensInit",value:function(){if(this.oDisplayCap.bLensInit){var e="<?xml version='1.0' encoding='UTF-8'?><LensInitialization><enabled>"+this.oDisplayInfo.szLensInitEnable+"</enabled></LensInitialization>";return this.save(e,"lensInitialization")}}},{key:"setZoomLimit",value:function(){if(this.oDisplayCap.bZoomLimit){var e="<?xml version='1.0' encoding='UTF-8'?><ZoomLimit ><ZoomLimitRatio>"+this.oDisplayInfo.szZoomLimit+"</ZoomLimitRatio></ZoomLimit >";return this.save(e,"zoomLimit")}}},{key:"setISPMode",value:function(){var e=this;try{l["a"].setDrawStatus(!1),e.oDrawBtn.bDraw=!1}catch(n){}var t=e.oDisplayInfo.oISP,a=Math.abs(u["a"].getTimeOffset(t.szEndTime,t.szBeginTime));if(!(a<10||a>86390)){var i="<?xml version='1.0' encoding='UTF-8'?>";return i+="<ISPMode><mode>"+t.szISPMode+"</mode>",i+="<Schedule><scheduleType>day</scheduleType>",i+="<TimeRange><beginTime>"+t.szBeginTime+"</beginTime>",i+="<endTime>"+t.szEndTime+"</endTime></TimeRange></Schedule>",i+="</ISPMode>",new Promise((function(t){var a={urlCGI:"displayISPMode",params:{channel:e.oDisplayInfo.iChannelId},data:i,loading:!0};m["a"].put(a).then((function(e){d["a"].saveState(e.xhr),t()}),(function(e){d["a"].saveState(e.xhr),t()}))}))}r["a"].tip(p["a"].t("scheduleTimeRange"))}},{key:"initVideoTool",value:function(t){var a=this;if(!e("#videoCapture").length&&!e("#videoRecord").length){var i=e("#main_plugin").width()-2,n=e("#main_plugin").css("margin-left"),o="<div class='videotool tool'>";t&&l["a"].setCanFullScreen(1),o+="<button id='videoCapture' class='btn right' type='button' title='"+p["a"].t("capture")+"'>",o+="<i class='icon-capture'></i></button>",o+='<button id=\'videoRecord\' class="btn right" type="button" title="'+p["a"].t("startRecord")+'"><i id=\'videoRecord-icon\' class="icon-record"></i></button>',o+="</div>",e(o).insertAfter("#main_plugin").css({width:i,marginLeft:n}),e("#videoCapture").click((function(){a.capture()})),e("#videoRecord").click((function(){a.record()}))}}},{key:"setBrightnessSudden",value:function(){if(this.oDisplayCap.bBrightnessSudden){var e="<?xml version='1.0' encoding='UTF-8'?><BrightnessSuddenChangeSuppression><enabled>"+this.oDisplayInfo.szBrightnessSudden+"</enabled></BrightnessSuddenChangeSuppression>";this.save(e,"brightnessSuddenChangeSuppression")}}},{key:"setLocalOutput",value:function(){var t=this;if(null!==t.oDisplayInfo.oLocalOutputXml)return e(t.oDisplayInfo.oLocalOutputXml).find("VideoOutputChannel").eq(0).find("mode").eq(0).text(t.oDisplayInfo.szLocalOutput),new Promise((function(e){var a={urlCGI:"localOutput",params:{output:t.oDisplayInfo.iChannelId},data:t.oDisplayInfo.oLocalOutputXml,loading:!0};m["a"].put(a).then((function(t){d["a"].saveState(t.xhr),e()}),(function(a){t.getLocalOutput(),d["a"].saveState(a),e()}))}))}},{key:"get",value:function(){var e=this;return new Promise(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getCab();case 2:return t.next=4,e.getInfo();case 4:a();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"getCab",value:function(){var t=this;return new Promise((function(a,i){var n={urlCGI:"displayParamSwitchCap",params:{channel:t.m_oParams.iChannelId},data:null,loading:!0};m["a"].get(n).then((function(i){var n=i.oResult,o=t.m_oParamsCap,r=o.oPreset,s=o.oSchedule,l=o.oDisabled,c=u["a"].nodeAttr(n,"mode","opt").split(",");-1!==e.inArray("linkPreset",c)&&(r.bSupport=!0),-1!==e.inArray("timingSwitch",c)&&(s.bSupport=!0),-1!==e.inArray("disable",c)&&(l.bSupport=!0),o.szBeginTime=u["a"].nodeValue(n,"beginTime"),o.szEndTime=u["a"].nodeValue(n,"endTime"),o.aScenes.length=0,o.szDefScene=u["a"].nodeValue(n,"linkScene");var d=u["a"].nodeAttr(n,"linkScene","opt").split(","),m=["indoor","outdoor","day","night","morning","nightfall","mode1","mode2","mode3","mode4","street","lowIllumination","faceSnap","custom1","custom2","backlight","frontlight","normal"],h=[p["a"].t("indoor"),p["a"].t("outdoor"),p["a"].t("day"),p["a"].t("night"),p["a"].t("morning"),p["a"].t("nightfall"),p["a"].t("mode")+"1",p["a"].t("mode")+"2",p["a"].t("mode")+"3",p["a"].t("mode")+"4",p["a"].t("street"),p["a"].t("lowIllumination"),p["a"].t("faceCapture"),p["a"].t("custom")+"1",p["a"].t("custom")+"2",p["a"].t("backLight"),p["a"].t("frontLight"),p["a"].t("mountNormal")],f=-1;e.each(d,(function(t,a){f=e.inArray(a,m),f>=0&&o.aScenes.push({text:h[f],value:a})})),r.bSupport&&(r.bSupportLinkEnabled=e(n).find("linkEnabled").length>0,r.iPresetNum=u["a"].nodeAttr(n,"LinkPresetList","size","i"),r.iTimeNum=u["a"].nodeAttr(n,"LinkPresetList PeriodList","size","i")),s.bSupport&&(s.iTimeNum=u["a"].nodeAttr(n,"TimingSwitch PeriodList","size","i")),t.initData(),a()}),(function(e){i(e)}))}))}},{key:"initData",value:function(){var e=this,t=e.m_oParamsCap,a=t.oPreset,i=t.oSchedule,n=e.m_oParams,o=n.oPreset.aPresets;o.length=0;for(var r=1,s=a.iPresetNum;r<=s;++r){var l=c(a.iTimeNum,{bEnabled:!1,szBeginTime:t.szBeginTime,szEndTime:t.szEndTime,szScene:t.szDefScene});o.push({id:r,bEnabled:!1,aTimes:l})}function c(e,t){for(var a=[],i=1;i<=e;++i)a.push({bEnabled:t.bEnabled,szBeginTime:t.szBeginTime,szEndTime:t.szEndTime,szScene:t.szScene});return a}n.oPreset.iLinkPreset=1,e.changePreset(),n.oSchedule.aTimes=c(i.iTimeNum,{bEnabled:!1,szBeginTime:t.szBeginTime,szEndTime:t.szEndTime,szScene:t.szDefScene})}},{key:"getInfo",value:function(){var t=this;return new Promise((function(a,i){var n={urlCGI:"displayParamSwitchInfo",params:{channel:t.m_oParams.iChannelId},data:null,loading:!0};m["a"].get(n).then((function(i){var n=i.oResult,o=t.m_oParams,r=u["a"].nodeValue(n,"mode");o.oPreset.bEnabled=!1,o.oSchedule.bEnabled=!1;var s,l,c,d=o.oPreset.aPresets;e(n).find("LinkPreset").each((function(t){s=d[t],s.bEnabled=u["a"].nodeValue(this,"linkEnabled","b"),l=s.aTimes,e(this).find("Period").each((function(e){c=l[e],c.bEnabled=u["a"].nodeValue(this,"enabled","b"),c.szBeginTime=u["a"].nodeValue(this,"beginTime"),c.szEndTime=u["a"].nodeValue(this,"endTime"),c.szScene=u["a"].nodeValue(this,"linkScene")}))})),l=o.oSchedule.aTimes,e(n).find("TimingSwitch Period").each((function(e){c=l[e],c.bEnabled=u["a"].nodeValue(this,"enabled","b"),c.szBeginTime=u["a"].nodeValue(this,"beginTime"),c.szEndTime=u["a"].nodeValue(this,"endTime"),c.szScene=u["a"].nodeValue(this,"linkScene")})),"linkPreset"===r?o.oPreset.bEnabled=!0:"timingSwitch"===r&&(o.oSchedule.bEnabled=!0),a()}),(function(e){i(e)}))}))}},{key:"saveInfo",value:function(){var t=this;if(t.checkValid()){var a=t.m_oParamsCap,i=t.m_oParams,n="<?xml version='1.0' encoding='UTF-8'?>";return n+="<DisplayParamSwitch>",i.oPreset.bEnabled?(n+="<mode>linkPreset</mode>",n+="<LinkPresetList>",e.each(i.oPreset.aPresets,(function(t,i){n+="<LinkPreset>",n+="<id>"+i.id+"</id>",n+="<presetID>"+i.id+"</presetID>",a.oPreset.bSupportLinkEnabled&&(n+="<linkEnabled>"+i.bEnabled+"</linkEnabled>"),n+="<PeriodList >",e.each(i.aTimes,(function(e,t){n+="<Period >",n+="<id>"+(e+1)+"</id>",n+="<enabled>"+t.bEnabled+"</enabled>",n+="<TimeRange >",n+="<beginTime>"+t.szBeginTime+"</beginTime>",n+="<endTime>"+t.szEndTime+"</endTime>",n+="</TimeRange >",n+="<linkScene>"+t.szScene+"</linkScene>",n+="</Period >"})),n+="</PeriodList >",n+="</LinkPreset>"})),n+="</LinkPresetList>"):i.oSchedule.bEnabled?(n+="<mode>timingSwitch</mode>",n+="<TimingSwitch>",n+="<PeriodList >",e.each(i.oSchedule.aTimes,(function(e,t){n+="<Period >",n+="<id>"+(e+1)+"</id>",n+="<enabled>"+t.bEnabled+"</enabled>",n+="<TimeRange >",n+="<beginTime>"+t.szBeginTime+"</beginTime>",n+="<endTime>"+t.szEndTime+"</endTime>",n+="</TimeRange >",n+="<linkScene>"+t.szScene+"</linkScene>",n+="</Period >"})),n+="</PeriodList >",n+="</TimingSwitch>"):n+="<mode>disable</mode>",n+="</DisplayParamSwitch>",new Promise((function(e){var a={urlCGI:"displayParamSwitchInfo",params:{channel:t.m_oParams.iChannelId},data:n,loading:!0};m["a"].put(a).then((function(t){d["a"].saveState(t.xhr),e()}),(function(t){d["a"].saveState(t),e()}))}))}}},{key:"changePreset",value:function(){var e=this,t=e.m_oParams.oPreset;t.oPresetInfo?e.checkValid()?t.oPresetInfo=t.aPresets[t.iLinkPreset-1]:t.iLinkPreset=t.oPresetInfo.id:t.oPresetInfo=t.aPresets[t.iLinkPreset-1]}},{key:"checkValid",value:function(){var t=this;function a(t){var a=t.split(":"),i=0;return e.each(a,(function(e){a[e]=parseInt(a[e],10)})),i+=3600*a[0]+60*a[1]+a[2],i}function i(e,t){var i=a(e),n=a(t);return 0===i&&0===n||(!(n-i>=0&&n-i<10)||(r["a"].tip(p["a"].t("scheduleTimeRange")),!1))}function n(t,i){t=a(t[1])<a(t[0])?[[t[0],"24:00:00"],["00:00:00",t[1]]]:[t],i=a(i[1])<a(i[0])?[[i[0],"24:00:00"],["00:00:00",i[1]]]:[i];var n=!1;return e.each(t,(function(a){if(e.each(i,(function(e){if(n=o(t[a],i[e]),n)return!1})),n)return!1})),n;function o(e,t){var i=a(e[0]),n=a(e[1]),o=a(t[0]),r=a(t[1]);return 0!==n-i&&0!==r-o&&!(i>=r||n<=o)}}function o(t){var a=!1;return e.each(t,(function(i){if(e.each(t,(function(e){if(e>i&&(a=n(t[i],t[e]),a)){var o=(i<e?i:e)+1,s=(i<e?e:i)+1;return r["a"].tip(p["a"].t("timeSegmentOverlapped",[o,s])),!1}})),a)return!1})),a}var s=[],l=t.m_oParams;if(l.oPreset.bEnabled){if(!l.oPreset.oPresetInfo)return!0;s=l.oPreset.oPresetInfo.aTimes}else l.oSchedule.bEnabled&&(s=l.oSchedule.aTimes);var c=!0;if(e.each(s,(function(e,t){if(c=i(t.szBeginTime,t.szEndTime),!c)return!1})),!c)return!1;var u=[];return e.each(s,(function(){u.push([this.szBeginTime,this.szEndTime])})),!o(u)}},{key:"mutexMode",value:function(e){var t=this,a=t.m_oParamsCap,i=t.m_oParams;i.oPreset.bEnabled&&i.oSchedule.bEnabled&&("preset"===e?i.oSchedule.bEnabled=!1:i.oPreset.bEnabled=!1),a.oDisabled.bSupport||i.oPreset.bEnabled||i.oSchedule.bEnabled||("preset"===e?i.oPreset.bEnabled=!0:i.oSchedule.bEnabled=!0)}}]),t}();t["a"]=new f}).call(this,a("1157"))},de70:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"port-details"},[t("hm-scroll",[t("div",{staticClass:"hm-index-list-item"},[t("hm-cell-group",[t("hm-cell",{attrs:{title:e.$t("HDD No.")}},[t("hm-input",{attrs:{disabled:!0},model:{value:e.diskNum,callback:function(t){e.diskNum=t},expression:"diskNum"}})],1),t("hm-cell",{attrs:{title:e.$t("Capacity")}},[t("hm-input",{attrs:{disabled:!0},model:{value:e.capacity,callback:function(t){e.capacity=t},expression:"capacity"}})],1),t("hm-cell",{attrs:{title:e.$t("Free Space")}},[t("hm-input",{attrs:{disabled:!0},model:{value:e.freeSpace,callback:function(t){e.freeSpace=t},expression:"freeSpace"}})],1),t("hm-cell",{attrs:{title:e.$t("Status")}},[t("hm-input",{attrs:{disabled:!0},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}})],1),t("hm-cell",{attrs:{title:e.$t("Type")}},[t("hm-input",{attrs:{disabled:!0},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}})],1),t("hm-cell",{attrs:{title:e.$t("Property")}},[t("hm-input",{attrs:{disabled:!0},model:{value:e.property,callback:function(t){e.property=t},expression:"property"}})],1),t("hm-cell",{attrs:{title:e.$t("Progress")}},[t("hm-input",{attrs:{disabled:!0},model:{value:e.progress,callback:function(t){e.progress=t},expression:"progress"}})],1),t("hm-button",[e._v("Format")])],1)],1)])],1)},n=[],o={name:"PortDetails",props:{portDetailsData:{type:Array,default:function(){return[]},required:!0},portStatus:{type:Boolean,default:function(){return!1}}},data:function(){return{portDetails:this.portDetailsData,odistable:this.portStatus,diskNum:"",capacity:"",freeSpace:"",status:"",type:"",property:"",progress:""}},mounted:function(){this.initParam()},methods:{initParam:function(){this.portDetails&&(this.diskNum=this.portDetails[0][0],this.capacity=this.portDetails[0][1],this.freeSpace=this.portDetails[0][2],this.status=this.portDetails[0][3],this.type=this.portDetails[0][4],this.property=this.portDetails[0][5],this.progress=this.portDetails[0][6])},changePort:function(){this.$emit("updata",this.externalPort)}}},r=o,s=(a("cb79"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,null,null);t["default"]=l.exports},de8a:function(e,t,a){"use strict";(function(e){a("ac6a"),a("c5f6");var i="custom-picker",n="select",o="cancel";t["a"]={name:i,props:{pending:{type:Boolean,default:!1},titleTip:{type:String,default:"picker"},dataList:{type:Array,default:function(){return[]},required:!0},supportFirstSelectAll:{type:Boolean,default:!1},selectType:{type:Number,default:0},subSystemID:{type:Number,default:0}},data:function(){return{finalData:e.extend(!0,[],this.dataList),isVisible:!1,zIndex:999}},watch:{finalData:{handler:function(){this.checkSelectAllState()},deep:!0}},mounted:function(){var e=this;this.$nextTick((function(){setTimeout((function(){e.$refs.customScroll&&e.$refs.customScroll.refresh()}),500)}))},created:function(){this.checkSelectAllState()},methods:{confirm:function(){this.hide(),this.$emit(n,this.finalData)},maskClick:function(){this.cancel()},cancel:function(){this.hide(),this.finalData=e.extend(!0,[],this.dataList),this.$emit(o)},show:function(){this.isVisible||(this.isVisible=!0)},hide:function(){this.isVisible&&(this.isVisible=!1)},changeCheckState:function(e,t){var a=this;0===e&&this.supportFirstSelectAll&&this.finalData.forEach((function(e,i){0!==i&&e&&a.$set(a.finalData[i],"value",t)}))},changeSubSystemCheckState:function(e,t,a){var i=this;0===t&&this.finalData.forEach((function(t,n){n===e&&t.forEach((function(t,n){0!==n&&t&&i.$set(i.finalData[e][n],"value",a)}))}))},checkSelectAllState:function(){var e=this,t=!0,a=this.supportFirstSelectAll;a&&(1===this.selectType?this.finalData.forEach((function(a,i){a.forEach((function(e,a){0!==a&&e&&!e.value&&(t=!1)})),e.$set(e.finalData[i][0],"value",t),t=!0})):(this.finalData.forEach((function(e,a){if(0!==a&&e&&!e.value)return t=!1,!1})),this.$set(this.finalData[0],"value",t)))}}}}).call(this,a("1157"))},df65:function(e,t,a){"use strict";(function(e){a("ac6a"),a("7514"),a("28a5"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("f193"),s=a("8d94"),l=a("7de8"),c=a("1f20"),u=a("d09c"),d=a("c050"),p=a("9741"),m=function(){function t(){Object(n["a"])(this,t),this.oXmlDoc=null,this.tableData={tableItem:[]},this.m_oParams={bLoading:!1,bSptSetAttribute:0===p["a"].iDeviceType,aCheckList:[]},this.aProtocolType=[],this.oProtocolType=[],this.m_oCapbilities={bSupportEhome5:!1},this.aItems=[],this.oTable=null,this.oWaitDlg=null,this.percent=0}return Object(o["a"])(t,[{key:"initHttpListen",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["a"].isSupportHttpHostsCap();case 2:return this.getEhomeCap(),a=c["a"].m_oDeviceXml.httpHostxmlDoc,this.aProtocolType=e(a).find("protocolType").eq(0).attr("opt").split(","),this.m_oCapbilities={bChannelSupport:!0,bSupportHttpBroken:e(a).find("httpBroken").length>0,bSupportProtoConf:this.aProtocolType.length>1,oHttpTansParamCap:{iUrlMaxLen:l["a"].nodeAttr(a,"urlLen","max","i"),iPortNoMin:l["a"].nodeAttr(a,"portNo","min","i"),iPortNoMax:l["a"].nodeAttr(a,"portNo","max","i")},bDefHttpBroken:""===l["a"].nodeAttr(a,"httpBroken","def","b")||l["a"].nodeAttr(a,"httpBroken","def","b")},this.m_oCapbilities.bSupportProtoConf&&(this.oProtocolType.length=0,this.aProtocolType.forEach((function(e){"EHome"===e||i.m_oCapbilities.bSupportEhome5?i.oProtocolType.push({value:e,text:"ISUP"}):i.oProtocolType.push({value:e,text:e})}))),t.next=9,this.getHttpHostsTnfo();case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}()},{key:"getEhomeCap",value:function(){var t=this;this.m_oCapbilities.bSupportEhome5=!1;var a=new Promise((function(a,i){var n={urlCGI:"ehomeCap",params:null,data:null,loading:!0};r["a"].get(n).then((function(i){var n=i.oResult,o=l["a"].nodeAttr(n,"protocolVersion","opt");""!==o&&-1!==e.inArray("v5.0",o.split(","))&&(t.m_oCapbilities.bSupportEhome5=!0),a()}),(function(){t.m_oCapbilities.bSupportEhome5=!1,i()}))}));return a}},{key:"getHttpHostsTnfo",value:function(){var e=this,t=new Promise((function(t,a){var i={urlCGI:"httpHostsInfo",params:null,data:null,loading:!0};r["a"].get(i).then((function(a){var i=a.oResult;e.fullTable(i),e._xml=i,t()}),(function(){e.m_oCapbilities.bChannelSupport=!1,a()}))}));return t}},{key:"fullTable",value:function(t,a){var i=this;if(t){var n=[],o=this.m_oParams.aCheckList;o.length=0,e(t).find("HttpHostNotification").each((function(t,r){n[t]=[];var s=l["a"].nodeValue(r,"addressingFormatType");"hostname"===s?n[t][0]=l["a"].decodeString(l["a"].nodeValue(r,"hostName")):e(r).find("ipAddress").length>0?n[t][0]=l["a"].decodeString(l["a"].nodeValue(r,"ipAddress")):n[t][0]=l["a"].decodeString(l["a"].nodeValue(r,"ipv6Address")),n[t][1]=l["a"].decodeString(l["a"].nodeValue(r,"url")),n[t][2]=l["a"].nodeValue(r,"portNo","i"),n[t][3]=l["a"].nodeValue(r,"protocolType"),o[t]={bChecked:l["a"].nodeValue(r,"httpBroken","b")},i.m_oCapbilities.bSupportHttpBroken&&(n[t][4]=l["a"].nodeValue(r,"httpBroken","b")),n[t][5]=l["a"].nodeValue(r,"id","i"),""===n[t][0]&&""===n[t][1]&&""===n[t][2]||!a||(n[t][0]="0.0.0.0",n[t][1]="/",n[t][2]=80)})),console.log(n),this.tableData.tableItem=n}}},{key:"saveParams",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=[],this.m_oParams.bLoading=!0,t.push(this.save()),e.next=5,l["a"].waitAll(t).then((function(e){for(var t=[],i=0,n=e.length;i<n;++i)e[i]&&t.push(e[i].xhr);a.m_oParams.bLoading=!1,u["a"].successState(t)}),(function(e){a.m_oParams.bLoading=!1,u["a"].saveState(e[0])}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){for(var e,t,a=this.tableData.tableItem,i="<?xml version='1.0' encoding='UTF-8'?><HttpHostNotificationList>",n=0;n<a.length;n++)""!==a[n][1]&&""!==a[n][0]&&(t=a[n][5],i+="<HttpHostNotification><id>"+t+"</id>",i+="<url>"+l["a"].encodeString(a[n][1])+"</url>",e=l["a"].checkAddressingType(a[n][0]),"hostName"===e?i+="<addressingFormatType>hostname</addressingFormatType><hostName>"+l["a"].encodeString(a[n][0])+"</hostName>":"ipAddress"===e?i+="<addressingFormatType>ipaddress</addressingFormatType><ipAddress>"+l["a"].encodeString(a[n][0])+"</ipAddress>":"ipv6Address"===e&&(i+="<addressingFormatType>ipaddress</addressingFormatType><ipv6Address>"+l["a"].encodeString(a[n][0])+"</ipv6Address>"),i+="<portNo>"+a[n][2]+"</portNo>",this.m_oCapbilities.bSupportProtoConf?i+="<protocolType>"+a[n][3]+"</protocolType><parameterFormatType>XML</parameterFormatType>":i+="<protocolType>HTTP</protocolType><parameterFormatType>XML</parameterFormatType>",this.m_oCapbilities.bSupportHttpBroken&&(i+="<httpBroken>"+this.m_oParams.aCheckList[n].bChecked+"</httpBroken>"),i+="<httpAuthenticationMethod>none</httpAuthenticationMethod></HttpHostNotification>");i+="</HttpHostNotificationList>";var o=l["a"].parseXmlFromStr(i);return new Promise((function(e,t){var a={urlCGI:"httpHostsInfo",params:null,data:o,loading:!0};r["a"].put(a).then((function(t){e(t)}),(function(e){t(e)}))}))}},{key:"testDest",value:function(t){var a=this,i=this.tableData.tableItem;console.log("🚀 ~ HttpListen ~ testDest ~ aItems:",i);var n,o="<?xml version='1.0' encoding='UTF-8'?>",c=i[t][5];console.log("🚀 ~ HttpListen ~ testDest ~ iId:",c),o+="<HttpHostNotification><id>"+c+"</id>",o+="<url>"+i[t][1]+"</url><protocolType>HTTP</protocolType><parameterFormatType>XML</parameterFormatType>",n=l["a"].checkAddressingType(i[t][0]),"hostName"===n?o+="<addressingFormatType>hostname</addressingFormatType><hostName>"+l["a"].encodeString(i[t][0])+"</hostName>":"ipAddress"===n?o+="<addressingFormatType>ipaddress</addressingFormatType><ipAddress>"+i[t][0]+"</ipAddress>":"ipv6Address"===n&&(o+="<addressingFormatType>ipaddress</addressingFormatType><ipv6Address>"+i[t][0]+"</ipv6Address>"),o+="<portNo>"+i[t][2]+"</portNo><httpAuthenticationMethod>none</httpAuthenticationMethod></HttpHostNotification>",this.m_oWait=d["a"].wait("",s["a"].t("Testing"));var u=l["a"].parseXmlFromStr(o),p=new Promise((function(t,i){var n={urlCGI:"testDestIP",bSecurity:!0,params:{channel:c},data:u};r["a"].post(n).then((function(i){a.m_oWait&&a.m_oWait.close();var n=s["a"].t("serviceUnAvailable"),o=l["a"].nodeValue(e(i.oResult),"errorDescription"),r="fail";"ok"===o&&(n=s["a"].t("serviceAvailable"),r="success"),d["a"].stateAlert(n,r),t()}),(function(e){a.m_oWait&&a.m_oWait.close(),d["a"].stateAlert(s["a"].t("serviceUnAvailable"),"fail"),i(e)}))}));return p}}]),t}();t["a"]=new m}).call(this,a("1157"))},df80:function(e,t,a){"use strict";a("ddb7")},dfbd:function(e,t,a){},e05e:function(e,t,a){"use strict";a("364c")},e083:function(e,t,a){},e0b8:function(e,t,a){"use strict";var i=a("7726"),n=a("5ca1"),o=a("2aba"),r=a("dcbc"),s=a("67ab"),l=a("4a59"),c=a("f605"),u=a("d3f4"),d=a("79e5"),p=a("5cc5"),m=a("7f20"),h=a("5dbc");e.exports=function(e,t,a,f,v,b){var g=i[e],P=g,S=v?"set":"add",C=P&&P.prototype,y={},I=function(e){var t=C[e];o(C,e,"delete"==e||"has"==e?function(e){return!(b&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return b&&!u(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,a){return t.call(this,0===e?0:e,a),this})};if("function"==typeof P&&(b||C.forEach&&!d((function(){(new P).entries().next()})))){var D=new P,w=D[S](b?{}:-0,1)!=D,T=d((function(){D.has(1)})),k=p((function(e){new P(e)})),x=!b&&d((function(){var e=new P,t=5;while(t--)e[S](t,t);return!e.has(-0)}));k||(P=t((function(t,a){c(t,P,e);var i=h(new g,t,P);return void 0!=a&&l(a,v,i[S],i),i})),P.prototype=C,C.constructor=P),(T||x)&&(I("delete"),I("has"),v&&I("get")),(x||w)&&I(S),b&&C.clear&&delete C.clear}else P=f.getConstructor(t,e,v,S),r(P.prototype,a),s.NEED=!0;return m(P,e),y[e]=P,n(n.G+n.W+n.F*(P!=g),y),b||f.setStrong(P,e,v),P}},e145:function(e,t,a){"use strict";(function(e){a("a481"),a("6b54"),a("28a5"),a("7514"),a("5df3"),a("96cf");var i=a("1da1"),n=(a("ac6a"),a("47b5")),o=a("d09c"),r=a("f193"),s=a("7de8"),l=a("768a"),c=a("9741");t["a"]={name:"CameraMobileGb28181",components:{BaseSelect:n["a"]},data:function(){var e=this;return{bLazyLoading:!1,bNVR:0===c["a"].iDeviceType,oCap:{bSupport28182White:!1,aStreamTransMode:[],bSupportSpeed:!1,bSupportStreamAdditionalInfo:!1,aRateType:[{text:this.$t("speedRate"),value:"bandwidth"},{text:this.$t("rate"),value:"rate"}],aRate:[{text:"1/8",value:"-8"},{text:"1/4",value:"-4"},{text:"1/2",value:"-2"},{text:"1",value:"1"},{text:"2",value:"2"},{text:"4",value:"4"},{text:"8",value:"8"}],iWhite28181Num:8,oAlarm:{iMin:20,iMax:20},oVideoInput:{iMin:20,iMax:20},oAudioInput:{iMin:20,iMax:20},bSupportVoiceBroadcast:!1,bSupportGBEncrypt:!1,bExchangeCerfificate:!1,bSupportUnidirectionEnabled:!1,aProtocolVersion:[],aSupportStreamIndex:[!0,!1,!1],aStreamType:[{text:this.$t("mainStream"),value:"1"}],bSupportRegInterval:!1},oParams:{bEnabled:!1,szRegStatus:"",szOffline:"",szLocalSIPPort:"",szSipServerID:"",szSipSeverDomain:"",szSipServerAddr:"",szSipServerPort:"",szSipUserName:"",szSipAuthenticationID:"",szPassword:"",szSipExpiration:"",szHeartbeatPeriod:"",iRegInterval:0,szHeartbeatCount:"",szSpeedType:"bandwidth",szSpeed:"",szRate:"-8",bEnableStreamAdditionalInfo:!1,szStreamTransMode:"",szStreamType:"",szProtocolVersion:"",bEnableGBEncrypt:!1,bEnableUnidirection:!1,iPlatformIndex:0,bEnableExchangeCerfificate:!1,bSIPServerHasSet:!1,bEnableVoiceBroadcast:!1},bShowBasePage:!0,bShowAllowedPage:!1,bShowAlarmPage:!1,bShowChannelPage:!1,bShowAudioPage:!1,oXml28181Info:null,aWhiteList:[],oParamsValid:{allowIp:{noRepeat:function(t){var a=0;return e.aWhiteList.forEach((function(e){e.value===t&&e.value&&(a+=1)})),!(a>1)},ipValidate:function(e){var t=/^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,a=/^([0-9a-fA-F]{1,4}:){7}([0-9a-fA-F]{1,4}|:)$/;return!!t.test(e)||!!(a.test(e)||/^::$/.test(e)||/^[0-9a-fA-F:]+::[0-9a-fA-F:]+$/.test(e))}},alarmValidate:{min:20,max:20,noRepeat:function(t){var a=0;return e.aAlarmIDItems.forEach((function(e){e.value===t&&e.value&&(a+=1)})),!(a>1)},bInt:function(e){return!!s["a"].isInt(e)}},channelValidate:{min:20,max:20,noRepeat:function(t){var a=0;return e.aVideoInputItems.forEach((function(e){e.value===t&&e.value&&(a+=1)})),!(a>1)},bInt:function(e){return!!s["a"].isInt(e)}},audioValidate:{min:13,max:64,bInt:function(e){return!!s["a"].isInt(e)}},szHeartbeatCount:{required:!0,type:"number",min:3,max:255},szHeartbeatPeriod:{required:!0,type:"number",min:5,max:3600},szSipServerID:{required:!0,serverAddress:!0,min:0,max:64},szSipSeverDomain:{required:!0,serverAddress:!0,min:0,max:128},szSipServerAddr:{required:!0},szSipServerPort:{required:!0,type:"number",min:1,max:65535},szLocalSIPPort:{required:!0,type:"number",min:1,max:65535},szSipAuthenticationID:{required:!0,serverAddress:!0,min:0,max:64},szPassword:{required:!0,min:0,max:32},iRegInterval:{required:!0,type:"number",min:1,max:65535},szSipExpiration:{required:!0,type:"number",min:1,max:65535},szSpeed:{required:!0,type:"number",min:128,max:65536}},messages:{noRepeat:function(t){if(!t)return e.$t("noSame")},ipValidate:function(t){if(!t)return e.$t("wrong")+e.$t("serverAddr")}},alarmMessage:{noRepeat:function(t){if(!t)return e.$t("noSame")},bInt:function(t){if(!t)return e.$t("wrongAlarmInputID")}},channelMessage:{noRepeat:function(t){if(!t)return e.$t("noSame")},bInt:function(t){if(!t)return e.$t("wrongVideoChannelID")}},audioMessage:{bInt:function(t){if(!t)return e.$t("wrongAudioOutputChannelID")}},allowedValidate:{},alarmValidate:{},channelValidate:{},audioValidate:{},mainValidate:{},oXmlSipInfo:null,aAlarmIDItems:[],aVideoInputItems:[],aAudioOutputIDItems:[],m_szDefaultPwd:""}},created:function(){this.init()},methods:{init:function(){var e=this;this.getCaps().then((function(){e.initParams()}))},getCaps:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([this.getSipInfoCap(),this.getPlatformFilterCap(),this.getSip28181Cap()]);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e["catch"](0),o["a"].saveState(e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(){return e.apply(this,arguments)}return t}(),getSipInfoCap:function(){var t=this;return new Promise((function(a){var i={urlCGI:"sipInfoCap",loading:!0};r["a"].get(i).then((function(i){var n=i.oResult;e(n).find("alarmInID").length&&(t.oParamsValid.alarmValidate.min=s["a"].nodeAttr(n,"alarmInID","min","i"),t.oParamsValid.alarmValidate.max=s["a"].nodeAttr(n,"alarmInID","max","i")),e(n).find("videoInputID").length&&(t.oParamsValid.channelValidate.min=s["a"].nodeAttr(n,"videoInputID","min","i"),t.oParamsValid.channelValidate.max=s["a"].nodeAttr(n,"videoInputID","max","i")),e(n).find("videoInputID").length&&(t.oParamsValid.audioValidate.min=s["a"].nodeAttr(n,"audioOutputID","min","i"),t.oParamsValid.audioValidate.max=s["a"].nodeAttr(n,"audioOutputID","max","i")),a()}),(function(){a()}))}))},getPlatformFilterCap:function(){var t=this;return new Promise((function(a){var i={urlCGI:"platformFilterCap",loading:!0};r["a"].get(i).then((function(i){var n=i.oResult;e(n).find("GB28181").length>0&&(t.oCap.bSupport28182White=!0),a()}),(function(){a()}))}))},getSip28181Cap:function(){var t=this;return new Promise((function(a){var i={urlCGI:"sip28181Cap",loading:!0};r["a"].get(i).then((function(i){var n=i.oResult,o=t;t.oCap.aStreamTransMode=[];var r=s["a"].nodeAttr(n,"transportType","opt");if(""!==r){var l=r.split(",");e.each(l,(function(e,t){o.oCap.aStreamTransMode.push({text:t,value:t})}))}var c=t.oCap.aProtocolVersion;c.length=0;var u=s["a"].nodeAttr(n,"protocolVersion","opt");if(""!==u){var d=u.split(",");e.each(d,(function(e,t){c.push({text:t,value:t})}))}if(e(n).find("localPort").eq(0).length){var p=s["a"].nodeAttr(n,"localPort","min","i"),m=s["a"].nodeAttr(n,"localPort","max","i");t.oParamsValid.szLocalSIPPort.min=p,t.oParamsValid.szLocalSIPPort.max=m}if(t.oCap.bExchangeCerfificate=e(n).find("exchangeCertificateEnabled").length>0,e(n).find("GBEncryptEnabled").length&&(t.oCap.bSupportGBEncrypt=!0),e(n).find("voiceBroadcastEnabled").length&&(t.oCap.bSupportVoiceBroadcast=!0),t.oCap.bSupportUnidirectionEnabled=!!e(n).find("unidirectionEnabled").length,e(n).find("registerInterval").length){t.oCap.bSupportRegInterval=!0;var h=s["a"].nodeAttr(n,"registerInterval","min","i"),f=s["a"].nodeAttr(n,"registerInterval","max","i");t.oParamsValid.iRegInterval.min=h,t.oParamsValid.iRegInterval.max=f}else t.oCap.bSupportRegInterval=!1;if(e(n).find("expires").eq(0).length){var v=s["a"].nodeAttr(n,"expires","min","i"),b=s["a"].nodeAttr(n,"expires","max","i");t.oParamsValid.szSipExpiration.min=v,t.oParamsValid.szSipExpiration.max=b}if(e(n).find("serverId").eq(0).length){var g=s["a"].nodeAttr(n,"serverId","max","i");t.oParamsValid.szSipServerID.max=g}if(e(n).find("serverDomain").eq(0).length){var P=s["a"].nodeAttr(n,"serverDomain","max","i");t.oParamsValid.szSipSeverDomain.max=P}if(e(n).find("heartbeatTime").eq(0).length&&(t.oParamsValid.szHeartbeatPeriod.min=s["a"].nodeAttr(n,"heartbeatTime","min","i"),t.oParamsValid.szHeartbeatPeriod.max=s["a"].nodeAttr(n,"heartbeatTime","max","i")),e(n).find("heartbeatCount").eq(0).length&&(t.oParamsValid.szHeartbeatCount.min=s["a"].nodeAttr(n,"heartbeatCount","min","i"),t.oParamsValid.szHeartbeatCount.max=s["a"].nodeAttr(n,"heartbeatCount","max","i")),e(n).find("streamID").eq(0).length){var S=e(n).find("streamID").eq(0).attr("opt").split(",");e.inArray("2",S)>=0?(t.oCap.aSupportStreamIndex[1]=!0,t.oCap.aStreamType.push({text:t.$t("subStream"),value:"2"})):t.oCap.aSupportStreamIndex[1]=!1,e.inArray("3",S)>=0?(t.oCap.aSupportStreamIndex[2]=!0,t.oCap.aStreamType.push({text:t.$t("thirdStream"),value:"3"})):t.oCap.aSupportStreamIndex[2]=!1}if(e(n).find("authID").eq(0).length){var C=s["a"].nodeAttr(n,"authID","max","i");t.oParamsValid.szSipAuthenticationID.max=C}a()}),(function(){a()}))}))},initParams:function(){return Promise.all([this.getCfg28181(),this.getAllowList(),this.getAlarmData()])},getCfg28181:function(){var e=this;return new Promise((function(t){var a={urlCGI:"cfg28181",loading:!0,bSecurity:!0,szIv:""};r["a"].get(a).then((function(a){var i=a.oResult;e.oXml28181Info=i,e.fill28181CfgToShow(),t()}),(function(){t()}))}))},getAllowList:function(){var t=this;return new Promise((function(a){var i={urlCGI:"platformFilter",params:{param:"GB28181"},loading:!0};r["a"].get(i).then((function(i){var n=i.oResult;t.aWhiteList=[];for(var o=0;o<t.oCap.iWhite28181Num;o++){var r={name:t.$t("allowedList")+(o+1),value:""};t.aWhiteList.push(r)}var l=t;e(n).find("IPFilterAddress").each((function(t,a){var i=s["a"].nodeValue(a,"id","i")-1;l.aWhiteList[i]&&(l.aWhiteList[i].value=s["a"].nodeValue(e(a).find("AddressMask"),"ipAddress, ipv6Address"))})),a()}),(function(){a()}))}))},setAllowList:function(){for(var e=this,t="<PlatformAccessFilter><IPFilterAddressList>",a=this.aWhiteList.length,i=0;i<a;i++)this.aWhiteList[i].value&&(t+="<IPFilterAddress>",t+="<id>"+(i+1)+"</id>",t+="<permissionType>allow</permissionType>",t+="<addressFilterType>mask</addressFilterType>",t+="<AddressMask>",s["a"].isIPv6Address(this.aWhiteList[i].value)?t+="<ipv6Address>"+this.aWhiteList[i].value+"</ipv6Address>":t+="<ipAddress>"+this.aWhiteList[i].value+"</ipAddress>",t+="<bitMask>24</bitMask>",t+="</AddressMask>",t+="</IPFilterAddress>");return t+="</IPFilterAddressList></PlatformAccessFilter>",new Promise((function(a,i){var n={urlCGI:"platformFilter",params:{param:"GB28181"},data:t,loading:!0};r["a"].put(n).then((function(e){var t=e.xhr;o["a"].saveState(t),a()}),(function(t){e.bLazyLoading=!1,o["a"].saveState(t),i()}))}))},saveAllowList:function(){var e=this;this.allowedValidate.validateAll().then((function(){console.log(e.allowedValidate.valid),e.allowedValidate.valid&&(e.bLazyLoading=!0,e.setAllowList().then((function(){e.backMainPage(),e.bLazyLoading=!1})))}))},getAlarmData:function(){var e=this;return new Promise((function(t){var a={urlCGI:"sip28181",loading:!0};r["a"].get(a).then((function(a){var i=a.oResult;e.oXmlSipInfo=i,e.fillSIPInfoToShow(),t()}),(function(){t()}))}))},updateSIPInfoToSet:function(){var t=this.oXmlSipInfo,a=this.oParams,i=this.aAlarmIDItems,n=this.aVideoInputItems,o=this.aAudioOutputIDItems,r=e(t).find("SIPInfo"),l=r.eq(a.iPlatformIndex);if(0!==e(l).find("platformNo").length&&s["a"].nodeValue(e(l),"platformNo","i")-1!==a.iPlatformIndex)for(var c=0,u=r.length;c<u;c++)if(l=r.eq(c),s["a"].nodeValue(e(l),"platformNo","i")-1===a.iPlatformIndex)break;e(l).find("alarmInID").each((function(t,a){e(a).text(i[t]["value"])})),e(l).find("videoInputID").each((function(t,a){e(a).text(n[t]["value"])})),e(l).find("audioOutputID").each((function(t,a){e(a).text(o[t]["value"])}))},setAlarmData:function(){var e=this;return new Promise((function(t,a){var i={urlCGI:"sip28181",data:e.oXmlSipInfo,loading:!0};r["a"].put(i).then((function(e){var a=e.xhr;o["a"].saveState(a),t()}),(function(t){e.bLazyLoading=!1,o["a"].saveState(t),a()}))}))},saveAlarmData:function(){var e=this;this.alarmValidate.validateAll().then((function(){e.alarmValidate.valid&&(e.bLazyLoading=!0,e.updateSIPInfoToSet(),e.setAlarmData().then((function(){e.backMainPage(),e.bLazyLoading=!1})))}))},saveChannelData:function(){var e=this;this.channelValidate.validateAll().then((function(){e.channelValidate.valid&&(e.bLazyLoading=!0,e.updateSIPInfoToSet(),e.setAlarmData().then((function(){e.backMainPage(),e.bLazyLoading=!1})))}))},saveAudiolData:function(){var e=this;this.audioValidate.validateAll().then((function(){e.audioValidate.valid&&(e.updateSIPInfoToSet(),e.setAlarmData().then((function(){e.backMainPage()})))}))},fillSIPInfoToShow:function(){var t=this,a=this.oXmlSipInfo;a&&(this.aAlarmIDItems.length=0,e(a).find("AlarmInList").eq(0).find("AlarmIn").each((function(a,i){var n={name:"",value:""};n.name=s["a"].nodeValue(e(i),"id"),n.value=s["a"].nodeValue(e(i),"alarmInID"),t.aAlarmIDItems.push(n)})),this.aVideoInputItems.length=0,e(a).find("VideoInputList").length>0&&e(a).find("VideoInputList").eq(0).find("VideoInput").each((function(a,i){var n={name:"",value:""};s["a"].nodeValue(e(i),"id","i")>l["a"].m_iAnalogChNum?n.name="D"+(s["a"].nodeValue(e(i),"id","i")-l["a"].m_iAnalogChNum):n.name=s["a"].nodeValue(e(i),"id"),n.value=s["a"].nodeValue(e(i),"videoInputID"),t.aVideoInputItems.push(n)})),this.aAudioOutputIDItems.length=0,e(a).find("AudioOutputList").eq(0).find("AudioOutput").each((function(a,i){var n={name:"",value:""};s["a"].nodeValue(e(i),"id","i")>l["a"].m_iAnalogChNum?n.name="D"+(s["a"].nodeValue(e(i),"id","i")-l["a"].m_iAnalogChNum):n.name=s["a"].nodeValue(e(i),"id"),n.value=s["a"].nodeValue(e(i),"audioOutputID"),t.aAudioOutputIDItems.push(n)})))},fill28181CfgToShow:function(){var t=this.oParams,a=this.oXml28181Info,i=this.oCap,n=0===e(a).find("GB28181List").length;t.szStreamTransMode=s["a"].nodeValue(a,"transportType"),t.szLocalSIPPort=s["a"].nodeValue(a,"SIPServer>localPort");var o=e(a).find("GB28181"),r=o.eq(t.iPlatformIndex);if(!n&&s["a"].nodeValue(e(r),"platformNo","i")-1!==t.iPlatformIndex)for(var l=0,c=o.length;l<c;l++)if(r=o.eq(l),s["a"].nodeValue(e(r),"platformNo","i")-1===t.iPlatformIndex)break;if(n&&(t.szStreamType=s["a"].nodeValue(e(a),"streamID")),r){t.bEnabled=s["a"].nodeValue(e(r),"enabled","b"),this.bEnabledOrigin=t.bEnabled,e(r).find("localPort").length>0&&(t.szLocalSIPPort=s["a"].nodeValue(r,"localPort")),t.szProtocolVersion=s["a"].nodeValue(r,"protocolVersion"),t.szSipServerID=s["a"].nodeValue(e(r),"serverId"),t.szSipSeverDomain=s["a"].nodeValue(e(r),"serverDomain");var u=s["a"].nodeValue(e(r),"addressingFormatType");t.szSipServerAddr="hostName"===u?s["a"].nodeValue(e(r),"hostName"):s["a"].nodeValue(e(r),"registrar"),t.bSIPServerHasSet=""!==t.szSipServerAddr,t.szSipServerPort=s["a"].nodeValue(e(r),"registrarPort"),t.szSipUserName=s["a"].nodeValue(e(r),"userName"),t.szSipAuthenticationID=s["a"].nodeValue(e(r),"authID"),t.szSipExpiration=s["a"].nodeValue(e(r),"expires"),t.szRegStatus=s["a"].nodeValue(e(r),"registerStatus","b"),t.szHeartbeatPeriod=s["a"].nodeValue(e(r),"heartbeatTime"),t.szHeartbeatCount=s["a"].nodeValue(e(r),"heartbeatCount"),s["a"].nodeValue(e(r),"password")?t.szPassword=s["a"].nodeValue(e(r),"password"):t.szPassword=this.m_szDefaultPwd,!n&&(t.szStreamType=s["a"].nodeValue(e(r),"streamID")),e(r).find("DownloadSpeed").eq(0).find("type").length>0&&(i.bSupportSpeed=!0,t.szSpeedType=s["a"].nodeValue(e(r).find("DownloadSpeed"),"type"),"bandwidth"===t.szSpeedType?t.szSpeed=s["a"].nodeValue(e(r).find("DownloadSpeed"),"value"):"rate"===t.szSpeedType&&(t.szRate=s["a"].nodeValue(e(r).find("DownloadSpeed"),"value"))),t.iRegInterval=s["a"].nodeValue(r,"registerInterval","i"),t.bEnableGBEncrypt=s["a"].nodeValue(r,"GBEncryptEnabled","b"),t.bEnableExchangeCerfificate=s["a"].nodeValue(r,"exchangeCertificateEnabled","b"),t.bEnableUnidirection=s["a"].nodeValue(r,"unidirectionEnabled","b"),e(r).find("offlineCode").length&&(t.szOffline=s["a"].nodeValue(r,"offlineCode")),t.bEnableVoiceBroadcast=s["a"].nodeValue(r,"voiceBroadcastEnabled","b")}e(a).find("streamAdditionalInfo").length?(i.bSupportStreamAdditionalInfo=!0,this.oParams.bEnableStreamAdditionalInfo=s["a"].nodeValue(e(a),"streamAdditionalInfo","b")):i.bSupportStreamAdditionalInfo=!1},update28181CfgToSet:function(){var t=this.oXml28181Info,a=this.oParams,i=0===e(t).find("GB28181List").length;if(t){e(t).find("transportType").text(a.szStreamTransMode),e(t).find("SIPServer>localPort").text(a.szLocalSIPPort);var n=e(t).find("GB28181"),o=n.eq(a.iPlatformIndex);if(!i&&s["a"].nodeValue(e(o),"platformNo","i")-1!==a.iPlatformIndex)for(var r=0,l=n.length;r<l;r++)if(o=n.eq(r),s["a"].nodeValue(e(o),"platformNo","i")-1===a.iPlatformIndex)break;if(i&&e(t).find("streamID").eq(0).text(a.szStreamType),o){e(o).find("localPort").eq(0).text(a.szLocalSIPPort),e(o).find("enabled").eq(0).text(a.bEnabled.toString()),e(o).find("protocolVersion").eq(0).text(a.szProtocolVersion),e(o).find("serverId").eq(0).text(a.szSipServerID),e(o).find("serverDomain").eq(0).text(a.szSipSeverDomain);var c=s["a"].checkAddressingType(a.szSipServerAddr);"hostName"===c?(e(o).find("hostName").eq(0).text(a.szSipServerAddr),e(o).find("addressingFormatType").eq(0).text("hostName")):(e(o).find("addressingFormatType").eq(0).text("ipAddress"),e(o).find("registrar").eq(0).text(a.szSipServerAddr)),e(o).find("registrarPort").eq(0).text(a.szSipServerPort),e(o).find("authID").eq(0).text(a.szSipAuthenticationID),e(o).find("userName").eq(0).text(a.szSipUserName),e(o).find("GBEncryptEnabled").eq(0).text(a.bEnableGBEncrypt.toString()),e(o).find("exchangeCertificateEnabled").eq(0).text(a.bEnableExchangeCerfificate.toString()),e(o).find("unidirectionEnabled").eq(0).text(a.bEnableUnidirection.toString()),e(o).find("voiceBroadcastEnabled").eq(0).text(a.bEnableVoiceBroadcast.toString()),a.szPassword!==this.m_szDefaultPwd?e(o).find("password").length>0?e(o).find("password").eq(0).text(a.szPassword):e(e(s["a"].parseXmlFromStr("<?xml version='1.0' encoding='UTF-8'?><Temp><password>"+a.szPassword.replace(/</g,"&lt;")+"</password></Temp>")).find("Temp").eq(0).clone().children()).insertAfter(e(o).find("authID").eq(0)):e(o).find("password").length>0&&e(o).find("password").remove(),e(o).find("expires").eq(0).text(a.szSipExpiration),e(o).find("heartbeatTime").eq(0).text(a.szHeartbeatPeriod),e(o).find("heartbeatCount").eq(0).text(a.szHeartbeatCount),e(o).find("DownloadSpeed").eq(0).find("type").eq(0).text(a.szSpeedType),"bandwidth"===a.szSpeedType?e(o).find("DownloadSpeed").eq(0).find("value").eq(0).text(a.szSpeed):e(o).find("DownloadSpeed").eq(0).find("value").eq(0).text(a.szRate),this.oCap.bSupportStreamAdditionalInfo&&e(o).find("streamAdditionalInfo").eq(0).text(a.bEnableStreamAdditionalInfo.toString()),e(o).find("registerInterval").eq(0).text(a.iRegInterval)}}},setCfg28181:function(){var e=this;return this.update28181CfgToSet(),new Promise((function(t,a){var i={urlCGI:"cfg28181",data:e.oXml28181Info,bSecurity:!0,loading:!0};e.bLazyLoading=!0,r["a"].put(i).then((function(a){var i=a.xhr;e.bLazyLoading=!1,o["a"].saveState(i),t()}),(function(t){e.bLazyLoading=!1,o["a"].saveState(t),a()}))}))},save:function(){var e=this;this.mainValidate.validateAll().then((function(){e.mainValidate.valid&&e.setCfg28181()}))},showAllowList:function(){this.bShowBasePage=!1,this.bShowAllowedPage=!0},showAlarmList:function(){this.bShowBasePage=!1,this.bShowAlarmPage=!0},showChannelList:function(){this.bShowBasePage=!1,this.bShowChannelPage=!0},bShowAudioList:function(){this.bShowBasePage=!1,this.bShowAudioPage=!0},backMainPageFormTable:function(e){var t=this;this[e].validateAll().then((function(){t[e].valid&&t.backMainPage()}))},backMainPage:function(){this.bShowAllowedPage=!1,this.bShowAlarmPage=!1,this.bShowChannelPage=!1,this.bShowAudioPage=!1,this.bShowBasePage=!0}}}}).call(this,a("1157"))},e152:function(e,t,a){"use strict";a("4ec1")},e15f:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("displayParamSwitch"),"right-type":"text"}},[t("div",{staticClass:"plan-record-content",attrs:{slot:"content"},slot:"content"},[t("hm-scroll",[t("div",{staticClass:"hm-index-list-item"},[t("channel-list",{attrs:{"o-channel":e.oChannel}}),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[e.oCapbilities.oMonth&&e.oCapbilities.oMonth.bSupport?t("hm-cell",{attrs:{title:e.$t("enable")}},[t("hm-switch",{model:{value:e.oParamsSwitch.oMonth.bEnabled,callback:function(t){e.$set(e.oParamsSwitch.oMonth,"bEnabled",t)},expression:"oParamsSwitch.oMonth.bEnabled"}})],1):e._e()],1),e.oCapbilities.oPreset&&e.oCapbilities.oPreset.bSupport?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("linkPreset")}},[t("hm-switch",{model:{value:e.oParamsSwitch.oPreset.bEnabled,callback:function(t){e.$set(e.oParamsSwitch.oPreset,"bEnabled",t)},expression:"oParamsSwitch.oPreset.bEnabled"}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.oParamsSwitch.oPreset.bEnabled,expression:"oParamsSwitch.oPreset.bEnabled"}]},[t("hm-cell",{attrs:{title:e.$t("preset")}},[t("base-select",{attrs:{title:e.$t("preset"),options:e.aPreset,disabled:!e.oParamsSwitch.oPreset.bEnabled},on:{change:e.changePreset},model:{value:e.oParamsSwitch.oPreset.iLinkPreset,callback:function(t){e.$set(e.oParamsSwitch.oPreset,"iLinkPreset",t)},expression:"oParamsSwitch.oPreset.iLinkPreset"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapbilities.oPreset.bSupportLinkEnabled,expression:"oCapbilities.oPreset.bSupportLinkEnabled"}],attrs:{title:e.$t("link")}},[t("hm-switch",{attrs:{disabled:!e.oParamsSwitch.oPreset.bEnabled},model:{value:e.oParamsSwitch.oPreset.oPresetInfo.bEnabled,callback:function(t){e.$set(e.oParamsSwitch.oPreset.oPresetInfo,"bEnabled",t)},expression:"oParamsSwitch.oPreset.oPresetInfo.bEnabled"}})],1),e._l(e.oParamsSwitch.oPreset.oPresetInfo.aTimes,(function(a,i){return t("div",{key:"oPreset-"+i},[t("hm-cell",{attrs:{title:e.$t("timeRange")+(i+1)}},[t("hm-switch",{attrs:{disabled:!e.oParamsSwitch.oPreset.bEnabled},model:{value:a.bEnabled,callback:function(t){e.$set(a,"bEnabled",t)},expression:"oTime.bEnabled"}})],1),t("div",{staticClass:"item-inner",on:{click:function(t){return e.showTimePicker(i)}}},[t("span",{staticClass:"label-name"},[t("span",{staticClass:"label-name-up"},[e._v("\n                    "+e._s(a.szBeginTime)+"\n                  ")]),t("span",{staticClass:"label-name-down"},[e._v("\n                    "+e._s(e.$t("startTime"))+"\n                  ")])]),t("span",{staticClass:"label-type"},[e._v(e._s(e.$t(a.szScene)))]),t("span",{staticClass:"label-name"},[t("span",{staticClass:"label-name-up"},[e._v("\n                    "+e._s(a.szEndTime)+"\n                  ")]),t("span",{staticClass:"label-name-down"},[e._v("\n                    "+e._s(e.$t("endTime"))+"\n                  ")])])])],1)}))],2)],1):e._e(),e.oCapbilities.oSchedule&&e.oCapbilities.oSchedule.bSupport?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("scheduledSwitch")}},[t("hm-switch",{model:{value:e.oParamsSwitch.oSchedule.bEnabled,callback:function(t){e.$set(e.oParamsSwitch.oSchedule,"bEnabled",t)},expression:"oParamsSwitch.oSchedule.bEnabled"}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.oParamsSwitch.oSchedule.bEnabled,expression:"oParamsSwitch.oSchedule.bEnabled"}]},e._l(e.oParamsSwitch.oSchedule.aTimes,(function(a,i){return t("div",{key:"oSchedule-"+i},[t("hm-cell",{attrs:{title:e.$t("timeRange")+(i+1)}},[t("hm-switch",{attrs:{disabled:!e.oParamsSwitch.oSchedule.bEnabled},model:{value:a.bEnabled,callback:function(t){e.$set(a,"bEnabled",t)},expression:"oTime.bEnabled"}})],1),t("div",{staticClass:"item-inner",on:{click:function(t){return e.showScheduleTimePicker(i)}}},[t("span",{staticClass:"label-name"},[t("span",{staticClass:"label-name-up"},[e._v("\n                    "+e._s(a.szBeginTime)+"\n                  ")]),t("span",{staticClass:"label-name-down"},[e._v("\n                    "+e._s(e.$t("startTime"))+"\n                  ")])]),t("span",{staticClass:"label-type"},[e._v(e._s(e.$t(a.szScene)))]),t("span",{staticClass:"label-name"},[t("span",{staticClass:"label-name-up"},[e._v("\n                    "+e._s(a.szEndTime)+"\n                  ")]),t("span",{staticClass:"label-name-down"},[e._v("\n                    "+e._s(e.$t("endTime"))+"\n                  ")])])])],1)})),0)],1):e._e(),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[e.oCapbilities.oMonth&&e.oCapbilities.oMonth.bSupport?t("hm-cell",{attrs:{"is-link":"",title:e.$t("recordSchedule")},nativeOn:{click:function(t){return e.showSchedule()}}}):e._e()],1),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{on:{click:function(t){return e.save(e.oChannel.id)}}},[e._v("\n            "+e._s(e.$t("save"))+"\n          ")])],1)],1)]),e.bRecordSchedule?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:e.$t("recordSchedule"),"show-footer":!0,"enable-cancel-callback":e.bEnableCancelCallback},on:{delete:e.deleteAll,cancelcallback:e.cancelcallback,confirm:e.confirm}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"swipe-wrapper time-plan-padding swipe-wrapper-show-footer"},[t("hm-scroll",[t("time-plan",{ref:"timePlan",attrs:{mode:"moth","times-data":e.aTimes,holiday:!1,types:e.oCapbilities.aScenes}})],1)],1)])])],1):e._e()],1)])},n=[],o=a("4401"),r=o["a"],s=(a("11d1"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"0e58b573",null);t["default"]=l.exports},e1f4:function(e,t){var a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(a){var i=new Uint8Array(16);e.exports=function(){return a(i),i}}else{var n=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n}}},e245:function(e,t,a){},e2cb:function(e,t,a){},e393:function(e,t,a){},e468:function(e,t,a){},e4e5:function(e,t,a){"use strict";(function(e){a("b54a"),a("c5f6"),a("96cf");var i=a("1da1"),n=(a("28a5"),a("6458")),o=a("7acc"),r=a("c050"),s=a("1f20"),l=a("1c1a"),c=a("962a"),u=a("23d7"),d=a("b77f");t["a"]={name:"SmartFaceDetect",components:{BaseView:l["a"],BasePageExtend:c["a"],ChannelList:n["a"],TimePlan:u["a"],BaseLink:d["a"]},data:function(){return{validate:{},oEventInfo:o["a"].oEventInfo,oEventCap:o["a"].oEventCap,oInputDataValid:o["a"].oInputDataValid,oTempEventInfo:{},oChannel:{id:1},bEnableCancelCallback:!0,bShowSchedule:!1,bShowLink:!1,bSupportChannelCap:!1,bShowTypes:!1}},computed:{bLazyLoading:function(){return o["a"].oEventInfo.bLoading}},watch:{$route:function(e,t){var a=this,i=-1;if(e.name!==t.name){var n=this.$route.path.split("/"),r=n[n.length-1];i=this.$route.query.channelID,o["a"].init(i,r).finally((function(){a.oEventCap=o["a"].oEventCap,a.oEventInfo=o["a"].oEventInfo})),this.oChannel.id=i}else e.query.channelID!==t.query.channelID&&(i=this.$route.query.channelID,this.oChannel.id=i)},"oChannel.id":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,a){var i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t>-1&&t!==a&&o["a"].init(t).finally((function(){i.oEventCap=o["a"].oEventCap,i.oEventInfo=o["a"].oEventInfo,i.initLink()}));case 1:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),immediate:!0,deep:!0}},created:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].getDeviceCapa().then(Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.$route.query&&t.$route.query.channelID,t.oChannel={id:Number(a)||1},t.bSupportChannelCap=s["a"].m_oDeviceCapa.bSupportChannelEventCap;case 3:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),methods:{initLink:function(){var t=this;this.bShowLink=!1,e.extend(!0,this.oTempEventInfo,this.oEventInfo),this.bShowLink=!0,this.$nextTick((function(){t.$refs.link.linkData=t.oEventInfo.oLink,t.$refs.link.$forceUpdate()}))},selAllEvent:function(){o["a"].selAllEvent()},showArmSchedule:function(){e.extend(!0,this.oTempEventInfo,this.oEventInfo),this.bShowSchedule=!0},showLink:function(){var t=this;e.extend(!0,this.oTempEventInfo,this.oEventInfo),this.bShowLink=!0,this.$nextTick((function(){t.$refs.link.linkData=t.oEventInfo.oLink,t.$refs.link.$forceUpdate()}))},confirmArmSchedule:function(){this.oEventInfo.oScheduleTimes=this.$refs.timePlan.timesData,this.bShowSchedule=!1},confirmLink:function(){this.bShowLink=!1},cancelCallbackArmSchedule:function(){e.extend(!0,this.oEventInfo,this.oTempEventInfo),this.bShowSchedule=!1},cancelCallbackLink:function(){e.extend(!0,this.oEventInfo,this.oTempEventInfo),this.bShowLink=!1},deleteAll:function(){for(var e=0,t=this.oEventInfo.oScheduleTimes.length;e<t;e++)this.oEventInfo.oScheduleTimes[e]=[];this.$refs.timePlan.timesData=this.oEventInfo.oScheduleTimes,this.$refs.timePlan.$forceUpdate()},save:function(){this.validate.validateAll(),r["a"].validateTips(this.validate.getErrorReport())&&o["a"].save()}}}}).call(this,a("1157"))},e5d7:function(e,t,a){"use strict";(function(e){a("ac6a"),a("96cf");var i=a("1da1"),n=a("83b7"),o=a("962a"),r=a("23d7"),s=a("6458"),l=a("47b5");t["a"]={name:"PlanRecord",components:{BasePageExtend:o["a"],TimePlan:r["a"],ChannelList:s["a"],BaseSelect:l["a"]},data:function(){return{oChannel:{id:1},oParams:{},aTimes:[],aTimesTemp:[],oCapbilities:{},bRecordSchedule:!1,bEnableCancelCallback:!0,showCopy:!1,channelList:[],checkList:[],allChecked:!1,isConfirm:!1,m_oCapTimes:n["a"].m_oCapTimes}},watch:{"oChannel.id":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,a){var i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t>0&&t!==a)){e.next=5;break}return n["a"].oChannel.id=t,this.isConfirm=!1,e.next=5,n["a"].initPlanRecord(t).finally((function(){i.oParams=n["a"].m_oParams,i.aTimes=n["a"].m_aTimes,i.oCapbilities=n["a"].m_oCapbilities}));case 5:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),immediate:!0,deep:!0},"checkList.length":{handler:function(e){this.channelList.length===e?this.allChecked=!0:this.allChecked=!1}}},methods:{showSchedule:function(){this.aTimesTemp=e.extend(!0,[],this.aTimes),this.bRecordSchedule=!0},cancelcallback:function(){this.aTimes=e.extend(!0,[],this.aTimesTemp),this.bRecordSchedule=!1},confirm:function(){this.bRecordSchedule=!1,this.aTimes=this.$refs.timePlan.timesData},deleteAll:function(){this.aTimesTemp=e.extend(!0,[],this.aTimes);for(var t=0,a=this.aTimes.length;t<a;t++)this.aTimes[t]=[];this.$refs.timePlan.timesData=this.aTimes,this.$refs.timePlan.$forceUpdate()},save:function(e){this.checkList.length<2?n["a"].save(e):this.checkList.forEach((function(t){n["a"].saveById(e,t)}))},copyTo:function(){var e=this;this.isConfirm||(this.checkList=[],this.allChecked=!1,this.channelList=[],this.channelList.length||this.$refs.channel.getChannel().forEach((function(t){e.channelList.push({label:t.label,value:t.iId,disabled:!1})})),this.channelList.forEach((function(t){e.oChannel.id===t.value&&(t.disabled=!0,e.checkList.push(t.value))}))),this.showCopy=!0},close:function(){this.checkList=[],this.isConfirm=!1,this.showCopy=!1},selectAll:function(e){var t=this;e?this.channelList.forEach((function(e){e.value!==t.oChannel.id&&t.checkList.push(e.value)})):this.checkList=[this.oChannel.id]},copySchedule:function(){this.isConfirm=!0,this.showCopy=!1}}}}).call(this,a("1157"))},e638:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("other"),"right-type":"text"}},[t("div",{staticClass:"displayContent",attrs:{slot:"content"},slot:"content"},[t("hm-scroll",[t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",{directives:[{name:"show",rawName:"v-show",value:e.oParams.bSupportNetworkOther,expression:"oParams.bSupportNetworkOther"}],staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{class:{"cell-require":e.oParamsValid.oAlarmCenter&&e.oParamsValid.oAlarmCenter.required},attrs:{title:e.$t("alarmCenterAddress")}},[t("hm-input",{model:{value:e.oParams.szAlarmAddress,callback:function(t){e.$set(e.oParams,"szAlarmAddress",t)},expression:"oParams.szAlarmAddress"}})],1),t("hm-validator",{attrs:{model:e.oParams.szAlarmAddress,rules:e.oParamsValid.oAlarmCenter,param:e.$t("alarmCenterAddress")}}),t("hm-cell",{class:{"cell-require":e.oParamsValid.oAlarmCenterPort&&e.oParamsValid.oAlarmCenterPort.required},attrs:{title:e.$t("alarmCenterPort")}},[t("hm-input",{model:{value:e.oParams.szAlarmPort,callback:function(t){e.$set(e.oParams,"szAlarmPort",t)},expression:"oParams.szAlarmPort"}})],1),t("hm-validator",{attrs:{model:e.oParams.szAlarmPort,rules:e.oParamsValid.oAlarmCenterPort,param:e.$t("alarmCenterPort")}}),t("hm-cell",{class:{"cell-require":e.oParamsValid.oMulticast&&e.oParamsValid.oMulticast.required},attrs:{title:e.$t("multicast")}},[t("hm-input",{model:{value:e.oParams.szMulticastAddress,callback:function(t){e.$set(e.oParams,"szMulticastAddress",t)},expression:"oParams.szMulticastAddress"}})],1),t("hm-validator",{attrs:{model:e.oParams.szMulticastAddress,rules:e.oParamsValid.oMulticast,param:e.$t("multicast")}}),e.oParams.bSupportBandwidthLimit?t("hm-cell",{class:{"cell-require":e.oParamsValid.oBandwidth&&e.oParamsValid.oBandwidth.required},attrs:{title:e.$t("VideoBandwidth")+" (Kbps)"}},[t("hm-input",{model:{value:e.oParams.iVideoBandwidth,callback:function(t){e.$set(e.oParams,"iVideoBandwidth",t)},expression:"oParams.iVideoBandwidth"}})],1):e._e(),t("hm-validator",{attrs:{model:e.oParams.iVideoBandwidth,rules:e.oParamsValid.oBandwidth,param:e.$t("VideoBandwidth")}}),e.oParams.bSupportVirtualHost?t("hm-cell",{attrs:{title:e.$t("enableVirtualHost")}},[t("hm-switch",{model:{value:e.oParams.bEnableVirtualHost,callback:function(t){e.$set(e.oParams,"bEnableVirtualHost",t)},expression:"oParams.bEnableVirtualHost"}})],1):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:e.oParams.bSupportNetPreviewStrategy,expression:"oParams.bSupportNetPreviewStrategy"}]},[t("hm-cell",{attrs:{title:e.$t("enableFlowControl")}},[t("hm-switch",{model:{value:e.oParams.bEnablePreviewStrategy,callback:function(t){e.$set(e.oParams,"bEnablePreviewStrategy",t)},expression:"oParams.bEnablePreviewStrategy"}})],1),e.oParams.bSupportNetStrategyMode?t("hm-cell",{attrs:{title:e.$t("previewStrategyMode")}},[t("base-select",{attrs:{title:e.$t("bSupportNetStrategyMode"),options:e.aPreviewStrategyType},model:{value:e.oParams.szPreviewStrategyType,callback:function(t){e.$set(e.oParams,"szPreviewStrategyType",t)},expression:"oParams.szPreviewStrategyType"}})],1):e._e()],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oParams.bSupportSADP,expression:"oParams.bSupportSADP"}],attrs:{title:e.$t("enableSADP")}},[t("hm-switch",{model:{value:e.oParams.bSADP,callback:function(t){e.$set(e.oParams,"bSADP",t)},expression:"oParams.bSADP"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oParams.bSupportBonjour,expression:"oParams.bSupportBonjour"}],attrs:{title:e.$t("enableBonjour")}},[t("hm-switch",{model:{value:e.oParams.bBonjour,callback:function(t){e.$set(e.oParams,"bBonjour",t)},expression:"oParams.bBonjour"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oParams.bSupportIPCAddStatus,expression:"oParams.bSupportIPCAddStatus"}],attrs:{title:e.$t("enableIPCAddStatus")}},[t("hm-switch",{model:{value:e.oParams.bIPCAddStatus,callback:function(t){e.$set(e.oParams,"bIPCAddStatus",t)},expression:"oParams.bIPCAddStatus"}})],1)],1)],1),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{on:{click:e.save}},[e._v("\n          "+e._s(e.$t("save"))+"\n        ")])],1)],1),t("base-view")],1)])},n=[],o=(a("96cf"),a("1da1")),r=a("1c1a"),s=a("024f"),l=a("c050"),c=a("47b5"),u={name:"Other",components:{BaseView:r["a"],BaseSelect:c["a"]},data:function(){return{validate:{},oParams:{},oParamsValid:{},aPreviewStrategyType:[{value:"SmoothFirst",text:this.$t("smoothFirst")},{value:"QualityFirst",text:this.$t("qualityFirst")}]}},created:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s["a"].initOther().finally((function(){t.oParams=s["a"].m_oParams,t.oParamsValid=s["a"].m_oParamsValid}));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),methods:{save:function(){l["a"].validateTips(this.validate.getErrorReport())&&s["a"].save()}}},d=u,p=(a("42c7"),a("2877")),m=Object(p["a"])(d,i,n,!1,null,"fd9613a8",null);t["default"]=m.exports},e654:function(e,t,a){"use strict";a("a96a")},e658:function(e,t,a){"use strict";var i=a("2638"),n=a.n(i),o=(a("ac6a"),a("96cf"),a("1da1")),r=a("2b0e"),s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"no-data"},[t("p",[e._v(e._s(e.$t(e.title)))])])},l=[],c={name:"NoData",props:{title:{type:String,default:"noData"}},data:function(){return{bRouter:!0,bEnableCancelCallback:!1,bEnableShowTips:!1,bShowConfirm:!1,szDetailPageTitle:this.$t(this.title)}}},u=c,d=(a("60dc"),a("2877")),p=Object(d["a"])(u,s,l,!1,null,"7197a7a4",null),m=p.exports,h=a("8d94"),f=(a("e083"),{fields:{type:Array,default:function(){return[{key:"title"},{key:"value"},{key:"label"},{key:"size"},{key:"url"},{key:"is-link"},{key:"center"},{key:"required"},{key:"disabled"}]}},api:{type:Function},data:{type:Array,default:function(){return[]}},hasPagination:{type:Boolean,default:!1},autoload:{type:Boolean,default:!0},paginationProps:{type:Object,default:function(){return{}}},btnsTips:{type:Array,default:function(){return[]}},isDelMode:{type:Boolean,default:!1}});t["a"]=Object(r["defineComponent"])({name:"CommonTable",emits:["onPullingUp","onCellClick"],expose:["onPullingUp","onCellClick","refresh"],props:f,setup:function(e,t){var a={pullUpLoad:!0,scrollbar:!0},i=Object(r["ref"])(!1),n=Object(r["ref"])(null),s=Object(r["ref"])(m),l=Object(r["reactive"])({tableData:[],oTableMap:{}}),c=e.api,u=e.hasPagination,d=e.autoload,p=e.paginationProps,h=e.fields,f=e.btnsTips,v=e.isDelMode,b=Object(r["computed"])((function(){var e=0;for(var t in l.oTableMap)Object.hasOwnProperty.call(l.oTableMap,t)&&l.oTableMap[t]&&e++;return e}));Object(r["onMounted"])(Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=d,!e.t0){e.next=4;break}return e.next=4,g();case 4:case"end":return e.stop()}}),e)})))),Object(r["watch"])((function(){return l.tableData}),(function(e){l.oTableMap={},e.forEach((function(e){l.oTableMap[e.id]=!1}))}));var g=function(){if(c){var t={};u&&(t.pageNumber=p.pageNumber,t.pageSize=p.pageSize),c(t).then((function(e){l.tableData=l.tableData.concat(e.rows),p.total=e.total})).catch((function(){l.tableData=[],p.total=0}))}else l.tableData=e.data},P=function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.emit("onPullingUp"),e.next=3,g();case 3:n.value.forceUpdate(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(e){!v&&t.emit("onCellClick",e)},C=function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:n.value.forceUpdate(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(e,a){console.log(e),t.emit("onSwipeBtnClick",e,a)},I=function(e,t){l.oTableMap[e]=t,l.oTableMap=JSON.parse(JSON.stringify(l.oTableMap))},D=function(e){for(var t in console.log(e),i.value=e,l.oTableMap)Object.hasOwnProperty.call(l.oTableMap,t)&&(l.oTableMap[t]=e);l.oTableMap=JSON.parse(JSON.stringify(l.oTableMap))},w=function(){var e=l.tableData.filter((function(e){return l.oTableMap[e.id]}));console.log("batch delete",e),t.emit("onBatchDelClick",e)};return{list:l,options:a,scroll:n,NoData:s,fields:h,onPullingUp:P,onCellClick:S,refresh:C,btnsTips:f,onSwipeBtnClick:y,handleCellCheckbox:I,handleCheckedAll:D,bCheckedAll:i,hasSelectItemNum:b,onBatchDelClick:w}},render:function(){var e=arguments[0],t=this.list,a=this.options,i=this.NoData,o=this.fields,r=this.onPullingUp,s=this.onCellClick,l=this.btnsTips,c=this.onSwipeBtnClick,u=this.isDelMode,d=this.handleCellCheckbox,p=this.handleCheckedAll,m=this.bCheckedAll,f=this.hasSelectItemNum,v=this.onBatchDelClick;return e("div",{class:"ct-box"},[e("hm-scroll",{ref:"scroll",attrs:{data:t.tableData,options:a},on:{"pulling-up":r}},[t.tableData.length?u?e("div",{class:"ct-del-wrapper"},[e("hm-cell-group",[t.tableData.map((function(a){var i={props:{}},r=[];return o.map((function(e){i.props[e.key]=a[e.key],e.render&&r.push(e.render())})),e("div",{class:"ct-del-cell-wrapper"},[e("hm-checkbox",{attrs:{value:t.oTableMap[a.id],position:"left",option:{label:"",value:!0}},on:{input:function(e){return d(a.id,e)}}}),e("hm-cell",n()([{},i,{nativeOn:{click:function(){return s(a)}}}]),[r])])}))])]):e("hm-swipe",[e("hm-cell-group",{class:"ct-cell-group"},[e("transition-group",{attrs:{name:"swipe"}},[t.tableData.map((function(t,a){var i={props:{}},r=[];return o.map((function(e){i.props[e.key]=t[e.key],e.render&&r.push(e.render())})),e("div",{key:t.id},[e("hm-swipe-item",n()([{class:"item-swipe",attrs:{btns:t.disabled?[]:l,index:a,"auto-shrink":!0}},{on:{"btn-click":c}}]),[e("hm-cell",n()([{},i,{nativeOn:{click:function(){return s(t)}}}]),[r])])])}))])])]):e(i)]),u&&e("div",{class:"ct-del-footer-box"},[e("div",{class:"ct-del-footer-wrapper"},[e("div",{class:"ct-del-footer-top"},[e("hm-checkbox",{attrs:{value:m,position:"left","hollow-style":!0,option:{label:"",value:!0}},on:{input:p}},[h["a"].t("selectAll")]),e("div",{class:"selected-num"},["".concat(h["a"].t("hadChoose"),"(").concat(f,")")])]),e("hm-button",{nativeOn:{click:v}},[h["a"].t("delete")])])])])}})},e66e:function(e,t,a){"use strict";a("837b")},e693:function(e,t,a){"use strict";a("23c8")},e6be:function(e,t,a){"use strict";(function(e){a("7514"),a("28a5"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("8d94"),s=a("7de8"),l=a("1f20"),c=a("9741"),u=a("d09c"),d=a("f193"),p=a("c98f"),m=function(){function t(){Object(n["a"])(this,t),this.oAuth={szRtsp:"false",szWeb:"basic",szRawRtsp:"false",szRawWeb:"basic",szRTDigestAlgorithm:"",szRawRTDigestAlgorithm:"",szWEBDigestAlgorithm:"",szRAWWEBDigestAlgorithm:""},this._oXmlDoc={oRtsp:null,oWeb:null},this.authCap={oSupportAuth:{},aRTSPCap:[],aWebCap:[],aCertificateType:!1,aWEBDigestAlgorithm:!1,bWEBDigestAlgorithm:!1},this.aRTSPCap={aCertificateType:[],aRTDigestAlgorithm:[],bRTDigestAlgorithm:!1},this.bNVRDevice=0===c["a"].iDeviceType}return Object(o["a"])(t,[{key:"init",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,l["a"].getAuthSupport().then((function(){t.authCap.oSupportAuth=l["a"].m_oDeviceCapa.oSupportAuth}));case 3:return p["a"].oSecurityCap&&p["a"].oSecurityCap.oWebCap&&(this.authCap.aCertificateType=p["a"].oSecurityCap.oWebCap.aOptions,this.authCap.aWEBDigestAlgorithm=p["a"].oSecurityCap.oWebCap.aWEBDigestAlgorithm,this.authCap.bWEBDigestAlgorithm=p["a"].oSecurityCap.oWebCap.bWEBDigestAlgorithm,this.authCap.aWebCap=p["a"].oSecurityCap.oWebCap.aOptions),a=[],t.bNVRDevice?(a.push(t.getAuthCapNVR()),t.authCap.oSupportAuth.bRtsp&&a.push(t.getRtspAuthInfoNVR())):(a.push(t.getAuthCapIPC()),t.authCap.oSupportAuth.bRtsp&&a.push(t.getRtspAuthInfoIPC())),t.authCap.oSupportAuth.bWeb&&a.push(t.getWebAuthInfo()),e.next=9,s["a"].waitAll(a);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getAuthCapNVR",value:function(){var t=this,a={urlCGI:"rtspAuthCap",params:{channel:1,videoStream:1},data:null,loading:!0};return d["a"].get(a).then((function(a){var i=a.oResult,n=[];s["a"].nodeAttr(i,"certificateType","opt")&&(n=s["a"].nodeAttr(i,"certificateType","opt").split(",")),t.authCap.aRTSPCap=n,e(i).find("SecurityAlgorithm").length&&(t.aRTSPCap.bRTDigestAlgorithm=!0,t.aRTSPCap.aRTDigestAlgorithm=s["a"].nodeAttr(i,"algorithmType","opt").split(","))}),(function(e){u["a"].getState(e)}))}},{key:"getAuthCapIPC",value:function(){var t=this,a=[],i={urlCGI:"videoCapa",params:{channel:1,videoStream:"01"},data:null,loading:!0};return d["a"].get(i).then((function(i){var n=i.oResult;t.oXmlDoc=n,t.aRTSPCap.aCertificateType=[r["a"].t("basicAuth"),r["a"].t("disable")],a=[r["a"].t("basicAuth"),r["a"].t("disable")],s["a"].nodeAttr(n,"certificateType","opt")&&(a=s["a"].nodeAttr(n,"certificateType","opt").split(",")),e(n).find("SecurityAlgorithm").length&&(t.aRTSPCap.bRTDigestAlgorithm=!0,t.aRTSPCap.aRTDigestAlgorithm=s["a"].nodeAttr(n,"algorithmType","opt").split(",")),t.authCap.aRTSPCap=a}))}},{key:"getRtspAuthInfoNVR",value:function(){var e=this,t={urlCGI:"rtspAuthInfo",data:null,loading:!0};return d["a"].get(t).then((function(t){var a=t.oResult;e._oXmlDoc.oRtsp=a;var i=s["a"].nodeValue(a,"certificateType");e.oAuth.szRtsp=i,e.oAuth.szRawRtsp=i,e.oAuth.szRTDigestAlgorithm=s["a"].nodeValue(a,"algorithmType"),e.oAuth.szRawRTDigestAlgorithm=e.oAuth.szRTDigestAlgorithm}))}},{key:"getRtspAuthInfoIPC",value:function(){var t=this,a={urlCGI:"rtspAuth",data:null,loading:!0};return d["a"].get(a).then((function(a){var i=a.oResult;t._oXmlDoc.oRtsp=i;var n=s["a"].nodeValue(i,"certificateType");n||(n=e(i).find("Security").eq(0).find("enabled").eq(0).text(),n="true"===n?r["a"].t("basicAuth"):r["a"].t("disable")),t.oAuth.szRtsp=n,t.oAuth.szRawRtsp=n,t.oAuth.szRTDigestAlgorithm=s["a"].nodeValue(i,"algorithmType"),t.oAuth.szRawRTDigestAlgorithm=t.oAuth.szRTDigestAlgorithm}))}},{key:"getWebAuthInfo",value:function(){var t=this,a={urlCGI:"webAuth",data:null,loading:!0};return d["a"].get(a).then((function(a){var i=a.oResult;t._oXmlDoc.oWeb=i;var n=e(i).find("CertificateType").eq(0).text();t.oAuth.szWeb=n,t.oAuth.szRawWeb=n,t.oAuth.szWEBDigestAlgorithm=s["a"].nodeValue(i,"algorithmType"),t.oAuth.szRAWWEBDigestAlgorithm=t.oAuth.szWEBDigestAlgorithm}))}},{key:"setRtspAuthInfoNVR",value:function(){var t=this,a=t._oXmlDoc.oRtsp,i=t.oAuth.szRtsp;return e(a).find("certificateType").eq(0).text(i),new Promise((function(e){var t={urlCGI:"rtspAuthInfo",data:a,loading:!0};return d["a"].put(t).then((function(t){e(t)}),(function(t){e(t)}))}))}},{key:"setRtspAuthInfoIPC",value:function(){var t=this,a=t._oXmlDoc.oRtsp,i=t.oAuth.szRtsp;return i===r["a"].t("basicAuth")?e(a).find("Security").eq(0).find("enabled").eq(0).text("true"):i===r["a"].t("disable")&&e(a).find("Security").eq(0).find("enabled").eq(0).text("false"),e(a).find("Security").eq(0).find("certificateType").eq(0).text(i),e(a).find("algorithmType").eq(0).text(t.oAuth.szRTDigestAlgorithm),new Promise((function(e,t){var i={urlCGI:"rtspAuth",data:a,loading:!0};return d["a"].put(i).then((function(t){e(t)}),(function(e){t(e)}))}))}},{key:"setWebAuthInfo",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a,i,n,o,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=this,i=a._oXmlDoc.oWeb,n=e(i).find("CertificateType").eq(0).text(),o=a.oAuth.szWeb,r=e(i).find("algorithmType").eq(0).text(),n!==o||a.oAuth.szWEBDigestAlgorithm!==r){t.next=7;break}return t.abrupt("return",!1);case 7:return e(i).find("CertificateType").eq(0).text(a.oAuth.szWeb),e(i).find("algorithmType").eq(0).text(a.oAuth.szWEBDigestAlgorithm),t.abrupt("return",new Promise((function(e,t){var a={urlCGI:"webAuth",data:i,loading:!0};return d["a"].put(a).then((function(t){e(t)}),(function(e){t(e)}))})));case 10:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}()},{key:"save",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.abrupt("return",new Promise((function(e,a){var i=[];t.authCap.oSupportAuth.bRtsp&&(t.bNVRDevice?i.push(t.setRtspAuthInfoNVR()):i.push(t.setRtspAuthInfoIPC())),t.authCap.oSupportAuth.bWeb&&i.push(t.setWebAuthInfo()),s["a"].waitAll(i).then((function(t){for(var a=[],i=0,n=t.length;i<n;++i)t[i]&&a.push(t[i].xhr);e()}),(function(e){a(),u["a"].saveState(e)}))})));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),t}();t["a"]=new m}).call(this,a("1157"))},e70c:function(e,t,a){"use strict";(function(e){a("55dd"),a("6b54"),a("28a5"),a("7514"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("768a"),s=a("7de8"),l=a("d09c"),c=a("8d94"),u=a("f193"),d=function(){function t(){Object(n["a"])(this,t),this.oXmlDoc=null,this._oSetting485Info={bChannelSupport:!0,szBaudRate:"",szDataBit:5,szStopBit:1,szParity:"none",szFlowCtrl:"none",szControlProtocol:"",szControlAddress:"",aDataBit:[{value:5,text:5},{value:6,text:6},{value:7,text:7},{value:8,text:8}],aParityType:[{value:"none",text:c["a"].t("none")},{value:"even",text:"even"},{value:"odd",text:"odd"}],aFlowCtrl:[{value:"none",text:c["a"].t("none")},{value:"hardware",text:"hwFlowCtrl"},{value:"software",text:"swFlowCtrl"}],aStopBit:[{value:1,text:1},{value:2,text:2}]},this._oDisabled={bBaudRate:!1,bDataBit:!1,bStopBit:!1,bParity:!1,bFlowCtrl:!1,bControlProtocol:!1,bControlAddress:!1},this._aBaudRate=[{value:50,text:50},{value:75,text:75},{value:110,text:110},{value:150,text:150},{value:300,text:300},{value:600,text:600},{value:1200,text:1200},{value:2400,text:2400},{value:4800,text:4800},{value:9600,text:9600},{value:19200,text:19200},{value:38400,text:38400},{value:57600,text:57600},{value:76800,text:76800},{value:115200,text:115200}],this._aControlProtocol=[],this.oChannel={id:1},this.iNow485Id=-1,this.send485Xmldoc=""}return Object(o["a"])(t,[{key:"init",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getSerialPorts();case 2:return e.next=4,this.get485Capa();case 4:return e.next=6,this.get485Info();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getSerialPorts",value:function(){var t=this,a=this,i={urlCGI:"serialPorts",params:{},data:null,loading:!0};return u["a"].get(i).then((function(i){var n=i.oResult,o=e(n).find("SerialPort");e.each(o,(function(){if("RS485"===s["a"].nodeValue(this,"serialPortType"))return a.iNow485Id=s["a"].nodeValue(this,"id"),!1})),-1!==a.iNow485Id&&t.get485infoByPort()}),(function(e){l["a"].getState(e)}))}},{key:"get485infoByPort",value:function(){var e=this,t=this,a={urlCGI:"rs232Info",params:{serialPort:t.iNow485Id},data:null,loading:!0};return u["a"].get(a).then((function(t){var a=t.oResult;e.send485Xmldoc=a}),(function(e){l["a"].getState(e)}))}},{key:"get485Capa",value:function(){var t=this;this._oSetting485Info.bChannelSupport=!0;var a=this,i={urlCGI:"ptzChannelCap",params:{channel:this.oChannel.id},data:null,loading:!0};return u["a"].get(i).then((function(i){var n=i.oResult;if(e(n).find("baudRate").length){a._aBaudRate.length=0;var o=e(n).find("baudRate").eq(0).attr("opt").split(",");o.length>0&&"NOT_AVALIABLE"!==o[0]&&e.each(o,(function(){a._aBaudRate.push({value:this.toString(),text:this})}))}if(a._oSetting485Info.szBaudRate=a._aBaudRate[0]?a._aBaudRate[0].value:"",e(n).find("dataBits").length){a._oSetting485Info.aDataBit.length=0;var l=e(n).find("dataBits").eq(0).attr("opt").split(",");l.length&&e.each(l,(function(){a._oSetting485Info.aDataBit.push({value:this.toString(),text:this.toString()})}))}if(e(n).find("stopBits").length){a._oSetting485Info.aStopBit.length=0;var u=e(n).find("stopBits").eq(0).attr("opt").split(",");u.length&&e.each(u,(function(){a._oSetting485Info.aStopBit.push({value:this.toString(),text:this.toString()})}))}if(e(n).find("parityType").length){a._oSetting485Info.aParityType.length=0;var d=e(n).find("parityType").eq(0).attr("opt").split(",");r["a"].createNgOptions(d,d,d,a._oSetting485Info.aParityType)}var p=e(n).find("controlProtocol").eq(0).attr("opt").split(",");p.length>0&&"NOT_AVALIABLE"!==p[0]&&(a._aControlProtocol.length=0,p=p.sort(),e.each(p,(function(){a._aControlProtocol.push({value:this.toString(),text:this})})),a._oSetting485Info.szControlProtocol=a._aControlProtocol[0].value);var m={none:c["a"].t("none"),hardware:c["a"].t("hwFlowCtrl"),software:c["a"].t("swFlowCtrl")};if(s["a"].nodeAttr(n,"flowCtrl","opt").length){t._oSetting485Info.aFlowCtrl.length=0;for(var h=s["a"].nodeAttr(n,"flowCtrl","opt").split(","),f=0;f<h.length;f++)t._oSetting485Info.aFlowCtrl.push({value:h[f],text:m[h[f]]?m[h[f]]:h[f]})}}),(function(e){403===e.status&&(t._oSetting485Info.bChannelSupport=!1)}))}},{key:"get485Info",value:function(){var t=this,a=this,i=null,n={urlCGI:"ptzChannelInfo",params:{channel:this.oChannel.id},data:null,loading:!0};return u["a"].get(n).then((function(n){var o=n.oResult;if(t.oXmlDoc=o,t.oChannel.id<=r["a"].m_iAnalogChNum){e.each(e(o).find("PTZChannel"),(function(){if(a.oChannel.id===s["a"].nodeValue(this,"id","i"))return i=this,!1})),t._oSetting485Info.szBaudRate=s["a"].nodeValue(i,"baudRate"),t._oSetting485Info.szDataBit=s["a"].nodeValue(i,"dataBits"),t._oSetting485Info.szStopBit=s["a"].nodeValue(i,"stopBits"),t._oSetting485Info.szParity=s["a"].nodeValue(i,"parityType"),t._oSetting485Info.szFlowCtrl=s["a"].nodeValue(i,"flowCtrl"),t._oSetting485Info.szControlProtocol=s["a"].nodeValue(i,"controlProtocol");var l=e(i).find("controlAddress").eq(0);l.length&&(t._oSetting485Info.szControlAddress=l.children("Address").length?s["a"].nodeValue(l,"Address"):s["a"].nodeValue(i,"controlAddress"))}else{e(o).find("baudRate").length?(t._oSetting485Info.szBaudRate=s["a"].nodeValue(o,"baudRate"),t._oDisabled.bBaudRate=!1):t._oDisabled.bBaudRate=!0,e(o).find("dataBits").length?(t._oSetting485Info.szDataBit=s["a"].nodeValue(o,"dataBits"),t._oDisabled.bDataBit=!1):t._oDisabled.bDataBit=!0,e(o).find("stopBits").length?(t._oSetting485Info.szStopBit=s["a"].nodeValue(o,"stopBits"),t._oDisabled.bStopBit=!1):t._oDisabled.bStopBit=!0,e(o).find("parityType").length?(t._oSetting485Info.szParity=s["a"].nodeValue(o,"parityType"),t._oDisabled.bParity=!1):t._oDisabled.bParity=!0,e(o).find("flowCtrl").length?(t._oSetting485Info.szFlowCtrl=s["a"].nodeValue(o,"flowCtrl"),t._oDisabled.bFlowCtrl=!1):t._oDisabled.bFlowCtrl=!0,e(o).find("controlProtocol").length?(t._oSetting485Info.szControlProtocol=s["a"].nodeValue(o,"controlProtocol"),t._oDisabled.bControlProtocol=!1):t._oDisabled.bControlProtocol=!0;var c=e(o).find("controlAddress").eq(0);c.length?c.children("Address").length?(t._oSetting485Info.szControlAddress=s["a"].nodeValue(c,"Address"),t._oDisabled.bControlAddress=!s["a"].nodeValue(c,"enabled","b")):(t._oSetting485Info.szControlAddress=s["a"].nodeValue(o,"controlAddress"),t._oDisabled.bControlAddress=!1):t._oDisabled.bControlAddress=!0}}))}},{key:"set485Info",value:function(){var t=this,a=t.oXmlDoc;e(a).find("baudRate").eq(0).text(t._oSetting485Info.szBaudRate),e(a).find("dataBits").eq(0).text(t._oSetting485Info.szDataBit),e(a).find("stopBits").eq(0).text(t._oSetting485Info.szStopBit),e(a).find("parityType").eq(0).text(t._oSetting485Info.szParity),e(a).find("flowCtrl").eq(0).text(t._oSetting485Info.szFlowCtrl),e(a).find("controlProtocol").eq(0).text(t._oSetting485Info.szControlProtocol);var i=e(a).find("controlAddress").eq(0);i.length&&(i.children("Address").length?s["a"].nodeValue(i,"Address","",t._oSetting485Info.szControlAddress):s["a"].nodeValue(a,"controlAddress","",t._oSetting485Info.szControlAddress));var n={urlCGI:"ptzChannelInfo",params:{channel:t.oChannel.id},data:a,loading:!0};return new Promise((function(e){u["a"].put(n).then((function(a){-1!==t.iNow485Id&&t.set485infoByPort(),e(),l["a"].saveState(a.xhr)}),(function(t){e(),l["a"].saveState(t)}))}))}},{key:"set485infoByPort",value:function(){var t=this,a=t.send485Xmldoc;e(a).find("baudRate").eq(0).text(t._oSetting485Info.szBaudRate),e(a).find("dataBits").eq(0).text(t._oSetting485Info.szDataBit),e(a).find("stopBits").eq(0).text(t._oSetting485Info.szStopBit),e(a).find("parityType").eq(0).text(t._oSetting485Info.szParity),e(a).find("flowCtrl").eq(0).text(t._oSetting485Info.szFlowCtrl),e(a).find("controlProtocol").eq(0).text(t._oSetting485Info.szControlProtocol);var i=e(a).find("controlAddress").eq(0);i.length&&(i.children("Address").length?s["a"].nodeValue(i,"Address","",t._oSetting485Info.szControlAddress):s["a"].nodeValue(a,"controlAddress","",t._oSetting485Info.szControlAddress));var n={urlCGI:"rs232Info",params:{serialPort:t.iNow485Id},data:a,loading:!0};return u["a"].put(n).then((function(){}),(function(e){l["a"].getState(e)}))}}]),t}();t["a"]=new d}).call(this,a("1157"))},e787:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("systemService"),"left-type":"back","right-type":"text","show-save-button":!0,"save-text":e.$t("save")},on:{"save-handle":e.save}},[t("div",{staticClass:"service-page-wrapper",attrs:{slot:"content"},slot:"content"},[t("div",[t("hm-validator-group",{attrs:{result:e.validate}},[e.oService.bHardware?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("hwService")}},[e.oHardwareService.oIRLight.bShow?t("hm-cell",{attrs:{title:e.$t("enableIRLight")}},[t("hm-switch",{model:{value:e.oHardwareService.oIRLight.bEnabled,callback:function(t){e.$set(e.oHardwareService.oIRLight,"bEnabled",t)},expression:"oHardwareService.oIRLight.bEnabled"}})],1):e._e(),e.oHardwareService.oSupplyLight.bShow?t("hm-cell",{attrs:{title:e.$t("enableSupplyLight")}},[t("hm-switch",{model:{value:e.oHardwareService.oSupplyLight.bEnabled,callback:function(t){e.$set(e.oHardwareService.oSupplyLight,"bEnabled",t)},expression:"oHardwareService.oSupplyLight.bEnabled"}})],1):e._e(),e.oHardwareService.oABF.bShow?t("hm-cell",{attrs:{title:e.$t("enableABF")}},[t("hm-switch",{model:{value:e.oHardwareService.oABF.bEnabled,callback:function(t){e.$set(e.oHardwareService.oABF,"bEnabled",t)},expression:"oHardwareService.oABF.bEnabled"}})],1):e._e(),e.oHardwareService.oStatusLED.bShow?t("hm-cell",{attrs:{title:e.$t("enableStatusLED")}},[t("hm-switch",{model:{value:e.oHardwareService.oStatusLED.bEnabled,callback:function(t){e.$set(e.oHardwareService.oStatusLED,"bEnabled",t)},expression:"oHardwareService.oStatusLED.bEnabled"}})],1):e._e(),e.oHardwareService.oAutoDefog.bShow?t("hm-cell",{attrs:{title:e.$t("enableAutoDefog")}},[t("hm-switch",{model:{value:e.oHardwareService.oAutoDefog.bEnabled,callback:function(t){e.$set(e.oHardwareService.oAutoDefog,"bEnabled",t)},expression:"oHardwareService.oAutoDefog.bEnabled"}})],1):e._e(),e.oHardwareService.oSnapLight.bShow?t("hm-cell",{attrs:{title:e.$t("snapLight")}},[t("hm-switch",{attrs:{disabled:!e.oHardwareService.oSupplyLight.bEnabled},model:{value:e.oHardwareService.oSnapLight.bEnabled,callback:function(t){e.$set(e.oHardwareService.oSnapLight,"bEnabled",t)},expression:"oHardwareService.oSnapLight.bEnabled"}})],1):e._e(),e.oHardwareService.oEmmc.bShow?t("div",[e.oHardwareService.oEmmc.bSptEMMCProtection?t("hm-cell",{attrs:{title:e.$t("enableEMMCProtection")}},[t("hm-switch",{model:{value:e.oHardwareService.oEmmc.bEnabledEMMCProtection,callback:function(t){e.$set(e.oHardwareService.oEmmc,"bEnabledEMMCProtection",t)},expression:"oHardwareService.oEmmc.bEnabledEMMCProtection"}})],1):e._e(),e.oHardwareService.oEmmc.bSptConfLiftTime?t("hm-cell",{staticClass:"p-cell",attrs:{title:e.emmcLifeUsed}}):e._e(),e.oHardwareService.oEmmc.bSptConfLiftTimeTips?t("hm-cell",{staticClass:"p-cell",attrs:{title:e.tipEmmcLimited}}):e._e()],1):e._e()],1):e._e(),e.oService.bSoftware&&(e.oSoftwareService.oLiveViewConnection.bShow||e.oSoftwareService.oThirdStream.bShow||e.oSoftwareService.oMotionDetect.bShow)?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("swService")}},[e.oSoftwareService.oLiveViewConnection.bShow?t("hm-cell",{class:{"cell-require":e.oPreviewLinkFilter&&e.oPreviewLinkFilter.required},attrs:{title:e.$t("liveViewConnection")}},[t("hm-input",{model:{value:e.oSoftwareService.oLiveViewConnection.szValue,callback:function(t){e.$set(e.oSoftwareService.oLiveViewConnection,"szValue",t)},expression:"oSoftwareService.oLiveViewConnection.szValue"}}),t("hm-validator",{attrs:{model:e.oSoftwareService.oLiveViewConnection.szValue,rules:e.oPreviewLinkFilter,param:e.$t("liveViewConnection"),disabled:e.oPreviewLinkFilter.skipVerify}})],1):e._e(),e.oSoftwareService.oThirdStream.bShow?t("hm-cell",{attrs:{title:e.$t("enableThirdStream")}},[t("hm-switch",{model:{value:e.oSoftwareService.oThirdStream.bEnabled,callback:function(t){e.$set(e.oSoftwareService.oThirdStream,"bEnabled",t)},expression:"oSoftwareService.oThirdStream.bEnabled"}})],1):e._e(),e.oSoftwareService.oThirdStream.bShow?t("hm-cell",{staticClass:"p-cell",attrs:{title:e.oSoftwareService.oThirdStream.szPrompt}}):e._e(),e.oSoftwareService.oMotionDetect.bShow?t("hm-cell",{attrs:{title:e.$t("enableMotion")}},[t("hm-switch",{model:{value:e.oSoftwareService.oMotionDetect.bEnabled,callback:function(t){e.$set(e.oSoftwareService.oMotionDetect,"bEnabled",t)},expression:"oSoftwareService.oMotionDetect.bEnabled"}})],1):e._e(),e.oSoftwareService.oMotionDetect.bShow?t("hm-cell",{staticClass:"p-cell",attrs:{title:e.oSoftwareService.oMotionDetect.szPrompt}}):e._e()],1):e._e()],1)],1),t("base-view")],1)])},n=[],o=a("1c1a"),r=a("c78b"),s=a("c050"),l=a("97af"),c={name:"TimeSetting",components:{BaseView:o["a"],BasePage:l["a"]},data:function(){return{validate:{},oService:r["a"]._oService,oHardwareService:r["a"]._oHardwareService,oPreviewLinkFilter:r["a"].oPreviewLinkFilter,oSoftwareService:r["a"]._oSoftwareService,emmcLifeUsed:r["a"]._emmcLifeUsed,tipEmmcLimited:r["a"]._tipEmmcLimited}},watch:{"oHardwareService.oEmmc.bEnabledEMMCProtection":{handler:function(e){e||s["a"].alert(this.$t("enableEMMCProtectionTips"))},deep:!0}},created:function(){var e=this;r["a"].init().finally((function(){e.emmcLifeUsed=r["a"]._emmcLifeUsed,e.tipEmmcLimited=r["a"]._tipEmmcLimited}))},methods:{save:function(){this.validate.validateAll(),s["a"].validateTips(this.validate.getErrorReport())&&r["a"].save()}}},u=c,d=(a("3ffb"),a("0e1a"),a("2877")),p=Object(d["a"])(u,i,n,!1,null,"41ea1737",null);t["default"]=p.exports},e7ed:function(e,t,a){},e8bd:function(e,t,a){},e920:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("aboutDevice"),"right-type":"text"}},[t("div",{staticClass:"aboutDevice",attrs:{slot:"content"},slot:"content"},[t("hm-scroll",[t("div",{staticClass:"marTip"},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("openGplTip"),"is-link":""},nativeOn:{click:function(t){return e.lookGpl.apply(null,arguments)}}})],1)],1)]),e.isShowLicense?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:e.titlet,"enable-cancel-callback":e.bEnableCancelCallback,"enable-show-tips":e.bEnableShowTips,"sz-confirm":e.$t(" ")},on:{cancelcallback:e.cancelCallback}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"swipe-wrapper"},[t("hm-scroll",{attrs:{options:e.options}},[t("soft-license")],1)],1)])])],1):e._e()],1)])},n=[],o=a("962a"),r=a("deb3"),s=a("97af"),l={name:"BasicInfo",components:{BasePageExtend:o["a"],SoftLicense:r["default"],BasePage:s["a"]},data:function(){return{bEnableCancelCallback:!0,titlet:this.$t("SoftwareLicense"),isShowLicense:!1,bEnableShowTips:!1,options:{scrollbar:!0,fade:!1}}},watch:{},created:function(){console.log("dayin"),console.log("aaaaa",this.$store.state.globeStore.hideRouter)},methods:{lookGpl:function(){this.isShowLicense=!0},cancelCallback:function(){this.isShowLicense=!1}}},c=l,u=(a("49b4"),a("2877")),d=Object(u["a"])(c,i,n,!1,null,"11e4c72e",null);t["default"]=d.exports},e95e:function(e,t,a){"use strict";a("e9a9")},e9a9:function(e,t,a){},ea01:function(e,t,a){"use strict";(function(e){a("6b54"),a("7514"),a("96cf");var i=a("1da1"),n=a("d4ec"),o=a("bee2"),r=a("8d94"),s=a("f193"),l=a("7de8"),c=a("1f20"),u=a("79d4"),d=a("d09c"),p=a("c050"),m=function(){function t(){Object(n["a"])(this,t),this.oXmlDoc=null,this.verifyResult={},this.oPnpXmlDoc=null,this.oExtensionXmlDoc=null,this.m_aTimes=[],this.hClockTime=-1,this.aItems=[],this.oTable=null}return Object(o["a"])(t,[{key:"initParams",value:function(){for(var e=0;e<30;e++){this.m_oParams.aBlockStatus[e]=[];for(var t=0;t<30;t++)this.m_oParams.aBlockStatus[e][t]=0}}},{key:"initSmartTest",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return u["a"].init(),this.m_oParams=u["a"].m_oParams,this.m_oCapbilities=u["a"].m_oCapbilities,this.initParams(),e.next=6,c["a"].isEnableHoliday();case 6:return e.next=8,this.getHddList();case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getHddList",value:function(){var t=this,a=this.m_oParams,i={urlCGI:"storage",params:null,data:null,loading:!0};return s["a"].get(i).then((function(i){var n=i.oResult;t.m_oCapbilities.aAllOptions.length=0,t.m_oCapbilities.aHddOptions.length=0;for(var o=e(n).find("hdd").length,r=0;r<o;r++)if("notexist"!==e(n).find("hdd").eq(r).find("status").eq(0).text()&&"eSATA"!==e(n).find("hdd").eq(r).find("hddType").eq(0).text()&&"Virtual Disk"!==e(n).find("hdd").eq(r).find("hddType").eq(0).text()){var s=l["a"].nodeValue(e(n).find("hdd").eq(r),"id");t.m_oCapbilities.aAllOptions.push({id:s,text:"HDD-"+s,value:"HDD-"+s}),t.m_oCapbilities.aHddOptions.push({id:s,text:"HDD-"+s,value:s})}for(var c=e(n).find("ssd").length,u=0;u<c;u++){var d=l["a"].nodeValue(e(n).find("ssd").eq(u),"id");t.m_oCapbilities.aAllOptions.push({id:d,text:"SSD-"+d,value:"SSD-"+d})}t.m_oCapbilities.aAllOptions.length>0&&(a.szDiskIdChooseWithType=t.m_oCapbilities.aAllOptions[0].value,a.szHddSmartChoose=t.m_oCapbilities.aHddOptions[0].id,a.szHddTestChoose=a.szHddSmartChoose)}))}},{key:"pauseTest",value:function(e){var t=this,a=this.m_oParams;if("running"===a.szBlockTestStatus){var i={urlCGI:"hddTestPause",params:{disk:a.szHddTestChoose},data:null,processData:!1,loading:!0};return s["a"].put(i).then((function(){a.szPauseResumetxt=r["a"].t("restoreLib"),p["a"].tip(r["a"].t("pause")),t.getBlockTestStatus(e)}))}if("pause"===a.szBlockTestStatus){var n={urlCGI:"hddTestResume",params:{disk:a.szHddTestChoose},data:null,processData:!1,loading:!0};return s["a"].put(n).then((function(){a.szPauseResumetxt=r["a"].t("pause"),p["a"].tip(r["a"].t("restoreLib")),t.getBlockTestStatus(e)}))}}},{key:"initTable",value:function(){this.m_oParams.aTableHead=u["a"].header,this.m_oParams.tableData={tableItem:this.aItems}}},{key:"startSmartTest",value:function(e){var t=this,a=this.m_oParams,i="startSmartTest",n="<?xml version='1.0' encoding='UTF-8'?><HDDSMARTTest><testType>"+this.m_oParams.szSmartTestType+"</testType></HDDSMARTTest>";a.szDiskIdChooseWithType.indexOf("SSD")>-1&&(i="ssdStartHddTest",n="<?xml version='1.0' encoding='UTF-8'?><SSDSMARTTest><testType>"+this.m_oParams.szSmartTestType+"</testType></SSDSMARTTest>");var o=l["a"].parseXmlFromStr(n),r={urlCGI:i,params:{disk:this.m_oParams.szHddSmartChoose},data:o,processData:!1,loading:!0};return s["a"].put(r).then((function(){t.getSmartStatus(e)}),(function(e){d["a"].saveState(e)}))}},{key:"getSmartStatus",value:function(t){var a=this,i=this.m_oParams,n="smartStatus";i.szDiskIdChooseWithType.indexOf("SSD")>-1&&(n="ssdSmartStatus");var o={urlCGI:n,params:{disk:this.m_oParams.szHddSmartChoose},data:null,loading:!0};return s["a"].get(o).then((function(n){var o=n.oResult,r=[];i.szTestStatus=l["a"].nodeValue(e(o),"selfTestStatus"),i.szTemperature=l["a"].nodeValue(e(o),"temprature"),i.szUseDays=l["a"].nodeValue(e(o),"powerOnDay"),i.iSmartTestPersent=l["a"].nodeValue(e(o),"selfTestPercent","i"),i.szSelfEvaluaingStatus=l["a"].nodeValue(e(o),"selfEvaluaingStatus"),i.szAllEvaluaingStatus=l["a"].nodeValue(e(o),"allEvaluaingStatus"),i.szSmartTestType=l["a"].nodeValue(e(o),"testType");for(var s=e(o).find("TestResult").length,c=0;c<s;c++)"0"!==l["a"].nodeValue(e(o).find("TestResult").eq(c),"attributeID")&&(r[c]=[],r[c][0]=l["a"].nodeValue(e(o).find("TestResult").eq(c),"attributeID"),r[c][1]=r[c][0],r[c][2]=l["a"].nodeValue(e(o).find("TestResult").eq(c),"status"),r[c][3]=l["a"].nodeValue(e(o).find("TestResult").eq(c),"flags"),r[c][4]=l["a"].nodeValue(e(o).find("TestResult").eq(c),"thresholds"),r[c][5]=l["a"].nodeValue(e(o).find("TestResult").eq(c),"value"),r[c][6]=l["a"].nodeValue(e(o).find("TestResult").eq(c),"worst"),r[c][7]=l["a"].nodeValue(e(o).find("TestResult").eq(c),"rawValue"));a.m_oParams.tableData.tableItem=r,i.iSmartTestPersent>0&&i.iSmartTestPersent<100&&setTimeout((function(){a.getSmartStatus(t)}),2e3)}),(function(){i.szTestStatus="not_tested",i.szTemperature="",i.szUseDays="",i.iSmartTestPersent=0,i.szSelfEvaluaingStatus="",i.szAllEvaluaingStatus="",i.szSmartTestType="short"}))}},{key:"getSmartTestInfo",value:function(){var t=this,a={urlCGI:"smartTestInfo",params:null,data:null,loading:!0};return s["a"].get(a).then((function(a){var i=a.oResult;t.m_oParams.bEnableUseHdd=l["a"].nodeValue(e(i),"enabled","b")}))}},{key:"initBlockParams",value:function(){this.m_oParams.iLastTestBlock=0,e("#hddTestTable").find("tr").each((function(t,a){e(a).find("td").each((function(t,a){e(a).removeClass("ok-type").removeClass("bad-type").removeClass("shield-type")}))}))}},{key:"startBlockTest",value:function(){var e=this;"pause"===this.m_oParams.szBlockTestStatus&&this.stopBlockTest(),this.initBlockParams();var t="<?xml version='1.0' encoding='UTF-8'?><BadSectorsTest><testType>"+this.m_oParams.szHddTestType+"</testType></BadSectorsTest>",a=l["a"].parseXmlFromStr(t),i={urlCGI:"startHddTest",params:{disk:this.m_oParams.szHddTestChoose},data:a,processData:!1,loading:!0};return s["a"].put(i).then((function(){e.getBlockTestStatus()}),(function(){p["a"].tip(r["a"].t("notSupport"))}))}},{key:"stopBlockTest",value:function(){var e=this,t={urlCGI:"stopHddTest",params:{disk:this.m_oParams.szHddTestChoose},data:null,processData:!1,loading:!0};return s["a"].put(t).then((function(){e.getBlockTestStatus()}))}},{key:"getHddProperty",value:function(){var t=this,a={urlCGI:"hddProperty",params:{disk:this.m_oParams.szHddTestChoose},data:null,loading:!0};return s["a"].get(a).then((function(a){var i=a.oResult;t.m_oParams.szHddCapability=(parseInt(l["a"].nodeValue(e(i),"capacity","i"),10)/1024).toFixed(2)+"GB",t.m_oParams.szBlockSize=(parseInt(l["a"].nodeValue(e(i),"capacity","i"),10)/1600).toFixed(2)+"MB"}))}},{key:"getBlockTestStatus",value:function(){var t=this,a={urlCGI:"hddTestStatus",params:{disk:this.m_oParams.szHddTestChoose},data:null,loading:!0};return s["a"].get(a).then((function(a){var i=a.oResult,n=t.m_oParams,o=l["a"].nodeValue(e(i).find("BlockAreaTestStatus"),"currentBlock","i");n.szBlockTestStatus=l["a"].nodeValue(e(i).find("BlockAreaTestStatus"),"testStatus"),n.szHddTestType=l["a"].nodeValue(e(i).find("BlockAreaTestStatus"),"testType"),"pause"===n.szBlockTestStatus?n.szPauseResumetxt=r["a"].t("restoreLib"):n.szPauseResumetxt=r["a"].t("pause"),n.iBlockNums=parseInt(l["a"].nodeValue(e(i).find("BlockAreaTestStatus"),"lastBlock"),10)-parseInt(l["a"].nodeValue(e(i).find("BlockAreaTestStatus"),"fistBlock"),10),n.szErrorNums=e(i).find("BadSectorsList").eq(0).find("BadSectors").length.toString(),n.szHddTestPersent=(100*o/n.iBlockNums).toFixed(2)+"%";var s=Math.round(1600*n.iLastTestBlock/n.iBlockNums),c=Math.round(1600*o/n.iBlockNums);e(i).find("MaskAreaList").eq(0).find("MaskArea").each((function(t){var a=parseInt(l["a"].nodeValue(e(t),"startLBA","i"),10),i=parseInt(l["a"].nodeValue(e(t),"endLBA","i"),10),o=Math.round(1600*a/n.iBlockNums),r=Math.round(1600*i/n.iBlockNums);if(o>=s)for(var c=o;c<r;c++){var u=Math.floor(c/40),d=c%40;e("#hddTestTable").find("tr").eq(u).find("td").eq(d).addClass("shield-type")}})),e(i).find("BadSectorsList").eq(0).find("BadSectors").each((function(t){var a=parseInt(l["a"].nodeValue(e(t),"id","i"),10),i=Math.round(1600*a/n.iBlockNums),o=Math.floor(i/40),r=i%40;i>=s&&e("#hddTestTable").find("tr").eq(o).find("td").eq(r).addClass("bad-type")}));for(var u=s;u<c;u++){var d=Math.floor(u/40),p=u%40;e("#hddTestTable").find("tr").eq(d).find("td").eq(p).hasClass("shield-type")||e("#hddTestTable").find("tr").eq(d).find("td").eq(p).hasClass("bad-type")||e("#hddTestTable").find("tr").eq(d).find("td").eq(p).addClass("ok-type")}n.iLastTestBlock=o,"running"===n.szBlockTestStatus&&setTimeout((function(){t.getBlockTestStatus()}),5e3)}))}},{key:"setLocalHardDiskInfo",value:function(){for(var t=this,a="<?xml version='1.0' encoding='UTF-8'?><HolidaySchedule><ScheduleBlock><ScheduleBlockGUID>{00000000-0000-0000-0000-000000000000}</ScheduleBlockGUID><ScheduleBlockType>www.std-cgi.com/racm/schedule/ver10</ScheduleBlockType>",i=0;i<this.m_aTimes[7].length;i++)a+="<ScheduleAction><id>"+(i+1)+"</id>",a+="<ScheduleActionStartTime><TimeOfDay>"+this.m_aTimes[7][i].sTime+"</TimeOfDay></ScheduleActionStartTime>",a+="<ScheduleActionEndTime><TimeOfDay>"+this.m_aTimes[7][i].eTime+"</TimeOfDay></ScheduleActionEndTime>",a+="<ScheduleDSTEnable>false</ScheduleDSTEnable><Description>nothing</Description>",a+="<Actions><Record>true</Record><Log>false</Log><SaveImg>false</SaveImg>",a+="<ActionRecordingMode>"+this.m_aTimes[7][i].type+"</ActionRecordingMode></Actions></ScheduleAction>";a+="</ScheduleBlock></HolidaySchedule>";for(var n="<TrackSchedule><ScheduleBlockList><ScheduleBlock><ScheduleBlockGUID>{00000000-0000-0000-0000-000000000000}</ScheduleBlockGUID><ScheduleBlockType>www.std-cgi.com/racm/schedule/ver10</ScheduleBlockType>",o=1,r=0;r<7;r++)for(var s=0;s<this.m_aTimes[r].length;s++)n+="<ScheduleAction><id>"+(o++).toString()+"</id>",n+="<ScheduleActionStartTime><DayOfWeek>"+this.oDayReverse[r]+"</DayOfWeek>",n+="<TimeOfDay>"+this.m_aTimes[r][s].sTime+"</TimeOfDay></ScheduleActionStartTime>",n+="<ScheduleActionEndTime><DayOfWeek>"+this.oDayReverse[r]+"</DayOfWeek>",n+="<TimeOfDay>"+this.m_aTimes[r][s].eTime+"</TimeOfDay></ScheduleActionEndTime>",n+="<ScheduleDSTEnable>false</ScheduleDSTEnable><Description>nothing</Description>",n+="<Actions><Record>true</Record><Log>false</Log><SaveImg>false</SaveImg>",n+="<ActionRecordingMode>"+this.m_aTimes[r][s].type+"</ActionRecordingMode></Actions></ScheduleAction>";n+="</ScheduleBlock></ScheduleBlockList></TrackSchedule>";var u=l["a"].createXml();u.appendChild(u.createProcessingInstruction("xml","version='1.0' encoding='utf-8'"));for(var d=u.createElement("TrackList"),p=0;p<this.m_oCopyTo.length;p++)if(this.m_oCopyTo[p].value){var m=this.oXmlDoc;e(m).find("id").eq(0).text(this.m_oCopyTo[p].id+"01"),e(m).find("Channel").eq(0).text(this.m_oCopyTo[p].id+"01"),e(m).find("SrcChannel").eq(0).text(this.m_oCopyTo[p].id),e(m).find("SrcUrl").eq(0).text("rtsp://localhost/ISAPI/Streaming/channels/10"+this.m_oParams.szStreamType),e(m).find("Duration").eq(0).text("P"+this.m_oParams.szExpiredTime+"DT0H");var h=e(m).find("CustomExtensionList").eq(0);h.find("enableSchedule").eq(0).text(this.m_oParams.bEnablePlan.toString()),h.find("SaveAudio").eq(0).text(this.m_oParams.bRecordAudio.toString()),h.find("RedundancyRecord").eq(0).text(this.m_oParams.bRedundant.toString()),h.find("PreRecordTimeSeconds").eq(0).text(this.m_oParams.szPreRecord),h.find("PostRecordTimeSeconds").eq(0).text(this.m_oParams.szRecordDelay),c["a"].m_oDeviceCapa.bEnableHoliday&&(e(m).find("HolidaySchedule").eq(0).remove(),e(l["a"].parseXmlFromStr(a)).children().clone().insertAfter(e(m).find("CustomExtensionList").eq(0).find("PreRecordTimeSeconds").eq(0))),e(m).find("TrackSchedule").length>0&&e(m).find("TrackSchedule").eq(0).remove(),e(l["a"].parseXmlFromStr(n)).children().clone().insertAfter(e(m).find("SrcDescriptor").eq(0)),d.appendChild(e(m).find("Track").clone().get(0))}if(u.appendChild(d),"7"===this.m_oParams.szStreamType){for(var f=e(u).find("Track").length,v=f-1;v>=0;v--)e(e(u).find("Track").eq(v).clone()).insertAfter(e(u).find("Track").eq(v));e(u).find("Track").each((function(a){if((a+1)%2!==0)e(t).find("SrcUrl").eq(0).text("rtsp://localhost/ISAPI/Streaming/channels/101");else{var i=Math.floor(parseInt(e(u).find("Track").eq(a-1).find("id").eq(0).text(),10)/100);e(t).find("id").eq(0).text(i+"02"),e(t).find("Channel").eq(0).text(i+"02"),e(t).find("SrcUrl").eq(0).text("rtsp://localhost/ISAPI/Streaming/channels/102")}}))}return u}},{key:"createElement",value:function(e){var t={urlCGI:"trackInfo",params:null,data:e,loading:!0};return s["a"].put(t)}},{key:"save",value:function(){var e=l["a"].parseXmlFromStr("<?xml version='1.0' encoding='UTF-8'?><SMARTTestConfig><enabled>"+this.m_oParams.bEnableUseHdd.toString()+"</enabled></SMARTTestConfig>"),t={urlCGI:"smartTestInfo",params:null,data:e,processData:!1,loading:!0};return s["a"].put(t).then((function(e){d["a"].saveState(e.xhr)}))}}]),t}();t["a"]=new m}).call(this,a("1157"))},ea76:function(e,t,a){"use strict";(function(e){a("8e6e"),a("456d"),a("ac6a"),a("6b54"),a("a481"),a("7514");var i=a("ade3"),n=(a("96cf"),a("1da1")),o=a("1c1a"),r=a("962a"),s=a("1f20"),l=a("daee"),c=a("7de8"),u=a("c050"),d=a("9741"),p=a("f193"),m=a("d09c"),h=a("47b5"),f=a("e658");function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){Object(i["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t["a"]={name:"Email",components:{BaseView:o["a"],BasePageExtend:r["a"],BaseSelect:h["a"],CommonTable:f["a"]},data:function(){return{bLazyLoading:!1,editValidate:{},aReceiverItems:[],aReceiverIndex:0,bShowTable:!1,bShowTableItem:!1,validate:{},oCap:{bNVR:!1,bSupportModify:!1,bSptSnapShoot:!0,aEmailOptions:[{value:"2",text:"2"},{value:"3",text:"3"},{value:"4",text:"4"},{value:"5",text:"5"}],aEncryptionType:[],bSupportSmartTLS:!1,bSupportSecondarySMTP:!1},oParams:{szSenderName:"",szSenderAddress:"",szSmtpServer:"",szEncryptionType:"",szSmtpPort:"",szPicInterval:"",szPassword:"",bEnableSSL:!1,bEnablePic:!1,bAuthentication:"",szUserName:"",oPassword:{szPassword:"",szPasswordConfirm:"",szPasswordDefault:""},benabledSecSmtp:!1,bSecSmtpAuthentication:!1,szSecSmtpServer:"",szSecSmtpPort:"",bSecSmtpEnableSSL:!1,szEncryptionTypeCache:"",bEnableSTARTTLS:!1,szSecSmtpUserName:"",oSecSmtpPassword:"",SecSmtpcofirmPassword:"",szSecSmtpPortDef:25},oParamsValid:{oEmailSendName:{lengthRange:[0,32]},oEmailSendAddr:{required:!0,lengthRange:[1,64],isEmail:!0},oEmailSmtpServer:{required:!0,lengthRange:[0,64]},oEmailSmtpPort:{required:!0,range:[1,65535]},oEmailUserName:{lengthRange:[1,32]},oPassword:{lengthRange:[0,32]},oPasswordConfirm:{lengthRange:[0,32]},oSecPassword:{lengthRange:[0,32]},oSecPasswordConfirm:{lengthRange:[0,32]},oSecEmailSmtpPort:{required:!0,range:[1,65535]}},oCacheData:{name:"",emailAddress:""},btnsTips:[{action:"delete",text:this.$t("delete"),color:"#ff3a32"}],tableData:[]}},watch:{"oParams.enable":{handler:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t&&u["a"].stateAlert(this.$t("enableInstantPreviewsTips"));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0},"oParams.bAuthentication":{handler:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t?(this.oParamsValid.oEmailUserName.skipVerify=!1,this.oParams.oPassword.skipVerify=!1):(this.oParamsValid.oEmailUserName.skipVerify=!0,this.oParams.oPassword.skipVerify=!0);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0},aReceiverItems:function(){var e=this,t=this.aReceiverItems.map((function(e){return{name:e.item.name,emailAddress:e.item.emailAddress,index:e.item.value,title:e.item.name,label:e.item.emailAddress,id:e.item.value,"is-link":!0,center:!0}}));this.tableData=t,setTimeout((function(){e.$refs.table&&e.$refs.table.refresh()}))}},created:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.oCap.bNVR=0===d["a"].iDeviceType,this.$store.registerModule("emailModule",b({},l["a"])),!this.oCap.bNVR){e.next=5;break}return e.next=5,this.getCap();case 5:return e.next=7,this.getInfo();case 7:this.oParams.oPassword.szPassword=this.oParams.oPassword.szPasswordConfirm=""===this.oParams.szUserName?"":this.oParams.oPassword.szPasswordDefault;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),destroyed:function(){this.$store.unregisterModule("emailModule")},methods:{validatConfirmPS:function(){this.oParams.oPassword.szPassword!==this.oParams.oPassword.szPasswordConfirm&&u["a"].tip(this.$t("passNotMatch"))},clear:function(e){0===e&&this.oParams.oPassword.szPassword===this.oParams.oPassword.szPasswordDefault?this.oParams.oPassword.szPassword="":1===e&&this.oParams.oPassword.szPasswordConfirm===this.oParams.oPassword.szPasswordDefault&&(this.oParams.oPassword.szPasswordConfirm="")},showTable:function(){this.bShowTable=!0},cancelcallback:function(){this.bShowTable=!1},confirm:function(){this.bShowTable=!1},showTableItem:function(){this.bShowTableItem=!0},editCancelcallback:function(){this.aReceiverItems[this.aReceiverIndex].item.name=this.oCacheData.name,this.aReceiverItems[this.aReceiverIndex].item.emailAddress=this.oCacheData.emailAddress,this.bShowTableItem=!1},editConfirm:function(){this.editValidate.validateAll(),u["a"].validateTips(this.editValidate.getErrorReport())&&(this.aReceiverItems=JSON.parse(JSON.stringify(this.aReceiverItems)),this.bShowTableItem=!1)},getCap:function(){var t=this;return new Promise((function(a){var i={urlCGI:"emailCap",params:null,data:null,loading:!0};p["a"].get(i).then((function(i){var n=i.oResult;e(n).find("backupSMTPList").length?t.oCap.bSupportSecondarySMTP=!0:t.oCap.bSupportSecondarySMTP=!1,a(i)}),(function(e){m["a"].saveState(e),a(e)}))}))},isEmail:function(e){return/^\w+((-\w+)|(\.\w+))*@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/.test(e)},getInfo:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=s["a"].m_oDeviceCapa.bSupportEmailEncrypt?"emailModule/getEmailInfoEncrypt":"emailModule/getEmailInfo",t.next=3,this.$store.dispatch(a).then((function(t){i.oCap.aEncryptionType=[];var a=["disabled"];e(t).find("enableSSL").length&&a.push("SSL"),e(t).find("enableTLS").length&&a.push("TLS"),e(t).find("startTLS").length&&(i.oCap.bSupportSmartTLS=!0),i.oCap.aEncryptionType=a.map((function(e){return{text:"disabled"===e?i.$t("notEncryption"):e,value:e}}));var n=e(t).find("sender").eq(0),o=e(t).find("attachment").eq(0);if(i.oParams.szSenderName=c["a"].nodeValue(n,"name"),i.oParams.szSenderAddress=c["a"].nodeValue(n,"emailAddress"),"hostname"===c["a"].nodeValue(n,"addressingFormatType")?i.oParams.szSmtpServer=c["a"].nodeValue(n,"hostName"):i.oParams.szSmtpServer=n.find("ipAddress").length?"0.0.0.0"===c["a"].nodeValue(n,"ipAddress")?"":c["a"].nodeValue(n,"ipAddress"):c["a"].nodeValue(n,"ipv6Address"),i.oParams.szSmtpPort=c["a"].nodeValue(n,"portNo"),i.oParams.bEnableSSL=c["a"].nodeValue(n,"enableSSL","b"),c["a"].nodeValue(n,"enableSSL","b")?i.oParams.szEncryptionType="SSL":c["a"].nodeValue(n,"enableTLS","b")?i.oParams.szEncryptionType="TLS":i.oParams.szEncryptionType="disabled",i.oParams.bEnableSTARTTLS=c["a"].nodeValue(n,"startTLS","b"),i.oCap.bSptSnapShoot&&(i.oParams.bEnablePic=c["a"].nodeValue(o,"enabled","b"),i.oParams.szPicInterval=c["a"].nodeValue(o,"interval")),i.oParams.bAuthentication=c["a"].nodeValue(n,"enableAuthorization","b"),i.oParams.szUserName=c["a"].nodeValue(n,"accountName"),i.oParams.szUserName&&(i.oParams.oPassword.szPassword=i.oParams.oPassword.szPasswordDefault),console.log("🚀 ~ awaitthis.$store.dispatch ~  this.oParams:",i.oParams),i.oParams.aReceiverList=e(t).find("receiverList").eq(0).find("receiver"),i.oCap.bSupportSecondarySMTP){var r=i;e(t).find("backupSMTPList backupSMTP").each((function(t,a){r.oParams.bSecSmtpAuthentication=c["a"].nodeValue(a,"enableAuthorization","b"),"hostname"===c["a"].nodeValue(a,"addressingFormatType")?r.oParams.szSecSmtpServer=c["a"].nodeValue(a,"hostName"):e(a).find("ipAddress").length>0?"0.0.0.0"===c["a"].nodeValue(n,"ipAddress")?r.oParams.szSecSmtpServer="":r.oParams.szSecSmtpServer=c["a"].nodeValue(a,"ipAddress"):r.oParams.szSecSmtpServer=c["a"].nodeValue(a,"ipv6Address"),r.oParams.szSecSmtpPort=c["a"].nodeValue(a,"portNo"),r.oParams.bSecSmtpEnableSSL=c["a"].nodeValue(a,"enableSSL","b"),r.oParams.szSecSmtpUserName=c["a"].nodeValue(a,"accountName"),r.oParams.benabledSecSmtp=c["a"].nodeValue(a,"enabled","b")}))}i.aReceiverItems=[],e(t).find("receiverList").eq(0).find("receiver").each((function(e,t){i.aReceiverItems.push({item:{name:c["a"].nodeValue(t,"name"),emailAddress:c["a"].nodeValue(t,"emailAddress"),value:e},btns:[{action:"delete",text:i.$t("delete"),color:"#ff3a32"}]})}))}));case 3:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),save:function(){if(this.validate.validateAll(),u["a"].validateTips(this.validate.getErrorReport()))if(this.oParams.oPassword.szPassword!==this.oParams.oPassword.szPasswordConfirm)u["a"].tip(this.$t("passNotMatch"));else{var e=c["a"].checkAddressingType(this.oParams.szSmtpServer),t="<?xml version='1.0' encoding='UTF-8'?>\n            <mailingList>\n              <mailing>\n                <id>1</id>\n                <sender>\n                  <name>".concat(this.oParams.szSenderName.replace(/</g,"&lt;"),"</name>\n                  <emailAddress>").concat(this.oParams.szSenderAddress,"</emailAddress>\n                  <smtp>\n                    <enableAuthorization>").concat(this.oParams.bAuthentication.toString(),"</enableAuthorization>\n                    ").concat("hostName"===e?"<addressingFormatType>hostname</addressingFormatType><hostName>".concat(this.oParams.szSmtpServer.replace(/</g,"&lt;"),"</hostName>"):"ipAddress"===e?"<addressingFormatType>ipaddress</addressingFormatType><ipAddress>".concat(this.oParams.szSmtpServer,"</ipAddress>"):"ipv6Address"===e?"<addressingFormatType>ipaddress</addressingFormatType><ipv6Address>".concat(this.oParams.szSmtpServer,"</ipv6Address>"):"");if(this.oCap.bNVR?t+="<enableSSL>"+this.oParams.bEnableSSL.toString()+"</enableSSL>":"SSL"===this.oParams.szEncryptionType?t+="<enableSSL>true</enableSSL>":"TLS"===this.oParams.szEncryptionType&&(t+="<enableTLS>true</enableTLS>"),!this.oCap.bSupportSmartTLS||"TLS"!==this.oParams.szEncryptionType&&"SSL"!==this.oParams.szEncryptionType||(t+="<startTLS>"+this.oParams.bEnableSTARTTLS.toString()+"</startTLS>"),t+="<portNo>"+this.oParams.szSmtpPort+"</portNo><accountName>"+this.oParams.szUserName.replace(/</g,"&lt;")+"</accountName>",this.oParams.oPassword.szPassword!==this.oParams.oPassword.szPasswordDefault&&(t+="<password>"+this.oParams.oPassword.szPassword.replace(/</g,"&lt;")+"</password>"),t+="</smtp>",this.oCap.bSupportSecondarySMTP){t+="<backupSMTPList><backupSMTP><enableAuthorization>"+this.oParams.bSecSmtpAuthentication.toString()+"</enableAuthorization>",t+="<enableSSL>"+this.oParams.bSecSmtpEnableSSL.toString()+"</enableSSL>";var a=c["a"].checkAddressingType(this.oParams.szSecSmtpServer);"hostName"===a?t+="<addressingFormatType>hostname</addressingFormatType><hostName>"+this.oParams.szSecSmtpServer.replace(/</g,"&lt;")+"</hostName>":"ipAddress"===a?t+="<addressingFormatType>ipaddress</addressingFormatType><ipAddress>"+this.oParams.szSecSmtpServer+"</ipAddress>":"ipv6Address"===a&&(t+="<addressingFormatType>ipaddress</addressingFormatType><ipv6Address>"+this.oParams.szSecSmtpServer+"</ipv6Address>"),this.oParams.szSecSmtpPort?t+="<portNo>"+this.oParams.szSecSmtpPort+"</portNo>":t+="<portNo>"+this.oParams.szSecSmtpPortDef+"</portNo>",t+="<accountName>"+this.oParams.szSecSmtpUserName.replace(/</g,"&lt;")+"</accountName>",t+="<password>"+this.oParams.oSecSmtpPassword.replace(/</g,"&lt;")+"</password>",t+="<enabled>"+this.oParams.benabledSecSmtp.toString()+"</enabled>",t+="</backupSMTP></backupSMTPList>"}t+="</sender><receiverList>",this.aReceiverItems.forEach((function(e,a){t+="<receiver><id>"+(a+1)+"</id><name>"+e.item.name.replace(/</g,"&lt;")+"</name><emailAddress>"+e.item.emailAddress+"</emailAddress></receiver>"})),t+="</receiverList><attachment>",this.oCap.bSptSnapShoot&&(t+="<snapshot><enabled>"+this.oParams.bEnablePic.toString()+"</enabled><enabled>"+this.oParams.bEnablePic.toString()+"</enabled><interval>"+this.oParams.szPicInterval+"</interval></snapshot>"),t+="</attachment></mailing></mailingList>";var i=c["a"].parseXmlFromStr(t),n={urlCGI:"email",params:null,loading:!0,data:i};this.bLazyLoading=!0,this.$store.dispatch("emailModule/save",n),this.bLazyLoading=!1}},testEmail:function(e){var t=c["a"].checkAddressingType(this.oParams.szSmtpServer),a="<?xml version='1.0' encoding='utf-8'?>\n      <mailingTestDescription>\n      <sendName>".concat(this.oParams.szSenderName.replace(/</g,"&lt;"),"</sendName>\n      <sendEmailAddress>").concat(this.oParams.szSenderAddress,"</sendEmailAddress>\n      ").concat("hostName"===t?"<addressingFormatType>hostname</addressingFormatType><hostName> ".concat(this.oParams.szSmtpServer.replace(/</g,"&lt;"),"</hostName>"):"ipv6Address"===t?"<addressingFormatType>ipaddress</addressingFormatType><ipv6Address>".concat(this.oParams.szSmtpServer,"</ipv6Address>"):"<addressingFormatType>ipaddress</addressingFormatType><ipAddress>".concat(this.oParams.szSmtpServer,"</ipAddress>"));if(this.oCap.bNVR?a+="<enableSSL>"+this.oParams.bEnableSSL.toString()+"</enableSSL>":"SSL"===this.oParams.szEncryptionType?a+="<enableSSL>true</enableSSL>":"TLS"===this.oParams.szEncryptionType&&(a+="<enableTLS>true</enableTLS>"),!this.oCap.bSupportSmartTLS||"TLS"!==this.oParams.szEncryptionType&&"SSL"!==this.oParams.szEncryptionType||(a+="<startTLS>"+this.oParams.bEnableSTARTTLS.toString()+"</startTLS>"),a+="<portNo>"+this.oParams.szSmtpPort+"</portNo>",a+="<enableAuthorization>"+this.oParams.bAuthentication.toString()+"</enableAuthorization>",this.oParams.bAuthentication&&(a+="<accountName>"+this.oParams.szUserName.replace(/</g,"&lt;")+"</accountName>",this.oParams.oPassword.szPassword!==this.oParams.oPassword.szPasswordDefault&&(a+="<password>"+this.oParams.oPassword.szPassword+"</password>")),this.isEmail(this.aReceiverItems[e].item.emailAddress)){a+="<receiverList><receiver><id>"+(e+1)+"</id><name>"+this.aReceiverItems[e].item.name.replace(/</g,"&lt;")+"</name><emailAddress>"+this.aReceiverItems[e].item.emailAddress+"</emailAddress></receiver></receiverList>",a+="</mailingTestDescription>";var i=c["a"].parseXmlFromStr(a);s["a"].testNet("testEmail",i)}else u["a"].tip(this.$t("emailMessage"))},onBtnClick:function(e,t){"delete"===e.action&&this.aReceiverItems.splice(t,1)},onItemClick:function(e){this.oCacheData.name=e.name,this.oCacheData.emailAddress=e.emailAddress,this.aReceiverIndex=e.index,this.bShowTableItem=!0}}}}).call(this,a("1157"))},eaa4:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAABHNCSVQICAgIfAhkiAAAAqlJREFUeJztmz2u1DAURg9PFEjUlFS0rOA1XCoqdkGJ2MLcWQBCdLRsAFHRjp9EzwKgoKSgYAdDQaKZ52fHmeTasYWPFGXsSb5cf3P9k2gCnU6nE+fexteXSL0rGANQ1ggd9ruZx7thv/fKTaLAATgabIdBT8qFvx7FpvFTpkihtixCyWtANkOsxghlft/fn312ge8FeHb2OcXziE5xlPQvp5wGy0sR4uPMYWnQ1qQGQjW8lgSutzlCOQNCKBUMlsJ2BlRFrDvohjEVp5tAfHaQ7UKazWPg2kJIaDcTrjnF+3mtWKhL6FrRAjwCvnM77ndLxYS7JlSzkEnwhXAmv1kiFsoGsYgyM++ZXuu8vERMAgItZMNr0sv+P8DTuYItZsML5t+9fgMepgQlcGLt2fAE+MVlt/KfUqISOEmsIzfmK5eZMG5vp0RD3aJmPrDMhCNwvJoQFq/sDIPOwf0cJ0ugbh+oq4lXwA/ggVcvnJ54jXwEfp6Vf8dElba6RYrkqniqa/xXxIzwU8lljiM3ziv77esZMdKNGOhGDHQjBroRAzEjbryyZI4jN+KV/fb1jBgZl9jCbdfEP5B/c7EL1KtdOFmQQJ0LHaisuGuj/mcUs+6ir1i/arzT3ypDvLKbOlhZnhE1Iyx4uBRKodSWFN2YUJtk6YmxTW1jNkdYMZ6FTm7RBDB4Ai8BgdZMEIxmNw0ItTBVjqzOhnM0INYCSoYf8NxZWStWACXj7CZWQpkR2h3TzFC6Cc0P7CYoFa96hfxBKA0s/c9nmgO2QSnTBqjhtVahxPurrNCM6ZqZYPkqkzBvgHLD/ob4awoju5nX3lNRNgh2ry3N3bRAuxYj5DdEC7XFBCHPy21ZKPW6owz7nVdOMf45RQ1jCbLlC7ASqXcFY+h0Op1Z/AWVezoQvD85OQAAAABJRU5ErkJggg=="},eaf3:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("alarmInput"),"left-type":"back","show-save-button":!0,"save-text":e.$t("save"),"b-lazy-loading":e.bLazyLoading},on:{"save-handle":e.save}},[t("div",{staticClass:"alarmInput-page-wrapper",attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"hm-index-list-item"},[t("hm-validator-group",{staticClass:"custom-cell-group",attrs:{result:e.validate,title:" "}},[t("hm-cell-group",{attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("alarmInputNo")}},[t("hm-input",{attrs:{disabled:!0},model:{value:e.oEventInfo.szAlarmInputId,callback:function(t){e.$set(e.oEventInfo,"szAlarmInputId",t)},expression:"oEventInfo.szAlarmInputId"}})],1),t("hm-cell",{attrs:{title:e.$t("ipAddr")}},[t("hm-input",{attrs:{disabled:!0},model:{value:e.oEventInfo.szIPAddress,callback:function(t){e.$set(e.oEventInfo,"szIPAddress",t)},expression:"oEventInfo.szIPAddress"}})],1),t("hm-cell",{attrs:{title:e.$t("alarmType")}},[t("base-select",{attrs:{title:e.$t("alarmType"),disabled:!e.oEventInfo.szAlarmType,options:e.oEventCap.aAlarmType},model:{value:e.oEventInfo.szAlarmType,callback:function(t){e.$set(e.oEventInfo,"szAlarmType",t)},expression:"oEventInfo.szAlarmType"}})],1),t("hm-cell",{class:{"cell-require":e.oInputDataValid.oAlarmNameValid&&e.oInputDataValid.oAlarmNameValid.required},attrs:{title:e.$t("alarmName")}},[t("hm-input",{model:{value:e.oEventInfo.szAlarmName,callback:function(t){e.$set(e.oEventInfo,"szAlarmName",t)},expression:"oEventInfo.szAlarmName"}}),t("hm-validator",{attrs:{model:e.oEventInfo.szAlarmName,rules:e.oInputDataValid.oAlarmNameValid,param:e.$t("alarmName")}})],1),t("hm-cell",{attrs:{title:e.$t("processAlarmInput")}},[t("hm-switch",{model:{value:e.oEventInfo.bEnableAlarmInput,callback:function(t){e.$set(e.oEventInfo,"bEnableAlarmInput",t)},expression:"oEventInfo.bEnableAlarmInput"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oEventCap.bSupportCombinationAlarm,expression:"oEventCap.bSupportCombinationAlarm"}],attrs:{"is-link":"",title:e.$t("combinationAlarm")},nativeOn:{click:function(t){return e.showCombinationAlarm()}}})],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("armSchedulePlan")}},[t("hm-cell",{attrs:{"is-link":"",title:e.$t("armSchedulePlan")},nativeOn:{click:function(t){return e.showArmSchedule()}}})],1),e.bShowLink?t("base-link",{ref:"link",attrs:{link:e.oEventInfo.oLink}}):e._e()],1)],1),e.bShowSchedule?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:e.$t("armSchedule"),"show-footer":!0,"enable-cancel-callback":e.bEnableCancelCallback},on:{cancelcallback:e.cancelCallbackArmSchedule,confirm:e.confirmArmSchedule,delete:e.deleteAll}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"time-plan-padding swipe-wrapper-show-footer"},[t("hm-scroll",[t("time-plan",{ref:"timePlan",attrs:{"times-data":e.oEventInfo.oScheduleTimes,holiday:e.oEventCap.bSupportHoliday,"show-types":e.bShowTypes}})],1)],1)])])],1):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:e.bShowAlarm,expression:"bShowAlarm"}],staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:e.$t("combinationAlarm"),"enable-cancel-callback":e.bEnableCancelCallback},on:{cancelcallback:e.cancelCallbackAlarm,confirm:e.confirmAlarm}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"swipe-wrapper"},[t("hm-scroll",[t("hm-cell-group",[t("hm-cell",{attrs:{title:e.$t("camera")}},[t("base-select",{attrs:{title:e.$t("camera"),options:e.oEventInfo.aCombinationChannel},model:{value:e.oEventInfo.iChannelId,callback:function(t){e.$set(e.oEventInfo,"iChannelId",t)},expression:"oEventInfo.iChannelId"}})],1)],1),t("hm-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[t("hm-collapse-item",{attrs:{title:e.$t("combinationAlarmEvent"),name:"1"}},[t("hm-cell-group",[t("hm-checkbox",{attrs:{position:"left"},on:{input:function(t){return e.selAllEvent()}},model:{value:e.oEventInfo.bSelAllEvent,callback:function(t){e.$set(e.oEventInfo,"bSelAllEvent",t)},expression:"oEventInfo.bSelAllEvent"}},[e._v(e._s(e.$t("selectAll")))]),e._l(e.oEventInfo.aEventType,(function(a,i){return t("hm-checkbox",{key:i,attrs:{option:a,position:"left"},model:{value:a.bCheck,callback:function(t){e.$set(a,"bCheck",t)},expression:"oEventType.bCheck"}},[e._v(e._s(a.name))])}))],2)],1)],1)],1)],1)])])],1),t("base-view")],1)])},n=[],o=a("1e96"),r=o["a"],s=(a("ebaa"),a("0831"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"9d8e7636",null);t["default"]=l.exports},eb19:function(e,t,a){"use strict";(function(e){a("96cf");var i=a("1da1"),n=a("1c1a"),o=a("962a"),r=a("142c"),s=a("c050"),l=a("47b5");t["a"]={name:"WifiNvr",components:{BaseView:n["a"],BasePageExtend:o["a"],BaseSelect:l["a"]},data:function(){return{validate:{},oParams:{},oParamsValid:{},oCapbilities:{},oWifiParams:{},oListInfo:[],oDetailInfo:[],bShowTableItem:!1,aNetworkModeManage:[{value:"infrastructure",text:"Manage"},{value:"adhoc",text:"WEAd-HocP"}],aSecurityMode:[{value:"disable",text:"not-encrypted"},{value:"WEP",text:"WEP"},{value:"WPA-personal",text:"WPA-personal"},{value:"WPA-enterprise",text:"WPA-enterprise"},{value:"WPA2-personal",text:"WPA2-personal"},{value:"WPA2-enterprise",text:"WPA2-enterprise"}],aEncryptionType:[{value:"TKIP",text:"TKIP"},{value:"AES",text:"AES"}],aAuthentication:[{text:this.$t("openType"),value:"open"},{text:this.$t("shareType"),value:"sharedkey"}],aKeyLength:[{text:"64bit",value:"64"},{text:"128bit",value:"128"}],aKeyType:[{text:this.$t("hex"),value:"HEX"},{text:"ASCII",value:"ASC"}],aEnterpriseType:[{value:"EAP-TLS",text:"EAP-TLS"},{value:"EAP-PEAP",text:"EAP-PEAP"},{value:"EAP-TTLS",text:"EAP-TTLS"}],aPEAPVersion:[{value:"0",text:"0"},{value:"1",text:"1"}],aPEAPLabel:[{value:"old",text:this.$t("old")},{value:"new",text:this.$t("new")}],aInnerAuthentication:[{value:"EAP-GTC",text:"GTC"},{value:"EAP-MD5",text:"MD5"},{value:"MS-CHAPv2",text:"MSCHAPv2"}],aInnerAuthenticationMode:[{value:"PAP",text:"PAP"},{value:"MS-CHAPv2",text:"MSCHAPv2"}],aEAPOLVersion:[{value:"1",text:"1"},{value:"2",text:"2"}],aConnectMode:[{label:this.$t("pbcConnect"),value:"0"},{label:this.$t("manualConnect"),value:"1"}],aKeyChoose:[{value:"1",text:this.$t("key")+"1"},{value:"2",text:this.$t("key")+"2"},{value:"3",text:this.$t("key")+"3"},{value:"4",text:this.$t("key")+"4"}]}},watch:{"oWifiParams.szSecurityMode":{handler:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:"disable"===a?(this.oParamsValid.oKey1.bSkipValid=!0,this.oParamsValid.oKey2.bSkipValid=!0,this.oParamsValid.oKey3.bSkipValid=!0,this.oParamsValid.oKey4.bSkipValid=!0,this.oParamsValid.oUserName.bSkipValid=!0,this.oParamsValid.oPassword.bSkipValid=!0,this.oParamsValid.oAnonymousIdentity.bSkipValid=!0,this.oParamsValid.oIdentity.bSkipValid=!0,this.oParamsValid.oPrivateKeyPassword.bSkipValid=!0):"WPA-personal"===a||"WPA2-personal"===a?(this.aKeyChoose=[{value:"1",text:this.$t("key")+"1"}],this.oParams.szKeyChoose="1",this.oParamsValid.oKey1.bSkipValid=!1,this.oParamsValid.oKey2.bSkipValid=!0,this.oParamsValid.oKey3.bSkipValid=!0,this.oParamsValid.oKey4.bSkipValid=!0,this.oParamsValid.oUserName.bSkipValid=!0,this.oParamsValid.oPassword.bSkipValid=!0,this.oParamsValid.oAnonymousIdentity.bSkipValid=!0,this.oParamsValid.oIdentity.bSkipValid=!0,this.oParamsValid.oPrivateKeyPassword.bSkipValid=!0,this.oParamsValid.oKey1.required=!0,this.oParamsValid.oKey1.lengthRange[0]=8,this.oParamsValid.oKey1.lengthRange[1]=63):"WPA-enterprise"===a||"WPA2-enterprise"===a?(this.oParamsValid.oKey1.bSkipValid=!0,this.oParamsValid.oKey2.bSkipValid=!0,this.oParamsValid.oKey3.bSkipValid=!0,this.oParamsValid.oKey4.bSkipValid=!0,this.changeEnterpriseType()):"WEP"===a&&(this.aKeyChoose=[{value:"1",text:this.$t("key")+"1"},{value:"2",text:this.$t("key")+"2"},{value:"3",text:this.$t("key")+"3"},{value:"4",text:this.$t("key")+"4"}],this.oParamsValid.oUserName.bSkipValid=!0,this.oParamsValid.oPassword.bSkipValid=!0,this.oParamsValid.oAnonymousIdentity.bSkipValid=!0,this.oParamsValid.oIdentity.bSkipValid=!0,this.oParamsValid.oPrivateKeyPassword.bSkipValid=!0,this.changeKeyChoose()),-1!==e.inArray(a,this.oCapbilities.aSupport64bitKey)&&(this.oParamsValid.oKey1.lengthRange[1]=64);case 2:case"end":return t.stop()}}),t,this)})));function a(e){return t.apply(this,arguments)}return a}(),deep:!0},"oParams.szKeyChoose":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"WEP"===this.oWifiParams.szSecurityMode&&this.changeKeyChoose();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),deep:!0},"oParams.szEnterpriseType":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"WPA-enterprise"!==this.oWifiParams.szSecurityMode&&"WPA2-enterprise"!==this.oWifiParams.szSecurityMode||this.changeEnterpriseType();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),deep:!0},"oParams.szKeyLength":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"WEP"===this.oWifiParams.szSecurityMode&&this.changeKey(this.oParams.szKeyChoose);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),deep:!0},"oParams.szKeyType":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"WEP"===this.oWifiParams.szSecurityMode&&this.changeKey(this.oParams.szKeyChoose);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),deep:!0},"oParams.szConnectMode":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t&&(this.oParams.bEnableWps&&"0"!==t?(this.oParamsValid.oApPinCode.bSkipValid=!1,this.oParamsValid.oApPinSSID.bSkipValid=!0):(this.oParamsValid.oApPinCode.bSkipValid=!0,this.oParamsValid.oApPinSSID.bSkipValid=!0));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0},"oParams.bEnableWps":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t&&(t&&"0"!==this.oParams.szConnectMode?(this.oParamsValid.oApPinCode.bSkipValid=!1,this.oParamsValid.oApPinSSID.bSkipValid=!0):(this.oParamsValid.oApPinCode.bSkipValid=!0,this.oParamsValid.oApPinSSID.bSkipValid=!0));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0}},created:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r["a"].initWifi().finally((function(){t.oParams=r["a"].m_oParams,t.oParamsValid=r["a"].m_oParamsValid,t.oCapbilities=r["a"].m_oCapbilities,t.oWifiParams=r["a"].m_oWifiParams,t.oListInfo=r["a"].m_oParams.tableData.tableItem}));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),methods:{getChannelDetail:function(e){e<0||(this.oDetailInfo=this.oListInfo[e],this.bShowTableItem=!0)},confirm:function(){this.bShowTableItem=!1},cancelCallBack:function(){this.bShowTableItem=!1},search:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r["a"].getWifiList();case 2:this.oListInfo=r["a"].m_oParams.tableData.tableItem;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),connect:function(){"1"===this.oParams.szConnectMode?r["a"].manualConnect():r["a"].autoConnect()},generatePinCode:function(){r["a"].generatePinCode()},save:function(){this.validate.validateAll(),s["a"].validateTips(this.validate.getErrorReport())&&r["a"].setsave()},changeEnterpriseType:function(){"EAP-TLS"===this.oParams.szEnterpriseType?(this.oParamsValid.oUserName.bSkipValid=!0,this.oParamsValid.oPassword.bSkipValid=!0,this.oParamsValid.oAnonymousIdentity.bSkipValid=!0,this.oParamsValid.oIdentity.bSkipValid=!1,this.oParamsValid.oPrivateKeyPassword.bSkipValid=!1):"EAP-PEAP"!==this.oParams.szEnterpriseType&&"EAP-TTLS"!==this.oParams.szEnterpriseType||(this.oParamsValid.oUserName.bSkipValid=!1,this.oParamsValid.oPassword.bSkipValid=!1,this.oParamsValid.oAnonymousIdentity.bSkipValid=!1,this.oParamsValid.oIdentity.bSkipValid=!0,this.oParamsValid.oPrivateKeyPassword.bSkipValid=!0)},changeKeyChoose:function(){this.oParamsValid.oKey1.bSkipValid=!0,this.oParamsValid.oKey2.bSkipValid=!0,this.oParamsValid.oKey3.bSkipValid=!0,this.oParamsValid.oKey4.bSkipValid=!0,"1"===this.oParams.szKeyChoose?(this.oParamsValid.oKey1.bSkipValid=!1,this.oParamsValid.oKey1.required=!0):"2"===this.oParams.szKeyChoose?(this.oParamsValid.oKey2.bSkipValid=!1,this.oParamsValid.oKey2.required=!0):"3"===this.oParams.szKeyChoose?(this.oParamsValid.oKey3.bSkipValid=!1,this.oParamsValid.oKey3.required=!0):"4"===this.oParams.szKeyChoose&&(this.oParamsValid.oKey4.bSkipValid=!1,this.oParamsValid.oKey4.required=!0),this.changeKey(this.oParams.szKeyChoose)},changeKey:function(e){var t=0;"128"===this.oParams.szKeyLength?"HEX"===this.oParams.szKeyType?t=26:"ASC"===this.oParams.szKeyType&&(t=13):"64"===this.oParams.szKeyLength&&("HEX"===this.oParams.szKeyType?t=10:"ASC"===this.oParams.szKeyType&&(t=5)),"1"===e?(this.oParamsValid.oKey1.bSkipValid=!1,this.oParamsValid.oKey1.required=!0,this.oParamsValid.oKey1.lengthRange[0]=t,this.oParamsValid.oKey1.lengthRange[1]=t):"2"===e?(this.oParamsValid.oKey2.bSkipValid=!1,this.oParamsValid.oKey2.required=!0,this.oParamsValid.oKey2.lengthRange[0]=t,this.oParamsValid.oKey2.lengthRange[1]=t):"3"===e?(this.oParamsValid.oKey3.bSkipValid=!1,this.oParamsValid.oKey3.required=!0,this.oParamsValid.oKey3.lengthRange[0]=t,this.oParamsValid.oKey3.lengthRange[1]=t):"4"===e&&(this.oParamsValid.oKey4.bSkipValid=!1,this.oParamsValid.oKey4.required=!0,this.oParamsValid.oKey4.lengthRange[0]=t,this.oParamsValid.oKey4.lengthRange[1]=t)}}}}).call(this,a("1157"))},eb44:function(e,t,a){},eb58:function(e,t,a){"use strict";a("94fb")},eb91:function(e,t,a){"use strict";a("78eb")},ebaa:function(e,t,a){"use strict";a("bd20")},ebd3:function(e,t,a){},ec2a:function(e,t,a){"use strict";a.r(t);a("386d");var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wifi-wrapper"},[t("hm-scroll",[t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",{staticClass:"cell-group"},[t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapbilities.bSupportWifiEnable,expression:"oCapbilities.bSupportWifiEnable"}],attrs:{title:e.$t("enable")}},[t("hm-switch",{model:{value:e.oWifiParams.bEnableWifi,callback:function(t){e.$set(e.oWifiParams,"bEnableWifi",t)},expression:"oWifiParams.bEnableWifi"}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.oCapbilities.bSupportMutexWithWirelessServer&&e.oWifiParams.bEnableWifi,expression:"oCapbilities.bSupportMutexWithWirelessServer && oWifiParams.bEnableWifi"}],staticClass:"psk"},[e._v("\n          "+e._s(e.$t("mutexWithWirelessServer"))+"\n        ")])],1),t("div",[t("hm-cell-group",{attrs:{title:e.$t("wifiList")}},[t("button",{staticClass:"search-button",attrs:{disabled:e.oParams.bSearching},on:{click:function(t){return e.search(1)}}},[e._v(e._s(e.$t("search1")))]),e._l(e.oListInfo,(function(a,i){return t("hm-cell",{key:i,attrs:{"is-link":"",title:"No."+a[0],label:a[1]},nativeOn:{click:function(t){return e.getChannelDetail(i)}}})}))],2)],1),t("hm-cell-group",{staticClass:"cell-group",attrs:{title:"Wi-Fi"}},[t("hm-cell",{class:{"cell-require":e.oParamsValid.oSSID&&e.oParamsValid.oSSID.required},attrs:{title:"SSID"}},[t("hm-input",{model:{value:e.oWifiParams.szSSID,callback:function(t){e.$set(e.oWifiParams,"szSSID",t)},expression:"oWifiParams.szSSID"}})],1),t("hm-validator",{attrs:{model:e.oWifiParams.szSSID,rules:e.oParamsValid.oSSID,param:"SSID"}}),t("hm-cell",{attrs:{title:e.$t("securityMode")}},[t("base-select",{attrs:{title:e.$t("securityMode"),options:e.aSecurityMode},model:{value:e.oWifiParams.szSecurityMode,callback:function(t){e.$set(e.oWifiParams,"szSecurityMode",t)},expression:"oWifiParams.szSecurityMode"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oCapbilities.bSupportWifiRegion,expression:"oCapbilities.bSupportWifiRegion"}],attrs:{title:e.$t("areaCountry")}},[t("base-select",{attrs:{title:e.$t("areaCountry"),options:e.oCapbilities.aRegionList},model:{value:e.oParams.szRegion,callback:function(t){e.$set(e.oParams,"szRegion",t)},expression:"oParams.szRegion"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:"WPA-personal"===e.oWifiParams.szSecurityMode||"WPA2-personal"===e.oWifiParams.szSecurityMode,expression:"oWifiParams.szSecurityMode==='WPA-personal' || oWifiParams.szSecurityMode==='WPA2-personal'"}],attrs:{title:e.$t("encryptionType")}},[t("base-select",{attrs:{title:e.$t("encryptionType"),options:e.aEncryptionType},model:{value:e.oParams.szEncryptionType,callback:function(t){e.$set(e.oParams,"szEncryptionType",t)},expression:"oParams.szEncryptionType"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:"WEP"===e.oWifiParams.szSecurityMode,expression:"oWifiParams.szSecurityMode==='WEP'"}],attrs:{title:e.$t("authentication")}},[t("base-select",{attrs:{title:e.$t("authentication"),options:e.aAuthentication},model:{value:e.oParams.szAuthentication,callback:function(t){e.$set(e.oParams,"szAuthentication",t)},expression:"oParams.szAuthentication"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:"WEP"===e.oWifiParams.szSecurityMode,expression:"oWifiParams.szSecurityMode==='WEP'"}],attrs:{title:e.$t("keyLength")}},[t("base-select",{attrs:{title:e.$t("keyLength"),options:e.aKeyLength},model:{value:e.oParams.szKeyLength,callback:function(t){e.$set(e.oParams,"szKeyLength",t)},expression:"oParams.szKeyLength"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:"WEP"===e.oWifiParams.szSecurityMode,expression:"oWifiParams.szSecurityMode==='WEP'"}],attrs:{title:e.$t("keyType")}},[t("base-select",{attrs:{title:e.$t("keyType"),options:e.aKeyType},model:{value:e.oParams.szKeyType,callback:function(t){e.$set(e.oParams,"szKeyType",t)},expression:"oParams.szKeyType"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:"WEP"===e.oWifiParams.szSecurityMode||"WPA-personal"===e.oWifiParams.szSecurityMode||"WPA2-personal"===e.oWifiParams.szSecurityMode,expression:"oWifiParams.szSecurityMode==='WEP' || oWifiParams.szSecurityMode==='WPA-personal' || oWifiParams.szSecurityMode==='WPA2-personal'"}],attrs:{title:e.$t("key")}},[t("base-select",{attrs:{title:e.$t("key"),options:e.aKeyChoose},model:{value:e.oParams.szKeyChoose,callback:function(t){e.$set(e.oParams,"szKeyChoose",t)},expression:"oParams.szKeyChoose"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:"WEP"===e.oWifiParams.szSecurityMode||"WPA-personal"===e.oWifiParams.szSecurityMode||"WPA2-personal"===e.oWifiParams.szSecurityMode,expression:"oWifiParams.szSecurityMode==='WEP' || oWifiParams.szSecurityMode==='WPA-personal' || oWifiParams.szSecurityMode==='WPA2-personal'"}],class:{"cell-require":e.oParamsValid["oKey".concat(1*e.oParams.szKeyChoose)]&&e.oParamsValid["oKey".concat(1*e.oParams.szKeyChoose)].required},attrs:{title:e.$t("key")}},[t("hm-input",{attrs:{type:"password"},model:{value:e.oParams.aKey[1*e.oParams.szKeyChoose-1],callback:function(t){e.$set(e.oParams.aKey,1*e.oParams.szKeyChoose-1,t)},expression:"oParams.aKey[(oParams.szKeyChoose * 1 - 1)]"}}),"WEP"===e.oWifiParams.szSecurityMode||"WPA-personal"===e.oWifiParams.szSecurityMode||"WPA2-personal"===e.oWifiParams.szSecurityMode?t("hm-validator",{attrs:{model:e.oParams.aKey[1*e.oParams.szKeyChoose-1],rules:e.oParamsValid["oKey".concat(1*e.oParams.szKeyChoose)],param:e.$t("key")}}):e._e()],1),t("div",{directives:[{name:"show",rawName:"v-show",value:"WPA-personal"===e.oWifiParams.szSecurityMode||"WPA2-personal"===e.oWifiParams.szSecurityMode,expression:"oWifiParams.szSecurityMode==='WPA-personal' || oWifiParams.szSecurityMode==='WPA2-personal'"}],staticClass:"psk"},[e._v("\n          "+e._s(e.$t("pskPassword"))+"\n        ")]),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:"WPA-enterprise"===e.oWifiParams.szSecurityMode||"WPA2-enterprise"===e.oWifiParams.szSecurityMode,expression:"oWifiParams.szSecurityMode==='WPA-enterprise' || oWifiParams.szSecurityMode==='WPA2-enterprise'"}],attrs:{title:e.$t("authentication")}},[t("base-select",{attrs:{title:e.$t("authentication"),options:e.aEnterpriseType},model:{value:e.oParams.szEnterpriseType,callback:function(t){e.$set(e.oParams,"szEnterpriseType",t)},expression:"oParams.szEnterpriseType"}})],1),"WPA-enterprise"!==e.oWifiParams.szSecurityMode&&"WPA2-enterprise"!==e.oWifiParams.szSecurityMode||"EAP-TLS"===e.oParams.szEnterpriseType?e._e():t("div",[t("hm-cell",{class:{"cell-require":e.oParamsValid.oUserName&&e.oParamsValid.oUserName.required},attrs:{title:e.$t("username")}},[t("hm-input",{model:{value:e.oParams.szUsername,callback:function(t){e.$set(e.oParams,"szUsername",t)},expression:"oParams.szUsername"}})],1),t("hm-validator",{attrs:{model:e.oParams.szUsername,rules:e.oParamsValid.oUserName,param:e.$t("username")}})],1),"WPA-enterprise"!==e.oWifiParams.szSecurityMode&&"WPA2-enterprise"!==e.oWifiParams.szSecurityMode||"EAP-TLS"===e.oParams.szEnterpriseType?e._e():t("div",[t("hm-cell",{class:{"cell-require":e.oParamsValid.oPassword&&e.oParamsValid.oPassword.required},attrs:{title:e.$t("password")}},[t("hm-input",{attrs:{type:"password"},model:{value:e.oParams.szPassword,callback:function(t){e.$set(e.oParams,"szPassword",t)},expression:"oParams.szPassword"}})],1),t("hm-validator",{attrs:{model:e.oParams.szPassword,rules:e.oParamsValid.oPassword,param:e.$t("password")}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:("WPA-enterprise"===e.oWifiParams.szSecurityMode||"WPA2-enterprise"===e.oWifiParams.szSecurityMode)&&"EAP-PEAP"===e.oParams.szEnterpriseType,expression:"(oWifiParams.szSecurityMode==='WPA-enterprise' || oWifiParams.szSecurityMode==='WPA2-enterprise') && oParams.szEnterpriseType==='EAP-PEAP'"}],attrs:{title:e.$t("peapVersion")}},[t("base-select",{attrs:{title:e.$t("peapVersion"),options:e.aPEAPVersion},model:{value:e.oParams.szPEAPVersion,callback:function(t){e.$set(e.oParams,"szPEAPVersion",t)},expression:"oParams.szPEAPVersion"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:("WPA-enterprise"===e.oWifiParams.szSecurityMode||"WPA2-enterprise"===e.oWifiParams.szSecurityMode)&&"EAP-PEAP"===e.oParams.szEnterpriseType,expression:"(oWifiParams.szSecurityMode==='WPA-enterprise' || oWifiParams.szSecurityMode==='WPA2-enterprise') && oParams.szEnterpriseType==='EAP-PEAP'"}],attrs:{title:e.$t("peapLabel")}},[t("base-select",{attrs:{title:e.$t("peapLabel"),options:e.aPEAPLabel},model:{value:e.oParams.szPEAPLabel,callback:function(t){e.$set(e.oParams,"szPEAPLabel",t)},expression:"oParams.szPEAPLabel"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:("WPA-enterprise"===e.oWifiParams.szSecurityMode||"WPA2-enterprise"===e.oWifiParams.szSecurityMode)&&"EAP-PEAP"===e.oParams.szEnterpriseType,expression:"(oWifiParams.szSecurityMode==='WPA-enterprise' || oWifiParams.szSecurityMode==='WPA2-enterprise') && oParams.szEnterpriseType==='EAP-PEAP'"}],attrs:{title:e.$t("innerAuthentication")}},[t("base-select",{attrs:{title:e.$t("innerAuthentication"),options:e.aInnerAuthentication},model:{value:e.oParams.szInnerAuthentication,callback:function(t){e.$set(e.oParams,"szInnerAuthentication",t)},expression:"oParams.szInnerAuthentication"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:("WPA-enterprise"===e.oWifiParams.szSecurityMode||"WPA2-enterprise"===e.oWifiParams.szSecurityMode)&&"EAP-TTLS"===e.oParams.szEnterpriseType,expression:"(oWifiParams.szSecurityMode==='WPA-enterprise' || oWifiParams.szSecurityMode==='WPA2-enterprise') && oParams.szEnterpriseType==='EAP-TTLS'"}],attrs:{title:e.$t("innerAuthentication")}},[t("base-select",{attrs:{title:e.$t("innerAuthentication"),options:e.aInnerAuthenticationMode},model:{value:e.oParams.szInnerAuthenticationMode,callback:function(t){e.$set(e.oParams,"szInnerAuthenticationMode",t)},expression:"oParams.szInnerAuthenticationMode"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:("WPA-enterprise"===e.oWifiParams.szSecurityMode||"WPA2-enterprise"===e.oWifiParams.szSecurityMode)&&"EAP-TLS"!==e.oParams.szEnterpriseType,expression:"(oWifiParams.szSecurityMode==='WPA-enterprise' || oWifiParams.szSecurityMode==='WPA2-enterprise') && oParams.szEnterpriseType!=='EAP-TLS'"}],class:{"cell-require":e.oParamsValid.oAnonymousIdentity&&e.oParamsValid.oAnonymousIdentity.required},attrs:{title:e.$t("anonymousIdentity")}},[t("hm-input",{model:{value:e.oParams.szAnonymousIdentity,callback:function(t){e.$set(e.oParams,"szAnonymousIdentity",t)},expression:"oParams.szAnonymousIdentity"}})],1),t("hm-validator",{attrs:{model:e.oParams.szAnonymousIdentity,rules:e.oParamsValid.oAnonymousIdentity,param:e.$t("anonymousIdentity")}}),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:("WPA-enterprise"===e.oWifiParams.szSecurityMode||"WPA2-enterprise"===e.oWifiParams.szSecurityMode)&&"EAP-TLS"===e.oParams.szEnterpriseType,expression:"(oWifiParams.szSecurityMode==='WPA-enterprise' || oWifiParams.szSecurityMode==='WPA2-enterprise') && oParams.szEnterpriseType==='EAP-TLS'"}],class:{"cell-require":e.oParamsValid.oIdentity&&e.oParamsValid.oIdentity.required},attrs:{title:e.$t("identity")}},[t("hm-input",{model:{value:e.oParams.szIdentity,callback:function(t){e.$set(e.oParams,"szIdentity",t)},expression:"oParams.szIdentity"}})],1),"WPA-enterprise"!==e.oWifiParams.szSecurityMode&&"WPA2-enterprise"!==e.oWifiParams.szSecurityMode||"EAP-TLS"!==e.oParams.szEnterpriseType?e._e():t("hm-validator",{attrs:{model:e.oParams.szIdentity,rules:e.oParamsValid.oIdentity,param:e.$t("identity")}}),"WPA-enterprise"!==e.oWifiParams.szSecurityMode&&"WPA2-enterprise"!==e.oWifiParams.szSecurityMode||"EAP-TLS"!==e.oParams.szEnterpriseType?e._e():t("div",[t("hm-cell",{class:{"cell-require":e.oParamsValid.oPrivateKeyPassword&&e.oParamsValid.oPrivateKeyPassword.required},attrs:{title:e.$t("privateKeyPassword")}},[t("hm-input",{attrs:{type:"password"},model:{value:e.oParams.szPrivateKeyPassword,callback:function(t){e.$set(e.oParams,"szPrivateKeyPassword",t)},expression:"oParams.szPrivateKeyPassword"}})],1),t("hm-validator",{attrs:{model:e.oParams.szPrivateKeyPassword,rules:e.oParamsValid.oPrivateKeyPassword,param:e.$t("privateKeyPassword")}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:"WPA-enterprise"===e.oWifiParams.szSecurityMode||"WPA2-enterprise"===e.oWifiParams.szSecurityMode,expression:"oWifiParams.szSecurityMode==='WPA-enterprise' || oWifiParams.szSecurityMode==='WPA2-enterprise'"}],attrs:{title:e.$t("eapolVersion")}},[t("base-select",{attrs:{title:e.$t("eapolVersion"),options:e.aEAPOLVersion},model:{value:e.oParams.szEAPOLVersion,callback:function(t){e.$set(e.oParams,"szEAPOLVersion",t)},expression:"oParams.szEAPOLVersion"}})],1)],1),e.oCapbilities.bSupportWPS?t("hm-cell-group",{staticClass:"cell-group",attrs:{title:"WPS"}},[t("hm-cell",{attrs:{title:e.$t("enableWPS")}},[t("hm-switch",{model:{value:e.oParams.bEnableWps,callback:function(t){e.$set(e.oParams,"bEnableWps",t)},expression:"oParams.bEnableWps"}})],1),t("hm-cell",{attrs:{title:e.$t("pinCode")}},[t("hm-input",{attrs:{disabled:!e.oParams.bEnableWps,readonly:!0},model:{value:e.oParams.szPinCode,callback:function(t){e.$set(e.oParams,"szPinCode",t)},expression:"oParams.szPinCode"}})],1),t("div",{staticStyle:{background:"#fff",padding:"12px 0"}},[t("hm-button",{staticClass:"def-btn",attrs:{disabled:!e.oParams.bEnableWps},on:{click:e.generatePinCode}},[e._v("\n            "+e._s(e.$t("generate"))+"\n          ")])],1),t("hm-radio-group",{staticClass:"radio-check",attrs:{disabled:!e.oParams.bEnableWps,options:e.aConnectMode,position:"left","b-check":!0},model:{value:e.oParams.szConnectMode,callback:function(t){e.$set(e.oParams,"szConnectMode",t)},expression:"oParams.szConnectMode"}}),t("div",{staticStyle:{background:"#fff",padding:"12px 0"}},[t("hm-button",{staticClass:"def-btn",attrs:{disabled:!e.oParams.bEnableWps},on:{click:e.connect}},[e._v("\n            "+e._s(e.$t("connect"))+"\n          ")])],1),t("hm-cell",{attrs:{title:"SSID"}},[t("hm-input",{attrs:{disabled:!e.oParams.bEnableWps||"0"===e.oParams.szConnectMode},model:{value:e.oWifiParams.szWPSSSID,callback:function(t){e.$set(e.oWifiParams,"szWPSSSID",t)},expression:"oWifiParams.szWPSSSID"}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oApPinCode&&e.oParamsValid.oApPinCode.required},attrs:{title:e.$t("apPinCode")}},[t("hm-input",{attrs:{maxlength:8,disabled:!e.oParams.bEnableWps||"0"===e.oParams.szConnectMode},model:{value:e.oParams.szApPinCode,callback:function(t){e.$set(e.oParams,"szApPinCode",t)},expression:"oParams.szApPinCode"}})],1),t("hm-validator",{attrs:{model:e.oParams.szApPinCode,rules:e.oParamsValid.oApPinCode,disabled:!e.oParams.bEnableWps||"0"===e.oParams.szConnectMode,param:e.$t("apPinCode")}})],1):e._e()],1),t("div",{staticClass:"hm-btn-group"},[t("hm-button",{on:{click:e.save}},[e._v("\n        "+e._s(e.$t("save"))+"\n      ")])],1)],1),e.bShowTableItem?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:"NO."+e.oDetailInfo[0],"enable-cancel-callback":!0},on:{confirm:e.confirm,cancelcallback:e.cancelCallBack}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"item-wrapper"},[t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",{staticClass:"cell-group"},[t("hm-cell",{attrs:{title:"SSID",value:e.oDetailInfo[1]}}),t("hm-cell",{attrs:{title:"Working Mode",value:e.oDetailInfo[2].name}}),t("hm-cell",{attrs:{title:e.$t("securityMode"),value:e.oDetailInfo[3]}}),t("hm-cell",{attrs:{title:e.$t("channel"),value:e.oDetailInfo[4]}}),t("hm-cell",{attrs:{title:e.$t("signalStrength"),value:e.oDetailInfo[5]}}),t("hm-cell",{attrs:{title:e.$t("patrolSpeed")+"(Mbps)",value:e.oDetailInfo[6]}}),t("hm-cell",{attrs:{title:e.$t("connectState"),value:e.oDetailInfo[7]}})],1)],1)],1)])])],1):e._e(),t("base-view")],1)},n=[],o=a("3195"),r=o["a"],s=(a("6b39"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"4588497c",null);t["default"]=l.exports},edca:function(e,t,a){"use strict";(function(e){var i=a("d4ec"),n=a("bee2"),o=a("8d94"),r=a("c050"),s=a("f193"),l=a("c98f"),c=function(){function t(){Object(i["a"])(this,t),this.oCap=e.extend(!0,{},l["a"].oSecurityCap.oSecurityAdvanced),this.oAdvancedInfoCache={securityEnhanced:!1},this.oAdvancedInfo={securityEnhanced:!1,noOperationEnabled:!1,noOperationTime:15,digestStatus:"SHA256"}}return Object(n["a"])(t,[{key:"getSecurityAdvanced",value:function(){var t=this,a={urlCGI:"securityAdvancedConfiguration",params:{},data:null,loading:!0};return s["a"].get(a).then((function(a){try{e.extend(!0,t.oAdvancedInfo,a.oResult.SecurityAdvanced),e.extend(!0,t.oAdvancedInfoCache,a.oResult.SecurityAdvanced)}catch(i){console.log("e")}}),(function(){console.log("error")}))}},{key:"save",value:function(){var t=this,a={SecurityAdvanced:e.extend(!0,{},t.oAdvancedInfo)};if(t.oAdvancedInfoCache.securityEnhanced!==t.oAdvancedInfo.securityEnhanced)r["a"].confirm(o["a"].t("tipChangeRegionOrWifiEnhance"),(function(){var e={urlCGI:"securityAdvancedConfiguration",params:null,data:a,loading:!0};s["a"].put(e)}));else{var i={urlCGI:"securityAdvancedConfiguration",params:null,data:a,loading:!0};s["a"].put(i).then((function(){r["a"].tip(o["a"].t("saveSucceeded"))}))}}},{key:"enableSecurityEnhanced",value:function(){var e=this;return e.oAdvancedInfo.securityEnhanced=!e.oAdvancedInfo.securityEnhanced,new Promise((function(t){e.oAdvancedInfo.securityEnhanced&&r["a"].confirm(o["a"].t("enableSecurityEnhancedTips"),(function(){t()}),(function(){e.oAdvancedInfo.securityEnhanced=!1,t()}))}))}}]),t}();t["a"]=new c}).call(this,a("1157"))},ee1d:function(e,t,a){var i=a("5ca1");i(i.S,"Number",{isNaN:function(e){return e!=e}})},ee53:function(e,t,a){},ef0d:function(e,t,a){},ef35:function(e,t,a){},ef90:function(e,t,a){"use strict";(function(e){a("6b54"),a("96cf");var i=a("1da1"),n=(a("7514"),a("28a5"),a("d4ec")),o=a("bee2"),r=a("ade3"),s=a("d09c"),l=a("f193"),c=a("8d94"),u=a("7de8"),d=a("1f10"),p=a("1f20"),m=a("768a"),h=a("c050"),f=a("49ca"),v=function(){function t(){Object(n["a"])(this,t),Object(r["a"])(this,"getCapturePlanCap",(function(t){var a=this.m_oCapbilities,i={urlCGI:"captureCap",params:{channel:t},data:null,loading:!0};return new Promise((function(t,n){l["a"].get(i).then((function(i){var n=i.oResult;a.aPictureDelayType.length=0,a.bSupport=!0,a.aCaptureType=[];for(var o=e(n).find("DefaultRecordingMode").eq(0).attr("opt").split(","),r=0,s=o.length;r<s;r++)a.aCaptureType.push(o[r]);if(e(n).find("delayTime").length>0){a.bSptPictureDelay=!0;for(var l=e(n).find("delayTime").eq(0).attr("opt").split(","),u=0;u<l.length;u++)a.aPictureDelayType.push({value:l[u],text:l[u]+c["a"].t("seconds")})}else a.bSptPictureDelay=!1;var d=e(n).find("SrcUrl").eq(0).attr("opt").split(","),p={1:c["a"].t("mainStream"),2:c["a"].t("subStream"),3:c["a"].t("thirdStream"),4:c["a"].t("fourthStream"),5:c["a"].t("fifthStream"),7:c["a"].t("allStream")},m=a.aSupportStream;m.length=0;for(var h=0,f=d.length;h<f;h++){var v=d[h].slice(-1);m.push({text:p[v],value:v})}t()}),(function(e){a.bSupport=!1,s["a"].getState(e),n()}))}))})),this.oXmlDoc=null,this.verifyResult={},this.oPnpXmlDoc=null,this.oExtensionXmlDoc=null,this.m_aTimes=[],this.m_oSnapshotCapXml=null,this.m_oCopyTo=[],this.aSupportStream=[],this.m_oCapbilities={bSupport:!1,aSupportStream:[],bChannelSupport:!1,bSupportTimeingPicture:!1},this.m_oParams={bLazyLoading:!1,szStreamType:""},this.m_oChannel={id:1}}return Object(o["a"])(t,[{key:"initLan",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d["a"].init();case 2:return this.m_oParams=d["a"].m_oParams,this.m_oParams.szStreamType=d["a"].m_oParams.szStreamType,this.m_oCapbilities=d["a"].m_oCapbilities,this.m_oCapbilities.aSupportStream=d["a"].m_oCapbilities.aSupportStream,this.m_oParamsValid=d["a"].m_oParamsValid,this.oDayReverse=d["a"].oDayReverse,e.next=10,p["a"].isEnableHoliday();case 10:this.m_oCapbilities.bSupportHoliday=p["a"].m_oDeviceCapa.bEnableHoliday;case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initParams",value:function(){for(var e=0;e<8;e++)this.m_aTimes[e]=[];this.m_oCopyTo=[];for(var t=0;t<m["a"].m_aChannelList.length;t++)m["a"].m_aChannelList[t].bOnline&&this.m_oCopyTo.push({id:m["a"].m_aChannelList[t].iId,name:"["+("analog"===m["a"].m_aChannelList[t].szType?"A":"D")+m["a"].m_aChannelList[t].iId+"] "+m["a"].m_aChannelList[t].szName,bCheck:m["a"].m_aChannelList[t].iId===this.m_oChannel.id})}},{key:"copyTo",value:function(e,t){var i=this;t.oCopyTo=this.m_oCopyTo;var n='<div id="copyTo" class="copyto">\n                        <div class="title">\n                        <input id="selAll" type="checkbox" class="checkbox" ng-click="selAll()" ng-model="bSelAll" />\n                        <label ng-bind="oLan.selectAll"></label>\n                        </div>\n                        <div class="content">\n                        <div ng-class-odd="\'item\'" ng-class-even="\'item bg\'" ng-repeat="o in oCopyTo">\n                            <input type="checkbox" class="checkbox" ng-model="o.bCheck" ng-disabled="o.bDisable"/>{{o.name}}\n                        </div>\n                        </div>\n                </div>',o={};Promise.resolve().then(function(){var e=t.$new();h["a"].html({szTitle:c["a"].t("copyTo"),szContent:n,cbOk:function(){i.m_oCopyTo=t.oCopyTo},cbClose:function(){(e||o).$destroy(),t.$apply()}}),e.$apply()}.bind(null,a)).catch(a.oe)}},{key:"getSnapshotCap",value:function(t){var a=this,i={urlCGI:"snapshotCap",params:{channel:t},data:null,loading:!0};return new Promise((function(t,n){l["a"].get(i).then((function(i){var n=i.oResult;a.m_oSnapshotCapXml=n,a.m_oCapbilities.bSupportTimeingPicture=e(n).find("timingCapture").length>0,a.m_oCapbilities.bChannelSupport=!0,a.resetSnapshotCapByStream(a.m_oParams.szStreamType),t()}),(function(e){a.m_oCapbilities.bChannelSupport=!1,s["a"].getState(e),n()}))}))}},{key:"getSnapshotInfo",value:function(t){var a=this,i={urlCGI:"snapshotInfo",params:{channel:t},data:null,loading:!0};return new Promise((function(t){l["a"].get(i).then((function(i){var n=i.oResult,o=e(n).find("eventCapture").eq(0);if(a.m_oCapbilities.bSupportTimeingPicture){var r=e(n).find("timingCapture").eq(0);a.m_oParams.bEnableTiming=u["a"].nodeValue(r,"enabled","b"),a.m_oParams.szTimingCodecType=u["a"].nodeValue(r,"pictureCodecType"),a.m_oParams.szTimingResolution=u["a"].nodeValue(r,"pictureWidth")+"*"+u["a"].nodeValue(r,"pictureHeight"),a.m_oParams.szTimingQuality=u["a"].nodeValue(r,"quality");var s=parseInt(u["a"].nodeValue(r,"captureInterval"),10);a.m_oCapbilities.bSupportIntervalOpt||s<a.m_oCapbilities.aTimingPicIntervalRange[0]&&(s=a.m_oCapbilities.aTimingPicIntervalRange[0]),s=Math.ceil(s*a.m_oParams.aRate[0]/a.m_oParams.aRate[a.m_oParams.szTimingIntervalType]),a.m_oParams.szTimingInterval=s+""}a.m_oParams.szEventNum=u["a"].nodeValue(o,"captureNumber"),a.m_oParams.bEnableEvent=u["a"].nodeValue(o,"enabled","b"),a.m_oParams.szEventCodecType=u["a"].nodeValue(o,"pictureCodecType"),a.m_oParams.szEventResolution=u["a"].nodeValue(o,"pictureWidth")+"*"+u["a"].nodeValue(o,"pictureHeight"),a.m_oParams.szEventQuality=u["a"].nodeValue(o,"quality");var l=parseInt(u["a"].nodeValue(o,"captureInterval"),10);a.m_oCapbilities.bSupportIntervalOpt||l<a.m_oCapbilities.aEventPicIntervalRange[0]&&(l=a.m_oCapbilities.aEventPicIntervalRange[0]),l=Math.ceil(l*a.m_oParams.aRate[0]/a.m_oParams.aRate[a.m_oParams.szEventIntervalType]),a.m_oParams.szEventInterval=l+"",t()}))}))}},{key:"getDvrSnapshotInfo",value:function(t){var a=this,i={urlCGI:"snapshotInfo",params:{channel:t},data:null,loading:!0};return new Promise((function(t){l["a"].get(i).then((function(i){var n=i.oResult,o=e(n).find("eventCapture").eq(0);if(a.m_oCapbilities.bSupportTimeingPicture){var r=e(n).find("timingCapture").eq(0);a.m_oParams.szTimingCodecType=u["a"].nodeValue(r,"pictureCodecType"),a.m_oParams.szTimingResolution=u["a"].nodeValue(r,"pictureWidth")+"*"+u["a"].nodeValue(r,"pictureHeight"),a.m_oParams.szTimingQuality=u["a"].nodeValue(r,"quality"),a.m_oParams.szTimingInterval=u["a"].nodeValue(r,"captureInterval")}a.m_oParams.szEventCodecType=u["a"].nodeValue(o,"pictureCodecType"),a.m_oParams.szEventResolution=u["a"].nodeValue(o,"pictureWidth")+"*"+u["a"].nodeValue(o,"pictureHeight"),a.m_oParams.szEventQuality=u["a"].nodeValue(o,"quality"),a.m_oParams.szEventInterval=u["a"].nodeValue(o,"captureInterval"),t()}))}))}},{key:"resetSnapshotCapByStream",value:function(t){var a=this.getCapNodeByStream(t),i={40:c["a"].t("low"),60:c["a"].t("medium"),80:c["a"].t("high")},n=[],o=[],r=this.m_oCapbilities;r.bSupportEnableTimeEvent="false"===e(a).find("eventCapture").eq(0).find("supportSchedule").eq(0).text(),r.bSupportEnableSechdule=!r.bSupportEnableTimeEvent,r.aTimingPictureCodecType.length=0,e(a).find("timingCapture").eq(0).find("pictureCodecType").eq(0).attr("opt")&&(n=e(a).find("timingCapture").eq(0).find("pictureCodecType").eq(0).attr("opt").split(","));for(var s=0,l=n.length;s<l;s++)r.aTimingPictureCodecType.push({text:n[s],value:n[s]});r.aTimingPicResolution.length=0,e(a).find("timingCapture").eq(0).find("pictureWidth").eq(0).attr("opt")&&(n=e(a).find("timingCapture").eq(0).find("pictureWidth").eq(0).attr("opt").split(",")),e(a).find("timingCapture").eq(0).find("pictureHeight").eq(0).attr("opt")&&(o=e(a).find("timingCapture").eq(0).find("pictureHeight").eq(0).attr("opt").split(","));for(var u=0,d=n.length;u<d;u++)"0"===n[u]&&"0"===o[u]?r.aTimingPicResolution.push({value:"0*0",text:c["a"].t("automatic")}):r.aTimingPicResolution.push({value:n[u]+"*"+o[u],text:n[u]+"*"+o[u]});if(r.aTimingPicQuality.length=0,e(a).find("timingCapture").eq(0).find("quality").eq(0).attr("opt")){n=e(a).find("timingCapture").eq(0).find("quality").eq(0).attr("opt").split(",");for(var p=0,m=n.length;p<m;p++)r.aTimingPicQuality.push({value:n[p],text:i[n[p]]})}r.aTimingPicInterval.length=0;var h=n=e(a).find("timingCapture").eq(0).find("captureInterval").eq(0).attr("opt");if(h){r.bSupportIntervalOpt=!0,n=h.split(",")||[];for(var f=0,v=n.length;f<v;f++){var b="";b=parseInt(n[f],10)/1e3<60?parseInt(n[f],10)/1e3+c["a"].t("seconds"):parseInt(n[f],10)/1e3<3600?parseInt(n[f],10)/1e3/60+c["a"].t("minute"):parseInt(n[f],10)/1e3<86400?parseInt(n[f],10)/1e3/3600+c["a"].t("hour"):parseInt(n[f],10)/1e3/3600/24+c["a"].t("daysUnit"),r.aTimingPicInterval.push({value:n[f],text:b})}}else r.bSupportIntervalOpt=!1,e(a).find("timingCapture").eq(0).find("captureInterval").length>0&&(r.aTimingPicIntervalRange[0]=parseInt(e(a).find("timingCapture").eq(0).find("captureInterval").eq(0).attr("min"),10),r.aTimingPicIntervalRange[1]=parseInt(e(a).find("timingCapture").eq(0).find("captureInterval").eq(0).attr("max"),10));e(a).find("eventCapture").eq(0).find("captureNumber").length?(r.bSupportEventNum=!0,r.aEventPicNumRange[0]=parseInt(e(a).find("eventCapture").eq(0).find("captureNumber").eq(0).attr("min"),10),r.aEventPicNumRange[1]=parseInt(e(a).find("eventCapture").eq(0).find("captureNumber").eq(0).attr("max"),10),this.m_oParamsValid.oEventNum.range.value.min=r.aEventPicNumRange[0],this.m_oParamsValid.oEventNum.range.value.max=r.aEventPicNumRange[1]):r.bSupportEventNum=!1,this.m_oParamsValid.oEventNum.bSkipValid=!r.bSupportEventNum,r.aEventPictureCodecType.length=0,n=e(a).find("eventCapture").eq(0).find("pictureCodecType").eq(0).attr("opt").split(",");for(var g=0,P=n.length;g<P;g++)r.aEventPictureCodecType.push({value:n[g],text:n[g]});r.aEventPicResolution.length=0,n=e(a).find("eventCapture").eq(0).find("pictureWidth").eq(0).attr("opt").split(","),o=e(a).find("eventCapture").eq(0).find("pictureHeight").eq(0).attr("opt").split(",");for(var S=0,C=n.length;S<C;S++)"0"===n[S]&&"0"===o[S]?r.aEventPicResolution.push({value:"0*0",text:c["a"].t("automatic")}):r.aEventPicResolution.push({value:n[S]+"*"+o[S],text:n[S]+"*"+o[S]});r.aEventPicQuality.length=0,n=e(a).find("eventCapture").eq(0).find("quality").eq(0).attr("opt").split(",");for(var y=0,I=n.length;y<I;y++)r.aEventPicQuality.push({value:n[y],text:i[n[y]]});if(r.aEventPicInterval.length=0,h=e(a).find("eventCapture").eq(0).find("captureInterval").eq(0).attr("opt"),h){n=h.split(",");for(var D=0,w=n.length;D<w;D++){var T="";T=parseInt(n[D],10)/1e3<60?parseInt(n[D],10)/1e3+c["a"].t("seconds"):parseInt(n[D],10)/1e3<3600?parseInt(n[D],10)/1e3/60+c["a"].t("minute"):parseInt(n[D],10)/1e3<86400?parseInt(n[D],10)/1e3/3600+c["a"].t("hour"):parseInt(n[D],10)/1e3/3600/24+c["a"].t("daysUnit"),r.aEventPicInterval.push({value:n[D],text:T})}}else e(a).find("eventCapture").eq(0).find("captureInterval").length>0&&(r.aEventPicIntervalRange[0]=parseInt(e(a).find("eventCapture").eq(0).find("captureInterval").eq(0).attr("min"),10),r.aEventPicIntervalRange[1]=parseInt(e(a).find("eventCapture").eq(0).find("captureInterval").eq(0).attr("max"),10));if(e(a).find("PromptDescription").length){r.bSupportSnapshotPrompt=!0;var k="";e(a).find("PromptDescription prompt1").length&&(k="snapshotPrompt1"),e("#snapshotPrompt").html(c["a"].t(k,["<br/>"]))}}},{key:"getCapNodeByStream",value:function(t){var a,i=this,n=null;return a="1"===t?"mainstream":"2"===t?"substream":"stream"+t,e(i.m_oSnapshotCapXml).find("StreamInformation").each((function(){a===u["a"].nodeValue(this,"streamType")&&(n=this)})),n=n||i.m_oSnapshotCapXml,n}},{key:"changeStream",value:function(e){this.resetSnapshotCapByStream(e),this.resetSnapshotParams(e)}},{key:"resetSnapshotParams",value:function(t){var a=this.getCapNodeByStream(t),i=this.m_oParams,n=this.m_oParamsValid,o=e(a).find("timingCapture").eq(0);i.bEnableTiming=u["a"].nodeValue(o,"enabled","b"),i.szTimingCodecType=u["a"].nodeValue(o,"pictureCodecType"),i.szTimingResolution=u["a"].nodeValue(o,"pictureWidth")+"*"+u["a"].nodeValue(o,"pictureHeight"),i.szTimingQuality=u["a"].nodeValue(o,"quality"),(parseInt(i.szTimingInterval,10)<n.oTimingInterval.range.value.min||parseInt(i.szTimingInterval,10)>n.oTimingInterval.range.value.max)&&(i.szTimingInterval=n.oTimingInterval.range.value.min);var r=e(a).find("eventCapture").eq(0);i.bEnableEvent=u["a"].nodeValue(r,"enabled","b"),i.szEventCodecType=u["a"].nodeValue(r,"pictureCodecType"),i.szEventResolution=u["a"].nodeValue(r,"pictureWidth")+"*"+u["a"].nodeValue(r,"pictureHeight"),i.szEventQuality=u["a"].nodeValue(r,"quality"),i.szEventNum=u["a"].nodeAttr(r,"captureNumber","def"),(parseInt(i.szEventInterval,10)<n.oEventInterval.range.value.min||parseInt(i.szEventInterval,10)>n.oEventInterval.range.value.max)&&(i.szEventInterval=n.oEventInterval.range.value.min)}},{key:"getCapturePlanInfo",value:function(){var t=this,a={urlCGI:"trackInfo",params:null,data:null,loading:!0};return new Promise((function(i){l["a"].get(a).then((function(a){var n=a.oResult;t.initParams(),t.oXmlDoc=u["a"].xmlToStr(n);var o=null;e(n).find("Track").each((function(a,i){var n=e(i).find("id").eq(0).text();n.indexOf("01")>0&&(0===e(i).find("PreRecordTimeSeconds").length?(e(i).next().remove(),e(i).remove()):e(i).remove()),n===t.m_oChannel.id+"03"&&(o=e(i))}));for(var r=o.find("ScheduleActionStartTime").length,s=o.find("HolidaySchedule").eq(0).find("ScheduleActionStartTime").length,l=0;l<r;l++){var c=o.find("ScheduleAction").eq(l),p=o.find("ScheduleActionStartTime").eq(l),m=o.find("ScheduleActionEndTime").eq(l),h=d["a"].oDay[p.find("DayOfWeek").eq(0).text()],f=d["a"].oDay[m.find("DayOfWeek").eq(0).text()],v="24:00:00";v=h!==f?"24:00:00":m.find("TimeOfDay").eq(0).text(),l>=r-s&&(h=7),t.m_aTimes[h].push({sTime:p.find("TimeOfDay").eq(0).text(),eTime:v,type:c.find("ActionRecordingMode").eq(0).text()})}t.m_oParams.bEnablePlan=u["a"].nodeValue(o.find("CustomExtensionList").eq(0),"enableSchedule","b"),t.m_oParams.szStreamType=u["a"].nodeValue(o,"SrcUrl").split("/").pop().split("").pop(),t.m_oParams.szPictureDelay=u["a"].nodeValue(o,"delayTime"),i()}))}))}},{key:"save",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=[],this.m_oParams.bLazyLoading=!0,console.log("🚀 ~ PlanCapture ~ save ~ this.m_oParams.bLazyLoading:",this.m_oParams.bLazyLoading),a.push(this.setTrackInfo(t)),m["a"].m_iAnalogChNum>0?a.push(this.saveSnapshot(0)):a.push(this.saveSnapshot(1)),e.next=7,u["a"].waitAll(a).then((function(e){for(var t=[],a=0,n=e.length;a<n;++a)e[a]&&t.push(e[a].xhr);i.m_oParams.bLazyLoading=!1,s["a"].successState(t)}),(function(e){this.m_oParams.bLazyLoading=!1,s["a"].saveState(e.xhr)}));case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setTrackInfo",value:function(t){var a=this;this.m_aTimes=t;for(var i=u["a"].parseXmlFromStr(this.oXmlDoc),n="<?xml version='1.0' encoding='UTF-8'?><HolidaySchedule><ScheduleBlock><ScheduleBlockGUID>{00000000-0000-0000-0000-000000000000}</ScheduleBlockGUID><ScheduleBlockType>www.std-cgi.com/racm/schedule/ver10</ScheduleBlockType>",o=0,r=0;o<r;o++)n+="<ScheduleAction><id>"+(o+1)+"</id>",n+="<ScheduleActionStartTime><TimeOfDay>"+this.m_aTimes[7][o].sTime+"</TimeOfDay></ScheduleActionStartTime>",n+="<ScheduleActionEndTime><TimeOfDay>"+this.m_aTimes[7][o].eTime+"</TimeOfDay></ScheduleActionEndTime>",n+="<ScheduleDSTEnable>false</ScheduleDSTEnable><Description>nothing</Description>",n+="<Actions><Record>true</Record><Log>false</Log><SaveImg>false</SaveImg>",n+="<ActionRecordingMode>"+this.m_aTimes[7][o].type+"</ActionRecordingMode></Actions></ScheduleAction>";n+="</ScheduleBlock></HolidaySchedule>";for(var s="<TrackSchedule><ScheduleBlockList><ScheduleBlock><ScheduleBlockGUID>{00000000-0000-0000-0000-000000000000}</ScheduleBlockGUID><ScheduleBlockType>www.std-cgi.com/racm/schedule/ver10</ScheduleBlockType>",c=1,d=0;d<7;d++)for(var m=0;m<this.m_aTimes[d].length;m++)s+="<ScheduleAction><id>"+(c++).toString()+"</id>",s+="<ScheduleActionStartTime><DayOfWeek>"+this.oDayReverse[d]+"</DayOfWeek>",s+="<TimeOfDay>"+this.m_aTimes[d][m].sTime+"</TimeOfDay></ScheduleActionStartTime>",s+="<ScheduleActionEndTime><DayOfWeek>"+this.oDayReverse[d]+"</DayOfWeek>",s+="<TimeOfDay>"+this.m_aTimes[d][m].eTime+"</TimeOfDay></ScheduleActionEndTime>",s+="<ScheduleDSTEnable>false</ScheduleDSTEnable><Description>nothing</Description>",s+="<Actions><Record>true</Record><Log>false</Log><SaveImg>false</SaveImg>",s+="<ActionRecordingMode>"+this.m_aTimes[d][m].type+"</ActionRecordingMode></Actions></ScheduleAction>";s+="</ScheduleBlock></ScheduleBlockList></TrackSchedule>",e(i).find("Track").each((function(t,i){for(var o=-1,r=0,l=a.m_oCopyTo.length;r<l;r++)if(e(i).find("id").eq(0).text()===a.m_oCopyTo[r].id+"03"){o=r;break}if(-1!==o&&a.m_oCopyTo[o].bCheck){if(-1!==o&&a.m_oCapbilities.bSupportEnableSechdule){var c=e(i).find("CustomExtensionList").eq(0);c.find("enableSchedule").eq(0).text(a.m_oParams.bEnablePlan.toString())}a.m_oCapbilities.bSptPictureDelay&&e(i).find("delayTime").eq(0).text(a.m_oParams.szPictureDelay),p["a"].m_oDeviceCapa.bEnableHoliday&&(e(i).find("HolidaySchedule").eq(0).remove(),e(u["a"].parseXmlFromStr(n)).children().clone().insertAfter(e(i).find("CustomExtensionList").eq(0).find("enableSchedule").eq(0))),e(i).find("TrackSchedule").length>0&&e(i).find("TrackSchedule").eq(0).remove(),e(u["a"].parseXmlFromStr(s)).children().clone().insertAfter(e(i).find("SrcDescriptor").eq(0));var d=u["a"].nodeValue(i,"SrcUrl");d=d.slice(0,d.length-1)+a.m_oParams.szStreamType,u["a"].nodeValue(i,"SrcUrl","",d)}else e(i).remove()}));var h={urlCGI:"trackInfo",params:null,data:i,loading:!0};return l["a"].put(h)}},{key:"saveSnapshot",value:function(e){return 0===f["a"].iDeviceType?this.savedvrSnapshot(e):this.saveipcSnapshot(e)}},{key:"saveipcSnapshot",value:function(e){for(var t="<?xml version='1.0' encoding='UTF-8'?><SnapshotChannelList>",a=0,i=this.m_oCopyTo.length;a<i;a++)0===e?this.m_oCopyTo[a].bCheck&&this.m_oCopyTo[a].id<=m["a"].m_iAnalogChNum&&(t+="<SnapshotChannel><id>"+this.m_oCopyTo[a].id+"</id><videoInputChannelID>"+this.m_oCopyTo[a].id+"</videoInputChannelID>",this.m_oCapbilities.bSupportTimeingPicture&&(t+="<timingCapture><enabled>"+this.m_oParams.bEnableTiming.toString()+"</enabled><supportSchedule>true</supportSchedule><compress><pictureCodecType>"+this.m_oParams.szTimingCodecType+"</pictureCodecType><pictureWidth>"+this.m_oParams.szTimingResolution.split("*")[0]+"</pictureWidth><pictureHeight>"+this.m_oParams.szTimingResolution.split("*")[1]+"</pictureHeight><quality>"+this.m_oParams.szTimingQuality+"</quality><captureInterval>"+this.m_oParams.szTimingInterval*this.m_oParams.aRate[this.m_oParams.szTimingIntervalType]+"</captureInterval></compress></timingCapture>"),t+="<eventCapture><enabled>"+this.m_oParams.bEnableEvent.toString()+"</enabled><supportSchedule>true</supportSchedule><compress><pictureCodecType>"+this.m_oParams.szEventCodecType+"</pictureCodecType><pictureWidth>"+this.m_oParams.szEventResolution.split("*")[0]+"</pictureWidth><pictureHeight>"+this.m_oParams.szEventResolution.split("*")[1]+"</pictureHeight><quality>"+this.m_oParams.szEventQuality+"</quality><captureInterval>"+this.m_oParams.szEventInterval*this.m_oParams.aRate[this.m_oParams.szEventIntervalType]+"</captureInterval>",this.m_oCapbilities.bSupportEventNum&&(t+="<captureNumber>"+this.m_oParams.szEventNum+"</captureNumber>"),t+="</compress></eventCapture></SnapshotChannel>"):this.m_oCopyTo[a].bCheck&&this.m_oCopyTo[a].id>m["a"].m_iAnalogChNum&&(t+="<SnapshotChannel><id>"+this.m_oCopyTo[a].id+"</id><videoInputChannelID>"+this.m_oCopyTo[a].id+"</videoInputChannelID>",this.m_oCapbilities.bSupportTimeingPicture&&(t+="<timingCapture><enabled>"+this.m_oParams.bEnableTiming.toString()+"</enabled><supportSchedule>true</supportSchedule><compress><pictureCodecType>"+this.m_oParams.szTimingCodecType+"</pictureCodecType><pictureWidth>"+this.m_oParams.szTimingResolution.split("*")[0]+"</pictureWidth><pictureHeight>"+this.m_oParams.szTimingResolution.split("*")[1]+"</pictureHeight><quality>"+this.m_oParams.szTimingQuality+"</quality><captureInterval>"+this.m_oParams.szTimingInterval*this.m_oParams.aRate[this.m_oParams.szTimingIntervalType]+"</captureInterval></compress></timingCapture>"),t+="<eventCapture><enabled>"+this.m_oParams.bEnableEvent.toString()+"</enabled><supportSchedule>true</supportSchedule><compress><pictureCodecType>"+this.m_oParams.szEventCodecType+"</pictureCodecType><pictureWidth>"+this.m_oParams.szEventResolution.split("*")[0]+"</pictureWidth><pictureHeight>"+this.m_oParams.szEventResolution.split("*")[1]+"</pictureHeight><quality>"+this.m_oParams.szEventQuality+"</quality><captureInterval>"+this.m_oParams.szEventInterval*this.m_oParams.aRate[this.m_oParams.szEventIntervalType]+"</captureInterval>",this.m_oCapbilities.bSupportEventNum&&(t+="<captureNumber>"+this.m_oParams.szEventNum+"</captureNumber>"),t+="</compress></eventCapture></SnapshotChannel>");t+="</SnapshotChannelList>";var n=u["a"].parseXmlFromStr(t),o=1;o=0===e?1:m["a"].m_iAnalogChNum+1;var r={urlCGI:"snapshotListInfo",params:{channel:o},data:n,loading:!0};return l["a"].put(r)}},{key:"savedvrSnapshot",value:function(e){for(var t="<?xml version='1.0' encoding='UTF-8'?><SnapshotChannelList>",a=0,i=this.m_oCopyTo.length;a<i;a++)0===e?this.m_oCopyTo[a].bCheck&&this.m_oCopyTo[a].id<=m["a"].m_iAnalogChNum&&(t+="<SnapshotChannel><id>"+this.m_oCopyTo[a].id+"</id><videoInputChannelID>"+this.m_oCopyTo[a].id+"</videoInputChannelID>",this.m_oCapbilities.bSupportTimeingPicture&&(t+="<timingCapture><enabled>"+this.m_oParams.bEnableTiming.toString()+"</enabled><supportSchedule>true</supportSchedule><compress><pictureCodecType>"+this.m_oParams.szTimingCodecType+"</pictureCodecType><pictureWidth>"+this.m_oParams.szTimingResolution.split("*")[0]+"</pictureWidth><pictureHeight>"+this.m_oParams.szTimingResolution.split("*")[1]+"</pictureHeight><quality>"+this.m_oParams.szTimingQuality+"</quality><captureInterval>"+this.m_oParams.szTimingInterval*this.m_oParams.aRate[this.m_oParams.szTimingIntervalType]+"</captureInterval></compress></timingCapture>"),t+="<eventCapture><enabled>"+this.m_oParams.bEnableEvent.toString()+"</enabled><supportSchedule>true</supportSchedule><compress><pictureCodecType>"+this.m_oParams.szEventCodecType+"</pictureCodecType><pictureWidth>"+this.m_oParams.szEventResolution.split("*")[0]+"</pictureWidth><pictureHeight>"+this.m_oParams.szEventResolution.split("*")[1]+"</pictureHeight><quality>"+this.m_oParams.szEventQuality+"</quality><captureInterval>"+this.m_oParams.szEventInterval*this.m_oParams.aRate[this.m_oParams.szEventIntervalType]+"</captureInterval>",this.m_oCapbilities.bSupportEventNum&&(t+="<captureNumber>"+this.m_oParams.szEventNum+"</captureNumber>"),t+="</compress></eventCapture></SnapshotChannel>"):this.m_oCopyTo[a].bCheck&&this.m_oCopyTo[a].id>m["a"].m_iAnalogChNum&&(t+="<SnapshotChannel><id>"+this.m_oCopyTo[a].id+"</id><videoInputChannelID>"+this.m_oCopyTo[a].id+"</videoInputChannelID>",this.m_oCapbilities.bSupportTimeingPicture&&(t+="<timingCapture><enabled>"+this.m_oParams.bEnableTiming.toString()+"</enabled><supportSchedule>true</supportSchedule><compress><pictureCodecType>"+this.m_oParams.szTimingCodecType+"</pictureCodecType><pictureWidth>"+this.m_oParams.szTimingResolution.split("*")[0]+"</pictureWidth><pictureHeight>"+this.m_oParams.szTimingResolution.split("*")[1]+"</pictureHeight><quality>"+this.m_oParams.szTimingQuality+"</quality><captureInterval>"+this.m_oParams.szTimingInterval*this.m_oParams.aRate[this.m_oParams.szTimingIntervalType]+"</captureInterval></compress></timingCapture>"),t+="<eventCapture><enabled>"+this.m_oParams.bEnableEvent.toString()+"</enabled><supportSchedule>true</supportSchedule><compress><pictureCodecType>"+this.m_oParams.szEventCodecType+"</pictureCodecType><pictureWidth>"+this.m_oParams.szEventResolution.split("*")[0]+"</pictureWidth><pictureHeight>"+this.m_oParams.szEventResolution.split("*")[1]+"</pictureHeight><quality>"+this.m_oParams.szEventQuality+"</quality><captureInterval>"+this.m_oParams.szEventInterval*this.m_oParams.aRate[this.m_oParams.szEventIntervalType]+"</captureInterval>",this.m_oCapbilities.bSupportEventNum&&(t+="<captureNumber>"+this.m_oParams.szEventNum+"</captureNumber>"),t+="</compress></eventCapture></SnapshotChannel>");t+="</SnapshotChannelList>";var n=u["a"].parseXmlFromStr(t),o=1;o=0===e?1:m["a"].m_iAnalogChNum+1;var r={urlCGI:"snapshotListInfo",params:{channel:o},data:n,loading:!0};return l["a"].put(r)}}]),t}();t["a"]=new v}).call(this,a("1157"))},ef9d:function(e,t,a){},f05b:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login",style:e.oContentStyle},[t("hm-cell",{attrs:{title:e.$t("switchLanguage")}},[t("base-select",{attrs:{title:e.$t("switchLanguage"),options:e.aLanguageList},on:{change:function(t){return e.changeLanguage()}},model:{value:e.szCurrentLanguage,callback:function(t){e.szCurrentLanguage=t},expression:"szCurrentLanguage"}})],1),t("div",{staticClass:"login-input"},[t("label",[e._v(e._s(e.$t("username")))]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),t("label",[e._v(e._s(e.$t("password")))]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),t("button",{staticClass:"login-btn",attrs:{type:"primary",size:"large"},on:{click:e.doLogin}},[e._v("\n    "+e._s(e.$t("login"))+"\n  ")])],1)},n=[],o=a("f193"),r=a("2889"),s=a("c8d4"),l=a("8d94"),c=a("47b5"),u={name:"Login",components:{BaseSelect:c["a"]},data:function(){return{username:"",password:"",oContentStyle:{width:"0px",height:"0px"},szCurrentLanguage:s["a"].getItem("lang")||"en_US",aLanguageList:[{value:"zh_CN",text:"中文"},{value:"en_US",text:"English"},{value:"ja",text:"日本語"},{value:"pt",text:"Português"}]}},created:function(){this.oContentStyle.width=document.documentElement.clientWidth+"px",this.oContentStyle.height=document.documentElement.clientHeight+"px"},mounted:function(){window.isShowDlg&&window.oWaitDlg.close()},methods:{changeLanguage:function(){this.$i18n.locale=this.szCurrentLanguage,s["a"].setItem("lang",this.szCurrentLanguage),l["a"].changeLanguage(this.szCurrentLanguage)},doLogin:function(){this.get()},get:function(){var e=this,t=new Promise((function(t,a){r["a"].login(e.username,e.password).then((function(){e.$router.push({name:"Config"}),t()}),(function(){alert("login failed"),a()}))}));return t},put:function(){var e={name:"111"},t={urlCGI:"language",params:{channel:101},data:e,loading:!0};o["a"].put(t).then((function(e){console.log(e)}),(function(e){console.log(e)}))},post:function(){var e={name:"111"},t={urlCGI:"language",params:{channel:101},data:e,loading:!0};o["a"].post(t).then((function(e){console.log(e)}),(function(e){console.log(e)}))},httpDelete:function(){var e={id:"111"},t={urlCGI:"language",params:{channel:101},data:e,loading:!0};o["a"].delete(t).then((function(e){console.log(e)}),(function(e){console.log(e)}))}}},d=u,p=(a("6cf9f"),a("2877")),m=Object(p["a"])(d,i,n,!1,null,"58e8d119",null);t["default"]=m.exports},f08f:function(e,t,a){"use strict";a("81af")},f0c1:function(e,t,a){"use strict";var i=a("d8e8"),n=a("d3f4"),o=a("31f4"),r=[].slice,s={},l=function(e,t,a){if(!(t in s)){for(var i=[],n=0;n<t;n++)i[n]="a["+n+"]";s[t]=Function("F,a","return new F("+i.join(",")+")")}return s[t](e,a)};e.exports=Function.bind||function(e){var t=i(this),a=r.call(arguments,1),s=function(){var i=a.concat(r.call(arguments));return this instanceof s?l(t,i.length,i):o(t,i,e)};return n(t.prototype)&&(s.prototype=t.prototype),s}},f0ca:function(e,t,a){"use strict";a("01b4")},f0fa:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("userManagement"),"right-type":"text","show-save-button":!e.showAddUser,"save-text":e.$t("add")},on:{"save-handle":e.addUser}},[t("div",{staticClass:"user-center",attrs:{slot:"content"},slot:"content"},[t("CommonTable",{ref:"table",attrs:{data:e.tableData,"btns-tips":e.btnsTips},on:{onCellClick:e.selectUser,onSwipeBtnClick:e.onSwipeBtnClick}}),e.showAddUser?t("div",{staticClass:"full-screen-display"},[t("base-page",{attrs:{title:e.userOperationTitle,"left-type":"close","right-type":"UPDATE"===e.opretionType&&"Administrator"!==e.oUserInfo.szUserType?"delete":"text"},on:{"left-handle":e.goback,"right-handle":e.handleRightClick}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"swipe-wrapper permission-content"},[t("hm-scroll",[t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",[t("hm-cell",{class:{"cell-require":e.oParamsValid.oUserName&&e.oParamsValid.oUserName.required},attrs:{title:e.$t("username")}},[t("hm-input",{attrs:{disabled:e.oUserInfo.bUserType},model:{value:e.oUserInfo.szUsername,callback:function(t){e.$set(e.oUserInfo,"szUsername",t)},expression:"oUserInfo.szUsername"}}),t("hm-validator",{attrs:{model:e.oUserInfo.szUsername,rules:e.oParamsValid.oUserName,param:e.$t("username")}})],1),t("hm-cell",{attrs:{title:e.$t("userLevel")}},[t("base-select",{attrs:{placeholder:" ",title:e.$t("userLevel"),options:e.userLevelList,disabled:e.oUserInfo.bUserType},on:{change:e.changeUserType},model:{value:e.oUserInfo.szUserType,callback:function(t){e.$set(e.oUserInfo,"szUserType",t)},expression:"oUserInfo.szUserType"}})],1)],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{class:{"cell-require":e.oParamsValid.oOldPassword&&e.oParamsValid.oOldPassword.required},attrs:{title:"Administrator"!==e.oUserInfo.szUserType?e.$t("adminPwd"):e.$t("oldPwd")}},[t("hm-input",{attrs:{type:"password"},model:{value:e.oUserInfo.oldPassword,callback:function(t){e.$set(e.oUserInfo,"oldPassword",t)},expression:"oUserInfo.oldPassword"}}),t("hm-validator",{attrs:{model:e.oUserInfo.oldPassword,rules:e.oParamsValid.oOldPassword,param:e.$t("adminPwd")}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oNewPassword&&e.oParamsValid.oNewPassword.required},attrs:{title:e.$t("newPwd")}},[t("hm-input",{attrs:{type:"password"},model:{value:e.oUserInfo.newPassword,callback:function(t){e.$set(e.oUserInfo,"newPassword",t)},expression:"oUserInfo.newPassword"}}),t("hm-validator",{attrs:{model:e.oUserInfo.newPassword,rules:e.oParamsValid.oNewPassword,param:e.$t("password")}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oConfirmPass&&e.oParamsValid.oConfirmPass.required},attrs:{title:e.$t("confirmPassword")}},[t("hm-input",{attrs:{type:"password"},model:{value:e.oUserInfo.confirmPass,callback:function(t){e.$set(e.oUserInfo,"confirmPass",t)},expression:"oUserInfo.confirmPass"}}),t("hm-validator",{attrs:{model:e.oUserInfo.confirmPass,rules:e.oParamsValid.oConfirmPass,param:e.$t("adminPwd")}})],1),t("hm-cell",{staticClass:"permission-setting",attrs:{title:e.$t("permissionCfg"),"is-link":!0},nativeOn:{click:function(t){return e.settingPermission.apply(null,arguments)}}})],1)],1),t("div",{staticClass:"hm-btn-group top"},[t("hm-button",{on:{click:e.userOpeartion}},[e._v(e._s(e.userOperationButton))])],1)],1)],1)])])],1):e._e(),t("base-modal",{attrs:{visible:e.showModal,"close-type":"right",title:e.$t("permission")},on:{close:e.close}},[t("user-permission",{attrs:{"permission-other-cap":e.oPermissionCap,"permission-info":e.oUserInfo,"permission-cap":e.oLevelPermissionCap,security:e.bSecurityEnabled},on:{confirm:e.confirm}})],1)],1)])},n=[],o=a("7776"),r=o["a"],s=(a("e152"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"01864c0c",null);t["default"]=l.exports},f17a:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAaCAYAAABGiCfwAAAABHNCSVQICAgIfAhkiAAABMJJREFUSImtlmuIVGUYx3//98yZcTd3Z++aplhZRJBS9sEKoiIqsCIIsQ9q9aH60oUQoSjKL0UEWpl0oxvmKiQYZAVdQCiDsquIBXbxQobp7uzMro3OnHPepw97jp5dd9UP/WF4zwzP8/zf//953zmPODu0pmuYfjJE6VrPPU8KnQVJa1osK54vGubiwjSuziSYjCxMC0Qnk01cR9A2e6Rc8kGxWYobw8PtNTbjQZbmldN1QqUTkWVqallC7+LDU5OW4DLv7SInzcGY6gMbVsw+5/it1NLc9fcbMzJFE2x0YrLMjlqmpuveynkW63bwi4UuB6rAsTS2HfG9ed4P8FsHNvQcGqdyDKEmJ4Lee45OT+LGCuA+xH7gWzl3gCTxhgLEHIyFwLk41kVRuHZkU/tArmYPuT66cWQnZS+2wCfN5YgHgN14v85M28zjDPq8zAx9btLLEn9geqgYNO9ileVr1jh5kk8oG69KbUuPXBw6bcXU6rGHhZsL3OfwM80YMtEt2IvpNZP+Ef4lcId9olurGzv3jxMBUHe5H3LNNELnbsE0DfQJZrHwK2Q2xUyvevS80OugDsRKmQ2CtmE2C+dvAMu3p54RulTR2PtjYKYFQIi5Tx3uDkxdhvW3NrqerG7oWhscT54wsy1AH7AIuc+QhZIWcCoiIHS5LychEJaA1cz8HqQWE1XM9Y+EtXO7lw0+1Gwr9omkHxhBtIL/FWNkNG9iskJOWZ7NcNVN8vFP1hw6YKXODZLfEbrkz4aV7jT0rJpx1R+tf+ja2p+VbGeT4p5Q0XPO/M+5438Kyoz9vzsNTJ1LKyu7lg3GnUsrK8f15nQIgbI7Y9j/iAKpn0DEKnOdvw9dI9l0xCkbMRsSMB8QYn7nsoElYjDBOFiZ27WDVYzr1xg7I5G7B+Ul/1zoisELQhfAqWQpuoFe4AhwxNCPMnstCYKG8/FCzM2QLPaW7POF0vbhd8u/pRxRpqwVkErF2TJ/JTCdM79++gzqZtriZTOd98uFLkf0AYnkDgZx9HXHsqG3q++dvxOqkcvZiKEAkBmRYR8Bu4E64gOwPYDPkXnBem/+kEOPC1sEzAALQUWZeiTNdXH9kbZr11wKRJlVJ245GBKHLLE1Ht4H/YHjeRMfYGPIjjr5/kC2XPiLge+ABmDgBxBrgBd9/G+7uhfMJteXOtBi0VAhdW+qCrpR2BVgXSTcJNw8pMxaw7Rfx+xv5G4BfSUFT2C8AvxluNUu9G/6xtCAJc0oaJ22G0ZPY4a6r+w6h76rAXXK3P1gU4GSsAfNKAPBiWhZbXSxXsShWI29QVh4kTj4JrBou8WaJfOPORd+VumfviuvDKDusJ3WqCWjVlg3UEqN7Un7aqOqQGJamncAmOd8+HTi42IlKG81p1nJ8cozkn6pdI2sPbG/sQfMVL5tx/UqnnOrK3Z4ghbPZBDH8JXVXh2POrmngGMYHyuuf51EtTtc0PJzNKX3mZH17YOTkI2i47p3OnxjqMeiKUHpkruHJ2arM9DaM1BuHJ7tksLLkm62+N8myfEfpNKWip+1js1qjt3f6ZENP/lZYuwo13tpqe2qt+Y7CrcHU8oNX+j4orqx78uJzTg7ZBNT9pwh/x6cdF7M8B/W0RiNns1K1AAAAABJRU5ErkJggg=="},f1d2:function(e,t,a){"use strict";a("e2cb")},f247:function(e,t,a){"use strict";a("32df")},f2aa:function(e,t,a){"use strict";a("1ae0")},f3fd:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.$t("HTTP(S)"),"right-type":"text","show-save-button":!0,"save-text":e.$t("save"),"b-lazy-loading":e.oParams.bLazyLoading},on:{"save-handle":e.save}},[t("div",{staticClass:"https-page-wrapper",attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"hm-index-list-item"},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:"HTTP"}},[t("hm-cell",{class:{"cell-require":e.oParamsValid.oHttpPort&&e.oParamsValid.oHttpPort.required},attrs:{title:e.$t("port")}},[t("hm-input",{model:{value:e.oParams.szHttpPort,callback:function(t){e.$set(e.oParams,"szHttpPort",t)},expression:"oParams.szHttpPort"}}),t("hm-validator",{attrs:{model:e.oParams.szHttpPort,rules:e.oParamsValid.oHttpPort,param:e.$t("port")}})],1),e.oCap.bSupportHTTP&&0===e.oCommon.iDeviceType?t("hm-cell",{attrs:{title:e.$t("enableHTTP")}},[t("hm-switch",{attrs:{disabled:!0},model:{value:e.oParams.bHTTP,callback:function(t){e.$set(e.oParams,"bHTTP",t)},expression:"oParams.bHTTP"}})],1):e._e()],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:"HTTPS"}},[1===e.oCommon.iDeviceType?t("hm-cell",{attrs:{title:e.$t("enable")}},[t("hm-switch",{attrs:{disabled:!e.oParams.bInstalled},model:{value:e.oParams.bEnableHttps,callback:function(t){e.$set(e.oParams,"bEnableHttps",t)},expression:"oParams.bEnableHttps"}})],1):e._e(),0===e.oCommon.iDeviceType?t("hm-cell",{attrs:{title:e.$t("enableHTTPS")}},[t("hm-switch",{attrs:{disabled:!e.oParams.bInstalled},model:{value:e.oParams.bEnableHttps,callback:function(t){e.$set(e.oParams,"bEnableHttps",t)},expression:"oParams.bEnableHttps"}})],1):e._e(),t("hm-cell",{class:{"cell-require":e.oParamsValid.oHttpPort&&e.oParamsValid.oHttpsPort.required},attrs:{title:e.$t("port")}},[t("hm-input",{model:{value:e.oParams.szHttpsPort,callback:function(t){e.$set(e.oParams,"szHttpsPort",t)},expression:"oParams.szHttpsPort"}}),t("hm-validator",{attrs:{model:e.oParams.szHttpsPort,rules:e.oParamsValid.oHttpsPort,param:e.$t("port")}})],1),e.oCap.bSupportHttpsAutoJump?t("hm-cell",{attrs:{title:e.$t("httpsAutoJump")}},[t("hm-switch",{attrs:{disabled:!e.oParams.bInstalled||!e.oParams.bEnableHttps},model:{value:e.oParams.bEnableHttpsAutoJump,callback:function(t){e.$set(e.oParams,"bEnableHttpsAutoJump",t)},expression:"oParams.bEnableHttpsAutoJump"}})],1):e._e()],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[e.oCap.bSupportEnhancedSDKService&&0===e.oCommon.iDeviceType?t("hm-cell",{attrs:{title:e.$t("enableEnhancedSDKService")}},[t("hm-switch",{model:{value:e.oParams.bEnableSDKTLS,callback:function(t){e.$set(e.oParams,"bEnableSDKTLS",t)},expression:"oParams.bEnableSDKTLS"}})],1):e._e(),e.oCap.bSupportStreamOverTls&&0===e.oCommon.iDeviceType?t("hm-cell",{attrs:{title:e.$t("enableStreamOverTls")}},[t("hm-switch",{attrs:{disabled:!e.oParams.bEnableSDKTLS},model:{value:e.oParams.bEnableStreamOverTls,callback:function(t){e.$set(e.oParams,"bEnableStreamOverTls",t)},expression:"oParams.bEnableStreamOverTls"}})],1):e._e(),e.oCap.bSupportSDKService&&0===e.oCommon.iDeviceType?t("hm-cell",{attrs:{title:e.$t("enableSDKService")}},[t("hm-switch",{model:{value:e.oParams.bEnableSDK,callback:function(t){e.$set(e.oParams,"bEnableSDK",t)},expression:"oParams.bEnableSDK"}})],1):e._e()],1),e.oParams.bInstalled||e.bSupportManage?e._e():t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("certificateInstall")}},[t("hm-cell",{attrs:{title:e.$t("installType")}}),t("hm-radio-group",{attrs:{options:e.aInstallMode,position:"left","b-check":!0},model:{value:e.oParams.szInstallMode,callback:function(t){e.$set(e.oParams,"szInstallMode",t)},expression:"oParams.szInstallMode"}}),"0"===e.oParams.szInstallMode?t("hm-cell",{attrs:{title:e.$t("createSelfCertificate")}},[t("hm-button",{staticClass:"def-btn",on:{click:function(t){return e.create(0)}}},[e._v(e._s(e.$t("create")))])],1):e._e(),"1"===e.oParams.szInstallMode?t("div",[t("hm-cell",{attrs:{title:e.$t("SignedCertificateInstall")}},[t("hm-input",{attrs:{disabled:!0},model:{value:e.oParams.szUploadPath,callback:function(t){e.$set(e.oParams,"szUploadPath",t)},expression:"oParams.szUploadPath"}})],1),t("hm-cell",[t("hm-button",{staticClass:"def-btn browse-btn",on:{click:e.browseFilePath}},[e._v(e._s(e.$t("browse")))]),t("hm-button",{staticClass:"def-btn browse-btn",on:{click:e.uploadCertificate}},[e._v(e._s(e.$t("install")))])],1)],1):e._e(),"2"===e.oParams.szInstallMode?t("div",[t("hm-cell",{attrs:{title:e.$t("createCertificateReq")}},[t("hm-button",{staticClass:"def-btn",attrs:{disabled:e.oParams.bHasSignReq},on:{click:function(t){return e.create(1)}}},[e._v(e._s(e.$t("create")))])],1),e.oParams.bHasSignReq?t("hm-cell",{staticClass:"file-div",attrs:{title:e.$t(e.oParams.szSignReq)}}):e._e(),e.oParams.bHasSignReq?e._e():t("hm-cell",{staticClass:"file-div",attrs:{title:e.$t("noFile")}}),t("hm-cell",{attrs:{title:e.$t("certificateReqDownLoad")}},[t("hm-button",{staticClass:"def-btn",attrs:{disabled:!e.oParams.bHasSignReq},on:{click:e.downLoadReq}},[e._v(e._s(e.$t("download")))])],1),t("hm-cell",{attrs:{title:e.$t("certificateReqDelete")}},[t("hm-button",{staticClass:"def-btn",attrs:{disabled:!e.oParams.bHasSignReq},on:{click:e.removeCerReq}},[e._v(e._s(e.$t("delete")))])],1),t("hm-cell",{attrs:{title:e.$t("installCertificate")}},[t("hm-input",{attrs:{disabled:!0},model:{value:e.oParams.szUploadPath,callback:function(t){e.$set(e.oParams,"szUploadPath",t)},expression:"oParams.szUploadPath"}})],1),t("hm-cell",[t("hm-button",{staticClass:"def-btn browse-btn",on:{click:e.browseFilePath}},[e._v(e._s(e.$t("browse")))]),t("hm-button",{staticClass:"def-btn browse-btn",on:{click:e.uploadCertificate}},[e._v(e._s(e.$t("install")))])],1)],1):e._e()],1),e.oParams.bInstalled&&!e.bSupportManage?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("certificateDetail")}},[t("hm-cell",{attrs:{title:e.$t("installedCertificate")}},[t("hm-textarea",{attrs:{disabled:!0,indicator:!1},model:{value:e.oParams.szCertificate,callback:function(t){e.$set(e.oParams,"szCertificate",t)},expression:"oParams.szCertificate"}})],1),t("hm-cell",[t("span",{staticClass:"label-test",attrs:{disabled:e.oParams.bDiabledDeleteCer},on:{click:e.removeCertificate}},[e._v(e._s(e.$t("delete")))])]),t("hm-cell",{staticClass:"attr-div",attrs:{title:e.$t("attribute")}},[t("hm-textarea",{attrs:{disabled:!0,indicator:!1},model:{value:e.oParams.szCertificateDetail,callback:function(t){e.$set(e.oParams,"szCertificateDetail",t)},expression:"oParams.szCertificateDetail"}})],1)],1):e._e(),0===e.oCommon.iDeviceType?t("hm-cell-group",{staticClass:"custom-cell-group"},[e.oCap.bSupportTLS1_0Enable?t("hm-cell",{attrs:{title:e.$t("TLS1_0Enable")}},[t("hm-switch",{on:{change:function(t){return e.changeTLS1_0()}},model:{value:e.oParams.bTLS1_0Enable,callback:function(t){e.$set(e.oParams,"bTLS1_0Enable",t)},expression:"oParams.bTLS1_0Enable"}})],1):e._e(),e.oCap.bSupportTLS1_1Enable?t("hm-cell",{attrs:{title:e.$t("TLS1_1Enable")}},[t("hm-switch",{model:{value:e.oParams.bTLS1_1Enable,callback:function(t){e.$set(e.oParams,"bTLS1_1Enable",t)},expression:"oParams.bTLS1_1Enable"}})],1):e._e(),e.oCap.bSupportTLS1_2Enable?t("hm-cell",{attrs:{title:e.$t("TLS1_2Enable")}},[t("hm-switch",{attrs:{disabled:!0},model:{value:e.oParams.bTLS1_2Enable,callback:function(t){e.$set(e.oParams,"bTLS1_2Enable",t)},expression:"oParams.bTLS1_2Enable"}})],1):e._e(),e.oCap.bSupportRTSP?t("hm-cell",{attrs:{title:e.$t("enableRTSP")}},[t("hm-switch",{model:{value:e.oParams.bRTSP,callback:function(t){e.$set(e.oParams,"bRTSP",t)},expression:"oParams.bRTSP"}})],1):e._e(),e.oCap.bSupportWebSocket?t("hm-cell",{attrs:{title:e.$t("enableWebSocket")}},[t("hm-switch",{model:{value:e.oParams.bWebSocket,callback:function(t){e.$set(e.oParams,"bWebSocket",t)},expression:"oParams.bWebSocket"}})],1):e._e(),e.oCap.bSupportWebSockets?t("hm-cell",{attrs:{title:e.$t("enableWebSockets")}},[t("hm-switch",{model:{value:e.oParams.bWebSockets,callback:function(t){e.$set(e.oParams,"bWebSockets",t)},expression:"oParams.bWebSockets"}})],1):e._e()],1):e._e(),e.bSupportManage?t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[e.certificateSelectCap.bSupportClient?t("hm-cell",{attrs:{title:e.$t("clientCertificate")}},[t("base-select",{attrs:{options:e.certificateSelectCap.aClientCertificate},on:{change:e.checkCertificate},model:{value:e.certificateSelectParm.clientCertificate,callback:function(t){e.$set(e.certificateSelectParm,"clientCertificate",t)},expression:"certificateSelectParm.clientCertificate"}})],1):e._e(),e.certificateSelectCap.bSupportServer?t("hm-cell",{attrs:{title:e.$t("serverCertificate")}},[t("base-select",{attrs:{title:e.$t("serverCertificate"),options:e.certificateSelectCap.aServerCertificate},on:{change:e.checkCertificate},model:{value:e.certificateSelectParm.serverCertificate,callback:function(t){e.$set(e.certificateSelectParm,"serverCertificate",t)},expression:"certificateSelectParm.serverCertificate"}})],1):e._e(),e.certificateSelectCap.bSupportCA?t("hm-cell",{attrs:{title:e.$t("caCertificate")}},[t("base-select",{attrs:{title:e.$t("caCertificate"),options:e.certificateSelectCap.aCACertificate},on:{change:e.checkCertificate},model:{value:e.certificateSelectParm.CACertificate,callback:function(t){e.$set(e.certificateSelectParm,"CACertificate",t)},expression:"certificateSelectParm.CACertificate"}})],1):e._e()],1):e._e(),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("webAuth")}},[e.authCap.oSupportAuth.bWeb&&e.authCap.aWebCap.length?t("hm-cell",{attrs:{title:e.$t("authentication")}},[t("base-select",{attrs:{options:e.authCap.aWebCap,title:e.$t("authentication")},on:{change:e.webOptionChange},model:{value:e.oAuth.szWeb,callback:function(t){e.$set(e.oAuth,"szWeb",t)},expression:"oAuth.szWeb"}})],1):e._e(),e.authCap.bWEBDigestAlgorithm&&("digest"===e.oAuth.szWeb||"digest/basic"===e.oAuth.szWeb)&&e.authCap.aWEBDigestAlgorithm.length?t("hm-cell",{attrs:{title:e.$t("digestAlgorithm")}},[t("base-select",{attrs:{options:e.authCap.aWEBDigestAlgorithm,title:e.$t("digestAlgorithm")},on:{change:e.WEBDigestAlgorithmChange},model:{value:e.oAuth.szWEBDigestAlgorithm,callback:function(t){e.$set(e.oAuth,"szWEBDigestAlgorithm",t)},expression:"oAuth.szWEBDigestAlgorithm"}})],1):e._e()],1)],1),e.bShowCreate?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:e.$t("create"),"enable-cancel-callback":e.bEnableCancelCallback},on:{cancelcallback:e.cancelCallback,confirm:e.confirm}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"swipe-wrapper"},[t("hm-scroll",[t("div",{staticClass:"hm-index-list-item"},[t("hm-validator-group",{attrs:{result:e.validate}},[t("hm-cell-group",[e.oRSAKeyLengthCap.bSupport?t("hm-cell",{attrs:{title:e.$t("certLength")}},[t("base-select",{attrs:{title:e.$t("certLength"),options:e.oRSAKeyLengthCap.aOptions},model:{value:e.oDlgParams.certLength,callback:function(t){e.$set(e.oDlgParams,"certLength",t)},expression:"oDlgParams.certLength"}})],1):e._e(),t("hm-cell",{class:{"cell-require":e.oParamsValid.oCountry&&e.oParamsValid.oCountry.required},attrs:{title:e.$t("country")}},[t("hm-input",{model:{value:e.oDlgParams.szCountry,callback:function(t){e.$set(e.oDlgParams,"szCountry",t)},expression:"oDlgParams.szCountry"}}),t("hm-validator",{attrs:{model:e.oDlgParams.szCountry,rules:e.oParamsValid.oCountry,param:e.$t("country")}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oCommonName&&e.oParamsValid.oCommonName.required},attrs:{title:e.$t("hostnameOrIp")}},[t("hm-input",{attrs:{maxlength:e.length63},model:{value:e.oDlgParams.szHostname,callback:function(t){e.$set(e.oDlgParams,"szHostname",t)},expression:"oDlgParams.szHostname"}}),t("hm-validator",{attrs:{model:e.oDlgParams.szHostname,rules:e.oParamsValid.oCommonName,param:e.$t("hostnameOrIp")}})],1),0===e.oParams.iCreateType?t("hm-cell",{class:{"cell-require":e.oParamsValid.oValidity&&e.oParamsValid.oValidity.required},attrs:{title:e.$t("validity")+"("+e.$t("days")+")"}},[t("hm-input",{model:{value:e.oDlgParams.szValidity,callback:function(t){e.$set(e.oDlgParams,"szValidity",t)},expression:"oDlgParams.szValidity"}}),t("hm-validator",{attrs:{model:e.oDlgParams.szValidity,rules:e.oParamsValid.oValidity,param:e.$t("validity")}})],1):e._e(),t("hm-cell",{class:{"cell-require":e.oParamsValid.oPassword&&e.oParamsValid.oPassword.required},attrs:{title:e.$t("password")}},[t("hm-input",{attrs:{maxlength:e.length31},model:{value:e.oDlgParams.szPassword,callback:function(t){e.$set(e.oDlgParams,"szPassword",t)},expression:"oDlgParams.szPassword"}}),t("hm-validator",{attrs:{model:e.oDlgParams.szPassword,rules:e.oParamsValid.oPassword,param:e.$t("password")}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oStateOrProvince&&e.oParamsValid.oStateOrProvince.required},attrs:{title:e.$t("stateOrProvince")}},[t("hm-input",{attrs:{maxlength:e.length63},model:{value:e.oDlgParams.szStateOrProvince,callback:function(t){e.$set(e.oDlgParams,"szStateOrProvince",t)},expression:"oDlgParams.szStateOrProvince"}}),t("hm-validator",{attrs:{model:e.oDlgParams.szStateOrProvince,rules:e.oParamsValid.oStateOrProvince,param:e.$t("stateOrProvince")}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oLocality&&e.oParamsValid.oLocality.required},attrs:{title:e.$t("locality")}},[t("hm-input",{attrs:{maxlength:e.length63},model:{value:e.oDlgParams.szLocality,callback:function(t){e.$set(e.oDlgParams,"szLocality",t)},expression:"oDlgParams.szLocality"}}),t("hm-validator",{attrs:{model:e.oDlgParams.szLocality,rules:e.oParamsValid.oLocality,param:e.$t("locality")}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oOrganization&&e.oParamsValid.oOrganization.required},attrs:{title:e.$t("organization")}},[t("hm-input",{attrs:{maxlength:e.length63},model:{value:e.oDlgParams.szOrganization,callback:function(t){e.$set(e.oDlgParams,"szOrganization",t)},expression:"oDlgParams.szOrganization"}}),t("hm-validator",{attrs:{model:e.oDlgParams.szOrganization,rules:e.oParamsValid.oOrganization,param:e.$t("organization")}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oOrganizationalUnit&&e.oParamsValid.oOrganizationalUnit.required},attrs:{title:e.$t("organizationalUnit")}},[t("hm-input",{attrs:{maxlength:e.length63},model:{value:e.oDlgParams.szlaOrganizationalUnit,callback:function(t){e.$set(e.oDlgParams,"szlaOrganizationalUnit",t)},expression:"oDlgParams.szlaOrganizationalUnit"}}),t("hm-validator",{attrs:{model:e.oDlgParams.szlaOrganizationalUnit,rules:e.oParamsValid.oOrganizationalUnit,param:e.$t("organizationalUnit")}})],1),t("hm-cell",{class:{"cell-require":e.oParamsValid.oEmail&&e.oParamsValid.oEmail.required},attrs:{title:e.$t("email")}},[t("hm-input",{attrs:{maxlength:e.length63},on:{blur:function(t){return e.validatEmail()}},model:{value:e.oDlgParams.szEmail,callback:function(t){e.$set(e.oDlgParams,"szEmail",t)},expression:"oDlgParams.szEmail"}}),t("hm-validator",{attrs:{model:e.oDlgParams.szEmail,rules:e.oParamsValid.oEmail,param:e.$t("email"),diasbled:e.oParamsValid.oEmail.bSkipValid}})],1)],1)],1)],1)])],1)])])],1):e._e(),t("base-view")],1)])},n=[],o=a("b195"),r=o["a"],s=(a("f53b"),a("3a64"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"75cda594",null);t["default"]=l.exports},f51c:function(e,t,a){"use strict";(function(e){a("96cf");var i=a("1da1"),n=(a("ac6a"),a("634e")),o=a("962a"),r=a("23d7"),s=a("6458"),l=a("c050"),c=a("47b5");t["a"]={name:"WhiteLightAlarmOut",components:{BasePageExtend:o["a"],TimePlan:r["a"],ChannelList:s["a"],BaseSelect:c["a"]},data:function(){return{bLazyLoading:!1,validate:{},oInputDataValid:n["a"].m_oParamsValid,oChannel:{id:-1},oParams:n["a"].m_oParams,aTimes:n["a"].m_aTimes,aTimesTemp:[],oCap:n["a"].m_oCap,bShowSchedule:!1,bEnableCancelCallback:!0,bSupportConfig:!1,bShowNotSpport:!1}},watch:{"oChannel.id":{handler:function(e,t){var a=this;e>0&&e!==t&&(this.bSupportConfig=!1,n["a"].m_oCap.aAlarmOutput.forEach((function(t){t.value===e&&(a.bSupportConfig=!0)})),this.bShowNotSpport=!this.bSupportConfig,this.bSupportConfig&&n["a"].getAllInfo())},immediate:!0,deep:!0}},created:function(){n["a"].init()},methods:{showArmSchedule:function(){this.aTimesTemp=e.extend(!0,[],n["a"].m_aTimes),this.bShowSchedule=!0},save:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.validate.validateAll(),!l["a"].validateTips(this.validate.getErrorReport())){e.next=6;break}return this.bLazyLoading=!0,e.next=5,n["a"].setParam();case 5:this.bLazyLoading=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),cancelcallback:function(){this.aTimes=this.aTimesTemp,n["a"].m_aTimes=this.aTimesTemp,this.bShowSchedule=!1},confirm:function(){n["a"].m_aTimes=this.$refs.timePlan.timesData,this.bShowSchedule=!1},deleteAll:function(){for(var e=0,t=n["a"].m_aTimes.length;e<t;e++)n["a"].m_aTimes[e]=[];this.$refs.timePlan.timesData=n["a"].m_aTimes,this.$refs.timePlan.$forceUpdate()}}}}).call(this,a("1157"))},f535:function(e,t,a){"use strict";a("0125")},f53b:function(e,t,a){"use strict";a("f703")},f576:function(e,t,a){"use strict";var i=a("5ca1"),n=a("2e08"),o=a("a25f"),r=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);i(i.P+i.F*r,"String",{padStart:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},f5b6:function(e,t,a){"use strict";a("f8ec")},f703:function(e,t,a){},f723:function(e,t,a){},f743:function(e,t,a){},f8ec:function(e,t,a){},f915:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABHNCSVQICAgIfAhkiAAABPVJREFUaIHtmE9s21Qcx78vDoV23pTTWqdNhqBaBWgX/vQ0pPJH6iVGu4zrLsANQbkM7bJEOxRRKUwIDuPEnykViKoCB6nSQG20cKiKxQ4TndJtqpv4OW2aVmie1yapHwfqKond1k5MJ6R8Tvb78/v9Ps5z8l6ADh06dPhfUSgULqiq+tbjrsOCuB1IKT3LGIsTQt7YbfqxVqslotHo7f+oNlccKrCyshIOBoNxAO869TPGPjVNMx6JRB75XJsrDhTQNO0iYywO4KkDgxCiMcYS4XD4mp/FucFRQNO087uFP+8x3u+MsUR/f/+NtitzSYMApfQlQshlxpjYZtzvOI6L9/b23m8zzqEQAMjn890cx40D+MDP4LufRtzPmM0QAFhYWBghhMz29PTkQqHQaZ9z3DdNMzEwMPCtz3EBAIH6G8MwTq+srGBra8vPHM8EAoFvKKU3KKVn/QwMNAkAQDAYxMbGBlRVhWmafuZ6E8BNSum1Uqkk+BXUJmBBCEGxWMTq6qpfuSzeq1ar91RVvehHsH0FLHZ2dpDP57G+vu5HPotuQsgnlNLbhULhfDuBDhUAAI7jUKlUkM/nsb293U6+Zl4IBAI/qKr6s6qqL7YSwJWABcdxKJfLoJS2kmtfCCEiIUSmlF7d3NwMeZprXSwsLMQJIZe9TOY4Dr29vV6muGEDQCIcDn/uZnDDL7EkSV/zPH/h+PHjrrNVKhWEQiGEQp4enBv+IITEBUH45aBBtiWk6zrK5TIePHjgKktXVxcMw0ChUEC1Wm2xVkdeZoylVVX9nlL63H6DHN+BSqUCXdddSwBAIBBAqVSCpmkt1Lo/hJC3Afylqur40tLSk7a8TffL9Te6rkPTNE8ijDFQSrG2ttZKvftCCPn42LFj9yilDeeSBgFRFOMAvmye3IpIrVaDoigwDKPFkh3pB/DVnTt31q9cufI6cMCBRpKkmwBsexee5wEAXl500zQhCAI4jvNasI1kMolkMvmFaZrvAy6OlJIkPYLDiYzneU8SwL+fSjQa9TTHYnZ2FpcuXYKiKH8DeBZAGXB5qE+n0x8yxpJO472KFItFnDhxAoODg67GLy4uIpVK4datW5BlGQA+AvCZ1e/6XwkAkCRpGsA5pz6vIktLSxgaGkJfX59j/+bmJlKpFGZmZvbaZFn+E0DDlsOTgIUkSQoA21poZVktLy9jeHgYwWBwr21qagqTk5O2fZcsy+cA/FTf1pKAhSRJNQC2N7MVkbW1NRiGgVQqBUVRwPM8IpEIFhcX98bIsmyr19NmrhlRFIOEkLHm9la+dufn5zE+Pg5KKU6dOoWhoSFX89oSAIBYLHZVFEUCINvc50Ukl8tBEAScOXMG1WrVtXzbAhaiKL66K2Lbax+2LZEkCblcDidPnkSxWASl1PUS9E3AQhTFfgCvAajVt+u6jomJCczNzdnmpNPpvWtBEDA4OIhCodCw/vfDdwEAEEVxThTFJ+CwLclkMkgkEnsikiQ19JdKJSiKYjuL9/T0/OaUq61vIbdY25Lr16/b9kb1pzue56Hrum1+d3d3JpvNjjjFPhIBi7GxMePu3bvd9W0HHU8PKtziSAUAIBaLjRBCfsXu74eTAM/zSiaTedpNvCMXsIjFYtOEkHP1Al1dXVscx80f9tTreWwCFqOjozMPHz58BcB0Npt953HX06FDhw7e+AdfaBEkcqZEkwAAAABJRU5ErkJggg=="},fc15:function(e,t,a){},fc91:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("base-page",{attrs:{title:e.oEventInfo.pageTitle,"right-type":"text","show-save-button":!(e.bShowSchedule||e.bShowAreaSet||e.bLandscapeMode),"b-lazy-loading":e.bLazyLoading,"save-text":e.$t("save")},on:{"save-handle":e.save}},[t("div",{staticClass:"filed-content",attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"filed-item"},[e.bSupportChannelCap||e.oEventCap.bIPCDevice?e._e():t("channel-list",{attrs:{"o-channel":e.oChannel}}),t("div",{staticClass:"plugin-small"},[e.bLandscapeMode?e._e():t("plugin-wind",{attrs:{mode:"snapdraw","o-channel":e.oChannel,hide:e.oEventInfo.bPluginHide},on:{"play-success":e.playSuccess,initEvent:e.initEvent}})],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("enable")}},[t("hm-switch",{model:{value:e.oEventInfo.bEnableEvent,callback:function(t){e.$set(e.oEventInfo,"bEnableEvent",t)},expression:"oEventInfo.bEnableEvent"}})],1),t("hm-cell",{attrs:{title:e.oEventInfo.warnRegionLan}},["smartFieldDetection"!==e.sType?t("base-select",{attrs:{title:e.oEventInfo.warnRegionLan,options:e.oEventInfo.aFieldList},model:{value:e.oEventInfo.iFieldId,callback:function(t){e.$set(e.oEventInfo,"iFieldId",t)},expression:"oEventInfo.iFieldId"}}):e._e(),"smartFieldDetection"===e.sType?t("div",{staticClass:"checkedRadios"},e._l(e.oEventInfo.aFieldList,(function(a,i){return t("div",{key:i,staticClass:"checkRadio",class:{checked:e.oEventInfo.iFieldId===a.value},on:{click:function(t){return e.chooseFiled(a)}}},[e._v("\n              "+e._s(a.text)+"\n            ")])})),0):e._e()],1),e.oEventInfo.oPreset.bSupportPreset&&"smartFieldDetection"===e.sType?t("hm-cell",{attrs:{title:e.$t("preset")}},[t("base-select",{attrs:{title:e.oEventInfo.oPreset.sPresetName,options:e.oEventInfo.oPreset.aPresetList},on:{change:e.changePreset},model:{value:e.oEventInfo.oPreset.iPresetID,callback:function(t){e.$set(e.oEventInfo.oPreset,"iPresetID",t)},expression:"oEventInfo.oPreset.iPresetID"}})],1):e._e(),t("hm-cell",{nativeOn:{click:function(t){return e.enterFullScreen.apply(null,arguments)}}},[t("div",{attrs:{slot:"title"},slot:"title"},[t("span",{staticClass:"blue-button"},[e._v(e._s(e.$t("drawRules")))])])])],1),t("hm-cell-group",{staticClass:"cell-group custom-cell-group",attrs:{title:e.$t("parameterConfig")}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.oEventCap.bIPCDevice&&e.oEventCap.bSupportMultiDect&&e.oEventCap.bDect||!e.oEventCap.bIPCDevice&&!e.oEventCap.bEnableLocalDetection&&e.oEventCap.bSupportDetectionTarget,expression:"(oEventCap.bIPCDevice && oEventCap.bSupportMultiDect && oEventCap.bDect) || (!oEventCap.bIPCDevice && !oEventCap.bEnableLocalDetection && oEventCap.bSupportDetectionTarget)"}]},[t("hm-cell",{attrs:{title:e.$t("detectionTarget")}}),t("hm-cell",{attrs:{title:e.$t("human")}},[t("hm-switch",{model:{value:e.oEventInfo.bIpcDtectionTargetHuman,callback:function(t){e.$set(e.oEventInfo,"bIpcDtectionTargetHuman",t)},expression:"oEventInfo.bIpcDtectionTargetHuman"}})],1),t("hm-cell",{attrs:{title:e.$t("vehicle")}},[t("hm-switch",{model:{value:e.oEventInfo.bIpcDtectionTargetVehicle,callback:function(t){e.$set(e.oEventInfo,"bIpcDtectionTargetVehicle",t)},expression:"oEventInfo.bIpcDtectionTargetVehicle"}})],1),e.bSupportDtectionTargetOthers?t("hm-cell",{attrs:{title:e.$t("other")}},[t("hm-switch",{model:{value:e.oEventInfo.bIpcDtectionTargetOthers,callback:function(t){e.$set(e.oEventInfo,"bIpcDtectionTargetOthers",t)},expression:"oEventInfo.bIpcDtectionTargetOthers"}})],1):e._e()],1),t("div",[e.oEventCap.bTime?t("base-slider-content",{attrs:{title:e.$t("threshold")+":"+e.oEventInfo.iTime},scopedSlots:e._u([{key:"content",fn:function(){return[t("mt-range",{attrs:{min:e.oEventCap.iTimeMin,max:e.oEventCap.iTimeMax,step:1,"bar-height":5},model:{value:e.oEventInfo.iTime,callback:function(t){e.$set(e.oEventInfo,"iTime",t)},expression:"oEventInfo.iTime"}})]},proxy:!0}],null,!1,3082533698)}):e._e(),e.oEventCap.bSen?t("base-slider-content",{attrs:{title:e.$t("sensitivity")+":"+e.oEventInfo.iSen},scopedSlots:e._u([{key:"content",fn:function(){return[t("mt-range",{attrs:{min:e.oEventCap.iSenMin,max:e.oEventCap.iSenMax,step:1,"bar-height":5},model:{value:e.oEventInfo.iSen,callback:function(t){e.$set(e.oEventInfo,"iSen",t)},expression:"oEventInfo.iSen"}})]},proxy:!0}],null,!1,3255092655)}):e._e(),e.oEventCap.bProp?t("base-slider-content",{attrs:{title:e.$t("percentage")+":"+e.oEventInfo.iProp},scopedSlots:e._u([{key:"content",fn:function(){return[t("mt-range",{attrs:{min:e.oEventCap.iPropMin,max:e.oEventCap.iPropMax,step:1,"bar-height":5},model:{value:e.oEventInfo.iProp,callback:function(t){e.$set(e.oEventInfo,"iProp",t)},expression:"oEventInfo.iProp"}})]},proxy:!0}],null,!1,1530936522)}):e._e(),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oEventCap.bIPCDevice&&e.oEventCap.bDect&&!e.oEventCap.bSupportMultiDect,expression:"oEventCap.bIPCDevice && oEventCap.bDect && !oEventCap.bSupportMultiDect"}],attrs:{title:e.$t("detectionTarget")}},[t("base-select",{attrs:{title:e.$t("detectionTarget"),options:e.oEventCap.aDectList},model:{value:e.oEventInfo.szDect,callback:function(t){e.$set(e.oEventInfo,"szDect",t)},expression:"oEventInfo.szDect"}})],1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.oEventCap.bSupportDetectionTarget&&(e.oEventCap.bSupportMisinformation||e.oEventCap.bSupportVehicleMisFilter)&&!e.oEventCap.bSupportConfigByRule,expression:"!oEventCap.bSupportDetectionTarget && (oEventCap.bSupportMisinformation || oEventCap.bSupportVehicleMisFilter) && !oEventCap.bSupportConfigByRule"}]},[t("hm-cell",{attrs:{title:e.$t("detectionTarget")}}),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oEventCap.bSupportMisinformation,expression:"oEventCap.bSupportMisinformation"}],attrs:{title:e.$t("human")}},[t("hm-switch",{model:{value:e.oEventInfo.bMisinformation,callback:function(t){e.$set(e.oEventInfo,"bMisinformation",t)},expression:"oEventInfo.bMisinformation"}})],1),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oEventCap.bSupportVehicleMisFilter,expression:"oEventCap.bSupportVehicleMisFilter"}],attrs:{title:e.$t("vehicle")}},[t("hm-switch",{model:{value:e.oEventInfo.bVehicleMisFilter,callback:function(t){e.$set(e.oEventInfo,"bVehicleMisFilter",t)},expression:"oEventInfo.bVehicleMisFilter"}})],1)],1)]),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:e.$t("armSchedulePlan")}},[t("hm-cell",{attrs:{"is-link":"",title:e.$t("armSchedulePlan")},nativeOn:{click:function(t){return e.showArmSchedule()}}})],1),e.bShowLink?t("base-link",{ref:"link",attrs:{link:e.oEventInfo.oLink}}):e._e()],1),e.bShowSchedule?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:e.$t("armSchedule"),"show-footer":!0,"enable-cancel-callback":e.bEnableCancelCallback},on:{delete:e.deleteAll,cancelcallback:e.cancelCallbackArmSchedule,confirm:e.confirmArmSchedule}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"swipe-wrapper time-plan-padding swipe-wrapper-show-footer"},[t("hm-scroll",[t("time-plan",{ref:"timePlan",attrs:{"times-data":e.oEventInfo.oScheduleTimes,holiday:e.oEventCap.bSupportHoliday,"show-types":e.bShowTypes}})],1)],1)])])],1):e._e(),e.bShowAreaSet?t("div",{staticClass:"full-screen-display"},[t("base-page-extend",{attrs:{title:e.$t("areaSet"),"show-cancel":!1,"enable-cancel-callback":e.bEnableCancelCallback},on:{cancelcallback:e.cancelCallbackAreaSet,confirm:e.confirmAreaSet}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"plugin-small"},[t("plugin-wind",{attrs:{mode:"snapdraw","o-channel":e.oChannel,hide:e.oEventInfo.bPluginHide},on:{"play-success":e.playSuccess}})],1),t("div",{staticClass:"hm-btn-group-ex"},[t("button",{staticClass:"cube-btn-draw",on:{click:function(t){return e.clear()}}},[e._v("\n              "+e._s(e.$t("clearAll"))+"\n            ")]),t("button",{staticClass:"cube-btn-draw",on:{click:function(t){return e.draw()}}},[e._v("\n              "+e._s(e.$t("drawArea"))+"\n            ")]),t("button",{directives:[{name:"show",rawName:"v-show",value:e.oEventCap.bSupportSmartCalibration,expression:"oEventCap.bSupportSmartCalibration"}],staticClass:"cube-btn-draw",on:{click:function(t){return e.addMinFilter()}}},[e._v("\n              "+e._s(e.$t("MinSize"))+"\n            ")]),t("button",{directives:[{name:"show",rawName:"v-show",value:e.oEventCap.bSupportSmartCalibration,expression:"oEventCap.bSupportSmartCalibration"}],staticClass:"cube-btn-draw",on:{click:function(t){return e.addMaxFilter()}}},[e._v("\n              "+e._s(e.$t("MaxSize"))+"\n            ")])]),t("hm-cell-group",{staticClass:"cell-group"},[t("hm-cell",{attrs:{title:e.oEventInfo.warnRegionLan}},[t("base-select",{attrs:{title:e.oEventInfo.warnRegionLan,options:e.oEventInfo.aFieldList},model:{value:e.oEventInfo.iFieldId,callback:function(t){e.$set(e.oEventInfo,"iFieldId",t)},expression:"oEventInfo.iFieldId"}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.oEventCap.bIPCDevice&&e.oEventCap.bSupportMultiDect&&e.oEventCap.bDect||!e.oEventCap.bIPCDevice&&!e.oEventCap.bEnableLocalDetection&&e.oEventCap.bSupportDetectionTarget,expression:"(oEventCap.bIPCDevice && oEventCap.bSupportMultiDect && oEventCap.bDect) || (!oEventCap.bIPCDevice && !oEventCap.bEnableLocalDetection && oEventCap.bSupportDetectionTarget)"}]},[t("hm-cell",{attrs:{title:e.$t("detectionTarget")}}),t("hm-cell",{attrs:{title:e.$t("human")}},[t("hm-switch",{model:{value:e.oEventInfo.bIpcDtectionTargetHuman,callback:function(t){e.$set(e.oEventInfo,"bIpcDtectionTargetHuman",t)},expression:"oEventInfo.bIpcDtectionTargetHuman"}})],1),t("hm-cell",{attrs:{title:e.$t("vehicle")}},[t("hm-switch",{model:{value:e.oEventInfo.bIpcDtectionTargetVehicle,callback:function(t){e.$set(e.oEventInfo,"bIpcDtectionTargetVehicle",t)},expression:"oEventInfo.bIpcDtectionTargetVehicle"}})],1),e.bSupportDtectionTargetOthers?t("hm-cell",{attrs:{title:e.$t("other")}},[t("hm-switch",{model:{value:e.oEventInfo.bIpcDtectionTargetOthers,callback:function(t){e.$set(e.oEventInfo,"bIpcDtectionTargetOthers",t)},expression:"oEventInfo.bIpcDtectionTargetOthers"}})],1):e._e()],1),t("div",[e.oEventCap.bTime?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("threshold")}},[t("div",{staticStyle:{width:"80%",height:"34px"}},[t("mt-range",{staticStyle:{width:"90%"},attrs:{min:e.oEventCap.iTimeMin,max:e.oEventCap.iTimeMax,step:1,"bar-height":5},model:{value:e.oEventInfo.iTime,callback:function(t){e.$set(e.oEventInfo,"iTime",t)},expression:"oEventInfo.iTime"}})],1),t("hm-input",{staticClass:"slider-input",attrs:{disabled:!0,type:"number"},model:{value:e.oEventInfo.iTime,callback:function(t){e.$set(e.oEventInfo,"iTime",t)},expression:"oEventInfo.iTime"}})],1):e._e(),e.oEventCap.bSen?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("sensitivity")}},[t("div",{staticStyle:{width:"80%",height:"34px"}},[t("mt-range",{staticStyle:{width:"90%"},attrs:{min:e.oEventCap.iSenMin,max:e.oEventCap.iSenMax,step:1,"bar-height":5},model:{value:e.oEventInfo.iSen,callback:function(t){e.$set(e.oEventInfo,"iSen",t)},expression:"oEventInfo.iSen"}})],1),t("hm-input",{staticClass:"slider-input",attrs:{disabled:!0,type:"number"},model:{value:e.oEventInfo.iSen,callback:function(t){e.$set(e.oEventInfo,"iSen",t)},expression:"oEventInfo.iSen"}})],1):e._e(),e.oEventCap.bProp?t("hm-cell",{staticClass:"hm-cell-slider",attrs:{title:e.$t("percentage")}},[t("div",{staticStyle:{width:"80%",height:"34px"}},[t("mt-range",{staticStyle:{width:"90%"},attrs:{min:e.oEventCap.iPropMin,max:e.oEventCap.iPropMax,step:1,"bar-height":5},model:{value:e.oEventInfo.iProp,callback:function(t){e.$set(e.oEventInfo,"iProp",t)},expression:"oEventInfo.iProp"}})],1),t("hm-input",{staticClass:"slider-input",attrs:{disabled:!0,type:"number"},model:{value:e.oEventInfo.iProp,callback:function(t){e.$set(e.oEventInfo,"iProp",t)},expression:"oEventInfo.iProp"}})],1):e._e(),t("hm-cell",{directives:[{name:"show",rawName:"v-show",value:e.oEventCap.bIPCDevice&&e.oEventCap.bDect&&!e.oEventCap.bSupportMultiDect,expression:"oEventCap.bIPCDevice && oEventCap.bDect && !oEventCap.bSupportMultiDect"}],attrs:{title:e.$t("detectionTarget")}},[t("base-select",{attrs:{title:e.$t("detectionTarget"),options:e.oEventCap.aDectList},model:{value:e.oEventInfo.szDect,callback:function(t){e.$set(e.oEventInfo,"szDect",t)},expression:"oEventInfo.szDect"}})],1)],1)],1)],1)])],1):e._e(),e.bLandscapeMode?t("div",{staticClass:"full-screen-display"},[t("new-base-page-extend-rotate",{attrs:{title:e.$t("drawGridTip2"),"enable-cancel-callback":e.bEnableCancelCallback,"show-min-filter":e.oEventCap.bSupportSmartCalibration,"show-max-filter":e.oEventCap.bSupportSmartCalibration},on:{cancelcallback:e.cancelLandscapeMode,confirm:e.confirmLandscapeMode,drawPolygon:e.drawPolygon,addMinFilter:e.addMinFilter,addMaxFilter:e.addMaxFilter,clearPolygon:e.clearPolygon}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("div",{staticClass:"plugin-small-ex"},[t("plugin-wind",{attrs:{mode:"motiondetect","o-channel":e.oChannel,hide:e.oEventInfo.bPluginHide},on:{"play-success":e.playSuccess}})],1)])])],1):e._e(),t("base-view")],1)])},n=[],o=a("cd2e"),r=o["a"],s=(a("46c6"),a("2877")),l=Object(s["a"])(r,i,n,!1,null,"b6062074",null);t["default"]=l.exports},fda5:function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"custom-select",class:{"custom-select_active":e.active,"custom-select_disabled":e.disabled},on:{click:e.showPicker}},[e.selectedText?t("span",{staticClass:"custom-select-text"},[e._v(e._s(e.selectedText))]):t("span",{staticClass:"custom-select-placeholder"},[e._v(e._s(e._placeholder))]),t("i",{staticClass:"custom-link-icon icon-into"})])},n=[],o=(a("c5f6"),a("2b0e")),r=function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"hm-custom-picker-fade"}},[t("hm-popup",{directives:[{name:"show",rawName:"v-show",value:e.isVisible,expression:"isVisible"}],attrs:{type:"picker",mask:!0,center:!1,"z-index":e.zIndex},on:{touchmove:function(e){e.preventDefault()},"mask-click":e.maskClick}},[t("transition",{attrs:{name:"hm-custom-picker-move"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isVisible,expression:"isVisible"}],staticClass:"hm-custom-picker-panel",on:{click:function(e){e.stopPropagation()}}},[t("div",{staticClass:"hm-custom-picker-choose"},[t("span",{staticClass:"hm-custom-picker-cancel",on:{click:e.cancel}},[e._v(e._s(e.$t("cancel")))]),t("span",{staticClass:"hm-custom-picker-confirm",on:{click:e.confirm}},[e._v(e._s(e.$t("ok")))]),t("div",{staticClass:"hm-custom-picker-title-group"},[t("h1",{staticClass:"hm-custom-picker-title"},[e._v("\n              "+e._s(e.titleTip)+"\n            ")])])]),t("div",[0===e.selectType?t("div",{staticClass:"hm-custom-swipe-wrapper"},[t("hm-scroll",{ref:"customScroll"},e._l(e.finalData,(function(a,i){return t("div",{key:i},[t("hm-checkbox",{on:{input:function(t){return e.changeCheckState(i,e.finalData[i].value)}},model:{value:e.finalData[i].value,callback:function(t){e.$set(e.finalData[i],"value",t)},expression:"finalData[index].value"}},[e._v("\n                  "+e._s(e.finalData[i].title?e.finalData[i].title:e.finalData[i].view?e.finalData[i].view:e.finalData[i].text)+"\n                ")])],1)})),0)],1):1===e.selectType?t("div",{staticClass:"hm-custom-swipe-wrapper"},[t("hm-scroll",{ref:"customScroll"},e._l(e.finalData,(function(a,i){return t("div",{key:i},[a.length>1?t("hm-collapse",[t("hm-collapse-item",{attrs:{title:e.$t("subSystem")+(i+1)}},e._l(a,(function(a,n){return t("div",{key:n},[t("hm-checkbox",{attrs:{disabled:e.subSystemID-1===i},on:{input:function(t){return e.changeSubSystemCheckState(i,n,e.finalData[i][n].value)}},model:{value:e.finalData[i][n].value,callback:function(t){e.$set(e.finalData[i][n],"value",t)},expression:"finalData[index][itemIndex].value"}},[e._v("\n                        "+e._s(0===n?e.$t("selectAll"):e.finalData[i][n].title)+"\n                      ")])],1)})),0)],1):e._e()],1)})),0)],1):e._e()])])])],1)],1)},s=[],l=a("de8a"),c=l["a"],u=(a("491d"),a("2877")),d=Object(u["a"])(c,r,s,!1,null,"e970575c",null),p=d.exports,m=a("2d6c"),h="custom-select",f="change",v="input",b="picker-show",g="picker-hide";Object(m["a"])(o["default"],p,["click","select","cancel"],!0);var P={name:h,props:{customType:{type:String,default:""},value:{type:String,default:""},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1},title:{type:String,default:""},cancelTxt:{type:String,default:""},confirmTxt:{type:String,default:""},subsystemId:{type:[Number,String],default:10},dataList:{type:Array,default:function(){return[]}}},data:function(){return{active:!1}},computed:{selectedText:function(){return this.value},_placeholder:function(){return this.placeholder||this.$t("pleaseSelect")},_title:function(){return this.title||this.$t("pleaseSelect")},_cancelTxt:function(){return this.cancelTxt||this.$t("cancel")},_confirmTxt:function(){return this.confirmTxt||this.$t("ok")}},created:function(){},methods:{showPicker:function(){var e=this;e.disabled||(e.picker&&(e.picker.remove(),e.picker=null),"timePicker"===e.customType?e.picker=e.$createDateTimePicker({title:e.title||e.$t("startTime"),min:[0,0,0],max:[23,59,59],value:new Date,startColumn:"hour",columnCount:3,format:{hour:"hh "+e.$t("hours"),minute:"mm "+e.$t("minutes"),second:"ss "+e.$t("seconds")},onSelect:function(t){var a=parseInt(t.getHours(),10)<10?"0"+t.getHours():t.getHours(),i=parseInt(t.getMinutes(),10)<10?"0"+t.getMinutes():t.getMinutes(),n=parseInt(t.getSeconds(),10)<10?"0"+t.getSeconds():t.getSeconds(),o=a+":"+i+":"+n;e.selectHandler(o),e.picker.remove(),e.picker=null},onCancel:function(){e.hided(),e.picker.remove(),e.picker=null}}):"linkZone"===e.customType?e.picker=e.$createCustomPicker({titleTip:e.title,dataList:e.dataList,supportFirstSelectAll:!0,selectType:1,subSystemID:parseInt(e.subsystemId,10),onSelect:function(t){e.selectHandler(t),e.picker.remove(),e.picker=null},onCancel:function(){e.hided(),e.picker.remove(),e.picker=null}}):"weekendsExcept"===e.customType?e.picker=e.$createCustomPicker({titleTip:e.title,dataList:e.dataList,onSelect:function(t){e.selectHandler(t),e.picker.remove(),e.picker=null},onCancel:function(){e.hided(),e.picker.remove(),e.picker=null}}):"datePicker"===e.customType&&(e.picker=e.$createDateTimePicker({title:this.$t("time"),min:[0,0],max:[23,59],value:new Date,startColumn:"hour",columnCount:2,format:{hour:"hh "+this.$t("hours"),minute:"mm "+this.$t("minutes")},onSelect:function(t){var a=parseInt(t.getHours(),10)<10?"0"+t.getHours():t.getHours(),i=parseInt(t.getMinutes(),10)<10?"0"+t.getMinutes():t.getMinutes(),n=a+":"+i;e.selectHandler(n),e.picker.remove(),e.picker=null},onCancel:function(){e.hided(),e.picker.remove(),e.picker=null}})),e.picker.show(),e.active=!0,e.$emit(b))},hided:function(){this.active=!1,this.picker.hide(),this.$emit(g)},selectHandler:function(e){this.hided(),"timePicker"===this.customType?e[0]!==this.value&&(this.$emit(v,e),this.$emit(f,e)):"linkZone"!==this.customType&&"weekendsExcept"!==this.customType&&"datePicker"!==this.customType||(this.$emit(v,e),this.$emit(f,e))}}},S=P,C=(a("4c92"),Object(u["a"])(S,i,n,!1,null,"935f406e",null));t["a"]=C.exports},fdad:function(e,t,a){},fe2d:function(e,t,a){},fe4e:function(e,t,a){"use strict";a("d790")},fe77:function(e,t,a){"use strict";a("2179")},fed5:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"port-details"},[t("hm-scroll",[t("div",{staticClass:"hm-index-list-item"},[t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",{attrs:{title:e.$t("diskNo")},model:{value:e.diskNum,callback:function(t){e.diskNum=t},expression:"diskNum"}}),t("hm-cell",{attrs:{title:e.$t("capacity")},model:{value:e.capacity,callback:function(t){e.capacity=t},expression:"capacity"}}),t("hm-cell",{attrs:{title:e.$t("freeSpace")},model:{value:e.freeSpace,callback:function(t){e.freeSpace=t},expression:"freeSpace"}}),t("hm-cell",{attrs:{title:e.$t("status")},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}}),t("hm-cell",{attrs:{title:e.$t("type")},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}}),t("hm-cell",{attrs:{title:e.$t("attribute")}},[t("base-select",{attrs:{title:e.$t("attribute"),options:e.options,disabled:!0},model:{value:e.property,callback:function(t){e.property=t},expression:"property"}})],1),t("hm-cell",{attrs:{title:e.$t("progress")}},[e.isShow?t("div",[t("hm-progress",{attrs:{percentage:e.progress}})],1):e._e()])],1),t("hm-cell-group",{staticClass:"custom-cell-group",attrs:{title:" "}},[t("hm-cell",[t("span",{staticClass:"text-color",on:{click:e.formatDisks}},[e._v(e._s(e.$t("format")))])])],1)],1)])],1)},n=[],o=(a("c5f6"),a("c1ae")),r=a("c050"),s=a("8d94"),l=a("47b5"),c={name:"PortDetails",components:{BaseSelect:l["a"]},props:{portDetailsData:{type:Array,default:function(){return[]},required:!0},portStatus:{type:Number,default:function(){return!1},required:!0},arrayhead:{type:Array,default:function(){return[]},required:!0},oButtonsControl:{type:Object,default:function(){return{}},required:!0},oCapbilities:{type:Object,default:function(){return{}},required:!0}},data:function(){return{portDetails:this.portDetailsData,odistable:this.portStatus,oButtonsControlT:this.oButtonsControl,oCapbilitiesT:this.oCapbilities,diskNum:"",capacity:"",freeSpace:"",status:"",type:"",property:"",progress:0,options:[],isShow:!1}},mounted:function(){var e=this;setInterval((function(){e.progress=Number(o["a"].percent),e.progress>0&&(e.isShow=!0),e.progress>=100&&(e.isShow=!1)}),1e3),this.initParam()},methods:{initParam:function(){this.portDetails&&(this.diskNum=this.portDetails[this.odistable][0],this.capacity=this.portDetails[this.odistable][1],this.freeSpace=this.portDetails[this.odistable][2],this.status=this.arrayhead[3]["object"][this.portDetails[this.odistable][3]],this.type=this.arrayhead[4]["object"][this.portDetails[this.odistable][4]],this.property=this.portDetails[this.odistable][5],this.options=this.arrayhead[5]["select"])},setDiskInfo:function(){o["a"].setDiskInfo()},formatDisks:function(){var e=this;r["a"].confirm(s["a"].t("formatDiskTips"),(function(){o["a"].formatDisk(e.odistable)}))},encrypteFormatDisks:function(){var e=this;r["a"].confirm(s["a"].t("formatDiskTips"),(function(){o["a"].encrypteFormatDisks(e.odistable)}))},rebuild:function(e){o["a"].rebuild(e,this.odistable)},percent:function(e){this.progress=e},fresh:function(){this.$forceUpdate()}}},u=c,d=(a("8b43"),a("2877")),p=Object(d["a"])(u,i,n,!1,null,"b9835092",null);t["default"]=p.exports},ff3f:function(e,t,a){},ff85:function(e,t,a){"use strict";a("d198")}}]);